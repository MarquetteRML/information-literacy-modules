/*! dark-spider - v1.10.__BUILD_NUMBER__.0 - 2018-03-01 12:23pm UTC
* Copyright (c) 2018 Articulate Global, Inc. <admin@articulate.com>; Not Licensed */
var requirejs,require,define;!function(e){function t(e,t){return v.call(e,t)}function i(e,t){var i,n,s,r,o,a,l,u,c,h,p,d=t&&t.split("/"),f=m.map,g=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=e.split("/"),o=e.length-1,m.nodeIdCompat&&b.test(e[o])&&(e[o]=e[o].replace(b,"")),e=d.concat(e),c=0;c<e.length;c+=1)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||g)&&f){for(i=e.split("/"),c=i.length;c>0;c-=1){if(n=i.slice(0,c).join("/"),d)for(h=d.length;h>0;h-=1)if(s=f[d.slice(0,h).join("/")],s&&(s=s[n])){r=s,a=c;break}if(r)break;!l&&g&&g[n]&&(l=g[n],u=c)}!r&&l&&(r=l,a=u),r&&(i.splice(0,a,r),e=i.join("/"))}return e}function n(t,i){return function(){return c.apply(e,y.call(arguments,0).concat([t,i]))}}function s(e){return function(t){return i(t,e)}}function r(e){return function(t){d[e]=t}}function o(i){if(t(f,i)){var n=f[i];delete f[i],g[i]=!0,u.apply(e,n)}if(!t(d,i)&&!t(g,i))throw new Error("No "+i);return d[i]}function a(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function l(e){return function(){return m&&m.config&&m.config[e]||{}}}var u,c,h,p,d={},f={},m={},g={},v=Object.prototype.hasOwnProperty,y=[].slice,b=/\.js$/;h=function(e,t){var n,r=a(e),l=r[0];return e=r[1],l&&(l=i(l,t),n=o(l)),l?e=n&&n.normalize?n.normalize(e,s(t)):i(e,t):(e=i(e,t),r=a(e),l=r[0],e=r[1],l&&(n=o(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:n}},p={require:function(e){return n(e)},exports:function(e){var t=d[e];return"undefined"!=typeof t?t:d[e]={}},module:function(e){return{id:e,uri:"",exports:d[e],config:l(e)}}},u=function(i,s,a,l){var u,c,m,v,y,b,w=[],S=typeof a;if(l=l||i,"undefined"===S||"function"===S){for(s=!s.length&&a.length?["require","exports","module"]:s,y=0;y<s.length;y+=1)if(v=h(s[y],l),c=v.f,"require"===c)w[y]=p.require(i);else if("exports"===c)w[y]=p.exports(i),b=!0;else if("module"===c)u=w[y]=p.module(i);else if(t(d,c)||t(f,c)||t(g,c))w[y]=o(c);else{if(!v.p)throw new Error(i+" missing "+c);v.p.load(v.n,n(l,!0),r(c),{}),w[y]=d[c]}m=a?a.apply(d[i],w):void 0,i&&(u&&u.exports!==e&&u.exports!==d[i]?d[i]=u.exports:m===e&&b||(d[i]=m))}else i&&(d[i]=a)},requirejs=require=c=function(t,i,n,s,r){if("string"==typeof t)return p[t]?p[t](i):o(h(t,i).f);if(!t.splice){if(m=t,m.deps&&c(m.deps,m.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=s,s=r),s?u(e,t,i,n):setTimeout(function(){u(e,t,i,n)},4),c},c.config=function(e){return c(e)},requirejs._defined=d,define=function(e,i,n){i.splice||(n=i,i=[]),t(d,e)||t(f,e)||(f[e]=[e,i,n])},define.amd={jQuery:!0}}(),define("almond",function(){}),define("features/featureOverrides",[],function(){"use strict";return{}}),define("features/featuresHelper",["features/featureOverrides"],function(e){"use strict";return{initialize:function(){var t=null==window.globals.features?[]:window.globals.features.split(",");t.forEach(function(t){null!=e[t]&&requirejs.config(Object.keys(e[t]).reduce(function(i,n){var s=e[t][n];return i.map["*"][n]=s,i},{map:{"*":{}}}))})}}}),function(){function e(e,t){if(e!==t){var i=null===e,n=e===x,s=e===e,r=null===t,o=t===x,a=t===t;if(e>t&&!r||!s||i&&!o&&a||n&&a)return 1;if(t>e&&!i||!a||r&&!n&&s||o&&s)return-1}return 0}function t(e,t,i){for(var n=e.length,s=i?n:-1;i?s--:++s<n;)if(t(e[s],s,e))return s;return-1}function i(e,t,i){if(t!==t)return d(e,i);for(var n=i-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}function n(e){return"function"==typeof e||!1}function s(e){return null==e?"":e+""}function r(e,t){for(var i=-1,n=e.length;++i<n&&t.indexOf(e.charAt(i))>-1;);return i}function o(e,t){for(var i=e.length;i--&&t.indexOf(e.charAt(i))>-1;);return i}function a(t,i){return e(t.criteria,i.criteria)||t.index-i.index}function l(t,i,n){for(var s=-1,r=t.criteria,o=i.criteria,a=r.length,l=n.length;++s<a;){var u=e(r[s],o[s]);if(u){if(s>=l)return u;var c=n[s];return u*("asc"===c||c===!0?1:-1)}}return t.index-i.index}function u(e){return Fe[e]}function c(e){return He[e]}function h(e,t,i){return t?e=We[e]:i&&(e=ze[e]),"\\"+e}function p(e){return"\\"+ze[e]}function d(e,t,i){for(var n=e.length,s=t+(i?0:-1);i?s--:++s<n;){var r=e[s];if(r!==r)return s}return-1}function f(e){return!!e&&"object"==typeof e}function m(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function g(e,t){for(var i=-1,n=e.length,s=-1,r=[];++i<n;)e[i]===t&&(e[i]=F,r[++s]=i);return r}function v(e,t){for(var i,n=-1,s=e.length,r=-1,o=[];++n<s;){var a=e[n],l=t?t(a,n,e):a;n&&i===l||(i=l,o[++r]=a)}return o}function y(e){for(var t=-1,i=e.length;++t<i&&m(e.charCodeAt(t)););return t}function b(e){for(var t=e.length;t--&&m(e.charCodeAt(t)););return t}function w(e){return qe[e]}function S(m){function X(e){if(f(e)&&!Ia(e)&&!(e instanceof Fe)){if(e instanceof ee)return e;if(eo.call(e,"__chain__")&&eo.call(e,"__wrapped__"))return dn(e)}return new ee(e)}function J(){}function ee(e,t,i){this.__wrapped__=e,this.__actions__=i||[],this.__chain__=!!t}function Fe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_o,this.__views__=[]}function He(){var e=new Fe(this.__wrapped__);return e.__actions__=it(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=it(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=it(this.__views__),e}function qe(){if(this.__filtered__){var e=new Fe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ge(){var e=this.__wrapped__.value(),t=this.__dir__,i=Ia(e),n=0>t,s=i?e.length:0,r=Wi(0,s,this.__views__),o=r.start,a=r.end,l=a-o,u=n?a:o-1,c=this.__iteratees__,h=c.length,p=0,d=To(l,this.__takeCount__);if(!i||V>s||s==l&&d==l)return ii(e,this.__actions__);var f=[];e:for(;l--&&d>p;){u+=t;for(var m=-1,g=e[u];++m<h;){var v=c[m],y=v.iteratee,b=v.type,w=y(g);if(b==j)g=w;else if(!w){if(b==B)continue e;break e}}f[p++]=g}return f}function We(){this.__data__={}}function ze(e){return this.has(e)&&delete this.__data__[e]}function Ye(e){return"__proto__"==e?x:this.__data__[e]}function Xe(e){return"__proto__"!=e&&eo.call(this.__data__,e)}function Qe(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ke(e){var t=e?e.length:0;for(this.data={hash:vo(null),set:new co};t--;)this.push(e[t])}function $e(e,t){var i=e.data,n="string"==typeof t||Ms(t)?i.set.has(t):i.hash[t];return n?0:-1}function Je(e){var t=this.data;"string"==typeof e||Ms(e)?t.set.add(e):t.hash[e]=!0}function tt(e,t){for(var i=-1,n=e.length,s=-1,r=t.length,o=Ur(n+r);++i<n;)o[i]=e[i];for(;++s<r;)o[i++]=t[s];return o}function it(e,t){var i=-1,n=e.length;for(t||(t=Ur(n));++i<n;)t[i]=e[i];return t}function nt(e,t){for(var i=-1,n=e.length;++i<n&&t(e[i],i,e)!==!1;);return e}function st(e,t){for(var i=e.length;i--&&t(e[i],i,e)!==!1;);return e}function rt(e,t){for(var i=-1,n=e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function ot(e,t,i,n){for(var s=-1,r=e.length,o=n,a=o;++s<r;){var l=e[s],u=+t(l);i(u,o)&&(o=u,a=l)}return a}function at(e,t){for(var i=-1,n=e.length,s=-1,r=[];++i<n;){var o=e[i];t(o,i,e)&&(r[++s]=o)}return r}function lt(e,t){for(var i=-1,n=e.length,s=Ur(n);++i<n;)s[i]=t(e[i],i,e);return s}function ut(e,t){for(var i=-1,n=t.length,s=e.length;++i<n;)e[s+i]=t[i];return e}function ct(e,t,i,n){var s=-1,r=e.length;for(n&&r&&(i=e[++s]);++s<r;)i=t(i,e[s],s,e);return i}function ht(e,t,i,n){var s=e.length;for(n&&s&&(i=e[--s]);s--;)i=t(i,e[s],s,e);return i}function pt(e,t){for(var i=-1,n=e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function dt(e,t){for(var i=e.length,n=0;i--;)n+=+t(e[i])||0;return n}function ft(e,t){return e===x?t:e}function mt(e,t,i,n){return e!==x&&eo.call(n,i)?e:t}function gt(e,t,i){for(var n=-1,s=Ua(t),r=s.length;++n<r;){var o=s[n],a=e[o],l=i(a,t[o],o,e,t);(l===l?l===a:a!==a)&&(a!==x||o in e)||(e[o]=l)}return e}function vt(e,t){return null==t?e:bt(t,Ua(t),e)}function yt(e,t){for(var i=-1,n=null==e,s=!n&&Ki(e),r=s?e.length:0,o=t.length,a=Ur(o);++i<o;){var l=t[i];s?a[i]=$i(l,r)?e[l]:x:a[i]=n?x:e[l]}return a}function bt(e,t,i){i||(i={});for(var n=-1,s=t.length;++n<s;){var r=t[n];i[r]=e[r]}return i}function wt(e,t,i){var n=typeof e;return"function"==n?t===x?e:ri(e,t,i):null==e?Pr:"object"==n?jt(e):t===x?Lr(e):Ut(e,t)}function St(e,t,i,n,s,r,o){var a;if(i&&(a=s?i(e,n,s):i(e)),a!==x)return a;if(!Ms(e))return e;var l=Ia(e);if(l){if(a=zi(e),!t)return it(e,a)}else{var u=io.call(e),c=u==Y;if(u!=K&&u!=H&&(!c||s))return Ue[u]?Xi(e,u,t):s?e:{};if(a=Yi(c?{}:e),!t)return vt(a,e)}r||(r=[]),o||(o=[]);for(var h=r.length;h--;)if(r[h]==e)return o[h];return r.push(e),o.push(a),(l?nt:Rt)(e,function(n,s){a[s]=St(n,t,i,s,e,r,o)}),a}function xt(e,t,i){if("function"!=typeof e)throw new Qr(U);return ho(function(){e.apply(x,i)},t)}function Tt(e,t){var n=e?e.length:0,s=[];if(!n)return s;var r=-1,o=Hi(),a=o===i,l=a&&t.length>=V?fi(t):null,u=t.length;l&&(o=$e,a=!1,t=l);e:for(;++r<n;){var c=e[r];if(a&&c===c){for(var h=u;h--;)if(t[h]===c)continue e;s.push(c)}else o(t,c,0)<0&&s.push(c)}return s}function Et(e,t){var i=!0;return No(e,function(e,n,s){return i=!!t(e,n,s)}),i}function Ct(e,t,i,n){var s=n,r=s;return No(e,function(e,o,a){var l=+t(e,o,a);(i(l,s)||l===n&&l===r)&&(s=l,r=e)}),r}function At(e,t,i,n){var s=e.length;for(i=null==i?0:+i||0,0>i&&(i=-i>s?0:s+i),n=n===x||n>s?s:+n||0,0>n&&(n+=s),s=i>n?0:n>>>0,i>>>=0;s>i;)e[i++]=t;return e}function Pt(e,t){var i=[];return No(e,function(e,n,s){t(e,n,s)&&i.push(e)}),i}function _t(e,t,i,n){var s;return i(e,function(e,i,r){return t(e,i,r)?(s=n?i:e,!1):void 0}),s}function It(e,t,i,n){n||(n=[]);for(var s=-1,r=e.length;++s<r;){var o=e[s];f(o)&&Ki(o)&&(i||Ia(o)||Cs(o))?t?It(o,t,i,n):ut(n,o):i||(n[n.length]=o)}return n}function kt(e,t){return Bo(e,t,er)}function Rt(e,t){return Bo(e,t,Ua)}function Ot(e,t){return jo(e,t,Ua)}function Lt(e,t){for(var i=-1,n=t.length,s=-1,r=[];++i<n;){var o=t[i];Ls(e[o])&&(r[++s]=o)}return r}function Mt(e,t,i){if(null!=e){i!==x&&i in hn(e)&&(t=[i]);for(var n=0,s=t.length;null!=e&&s>n;)e=e[t[n++]];return n&&n==s?e:x}}function Dt(e,t,i,n,s,r){return e===t?!0:null==e||null==t||!Ms(e)&&!f(t)?e!==e&&t!==t:Nt(e,t,Dt,i,n,s,r)}function Nt(e,t,i,n,s,r,o){var a=Ia(e),l=Ia(t),u=q,c=q;a||(u=io.call(e),u==H?u=K:u!=K&&(a=qs(e))),l||(c=io.call(t),c==H?c=K:c!=K&&(l=qs(t)));var h=u==K,p=c==K,d=u==c;if(d&&!a&&!h)return Bi(e,t,u);if(!s){var f=h&&eo.call(e,"__wrapped__"),m=p&&eo.call(t,"__wrapped__");if(f||m)return i(f?e.value():e,m?t.value():t,n,s,r,o)}if(!d)return!1;r||(r=[]),o||(o=[]);for(var g=r.length;g--;)if(r[g]==e)return o[g]==t;r.push(e),o.push(t);var v=(a?Vi:ji)(e,t,i,n,s,r,o);return r.pop(),o.pop(),v}function Vt(e,t,i){var n=t.length,s=n,r=!i;if(null==e)return!s;for(e=hn(e);n--;){var o=t[n];if(r&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<s;){o=t[n];var a=o[0],l=e[a],u=o[1];if(r&&o[2]){if(l===x&&!(a in e))return!1}else{var c=i?i(l,u,a):x;if(!(c===x?Dt(u,l,i,!0):c))return!1}}return!0}function Bt(e,t){var i=-1,n=Ki(e)?Ur(e.length):[];return No(e,function(e,s,r){n[++i]=t(e,s,r)}),n}function jt(e){var t=qi(e);if(1==t.length&&t[0][2]){var i=t[0][0],n=t[0][1];return function(e){return null==e?!1:e[i]===n&&(n!==x||i in hn(e))}}return function(e){return Vt(e,t)}}function Ut(e,t){var i=Ia(e),n=Zi(e)&&nn(t),s=e+"";return e=pn(e),function(r){if(null==r)return!1;var o=s;if(r=hn(r),(i||!n)&&!(o in r)){if(r=1==e.length?r:Mt(r,Xt(e,0,-1)),null==r)return!1;o=An(e),r=hn(r)}return r[o]===t?t!==x||o in r:Dt(t,r[o],x,!0)}}function Ft(e,t,i,n,s){if(!Ms(e))return e;var r=Ki(t)&&(Ia(t)||qs(t)),o=r?x:Ua(t);return nt(o||t,function(a,l){if(o&&(l=a,a=t[l]),f(a))n||(n=[]),s||(s=[]),Ht(e,t,l,Ft,i,n,s);else{var u=e[l],c=i?i(u,a,l,e,t):x,h=c===x;h&&(c=a),c===x&&(!r||l in e)||!h&&(c===c?c===u:u!==u)||(e[l]=c)}}),e}function Ht(e,t,i,n,s,r,o){for(var a=r.length,l=t[i];a--;)if(r[a]==l)return void(e[i]=o[a]);var u=e[i],c=s?s(u,l,i,e,t):x,h=c===x;h&&(c=l,Ki(l)&&(Ia(l)||qs(l))?c=Ia(u)?u:Ki(u)?it(u):[]:Us(l)||Cs(l)?c=Cs(u)?Xs(u):Us(u)?u:{}:h=!1),r.push(l),o.push(c),h?e[i]=n(c,l,s,r,o):(c===c?c!==u:u===u)&&(e[i]=c)}function qt(e){return function(t){return null==t?x:t[e]}}function Gt(e){var t=e+"";return e=pn(e),function(i){return Mt(i,e,t)}}function Wt(e,t){for(var i=e?t.length:0;i--;){var n=t[i];if(n!=s&&$i(n)){var s=n;po.call(e,n,1)}}return e}function zt(e,t){return e+yo(Ao()*(t-e+1))}function Yt(e,t,i,n,s){return s(e,function(e,s,r){i=n?(n=!1,e):t(i,e,s,r)}),i}function Xt(e,t,i){var n=-1,s=e.length;t=null==t?0:+t||0,0>t&&(t=-t>s?0:s+t),i=i===x||i>s?s:+i||0,0>i&&(i+=s),s=t>i?0:i-t>>>0,t>>>=0;for(var r=Ur(s);++n<s;)r[n]=e[n+t];return r}function Qt(e,t){var i;return No(e,function(e,n,s){return i=t(e,n,s),!i}),!!i}function Kt(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}function $t(e,t,i){var n=Ui(),s=-1;t=lt(t,function(e){return n(e)});var r=Bt(e,function(e){var i=lt(t,function(t){return t(e)});return{criteria:i,index:++s,value:e}});return Kt(r,function(e,t){return l(e,t,i)})}function Jt(e,t){var i=0;return No(e,function(e,n,s){i+=+t(e,n,s)||0}),i}function Zt(e,t){var n=-1,s=Hi(),r=e.length,o=s===i,a=o&&r>=V,l=a?fi():null,u=[];l?(s=$e,o=!1):(a=!1,l=t?[]:u);e:for(;++n<r;){var c=e[n],h=t?t(c,n,e):c;if(o&&c===c){for(var p=l.length;p--;)if(l[p]===h)continue e;t&&l.push(h),u.push(c)}else s(l,h,0)<0&&((t||a)&&l.push(h),u.push(c))}return u}function ei(e,t){for(var i=-1,n=t.length,s=Ur(n);++i<n;)s[i]=e[t[i]];return s}function ti(e,t,i,n){for(var s=e.length,r=n?s:-1;(n?r--:++r<s)&&t(e[r],r,e););return i?Xt(e,n?0:r,n?r+1:s):Xt(e,n?r+1:0,n?s:r)}function ii(e,t){var i=e;i instanceof Fe&&(i=i.value());for(var n=-1,s=t.length;++n<s;){var r=t[n];i=r.func.apply(r.thisArg,ut([i],r.args))}return i}function ni(e,t,i){var n=0,s=e?e.length:n;if("number"==typeof t&&t===t&&Ro>=s){for(;s>n;){var r=n+s>>>1,o=e[r];(i?t>=o:t>o)&&null!==o?n=r+1:s=r}return s}return si(e,t,Pr,i)}function si(e,t,i,n){t=i(t);for(var s=0,r=e?e.length:0,o=t!==t,a=null===t,l=t===x;r>s;){var u=yo((s+r)/2),c=i(e[u]),h=c!==x,p=c===c;if(o)var d=p||n;else d=a?p&&h&&(n||null!=c):l?p&&(n||h):null==c?!1:n?t>=c:t>c;d?s=u+1:r=u}return To(r,ko)}function ri(e,t,i){if("function"!=typeof e)return Pr;if(t===x)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,s){return e.call(t,i,n,s)};case 4:return function(i,n,s,r){return e.call(t,i,n,s,r)};case 5:return function(i,n,s,r,o){return e.call(t,i,n,s,r,o)}}return function(){return e.apply(t,arguments)}}function oi(e){var t=new ro(e.byteLength),i=new fo(t);return i.set(new fo(e)),t}function ai(e,t,i){for(var n=i.length,s=-1,r=xo(e.length-n,0),o=-1,a=t.length,l=Ur(a+r);++o<a;)l[o]=t[o];for(;++s<n;)l[i[s]]=e[s];for(;r--;)l[o++]=e[s++];return l}function li(e,t,i){for(var n=-1,s=i.length,r=-1,o=xo(e.length-s,0),a=-1,l=t.length,u=Ur(o+l);++r<o;)u[r]=e[r];for(var c=r;++a<l;)u[c+a]=t[a];for(;++n<s;)u[c+i[n]]=e[r++];return u}function ui(e,t){return function(i,n,s){var r=t?t():{};if(n=Ui(n,s,3),Ia(i))for(var o=-1,a=i.length;++o<a;){var l=i[o];e(r,l,n(l,o,i),i)}else No(i,function(t,i,s){e(r,t,n(t,i,s),s)});return r}}function ci(e){return vs(function(t,i){var n=-1,s=null==t?0:i.length,r=s>2?i[s-2]:x,o=s>2?i[2]:x,a=s>1?i[s-1]:x;for("function"==typeof r?(r=ri(r,a,5),s-=2):(r="function"==typeof a?a:x,s-=r?1:0),o&&Ji(i[0],i[1],o)&&(r=3>s?x:r,s=1);++n<s;){var l=i[n];l&&e(t,l,r)}return t})}function hi(e,t){return function(i,n){var s=i?Ho(i):0;if(!tn(s))return e(i,n);for(var r=t?s:-1,o=hn(i);(t?r--:++r<s)&&n(o[r],r,o)!==!1;);return i}}function pi(e){return function(t,i,n){for(var s=hn(t),r=n(t),o=r.length,a=e?o:-1;e?a--:++a<o;){var l=r[a];if(i(s[l],l,s)===!1)break}return t}}function di(e,t){function i(){var s=this&&this!==Ze&&this instanceof i?n:e;return s.apply(t,arguments)}var n=gi(e);return i}function fi(e){return vo&&co?new Ke(e):null}function mi(e){return function(t){for(var i=-1,n=Er(cr(t)),s=n.length,r="";++i<s;)r=e(r,n[i],i);return r}}function gi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Do(e.prototype),n=e.apply(i,t);return Ms(n)?n:i}}function vi(e){function t(i,n,s){s&&Ji(i,n,s)&&(n=x);var r=Ni(i,e,x,x,x,x,x,n);return r.placeholder=t.placeholder,r}return t}function yi(e,t){return vs(function(i){var n=i[0];return null==n?n:(i.push(t),e.apply(x,i))})}function bi(e,t){return function(i,n,s){if(s&&Ji(i,n,s)&&(n=x),n=Ui(n,s,3),1==n.length){i=Ia(i)?i:cn(i);var r=ot(i,n,e,t);if(!i.length||r!==t)return r}return Ct(i,n,e,t)}}function wi(e,i){return function(n,s,r){if(s=Ui(s,r,3),Ia(n)){var o=t(n,s,i);return o>-1?n[o]:x}return _t(n,s,e)}}function Si(e){return function(i,n,s){return i&&i.length?(n=Ui(n,s,3),t(i,n,e)):-1}}function xi(e){return function(t,i,n){return i=Ui(i,n,3),_t(t,i,e,!0)}}function Ti(e){return function(){for(var t,i=arguments.length,n=e?i:-1,s=0,r=Ur(i);e?n--:++n<i;){var o=r[s++]=arguments[n];if("function"!=typeof o)throw new Qr(U);!t&&ee.prototype.thru&&"wrapper"==Fi(o)&&(t=new ee([],!0))}for(n=t?-1:i;++n<i;){o=r[n];var a=Fi(o),l="wrapper"==a?Fo(o):x;t=l&&en(l[0])&&l[1]==(R|P|I|O)&&!l[4].length&&1==l[9]?t[Fi(l[0])].apply(t,l[3]):1==o.length&&en(o)?t[a]():t.thru(o)}return function(){var e=arguments,n=e[0];if(t&&1==e.length&&Ia(n)&&n.length>=V)return t.plant(n).value();for(var s=0,o=i?r[s].apply(this,e):n;++s<i;)o=r[s].call(this,o);return o}}}function Ei(e,t){return function(i,n,s){return"function"==typeof n&&s===x&&Ia(i)?e(i,n):t(i,ri(n,s,3))}}function Ci(e){return function(t,i,n){return"function"==typeof i&&n===x||(i=ri(i,n,3)),e(t,i,er)}}function Ai(e){return function(t,i,n){return"function"==typeof i&&n===x||(i=ri(i,n,3)),e(t,i)}}function Pi(e){return function(t,i,n){var s={};return i=Ui(i,n,3),Rt(t,function(t,n,r){var o=i(t,n,r);n=e?o:n,t=e?t:o,s[n]=t}),s}}function _i(e){return function(t,i,n){return t=s(t),(e?t:"")+Oi(t,i,n)+(e?"":t)}}function Ii(e){var t=vs(function(i,n){var s=g(n,t.placeholder);return Ni(i,e,x,n,s)});return t}function ki(e,t){return function(i,n,s,r){var o=arguments.length<3;return"function"==typeof n&&r===x&&Ia(i)?e(i,n,s,o):Yt(i,Ui(n,r,4),s,o,t)}}function Ri(e,t,i,n,s,r,o,a,l,u){function c(){for(var b=arguments.length,w=b,S=Ur(b);w--;)S[w]=arguments[w];if(n&&(S=ai(S,n,s)),r&&(S=li(S,r,o)),f||v){var T=c.placeholder,A=g(S,T);if(b-=A.length,u>b){var P=a?it(a):x,_=xo(u-b,0),R=f?A:x,O=f?x:A,L=f?S:x,M=f?x:S;t|=f?I:k,t&=~(f?k:I),m||(t&=~(E|C));var D=[e,t,i,L,R,M,O,P,l,_],N=Ri.apply(x,D);return en(e)&&qo(N,D),N.placeholder=T,N}}var V=p?i:this,B=d?V[e]:e;return a&&(S=ln(S,a)),h&&l<S.length&&(S.length=l),this&&this!==Ze&&this instanceof c&&(B=y||gi(e)),B.apply(V,S)}var h=t&R,p=t&E,d=t&C,f=t&P,m=t&A,v=t&_,y=d?x:gi(e);return c}function Oi(e,t,i){var n=e.length;if(t=+t,n>=t||!wo(t))return"";var s=t-n;return i=null==i?" ":i+"",gr(i,go(s/i.length)).slice(0,s)}function Li(e,t,i,n){function s(){for(var t=-1,a=arguments.length,l=-1,u=n.length,c=Ur(u+a);++l<u;)c[l]=n[l];for(;a--;)c[l++]=arguments[++t];var h=this&&this!==Ze&&this instanceof s?o:e;return h.apply(r?i:this,c)}var r=t&E,o=gi(e);return s}function Mi(e){var t=Gr[e];return function(e,i){return i=i===x?0:+i||0,i?(i=lo(10,i),t(e*i)/i):t(e)}}function Di(e){return function(t,i,n,s){var r=Ui(n);return null==n&&r===wt?ni(t,i,e):si(t,i,r(n,s,1),e)}}function Ni(e,t,i,n,s,r,o,a){var l=t&C;if(!l&&"function"!=typeof e)throw new Qr(U);var u=n?n.length:0;if(u||(t&=~(I|k),n=s=x),u-=s?s.length:0,t&k){var c=n,h=s;n=s=x}var p=l?x:Fo(e),d=[e,t,i,n,s,c,h,r,o,a];if(p&&(sn(d,p),t=d[1],a=d[9]),d[9]=null==a?l?0:e.length:xo(a-u,0)||0,t==E)var f=di(d[0],d[2]);else f=t!=I&&t!=(E|I)||d[4].length?Ri.apply(x,d):Li.apply(x,d);var m=p?Uo:qo;return m(f,d)}function Vi(e,t,i,n,s,r,o){var a=-1,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;for(;++a<l;){var c=e[a],h=t[a],p=n?n(s?h:c,s?c:h,a):x;if(p!==x){if(p)continue;return!1}if(s){if(!pt(t,function(e){return c===e||i(c,e,n,s,r,o)}))return!1}else if(c!==h&&!i(c,h,n,s,r,o))return!1}return!0}function Bi(e,t,i){switch(i){case G:case W:return+e==+t;case z:return e.name==t.name&&e.message==t.message;case Q:return e!=+e?t!=+t:e==+t;case $:case Z:return e==t+""}return!1}function ji(e,t,i,n,s,r,o){var a=Ua(e),l=a.length,u=Ua(t),c=u.length;if(l!=c&&!s)return!1;for(var h=l;h--;){var p=a[h];if(!(s?p in t:eo.call(t,p)))return!1}for(var d=s;++h<l;){p=a[h];var f=e[p],m=t[p],g=n?n(s?m:f,s?f:m,p):x;if(!(g===x?i(f,m,n,s,r,o):g))return!1;d||(d="constructor"==p)}if(!d){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Ui(e,t,i){var n=X.callback||Cr;return n=n===Cr?wt:n,i?n(e,t,i):n}function Fi(e){for(var t=e.name+"",i=Mo[t],n=i?i.length:0;n--;){var s=i[n],r=s.func;if(null==r||r==e)return s.name}return t}function Hi(e,t,n){var s=X.indexOf||En;return s=s===En?i:s,e?s(e,t,n):s}function qi(e){for(var t=tr(e),i=t.length;i--;)t[i][2]=nn(t[i][1]);return t}function Gi(e,t){var i=null==e?x:e[t];return Vs(i)?i:x}function Wi(e,t,i){for(var n=-1,s=i.length;++n<s;){var r=i[n],o=r.size;switch(r.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=To(t,e+o);break;case"takeRight":e=xo(e,t-o)}}return{start:e,end:t}}function zi(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&eo.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function Yi(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=zr),new t}function Xi(e,t,i){var n=e.constructor;switch(t){case te:return oi(e);case G:case W:return new n(+e);case ie:case ne:case se:case re:case oe:case ae:case le:case ue:case ce:var s=e.buffer;return new n(i?oi(s):s,e.byteOffset,e.length);case Q:case Z:return new n(e);case $:var r=new n(e.source,Ie.exec(e));r.lastIndex=e.lastIndex}return r}function Qi(e,t,i){null==e||Zi(t,e)||(t=pn(t),e=1==t.length?e:Mt(e,Xt(t,0,-1)),t=An(t));var n=null==e?e:e[t];return null==n?x:n.apply(e,i)}function Ki(e){return null!=e&&tn(Ho(e))}function $i(e,t){return e="number"==typeof e||Oe.test(e)?+e:-1,t=null==t?Oo:t,e>-1&&e%1==0&&t>e}function Ji(e,t,i){if(!Ms(i))return!1;var n=typeof t;if("number"==n?Ki(i)&&$i(t,i.length):"string"==n&&t in i){var s=i[t];return e===e?e===s:s!==s}return!1}function Zi(e,t){var i=typeof e;if("string"==i&&xe.test(e)||"number"==i)return!0;if(Ia(e))return!1;var n=!Se.test(e);return n||null!=t&&e in hn(t)}function en(e){var t=Fi(e),i=X[t];if("function"!=typeof i||!(t in Fe.prototype))return!1;if(e===i)return!0;var n=Fo(i);return!!n&&e===n[0]}function tn(e){return"number"==typeof e&&e>-1&&e%1==0&&Oo>=e}function nn(e){return e===e&&!Ms(e)}function sn(e,t){var i=e[1],n=t[1],s=i|n,r=R>s,o=n==R&&i==P||n==R&&i==O&&e[7].length<=t[8]||n==(R|O)&&i==P;if(!r&&!o)return e;n&E&&(e[2]=t[2],s|=i&E?0:A);var a=t[3];if(a){var l=e[3];e[3]=l?ai(l,a,t[4]):it(a),e[4]=l?g(e[3],F):it(t[4])}return a=t[5],a&&(l=e[5],e[5]=l?li(l,a,t[6]):it(a),e[6]=l?g(e[5],F):it(t[6])),a=t[7],a&&(e[7]=it(a)),n&R&&(e[8]=null==e[8]?t[8]:To(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}function rn(e,t){return e===x?t:ka(e,t,rn)}function on(e,t){e=hn(e);for(var i=-1,n=t.length,s={};++i<n;){var r=t[i];r in e&&(s[r]=e[r])}return s}function an(e,t){var i={};return kt(e,function(e,n,s){t(e,n,s)&&(i[n]=e)}),i}function ln(e,t){for(var i=e.length,n=To(t.length,i),s=it(e);n--;){var r=t[n];e[n]=$i(r,i)?s[r]:x}return e}function un(e){for(var t=er(e),i=t.length,n=i&&e.length,s=!!n&&tn(n)&&(Ia(e)||Cs(e)),r=-1,o=[];++r<i;){var a=t[r];(s&&$i(a,n)||eo.call(e,a))&&o.push(a)}return o}function cn(e){return null==e?[]:Ki(e)?Ms(e)?e:zr(e):rr(e)}function hn(e){return Ms(e)?e:zr(e)}function pn(e){if(Ia(e))return e;var t=[];return s(e).replace(Te,function(e,i,n,s){t.push(n?s.replace(Pe,"$1"):i||e)}),t}function dn(e){return e instanceof Fe?e.clone():new ee(e.__wrapped__,e.__chain__,it(e.__actions__))}function fn(e,t,i){t=(i?Ji(e,t,i):null==t)?1:xo(yo(t)||1,1);for(var n=0,s=e?e.length:0,r=-1,o=Ur(go(s/t));s>n;)o[++r]=Xt(e,n,n+=t);return o}function mn(e){for(var t=-1,i=e?e.length:0,n=-1,s=[];++t<i;){var r=e[t];r&&(s[++n]=r)}return s}function gn(e,t,i){var n=e?e.length:0;return n?((i?Ji(e,t,i):null==t)&&(t=1),Xt(e,0>t?0:t)):[]}function vn(e,t,i){var n=e?e.length:0;return n?((i?Ji(e,t,i):null==t)&&(t=1),t=n-(+t||0),Xt(e,0,0>t?0:t)):[]}function yn(e,t,i){return e&&e.length?ti(e,Ui(t,i,3),!0,!0):[]}function bn(e,t,i){return e&&e.length?ti(e,Ui(t,i,3),!0):[]}function wn(e,t,i,n){var s=e?e.length:0;return s?(i&&"number"!=typeof i&&Ji(e,t,i)&&(i=0,n=s),At(e,t,i,n)):[]}function Sn(e){return e?e[0]:x}function xn(e,t,i){var n=e?e.length:0;return i&&Ji(e,t,i)&&(t=!1),n?It(e,t):[]}function Tn(e){var t=e?e.length:0;return t?It(e,!0):[]}function En(e,t,n){var s=e?e.length:0;if(!s)return-1;if("number"==typeof n)n=0>n?xo(s+n,0):n;else if(n){var r=ni(e,t);return s>r&&(t===t?t===e[r]:e[r]!==e[r])?r:-1}return i(e,t,n||0)}function Cn(e){return vn(e,1)}function An(e){var t=e?e.length:0;return t?e[t-1]:x}function Pn(e,t,i){var n=e?e.length:0;if(!n)return-1;var s=n;if("number"==typeof i)s=(0>i?xo(n+i,0):To(i||0,n-1))+1;else if(i){s=ni(e,t,!0)-1;var r=e[s];return(t===t?t===r:r!==r)?s:-1}if(t!==t)return d(e,s,!0);for(;s--;)if(e[s]===t)return s;return-1}function _n(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var i=0,n=Hi(),s=e.length;++i<s;)for(var r=0,o=e[i];(r=n(t,o,r))>-1;)po.call(t,r,1);return t}function In(e,t,i){var n=[];if(!e||!e.length)return n;var s=-1,r=[],o=e.length;for(t=Ui(t,i,3);++s<o;){var a=e[s];t(a,s,e)&&(n.push(a),r.push(s))}return Wt(e,r),n}function kn(e){return gn(e,1)}function Rn(e,t,i){var n=e?e.length:0;return n?(i&&"number"!=typeof i&&Ji(e,t,i)&&(t=0,i=n),Xt(e,t,i)):[]}function On(e,t,i){var n=e?e.length:0;return n?((i?Ji(e,t,i):null==t)&&(t=1),Xt(e,0,0>t?0:t)):[]}function Ln(e,t,i){var n=e?e.length:0;return n?((i?Ji(e,t,i):null==t)&&(t=1),t=n-(+t||0),Xt(e,0>t?0:t)):[]}function Mn(e,t,i){return e&&e.length?ti(e,Ui(t,i,3),!1,!0):[]}function Dn(e,t,i){return e&&e.length?ti(e,Ui(t,i,3)):[]}function Nn(e,t,n,s){var r=e?e.length:0;if(!r)return[];null!=t&&"boolean"!=typeof t&&(s=n,n=Ji(e,t,s)?x:t,t=!1);var o=Ui();return null==n&&o===wt||(n=o(n,s,3)),t&&Hi()===i?v(e,n):Zt(e,n)}function Vn(e){if(!e||!e.length)return[];var t=-1,i=0;e=at(e,function(e){return Ki(e)?(i=xo(e.length,i),!0):void 0});for(var n=Ur(i);++t<i;)n[t]=lt(e,qt(t));return n}function Bn(e,t,i){var n=e?e.length:0;if(!n)return[];var s=Vn(e);return null==t?s:(t=ri(t,i,4),lt(s,function(e){return ct(e,t,x,!0)}))}function jn(){for(var e=-1,t=arguments.length;++e<t;){var i=arguments[e];if(Ki(i))var n=n?ut(Tt(n,i),Tt(i,n)):i}return n?Zt(n):[]}function Un(e,t){var i=-1,n=e?e.length:0,s={};for(!n||t||Ia(e[0])||(t=[]);++i<n;){var r=e[i];t?s[r]=t[i]:r&&(s[r[0]]=r[1])}return s}function Fn(e){var t=X(e);return t.__chain__=!0,t}function Hn(e,t,i){return t.call(i,e),e}function qn(e,t,i){return t.call(i,e)}function Gn(){return Fn(this)}function Wn(){return new ee(this.value(),this.__chain__)}function zn(e){for(var t,i=this;i instanceof J;){var n=dn(i);t?s.__wrapped__=n:t=n;var s=n;i=i.__wrapped__}return s.__wrapped__=e,t}function Yn(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof Fe){var i=e;return this.__actions__.length&&(i=new Fe(this)),i=i.reverse(),i.__actions__.push({func:qn,args:[t],thisArg:x}),new ee(i,this.__chain__)}return this.thru(t)}function Xn(){return this.value()+""}function Qn(){return ii(this.__wrapped__,this.__actions__)}function Kn(e,t,i){var n=Ia(e)?rt:Et;return i&&Ji(e,t,i)&&(t=x),"function"==typeof t&&i===x||(t=Ui(t,i,3)),n(e,t)}function $n(e,t,i){var n=Ia(e)?at:Pt;return t=Ui(t,i,3),n(e,t)}function Jn(e,t){return sa(e,jt(t))}function Zn(e,t,i,n){var s=e?Ho(e):0;return tn(s)||(e=rr(e),s=e.length),i="number"!=typeof i||n&&Ji(t,i,n)?0:0>i?xo(s+i,0):i||0,"string"==typeof e||!Ia(e)&&Hs(e)?s>=i&&e.indexOf(t,i)>-1:!!s&&Hi(e,t,i)>-1}function es(e,t,i){var n=Ia(e)?lt:Bt;return t=Ui(t,i,3),n(e,t)}function ts(e,t){return es(e,Lr(t))}function is(e,t,i){var n=Ia(e)?at:Pt;return t=Ui(t,i,3),n(e,function(e,i,n){return!t(e,i,n)})}function ns(e,t,i){if(i?Ji(e,t,i):null==t){e=cn(e);var n=e.length;return n>0?e[zt(0,n-1)]:x}var s=-1,r=Ys(e),n=r.length,o=n-1;for(t=To(0>t?0:+t||0,n);++s<t;){var a=zt(s,o),l=r[a];r[a]=r[s],r[s]=l}return r.length=t,r}function ss(e){return ns(e,_o)}function rs(e){var t=e?Ho(e):0;return tn(t)?t:Ua(e).length}function os(e,t,i){var n=Ia(e)?pt:Qt;return i&&Ji(e,t,i)&&(t=x),"function"==typeof t&&i===x||(t=Ui(t,i,3)),n(e,t)}function as(e,t,i){if(null==e)return[];i&&Ji(e,t,i)&&(t=x);var n=-1;t=Ui(t,i,3);var s=Bt(e,function(e,i,s){return{criteria:t(e,i,s),index:++n,value:e}});return Kt(s,a)}function ls(e,t,i,n){return null==e?[]:(n&&Ji(t,i,n)&&(i=x),Ia(t)||(t=null==t?[]:[t]),Ia(i)||(i=null==i?[]:[i]),$t(e,t,i))}function us(e,t){return $n(e,jt(t))}function cs(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Qr(U);var i=e;e=t,t=i}return e=wo(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function hs(e,t,i){return i&&Ji(e,t,i)&&(t=x),t=e&&null==t?e.length:xo(+t||0,0),Ni(e,R,x,x,x,x,t)}function ps(e,t){var i;if("function"!=typeof t){if("function"!=typeof e)throw new Qr(U);var n=e;e=t,t=n}return function(){return--e>0&&(i=t.apply(this,arguments)),1>=e&&(t=x),i}}function ds(e,t,i){function n(){d&&oo(d),u&&oo(u),m=0,u=d=f=x}function s(t,i){i&&oo(i),u=d=f=x,t&&(m=ma(),c=e.apply(p,l),d||u||(l=p=x))}function r(){var e=t-(ma()-h);0>=e||e>t?s(f,u):d=ho(r,e)}function o(){s(v,d)}function a(){if(l=arguments,h=ma(),p=this,f=v&&(d||!y),g===!1)var i=y&&!d;else{u||y||(m=h);var n=g-(h-m),s=0>=n||n>g;s?(u&&(u=oo(u)),m=h,c=e.apply(p,l)):u||(u=ho(o,n))}return s&&d?d=oo(d):d||t===g||(d=ho(r,t)),i&&(s=!0,c=e.apply(p,l)),!s||d||u||(l=p=x),c}var l,u,c,h,p,d,f,m=0,g=!1,v=!0;if("function"!=typeof e)throw new Qr(U);if(t=0>t?0:+t||0,i===!0){var y=!0;v=!1}else Ms(i)&&(y=!!i.leading,g="maxWait"in i&&xo(+i.maxWait||0,t),v="trailing"in i?!!i.trailing:v);return a.cancel=n,a}function fs(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Qr(U);var i=function(){var n=arguments,s=t?t.apply(this,n):n[0],r=i.cache;if(r.has(s))return r.get(s);var o=e.apply(this,n);return i.cache=r.set(s,o),o};return i.cache=new fs.Cache,i}function ms(e){if("function"!=typeof e)throw new Qr(U);return function(){return!e.apply(this,arguments)}}function gs(e){return ps(2,e)}function vs(e,t){if("function"!=typeof e)throw new Qr(U);return t=xo(t===x?e.length-1:+t||0,0),function(){for(var i=arguments,n=-1,s=xo(i.length-t,0),r=Ur(s);++n<s;)r[n]=i[t+n];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,i[0],r);case 2:return e.call(this,i[0],i[1],r)}var o=Ur(t+1);for(n=-1;++n<t;)o[n]=i[n];return o[t]=r,e.apply(this,o)}}function ys(e){if("function"!=typeof e)throw new Qr(U);return function(t){return e.apply(this,t)}}function bs(e,t,i){var n=!0,s=!0;if("function"!=typeof e)throw new Qr(U);return i===!1?n=!1:Ms(i)&&(n="leading"in i?!!i.leading:n,s="trailing"in i?!!i.trailing:s),ds(e,t,{leading:n,maxWait:+t,trailing:s})}function ws(e,t){return t=null==t?Pr:t,Ni(t,I,x,[e],[])}function Ss(e,t,i,n){return t&&"boolean"!=typeof t&&Ji(e,t,i)?t=!1:"function"==typeof t&&(n=i,i=t,t=!1),"function"==typeof i?St(e,t,ri(i,n,3)):St(e,t)}function xs(e,t,i){return"function"==typeof t?St(e,!0,ri(t,i,3)):St(e,!0)}function Ts(e,t){return e>t}function Es(e,t){return e>=t}function Cs(e){return f(e)&&Ki(e)&&eo.call(e,"callee")&&!uo.call(e,"callee")}function As(e){return e===!0||e===!1||f(e)&&io.call(e)==G}function Ps(e){return f(e)&&io.call(e)==W}function _s(e){return!!e&&1===e.nodeType&&f(e)&&!Us(e)}function Is(e){return null==e?!0:Ki(e)&&(Ia(e)||Hs(e)||Cs(e)||f(e)&&Ls(e.splice))?!e.length:!Ua(e).length}function ks(e,t,i,n){i="function"==typeof i?ri(i,n,3):x;
var s=i?i(e,t):x;return s===x?Dt(e,t,i):!!s}function Rs(e){return f(e)&&"string"==typeof e.message&&io.call(e)==z}function Os(e){return"number"==typeof e&&wo(e)}function Ls(e){return Ms(e)&&io.call(e)==Y}function Ms(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ds(e,t,i,n){return i="function"==typeof i?ri(i,n,3):x,Vt(e,qi(t),i)}function Ns(e){return js(e)&&e!=+e}function Vs(e){return null==e?!1:Ls(e)?so.test(Zr.call(e)):f(e)&&Re.test(e)}function Bs(e){return null===e}function js(e){return"number"==typeof e||f(e)&&io.call(e)==Q}function Us(e){var t;if(!f(e)||io.call(e)!=K||Cs(e)||!eo.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var i;return kt(e,function(e,t){i=t}),i===x||eo.call(e,i)}function Fs(e){return Ms(e)&&io.call(e)==$}function Hs(e){return"string"==typeof e||f(e)&&io.call(e)==Z}function qs(e){return f(e)&&tn(e.length)&&!!je[io.call(e)]}function Gs(e){return e===x}function Ws(e,t){return t>e}function zs(e,t){return t>=e}function Ys(e){var t=e?Ho(e):0;return tn(t)?t?it(e):[]:rr(e)}function Xs(e){return bt(e,er(e))}function Qs(e,t,i){var n=Do(e);return i&&Ji(e,t,i)&&(t=x),t?vt(n,t):n}function Ks(e){return Lt(e,er(e))}function $s(e,t,i){var n=null==e?x:Mt(e,pn(t),t+"");return n===x?i:n}function Js(e,t){if(null==e)return!1;var i=eo.call(e,t);if(!i&&!Zi(t)){if(t=pn(t),e=1==t.length?e:Mt(e,Xt(t,0,-1)),null==e)return!1;t=An(t),i=eo.call(e,t)}return i||tn(e.length)&&$i(t,e.length)&&(Ia(e)||Cs(e))}function Zs(e,t,i){i&&Ji(e,t,i)&&(t=x);for(var n=-1,s=Ua(e),r=s.length,o={};++n<r;){var a=s[n],l=e[a];t?eo.call(o,l)?o[l].push(a):o[l]=[a]:o[l]=a}return o}function er(e){if(null==e)return[];Ms(e)||(e=zr(e));var t=e.length;t=t&&tn(t)&&(Ia(e)||Cs(e))&&t||0;for(var i=e.constructor,n=-1,s="function"==typeof i&&i.prototype===e,r=Ur(t),o=t>0;++n<t;)r[n]=n+"";for(var a in e)o&&$i(a,t)||"constructor"==a&&(s||!eo.call(e,a))||r.push(a);return r}function tr(e){e=hn(e);for(var t=-1,i=Ua(e),n=i.length,s=Ur(n);++t<n;){var r=i[t];s[t]=[r,e[r]]}return s}function ir(e,t,i){var n=null==e?x:e[t];return n===x&&(null==e||Zi(t,e)||(t=pn(t),e=1==t.length?e:Mt(e,Xt(t,0,-1)),n=null==e?x:e[An(t)]),n=n===x?i:n),Ls(n)?n.call(e):n}function nr(e,t,i){if(null==e)return e;var n=t+"";t=null!=e[n]||Zi(t,e)?[n]:pn(t);for(var s=-1,r=t.length,o=r-1,a=e;null!=a&&++s<r;){var l=t[s];Ms(a)&&(s==o?a[l]=i:null==a[l]&&(a[l]=$i(t[s+1])?[]:{})),a=a[l]}return e}function sr(e,t,i,n){var s=Ia(e)||qs(e);if(t=Ui(t,n,4),null==i)if(s||Ms(e)){var r=e.constructor;i=s?Ia(e)?new r:[]:Do(Ls(r)?r.prototype:x)}else i={};return(s?nt:Rt)(e,function(e,n,s){return t(i,e,n,s)}),i}function rr(e){return ei(e,Ua(e))}function or(e){return ei(e,er(e))}function ar(e,t,i){return t=+t||0,i===x?(i=t,t=0):i=+i||0,e>=To(t,i)&&e<xo(t,i)}function lr(e,t,i){i&&Ji(e,t,i)&&(t=i=x);var n=null==e,s=null==t;if(null==i&&(s&&"boolean"==typeof e?(i=e,e=1):"boolean"==typeof t&&(i=t,s=!0)),n&&s&&(t=1,s=!1),e=+e||0,s?(t=e,e=0):t=+t||0,i||e%1||t%1){var r=Ao();return To(e+r*(t-e+ao("1e-"+((r+"").length-1))),t)}return zt(e,t)}function ur(e){return e=s(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function cr(e){return e=s(e),e&&e.replace(Le,u).replace(Ae,"")}function hr(e,t,i){e=s(e),t+="";var n=e.length;return i=i===x?n:To(0>i?0:+i||0,n),i-=t.length,i>=0&&e.indexOf(t,i)==i}function pr(e){return e=s(e),e&&ve.test(e)?e.replace(me,c):e}function dr(e){return e=s(e),e&&Ce.test(e)?e.replace(Ee,h):e||"(?:)"}function fr(e,t,i){e=s(e),t=+t;var n=e.length;if(n>=t||!wo(t))return e;var r=(t-n)/2,o=yo(r),a=go(r);return i=Oi("",a,i),i.slice(0,o)+e+i}function mr(e,t,i){return(i?Ji(e,t,i):null==t)?t=0:t&&(t=+t),e=br(e),Co(e,t||(ke.test(e)?16:10))}function gr(e,t){var i="";if(e=s(e),t=+t,1>t||!e||!wo(t))return i;do t%2&&(i+=e),t=yo(t/2),e+=e;while(t);return i}function vr(e,t,i){return e=s(e),i=null==i?0:To(0>i?0:+i||0,e.length),e.lastIndexOf(t,i)==i}function yr(e,t,i){var n=X.templateSettings;i&&Ji(e,t,i)&&(t=i=x),e=s(e),t=gt(vt({},i||t),n,mt);var r,o,a=gt(vt({},t.imports),n.imports,mt),l=Ua(a),u=ei(a,l),c=0,h=t.interpolate||Me,d="__p += '",f=Yr((t.escape||Me).source+"|"+h.source+"|"+(h===we?_e:Me).source+"|"+(t.evaluate||Me).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Be+"]")+"\n";e.replace(f,function(t,i,n,s,a,l){return n||(n=s),d+=e.slice(c,l).replace(De,p),i&&(r=!0,d+="' +\n__e("+i+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),d+="';\n";var g=t.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(he,""):d).replace(pe,"$1").replace(de,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=$a(function(){return qr(l,m+"return "+d).apply(x,u)});if(v.source=d,Rs(v))throw v;return v}function br(e,t,i){var n=e;return(e=s(e))?(i?Ji(n,t,i):null==t)?e.slice(y(e),b(e)+1):(t+="",e.slice(r(e,t),o(e,t)+1)):e}function wr(e,t,i){var n=e;return e=s(e),e?(i?Ji(n,t,i):null==t)?e.slice(y(e)):e.slice(r(e,t+"")):e}function Sr(e,t,i){var n=e;return e=s(e),e?(i?Ji(n,t,i):null==t)?e.slice(0,b(e)+1):e.slice(0,o(e,t+"")+1):e}function xr(e,t,i){i&&Ji(e,t,i)&&(t=x);var n=L,r=M;if(null!=t)if(Ms(t)){var o="separator"in t?t.separator:o;n="length"in t?+t.length||0:n,r="omission"in t?s(t.omission):r}else n=+t||0;if(e=s(e),n>=e.length)return e;var a=n-r.length;if(1>a)return r;var l=e.slice(0,a);if(null==o)return l+r;if(Fs(o)){if(e.slice(a).search(o)){var u,c,h=e.slice(0,a);for(o.global||(o=Yr(o.source,(Ie.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(h);)c=u.index;l=l.slice(0,null==c?a:c)}}else if(e.indexOf(o,a)!=a){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+r}function Tr(e){return e=s(e),e&&ge.test(e)?e.replace(fe,w):e}function Er(e,t,i){return i&&Ji(e,t,i)&&(t=x),e=s(e),e.match(t||Ne)||[]}function Cr(e,t,i){return i&&Ji(e,t,i)&&(t=x),f(e)?_r(e):wt(e,t)}function Ar(e){return function(){return e}}function Pr(e){return e}function _r(e){return jt(St(e,!0))}function Ir(e,t){return Ut(e,St(t,!0))}function kr(e,t,i){if(null==i){var n=Ms(t),s=n?Ua(t):x,r=s&&s.length?Lt(t,s):x;(r?r.length:n)||(r=!1,i=t,t=e,e=this)}r||(r=Lt(t,Ua(t)));var o=!0,a=-1,l=Ls(e),u=r.length;i===!1?o=!1:Ms(i)&&"chain"in i&&(o=i.chain);for(;++a<u;){var c=r[a],h=t[c];e[c]=h,l&&(e.prototype[c]=function(t){return function(){var i=this.__chain__;if(o||i){var n=e(this.__wrapped__),s=n.__actions__=it(this.__actions__);return s.push({func:t,args:arguments,thisArg:e}),n.__chain__=i,n}return t.apply(e,ut([this.value()],arguments))}}(h))}return e}function Rr(){return Ze._=no,this}function Or(){}function Lr(e){return Zi(e)?qt(e):Gt(e)}function Mr(e){return function(t){return Mt(e,pn(t),t+"")}}function Dr(e,t,i){i&&Ji(e,t,i)&&(t=i=x),e=+e||0,i=null==i?1:+i||0,null==t?(t=e,e=0):t=+t||0;for(var n=-1,s=xo(go((t-e)/(i||1)),0),r=Ur(s);++n<s;)r[n]=e,e+=i;return r}function Nr(e,t,i){if(e=yo(e),1>e||!wo(e))return[];var n=-1,s=Ur(To(e,Io));for(t=ri(t,i,1);++n<e;)Io>n?s[n]=t(n):t(n);return s}function Vr(e){var t=++to;return s(e)+t}function Br(e,t){return(+e||0)+(+t||0)}function jr(e,t,i){return i&&Ji(e,t,i)&&(t=x),t=Ui(t,i,3),1==t.length?dt(Ia(e)?e:cn(e),t):Jt(e,t)}m=m?et.defaults(Ze.Object(),m,et.pick(Ze,Ve)):Ze;var Ur=m.Array,Fr=m.Date,Hr=m.Error,qr=m.Function,Gr=m.Math,Wr=m.Number,zr=m.Object,Yr=m.RegExp,Xr=m.String,Qr=m.TypeError,Kr=Ur.prototype,$r=zr.prototype,Jr=Xr.prototype,Zr=qr.prototype.toString,eo=$r.hasOwnProperty,to=0,io=$r.toString,no=Ze._,so=Yr("^"+Zr.call(eo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ro=m.ArrayBuffer,oo=m.clearTimeout,ao=m.parseFloat,lo=Gr.pow,uo=$r.propertyIsEnumerable,co=Gi(m,"Set"),ho=m.setTimeout,po=Kr.splice,fo=m.Uint8Array,mo=Gi(m,"WeakMap"),go=Gr.ceil,vo=Gi(zr,"create"),yo=Gr.floor,bo=Gi(Ur,"isArray"),wo=m.isFinite,So=Gi(zr,"keys"),xo=Gr.max,To=Gr.min,Eo=Gi(Fr,"now"),Co=m.parseInt,Ao=Gr.random,Po=Wr.NEGATIVE_INFINITY,_o=Wr.POSITIVE_INFINITY,Io=4294967295,ko=Io-1,Ro=Io>>>1,Oo=9007199254740991,Lo=mo&&new mo,Mo={};X.support={};X.templateSettings={escape:ye,evaluate:be,interpolate:we,variable:"",imports:{_:X}};var Do=function(){function e(){}return function(t){if(Ms(t)){e.prototype=t;var i=new e;e.prototype=x}return i||{}}}(),No=hi(Rt),Vo=hi(Ot,!0),Bo=pi(),jo=pi(!0),Uo=Lo?function(e,t){return Lo.set(e,t),e}:Pr,Fo=Lo?function(e){return Lo.get(e)}:Or,Ho=qt("length"),qo=function(){var e=0,t=0;return function(i,n){var s=ma(),r=N-(s-t);if(t=s,r>0){if(++e>=D)return i}else e=0;return Uo(i,n)}}(),Go=vs(function(e,t){return f(e)&&Ki(e)?Tt(e,It(t,!1,!0)):[]}),Wo=Si(),zo=Si(!0),Yo=vs(function(e){for(var t=e.length,n=t,s=Ur(h),r=Hi(),o=r===i,a=[];n--;){var l=e[n]=Ki(l=e[n])?l:[];s[n]=o&&l.length>=120?fi(n&&l):null}var u=e[0],c=-1,h=u?u.length:0,p=s[0];e:for(;++c<h;)if(l=u[c],(p?$e(p,l):r(a,l,0))<0){for(var n=t;--n;){var d=s[n];if((d?$e(d,l):r(e[n],l,0))<0)continue e}p&&p.push(l),a.push(l)}return a}),Xo=vs(function(t,i){i=It(i);var n=yt(t,i);return Wt(t,i.sort(e)),n}),Qo=Di(),Ko=Di(!0),$o=vs(function(e){return Zt(It(e,!1,!0))}),Jo=vs(function(e,t){return Ki(e)?Tt(e,t):[]}),Zo=vs(Vn),ea=vs(function(e){var t=e.length,i=t>2?e[t-2]:x,n=t>1?e[t-1]:x;return t>2&&"function"==typeof i?t-=2:(i=t>1&&"function"==typeof n?(--t,n):x,n=x),e.length=t,Bn(e,i,n)}),ta=vs(function(e){return e=It(e),this.thru(function(t){return tt(Ia(t)?t:[hn(t)],e)})}),ia=vs(function(e,t){return yt(e,It(t))}),na=ui(function(e,t,i){eo.call(e,i)?++e[i]:e[i]=1}),sa=wi(No),ra=wi(Vo,!0),oa=Ei(nt,No),aa=Ei(st,Vo),la=ui(function(e,t,i){eo.call(e,i)?e[i].push(t):e[i]=[t]}),ua=ui(function(e,t,i){e[i]=t}),ca=vs(function(e,t,i){var n=-1,s="function"==typeof t,r=Zi(t),o=Ki(e)?Ur(e.length):[];return No(e,function(e){var a=s?t:r&&null!=e?e[t]:x;o[++n]=a?a.apply(e,i):Qi(e,t,i)}),o}),ha=ui(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]}),pa=ki(ct,No),da=ki(ht,Vo),fa=vs(function(e,t){if(null==e)return[];var i=t[2];return i&&Ji(t[0],t[1],i)&&(t.length=1),$t(e,It(t),[])}),ma=Eo||function(){return(new Fr).getTime()},ga=vs(function(e,t,i){var n=E;if(i.length){var s=g(i,ga.placeholder);n|=I}return Ni(e,n,t,i,s)}),va=vs(function(e,t){t=t.length?It(t):Ks(e);for(var i=-1,n=t.length;++i<n;){var s=t[i];e[s]=Ni(e[s],E,e)}return e}),ya=vs(function(e,t,i){var n=E|C;if(i.length){var s=g(i,ya.placeholder);n|=I}return Ni(t,n,e,i,s)}),ba=vi(P),wa=vi(_),Sa=vs(function(e,t){return xt(e,1,t)}),xa=vs(function(e,t,i){return xt(e,t,i)}),Ta=Ti(),Ea=Ti(!0),Ca=vs(function(e,t){if(t=It(t),"function"!=typeof e||!rt(t,n))throw new Qr(U);var i=t.length;return vs(function(n){for(var s=To(n.length,i);s--;)n[s]=t[s](n[s]);return e.apply(this,n)})}),Aa=Ii(I),Pa=Ii(k),_a=vs(function(e,t){return Ni(e,O,x,x,x,It(t))}),Ia=bo||function(e){return f(e)&&tn(e.length)&&io.call(e)==q},ka=ci(Ft),Ra=ci(function(e,t,i){return i?gt(e,t,i):vt(e,t)}),Oa=yi(Ra,ft),La=yi(ka,rn),Ma=xi(Rt),Da=xi(Ot),Na=Ci(Bo),Va=Ci(jo),Ba=Ai(Rt),ja=Ai(Ot),Ua=So?function(e){var t=null==e?x:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Ki(e)?un(e):Ms(e)?So(e):[]}:un,Fa=Pi(!0),Ha=Pi(),qa=vs(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=lt(It(t),Xr);return on(e,Tt(er(e),t))}var i=ri(t[0],t[1],3);return an(e,function(e,t,n){return!i(e,t,n)})}),Ga=vs(function(e,t){return null==e?{}:"function"==typeof t[0]?an(e,ri(t[0],t[1],3)):on(e,It(t))}),Wa=mi(function(e,t,i){return t=t.toLowerCase(),e+(i?t.charAt(0).toUpperCase()+t.slice(1):t)}),za=mi(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),Ya=_i(),Xa=_i(!0),Qa=mi(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),Ka=mi(function(e,t,i){return e+(i?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),$a=vs(function(e,t){try{return e.apply(x,t)}catch(i){return Rs(i)?i:new Hr(i)}}),Ja=vs(function(e,t){return function(i){return Qi(i,e,t)}}),Za=vs(function(e,t){return function(i){return Qi(e,i,t)}}),el=Mi("ceil"),tl=Mi("floor"),il=bi(Ts,Po),nl=bi(Ws,_o),sl=Mi("round");return X.prototype=J.prototype,ee.prototype=Do(J.prototype),ee.prototype.constructor=ee,Fe.prototype=Do(J.prototype),Fe.prototype.constructor=Fe,We.prototype["delete"]=ze,We.prototype.get=Ye,We.prototype.has=Xe,We.prototype.set=Qe,Ke.prototype.push=Je,fs.Cache=We,X.after=cs,X.ary=hs,X.assign=Ra,X.at=ia,X.before=ps,X.bind=ga,X.bindAll=va,X.bindKey=ya,X.callback=Cr,X.chain=Fn,X.chunk=fn,X.compact=mn,X.constant=Ar,X.countBy=na,X.create=Qs,X.curry=ba,X.curryRight=wa,X.debounce=ds,X.defaults=Oa,X.defaultsDeep=La,X.defer=Sa,X.delay=xa,X.difference=Go,X.drop=gn,X.dropRight=vn,X.dropRightWhile=yn,X.dropWhile=bn,X.fill=wn,X.filter=$n,X.flatten=xn,X.flattenDeep=Tn,X.flow=Ta,X.flowRight=Ea,X.forEach=oa,X.forEachRight=aa,X.forIn=Na,X.forInRight=Va,X.forOwn=Ba,X.forOwnRight=ja,X.functions=Ks,X.groupBy=la,X.indexBy=ua,X.initial=Cn,X.intersection=Yo,X.invert=Zs,X.invoke=ca,X.keys=Ua,X.keysIn=er,X.map=es,X.mapKeys=Fa,X.mapValues=Ha,X.matches=_r,X.matchesProperty=Ir,X.memoize=fs,X.merge=ka,X.method=Ja,X.methodOf=Za,X.mixin=kr,X.modArgs=Ca,X.negate=ms,X.omit=qa,X.once=gs,X.pairs=tr,X.partial=Aa,X.partialRight=Pa,X.partition=ha,X.pick=Ga,X.pluck=ts,X.property=Lr,X.propertyOf=Mr,X.pull=_n,X.pullAt=Xo,X.range=Dr,X.rearg=_a,X.reject=is,X.remove=In,X.rest=kn,X.restParam=vs,X.set=nr,X.shuffle=ss,X.slice=Rn,X.sortBy=as,X.sortByAll=fa,X.sortByOrder=ls,X.spread=ys,X.take=On,X.takeRight=Ln,X.takeRightWhile=Mn,X.takeWhile=Dn,X.tap=Hn,X.throttle=bs,X.thru=qn,X.times=Nr,X.toArray=Ys,X.toPlainObject=Xs,X.transform=sr,X.union=$o,X.uniq=Nn,X.unzip=Vn,X.unzipWith=Bn,X.values=rr,X.valuesIn=or,X.where=us,X.without=Jo,X.wrap=ws,X.xor=jn,X.zip=Zo,X.zipObject=Un,X.zipWith=ea,X.backflow=Ea,X.collect=es,X.compose=Ea,X.each=oa,X.eachRight=aa,X.extend=Ra,X.iteratee=Cr,X.methods=Ks,X.object=Un,X.select=$n,X.tail=kn,X.unique=Nn,kr(X,X),X.add=Br,X.attempt=$a,X.camelCase=Wa,X.capitalize=ur,X.ceil=el,X.clone=Ss,X.cloneDeep=xs,X.deburr=cr,X.endsWith=hr,X.escape=pr,X.escapeRegExp=dr,X.every=Kn,X.find=sa,X.findIndex=Wo,X.findKey=Ma,X.findLast=ra,X.findLastIndex=zo,X.findLastKey=Da,X.findWhere=Jn,X.first=Sn,X.floor=tl,X.get=$s,X.gt=Ts,X.gte=Es,X.has=Js,X.identity=Pr,X.includes=Zn,X.indexOf=En,X.inRange=ar,X.isArguments=Cs,X.isArray=Ia,X.isBoolean=As,X.isDate=Ps,X.isElement=_s,X.isEmpty=Is,X.isEqual=ks,X.isError=Rs,X.isFinite=Os,X.isFunction=Ls,X.isMatch=Ds,X.isNaN=Ns,X.isNative=Vs,X.isNull=Bs,X.isNumber=js,X.isObject=Ms,X.isPlainObject=Us,X.isRegExp=Fs,X.isString=Hs,X.isTypedArray=qs,X.isUndefined=Gs,X.kebabCase=za,X.last=An,X.lastIndexOf=Pn,X.lt=Ws,X.lte=zs,X.max=il,X.min=nl,X.noConflict=Rr,X.noop=Or,X.now=ma,X.pad=fr,X.padLeft=Ya,X.padRight=Xa,X.parseInt=mr,X.random=lr,X.reduce=pa,X.reduceRight=da,X.repeat=gr,X.result=ir,X.round=sl,X.runInContext=S,X.size=rs,X.snakeCase=Qa,X.some=os,X.sortedIndex=Qo,X.sortedLastIndex=Ko,X.startCase=Ka,X.startsWith=vr,X.sum=jr,X.template=yr,X.trim=br,X.trimLeft=wr,X.trimRight=Sr,X.trunc=xr,X.unescape=Tr,X.uniqueId=Vr,X.words=Er,X.all=Kn,X.any=os,X.contains=Zn,X.eq=ks,X.detect=sa,X.foldl=pa,X.foldr=da,X.head=Sn,X.include=Zn,X.inject=pa,kr(X,function(){var e={};return Rt(X,function(t,i){X.prototype[i]||(e[i]=t)}),e}(),!1),X.sample=ns,X.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ns(t,e)}):ns(this.value())},X.VERSION=T,nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){X[e].placeholder=X}),nt(["drop","take"],function(e,t){Fe.prototype[e]=function(i){var n=this.__filtered__;if(n&&!t)return new Fe(this);i=null==i?1:xo(yo(i)||0,0);var s=this.clone();return n?s.__takeCount__=To(s.__takeCount__,i):s.__views__.push({size:i,type:e+(s.__dir__<0?"Right":"")}),s},Fe.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),nt(["filter","map","takeWhile"],function(e,t){var i=t+1,n=i!=j;Fe.prototype[e]=function(e,t){var s=this.clone();return s.__iteratees__.push({iteratee:Ui(e,t,1),type:i}),s.__filtered__=s.__filtered__||n,s}}),nt(["first","last"],function(e,t){var i="take"+(t?"Right":"");Fe.prototype[e]=function(){return this[i](1).value()[0]}}),nt(["initial","rest"],function(e,t){var i="drop"+(t?"":"Right");Fe.prototype[e]=function(){return this.__filtered__?new Fe(this):this[i](1)}}),nt(["pluck","where"],function(e,t){var i=t?"filter":"map",n=t?jt:Lr;Fe.prototype[e]=function(e){return this[i](n(e))}}),Fe.prototype.compact=function(){return this.filter(Pr)},Fe.prototype.reject=function(e,t){return e=Ui(e,t,1),this.filter(function(t){return!e(t)})},Fe.prototype.slice=function(e,t){e=null==e?0:+e||0;var i=this;return i.__filtered__&&(e>0||0>t)?new Fe(i):(0>e?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==x&&(t=+t||0,i=0>t?i.dropRight(-t):i.take(t-e)),i)},Fe.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Fe.prototype.toArray=function(){return this.take(_o)},Rt(Fe.prototype,function(e,t){var i=/^(?:filter|map|reject)|While$/.test(t),n=/^(?:first|last)$/.test(t),s=X[n?"take"+("last"==t?"Right":""):t];s&&(X.prototype[t]=function(){var t=n?[1]:arguments,r=this.__chain__,o=this.__wrapped__,a=!!this.__actions__.length,l=o instanceof Fe,u=t[0],c=l||Ia(o);c&&i&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=function(e){return n&&r?s(e,1)[0]:s.apply(x,ut([e],t))},p={func:qn,args:[h],thisArg:x},d=l&&!a;if(n&&!r)return d?(o=o.clone(),o.__actions__.push(p),e.call(o)):s.call(x,this.value())[0];if(!n&&c){o=d?o:new Fe(this);var f=e.apply(o,t);return f.__actions__.push(p),new ee(f,r)}return this.thru(h)})}),nt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Jr:Kr)[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:join|pop|replace|shift)$/.test(e);X.prototype[e]=function(){var e=arguments;return n&&!this.__chain__?t.apply(this.value(),e):this[i](function(i){return t.apply(i,e)})}}),Rt(Fe.prototype,function(e,t){var i=X[t];if(i){var n=i.name+"",s=Mo[n]||(Mo[n]=[]);s.push({name:t,func:i})}}),Mo[Ri(x,C).name]=[{name:"wrapper",func:x}],Fe.prototype.clone=He,Fe.prototype.reverse=qe,Fe.prototype.value=Ge,X.prototype.chain=Gn,X.prototype.commit=Wn,X.prototype.concat=ta,X.prototype.plant=zn,X.prototype.reverse=Yn,X.prototype.toString=Xn,X.prototype.run=X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=Qn,X.prototype.collect=X.prototype.map,X.prototype.head=X.prototype.first,X.prototype.select=X.prototype.filter,X.prototype.tail=X.prototype.rest,X}var x,T="3.10.1",E=1,C=2,A=4,P=8,_=16,I=32,k=64,R=128,O=256,L=30,M="...",D=150,N=16,V=200,B=1,j=2,U="Expected a function",F="__lodash_placeholder__",H="[object Arguments]",q="[object Array]",G="[object Boolean]",W="[object Date]",z="[object Error]",Y="[object Function]",X="[object Map]",Q="[object Number]",K="[object Object]",$="[object RegExp]",J="[object Set]",Z="[object String]",ee="[object WeakMap]",te="[object ArrayBuffer]",ie="[object Float32Array]",ne="[object Float64Array]",se="[object Int8Array]",re="[object Int16Array]",oe="[object Int32Array]",ae="[object Uint8Array]",le="[object Uint8ClampedArray]",ue="[object Uint16Array]",ce="[object Uint32Array]",he=/\b__p \+= '';/g,pe=/\b(__p \+=) '' \+/g,de=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fe=/&(?:amp|lt|gt|quot|#39|#96);/g,me=/[&<>"'`]/g,ge=RegExp(fe.source),ve=RegExp(me.source),ye=/<%-([\s\S]+?)%>/g,be=/<%([\s\S]+?)%>/g,we=/<%=([\s\S]+?)%>/g,Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,xe=/^\w*$/,Te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ee=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ce=RegExp(Ee.source),Ae=/[\u0300-\u036f\ufe20-\ufe23]/g,Pe=/\\(\\)?/g,_e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ie=/\w*$/,ke=/^0[xX]/,Re=/^\[object .+?Constructor\]$/,Oe=/^\d+$/,Le=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Me=/($^)/,De=/['\n\r\u2028\u2029\\]/g,Ne=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ve=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Be=-1,je={};je[ie]=je[ne]=je[se]=je[re]=je[oe]=je[ae]=je[le]=je[ue]=je[ce]=!0,je[H]=je[q]=je[te]=je[G]=je[W]=je[z]=je[Y]=je[X]=je[Q]=je[K]=je[$]=je[J]=je[Z]=je[ee]=!1;var Ue={};Ue[H]=Ue[q]=Ue[te]=Ue[G]=Ue[W]=Ue[ie]=Ue[ne]=Ue[se]=Ue[re]=Ue[oe]=Ue[Q]=Ue[K]=Ue[$]=Ue[Z]=Ue[ae]=Ue[le]=Ue[ue]=Ue[ce]=!0,Ue[z]=Ue[Y]=Ue[X]=Ue[J]=Ue[ee]=!1;var Fe={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},He={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},qe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ge={"function":!0,object:!0},We={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ye=Ge[typeof exports]&&exports&&!exports.nodeType&&exports,Xe=Ge[typeof module]&&module&&!module.nodeType&&module,Qe=Ye&&Xe&&"object"==typeof global&&global&&global.Object&&global,Ke=Ge[typeof self]&&self&&self.Object&&self,$e=Ge[typeof window]&&window&&window.Object&&window,Je=Xe&&Xe.exports===Ye&&Ye,Ze=Qe||$e!==(this&&this.window)&&$e||Ke||this,et=S();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ze._=et,define("lodash",[],function(){return et})):Ye&&Xe?Je?(Xe.exports=et)._=et:Ye._=et:Ze._=et}.call(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("react",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,i,n){function s(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return s(i?i:e)},c,c.exports,e,t,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,i){"use strict";var n=e(22),s=e(26),r=e(37),o=e(29),a=e(64),l=e(94),u=e(96),c=e(118),h=e(140),p=e(143),d=e(173),f=!1;s.addons={CSSTransitionGroup:o,LinkedStateMixin:n,PureRenderMixin:r,TransitionGroup:l,batchedUpdates:function(){return d(f,"React.addons.batchedUpdates is deprecated. Use ReactDOM.unstable_batchedUpdates instead."),f=!0,u.batchedUpdates.apply(this,arguments)},cloneWithProps:c,createFragment:a.create,shallowCompare:h,update:p},s.addons.Perf=e(55),s.addons.TestUtils=e(91),t.exports=s},{118:118,140:140,143:143,173:173,22:22,26:26,29:29,37:37,55:55,64:64,91:91,94:94,96:96}],2:[function(e,t,i){"use strict";var n=e(72),s=e(122),r=e(155),o={componentDidMount:function(){this.props.autoFocus&&r(s(this))}},a={Mixin:o,focusDOMComponent:function(){r(n.getNode(this._rootNodeID))}};t.exports=a},{122:122,155:155,72:72}],3:[function(e,t,i){"use strict";function n(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function s(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function r(e){switch(e){case _.topCompositionStart:return I.compositionStart;case _.topCompositionEnd:return I.compositionEnd;case _.topCompositionUpdate:return I.compositionUpdate}}function o(e,t){return e===_.topKeyDown&&t.keyCode===S}function a(e,t){switch(e){case _.topKeyUp:return-1!==w.indexOf(t.keyCode);case _.topKeyDown:return t.keyCode!==S;case _.topKeyPress:case _.topMouseDown:case _.topBlur:return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,i,n,s){var u,c;if(x?u=r(e):R?a(e,n)&&(u=I.compositionEnd):o(e,n)&&(u=I.compositionStart),!u)return null;C&&(R||u!==I.compositionStart?u===I.compositionEnd&&R&&(c=R.getData()):R=g.getPooled(t));var h=v.getPooled(u,i,n,s);if(c)h.data=c;else{var p=l(n);null!==p&&(h.data=p)}return f.accumulateTwoPhaseDispatches(h),h}function c(e,t){switch(e){case _.topCompositionEnd:return l(t);case _.topKeyPress:var i=t.which;return i!==A?null:(k=!0,P);case _.topTextInput:var n=t.data;return n===P&&k?null:n;default:return null}}function h(e,t){if(R){if(e===_.topCompositionEnd||a(e,t)){var i=R.getData();return g.release(R),R=null,i}return null}switch(e){case _.topPaste:return null;case _.topKeyPress:return t.which&&!s(t)?String.fromCharCode(t.which):null;case _.topCompositionEnd:return C?null:t.data;default:return null}}function p(e,t,i,n,s){var r;if(r=E?c(e,n):h(e,n),!r)return null;var o=y.getPooled(I.beforeInput,i,n,s);return o.data=r,f.accumulateTwoPhaseDispatches(o),o}var d=e(15),f=e(19),m=e(147),g=e(20),v=e(103),y=e(107),b=e(166),w=[9,13,27,32],S=229,x=m.canUseDOM&&"CompositionEvent"in window,T=null;m.canUseDOM&&"documentMode"in document&&(T=document.documentMode);var E=m.canUseDOM&&"TextEvent"in window&&!T&&!n(),C=m.canUseDOM&&(!x||T&&T>8&&11>=T),A=32,P=String.fromCharCode(A),_=d.topLevelTypes,I={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[_.topCompositionEnd,_.topKeyPress,_.topTextInput,_.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[_.topBlur,_.topCompositionEnd,_.topKeyDown,_.topKeyPress,_.topKeyUp,_.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[_.topBlur,_.topCompositionStart,_.topKeyDown,_.topKeyPress,_.topKeyUp,_.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[_.topBlur,_.topCompositionUpdate,_.topKeyDown,_.topKeyPress,_.topKeyUp,_.topMouseDown]}},k=!1,R=null,O={eventTypes:I,extractEvents:function(e,t,i,n,s){return[u(e,t,i,n,s),p(e,t,i,n,s)]}};t.exports=O},{103:103,107:107,147:147,15:15,166:166,19:19,20:20}],4:[function(e,t,i){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var s={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(s).forEach(function(e){r.forEach(function(t){s[n(t,e)]=s[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:s,shorthandPropertyExpansions:o};t.exports=a},{}],5:[function(e,t,i){"use strict";var n=e(4),s=e(147),r=e(78),o=e(149),a=e(119),l=e(160),u=e(168),c=e(173),h=u(function(e){return l(e)}),p=!1,d="cssFloat";if(s.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(m){p=!0}void 0===document.documentElement.style.cssFloat&&(d="styleFloat")}var g=/^(?:webkit|moz|o)[A-Z]/,v=/;\s*$/,y={},b={},w=function(e){y.hasOwnProperty(e)&&y[e]||(y[e]=!0,c(!1,"Unsupported style property %s. Did you mean %s?",e,o(e)))},S=function(e){y.hasOwnProperty(e)&&y[e]||(y[e]=!0,c(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)))},x=function(e,t){b.hasOwnProperty(t)&&b[t]||(b[t]=!0,c(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace(v,"")))},T=function(e,t){e.indexOf("-")>-1?w(e):g.test(e)?S(e):v.test(t)&&x(e,t)},E={createMarkupForStyles:function(e){var t="";for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];T(i,n),null!=n&&(t+=h(i)+":",t+=a(i,n)+";")}return t||null},setValueForStyles:function(e,t){var i=e.style;for(var s in t)if(t.hasOwnProperty(s)){T(s,t[s]);var r=a(s,t[s]);if("float"===s&&(s=d),r)i[s]=r;else{var o=p&&n.shorthandPropertyExpansions[s];if(o)for(var l in o)i[l]="";else i[s]=""}}}};r.measureMethods(E,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=E},{119:119,147:147,149:149,160:160,168:168,173:173,4:4,78:78}],6:[function(e,t,i){"use strict";function n(){this._callbacks=null,this._contexts=null}var s=e(25),r=e(24),o=e(161);r(n.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?o(!1,"Mismatched list of contexts in callback queue"):void 0,this._callbacks=null,this._contexts=null;for(var i=0;i<e.length;i++)e[i].call(t[i]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),s.addPoolingTo(n),t.exports=n},{161:161,24:24,25:25}],7:[function(e,t,i){"use strict";function n(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function s(e){var t=T.getPooled(I.change,R,e,E(e));w.accumulateTwoPhaseDispatches(t),x.batchedUpdates(r,t)}function r(e){b.enqueueEvents(e),b.processEventQueue(!1)}function o(e,t){k=e,R=t,k.attachEvent("onchange",s)}function a(){k&&(k.detachEvent("onchange",s),k=null,R=null)}function l(e,t,i){return e===_.topChange?i:void 0}function u(e,t,i){e===_.topFocus?(a(),o(t,i)):e===_.topBlur&&a()}function c(e,t){k=e,R=t,O=e.value,L=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(k,"value",N),k.attachEvent("onpropertychange",p)}function h(){k&&(delete k.value,k.detachEvent("onpropertychange",p),k=null,R=null,O=null,L=null)}function p(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==O&&(O=t,s(e))}}function d(e,t,i){return e===_.topInput?i:void 0}function f(e,t,i){e===_.topFocus?(h(),c(t,i)):e===_.topBlur&&h()}function m(e,t,i){return e!==_.topSelectionChange&&e!==_.topKeyUp&&e!==_.topKeyDown||!k||k.value===O?void 0:(O=k.value,R)}function g(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,i){return e===_.topClick?i:void 0}var y=e(15),b=e(16),w=e(19),S=e(147),x=e(96),T=e(105),E=e(128),C=e(133),A=e(134),P=e(166),_=y.topLevelTypes,I={change:{phasedRegistrationNames:{bubbled:P({onChange:null}),captured:P({onChangeCapture:null})},dependencies:[_.topBlur,_.topChange,_.topClick,_.topFocus,_.topInput,_.topKeyDown,_.topKeyUp,_.topSelectionChange]}},k=null,R=null,O=null,L=null,M=!1;S.canUseDOM&&(M=C("change")&&(!("documentMode"in document)||document.documentMode>8));
var D=!1;S.canUseDOM&&(D=C("input")&&(!("documentMode"in document)||document.documentMode>9));var N={get:function(){return L.get.call(this)},set:function(e){O=""+e,L.set.call(this,e)}},V={eventTypes:I,extractEvents:function(e,t,i,s,r){var o,a;if(n(t)?M?o=l:a=u:A(t)?D?o=d:(o=m,a=f):g(t)&&(o=v),o){var c=o(e,t,i);if(c){var h=T.getPooled(I.change,c,s,r);return h.type="change",w.accumulateTwoPhaseDispatches(h),h}}a&&a(e,t,i)}};t.exports=V},{105:105,128:128,133:133,134:134,147:147,15:15,16:16,166:166,19:19,96:96}],8:[function(e,t,i){"use strict";var n=0,s={createReactRootIndex:function(){return n++}};t.exports=s},{}],9:[function(e,t,i){"use strict";function n(e,t,i){var n=i>=e.childNodes.length?null:e.childNodes.item(i);e.insertBefore(t,n)}var s=e(12),r=e(74),o=e(78),a=e(138),l=e(139),u=e(161),c={dangerouslyReplaceNodeWithMarkup:s.dangerouslyReplaceNodeWithMarkup,updateTextContent:l,processUpdates:function(e,t){for(var i,o=null,c=null,h=0;h<e.length;h++)if(i=e[h],i.type===r.MOVE_EXISTING||i.type===r.REMOVE_NODE){var p=i.fromIndex,d=i.parentNode.childNodes[p],f=i.parentID;d?void 0:u(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",p,f),o=o||{},o[f]=o[f]||[],o[f][p]=d,c=c||[],c.push(d)}var m;if(m=t.length&&"string"==typeof t[0]?s.dangerouslyRenderMarkup(t):t,c)for(var g=0;g<c.length;g++)c[g].parentNode.removeChild(c[g]);for(var v=0;v<e.length;v++)switch(i=e[v],i.type){case r.INSERT_MARKUP:n(i.parentNode,m[i.markupIndex],i.toIndex);break;case r.MOVE_EXISTING:n(i.parentNode,o[i.parentID][i.fromIndex],i.toIndex);break;case r.SET_MARKUP:a(i.parentNode,i.content);break;case r.TEXT_CONTENT:l(i.parentNode,i.content);break;case r.REMOVE_NODE:}}};o.measureMethods(c,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=c},{12:12,138:138,139:139,161:161,74:74,78:78}],10:[function(e,t,i){"use strict";function n(e,t){return(e&t)===t}var s=e(161),r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=r,i=e.Properties||{},o=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&a._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var h in i){a.properties.hasOwnProperty(h)?s(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",h):void 0;var p=h.toLowerCase(),d=i[h],f={attributeName:p,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseAttribute:n(d,t.MUST_USE_ATTRIBUTE),mustUseProperty:n(d,t.MUST_USE_PROPERTY),hasSideEffects:n(d,t.HAS_SIDE_EFFECTS),hasBooleanValue:n(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:n(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:n(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:n(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.mustUseAttribute&&f.mustUseProperty?s(!1,"DOMProperty: Cannot require using both attribute and property: %s",h):void 0,!f.mustUseProperty&&f.hasSideEffects?s(!1,"DOMProperty: Properties that have side effects must use property: %s",h):void 0,f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1?void 0:s(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",h),a.getPossibleStandardName[p]=h,l.hasOwnProperty(h)){var m=l[h];f.attributeName=m,a.getPossibleStandardName[m]=h}o.hasOwnProperty(h)&&(f.attributeNamespace=o[h]),u.hasOwnProperty(h)&&(f.propertyName=u[h]),c.hasOwnProperty(h)&&(f.mutationMethod=c[h]),a.properties[h]=f}}},o={},a={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<a._isCustomAttributeFunctions.length;t++){var i=a._isCustomAttributeFunctions[t];if(i(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var i,n=o[e];return n||(o[e]=n={}),t in n||(i=document.createElement(e),n[t]=i[t]),n[t]},injection:r};t.exports=a},{161:161}],11:[function(e,t,i){"use strict";function n(e){return h.hasOwnProperty(e)?!0:c.hasOwnProperty(e)?!1:u.test(e)?(h[e]=!0,!0):(c[e]=!0,l(!1,"Invalid attribute name: `%s`",e),!1)}function s(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var r=e(10),o=e(78),a=e(136),l=e(173),u=/^[a-zA-Z_][\w\.\-]*$/,c={},h={},p={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},d={},f=function(e){if(!(p.hasOwnProperty(e)&&p[e]||d.hasOwnProperty(e)&&d[e])){d[e]=!0;var t=e.toLowerCase(),i=r.isCustomAttribute(t)?t:r.getPossibleStandardName.hasOwnProperty(t)?r.getPossibleStandardName[t]:null;l(null==i,"Unknown DOM property %s. Did you mean %s?",e,i)}},m={createMarkupForID:function(e){return r.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(r.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var i=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(i){if(s(i,t))return"";var n=i.attributeName;return i.hasBooleanValue||i.hasOverloadedBooleanValue&&t===!0?n+'=""':n+"="+a(t)}return r.isCustomAttribute(e)?null==t?"":e+"="+a(t):(f(e),null)},createMarkupForCustomAttribute:function(e,t){return n(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,i){var n=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(n){var o=n.mutationMethod;if(o)o(e,i);else if(s(n,i))this.deleteValueForProperty(e,t);else if(n.mustUseAttribute){var a=n.attributeName,l=n.attributeNamespace;l?e.setAttributeNS(l,a,""+i):n.hasBooleanValue||n.hasOverloadedBooleanValue&&i===!0?e.setAttribute(a,""):e.setAttribute(a,""+i)}else{var u=n.propertyName;n.hasSideEffects&&""+e[u]==""+i||(e[u]=i)}}else r.isCustomAttribute(t)?m.setValueForAttribute(e,t,i):f(t)},setValueForAttribute:function(e,t,i){n(t)&&(null==i?e.removeAttribute(t):e.setAttribute(t,""+i))},deleteValueForProperty:function(e,t){var i=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(i){var n=i.mutationMethod;if(n)n(e,void 0);else if(i.mustUseAttribute)e.removeAttribute(i.attributeName);else{var s=i.propertyName,o=r.getDefaultValueForProperty(e.nodeName,s);i.hasSideEffects&&""+e[s]===o||(e[s]=o)}}else r.isCustomAttribute(t)?e.removeAttribute(t):f(t)}};o.measureMethods(m,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=m},{10:10,136:136,173:173,78:78}],12:[function(e,t,i){"use strict";function n(e){return e.substring(1,e.indexOf(" "))}var s=e(147),r=e(152),o=e(153),a=e(157),l=e(161),u=/^(<[^ \/>]+)/,c="data-danger-index",h={dangerouslyRenderMarkup:function(e){s.canUseDOM?void 0:l(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering.");for(var t,i={},h=0;h<e.length;h++)e[h]?void 0:l(!1,"dangerouslyRenderMarkup(...): Missing markup."),t=n(e[h]),t=a(t)?t:"*",i[t]=i[t]||[],i[t][h]=e[h];var p=[],d=0;for(t in i)if(i.hasOwnProperty(t)){var f,m=i[t];for(f in m)if(m.hasOwnProperty(f)){var g=m[f];m[f]=g.replace(u,"$1 "+c+'="'+f+'" ')}for(var v=r(m.join(""),o),y=0;y<v.length;++y){var b=v[y];b.hasAttribute&&b.hasAttribute(c)?(f=+b.getAttribute(c),b.removeAttribute(c),p.hasOwnProperty(f)?l(!1,"Danger: Assigning to an already-occupied result index."):void 0,p[f]=b,d+=1):console.error("Danger: Discarding unexpected node:",b)}}return d!==p.length?l(!1,"Danger: Did not assign to every index of resultList."):void 0,p.length!==e.length?l(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,p.length):void 0,p},dangerouslyReplaceNodeWithMarkup:function(e,t){s.canUseDOM?void 0:l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."),t?void 0:l(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),"html"===e.tagName.toLowerCase()?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):void 0;var i;i="string"==typeof t?r(t,o)[0]:t,e.parentNode.replaceChild(i,e)}};t.exports=h},{147:147,152:152,153:153,157:157,161:161}],13:[function(e,t,i){"use strict";var n=e(166),s=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({BeforeInputEventPlugin:null})];t.exports=s},{166:166}],14:[function(e,t,i){"use strict";var n=e(15),s=e(19),r=e(109),o=e(72),a=e(166),l=n.topLevelTypes,u=o.getFirstReactDOM,c={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},h=[null,null],p={eventTypes:c,extractEvents:function(e,t,i,n,a){if(e===l.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var p;if(t.window===t)p=t;else{var d=t.ownerDocument;p=d?d.defaultView||d.parentWindow:window}var f,m,g="",v="";if(e===l.topMouseOut?(f=t,g=i,m=u(n.relatedTarget||n.toElement),m?v=o.getID(m):m=p,m=m||p):(f=p,m=t,v=i),f===m)return null;var y=r.getPooled(c.mouseLeave,g,n,a);y.type="mouseleave",y.target=f,y.relatedTarget=m;var b=r.getPooled(c.mouseEnter,v,n,a);return b.type="mouseenter",b.target=m,b.relatedTarget=f,s.accumulateEnterLeaveDispatches(y,b,g,v),h[0]=y,h[1]=b,h}};t.exports=p},{109:109,15:15,166:166,19:19,72:72}],15:[function(e,t,i){"use strict";var n=e(165),s=n({bubbled:null,captured:null}),r=n({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),o={topLevelTypes:r,PropagationPhases:s};t.exports=o},{165:165}],16:[function(e,t,i){"use strict";function n(){var e=g&&g.traverseTwoPhase&&g.traverseEnterLeave;c(e,"InstanceHandle not injected before use!")}var s=e(17),r=e(18),o=e(61),a=e(115),l=e(124),u=e(161),c=e(173),h={},p=null,d=function(e,t){e&&(r.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},f=function(e){return d(e,!0)},m=function(e){return d(e,!1)},g=null,v={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(e){g=e,n()},getInstanceHandle:function(){return n(),g},injectEventPluginOrder:s.injectEventPluginOrder,injectEventPluginsByName:s.injectEventPluginsByName},eventNameDispatchConfigs:s.eventNameDispatchConfigs,registrationNameModules:s.registrationNameModules,putListener:function(e,t,i){"function"!=typeof i?u(!1,"Expected %s listener to be a function, instead got type %s",t,typeof i):void 0;var n=h[t]||(h[t]={});n[e]=i;var r=s.registrationNameModules[t];r&&r.didPutListener&&r.didPutListener(e,t,i)},getListener:function(e,t){var i=h[t];return i&&i[e]},deleteListener:function(e,t){var i=s.registrationNameModules[t];i&&i.willDeleteListener&&i.willDeleteListener(e,t);var n=h[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in h)if(h[t][e]){var i=s.registrationNameModules[t];i&&i.willDeleteListener&&i.willDeleteListener(e,t),delete h[t][e]}},extractEvents:function(e,t,i,n,r){for(var o,l=s.plugins,u=0;u<l.length;u++){var c=l[u];if(c){var h=c.extractEvents(e,t,i,n,r);h&&(o=a(o,h))}}return o},enqueueEvents:function(e){e&&(p=a(p,e))},processEventQueue:function(e){var t=p;p=null,e?l(t,f):l(t,m),p?u(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):void 0,o.rethrowCaughtError()},__purge:function(){h={}},__getListenerBank:function(){return h}};t.exports=v},{115:115,124:124,161:161,17:17,173:173,18:18,61:61}],17:[function(e,t,i){"use strict";function n(){if(a)for(var e in l){var t=l[e],i=a.indexOf(e);if(i>-1?void 0:o(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!u.plugins[i]){t.extractEvents?void 0:o(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),u.plugins[i]=t;var n=t.eventTypes;for(var r in n)s(n[r],t,r)?void 0:o(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",r,e)}}}function s(e,t,i){u.eventNameDispatchConfigs.hasOwnProperty(i)?o(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",i):void 0,u.eventNameDispatchConfigs[i]=e;var n=e.phasedRegistrationNames;if(n){for(var s in n)if(n.hasOwnProperty(s)){var a=n[s];r(a,t,i)}return!0}return e.registrationName?(r(e.registrationName,t,i),!0):!1}function r(e,t,i){u.registrationNameModules[e]?o(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e):void 0,u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[i].dependencies}var o=e(161),a=null,l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){a?o(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):void 0,a=Array.prototype.slice.call(e),n()},injectEventPluginsByName:function(e){var t=!1;for(var i in e)if(e.hasOwnProperty(i)){var s=e[i];l.hasOwnProperty(i)&&l[i]===s||(l[i]?o(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",i):void 0,l[i]=s,t=!0)}t&&n()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var i in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(i)){var n=u.registrationNameModules[t.phasedRegistrationNames[i]];if(n)return n}return null},_resetEventPlugins:function(){a=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var i in t)t.hasOwnProperty(i)&&delete t[i];var n=u.registrationNameModules;for(var s in n)n.hasOwnProperty(s)&&delete n[s]}};t.exports=u},{161:161}],18:[function(e,t,i){"use strict";function n(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function s(e){return e===y.topMouseMove||e===y.topTouchMove}function r(e){return e===y.topMouseDown||e===y.topTouchStart}function o(e,t,i,n){var s=e.type||"unknown-event";e.currentTarget=v.Mount.getNode(n),t?f.invokeGuardedCallbackWithCatch(s,i,e,n):f.invokeGuardedCallback(s,i,e,n),e.currentTarget=null}function a(e,t){var i=e._dispatchListeners,n=e._dispatchIDs;if(p(e),Array.isArray(i))for(var s=0;s<i.length&&!e.isPropagationStopped();s++)o(e,t,i[s],n[s]);else i&&o(e,t,i,n);e._dispatchListeners=null,e._dispatchIDs=null}function l(e){var t=e._dispatchListeners,i=e._dispatchIDs;if(p(e),Array.isArray(t)){for(var n=0;n<t.length&&!e.isPropagationStopped();n++)if(t[n](e,i[n]))return i[n]}else if(t&&t(e,i))return i;return null}function u(e){var t=l(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function c(e){p(e);var t=e._dispatchListeners,i=e._dispatchIDs;Array.isArray(t)?m(!1,"executeDirectDispatch(...): Invalid `event`."):void 0;var n=t?t(e,i):null;return e._dispatchListeners=null,e._dispatchIDs=null,n}function h(e){return!!e._dispatchListeners}var p,d=e(15),f=e(61),m=e(161),g=e(173),v={Mount:null,injectMount:function(e){v.Mount=e,g(e&&e.getNode&&e.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID.")}},y=d.topLevelTypes;p=function(e){var t=e._dispatchListeners,i=e._dispatchIDs,n=Array.isArray(t),s=Array.isArray(i),r=s?i.length:i?1:0,o=n?t.length:t?1:0;g(s===n&&r===o,"EventPluginUtils: Invalid `event`.")};var b={isEndish:n,isMoveish:s,isStartish:r,executeDirectDispatch:c,executeDispatchesInOrder:a,executeDispatchesInOrderStopAtTrue:u,hasDispatches:h,getNode:function(e){return v.Mount.getNode(e)},getID:function(e){return v.Mount.getID(e)},injection:v};t.exports=b},{15:15,161:161,173:173,61:61}],19:[function(e,t,i){"use strict";function n(e,t,i){var n=t.dispatchConfig.phasedRegistrationNames[i];return b(e,n)}function s(e,t,i){m(e,"Dispatching id must not be null");var s=t?y.bubbled:y.captured,r=n(e,i,s);r&&(i._dispatchListeners=g(i._dispatchListeners,r),i._dispatchIDs=g(i._dispatchIDs,e))}function r(e){e&&e.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,s,e)}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,s,e)}function a(e,t,i){if(i&&i.dispatchConfig.registrationName){var n=i.dispatchConfig.registrationName,s=b(e,n);s&&(i._dispatchListeners=g(i._dispatchListeners,s),i._dispatchIDs=g(i._dispatchIDs,e))}}function l(e){e&&e.dispatchConfig.registrationName&&a(e.dispatchMarker,null,e)}function u(e){v(e,r)}function c(e){v(e,o)}function h(e,t,i,n){f.injection.getInstanceHandle().traverseEnterLeave(i,n,a,e,t)}function p(e){v(e,l)}var d=e(15),f=e(16),m=e(173),g=e(115),v=e(124),y=d.PropagationPhases,b=f.getListener,w={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:h};t.exports=w},{115:115,124:124,15:15,16:16,173:173}],20:[function(e,t,i){"use strict";function n(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var s=e(25),r=e(24),o=e(131);r(n.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,i=this._startText,n=i.length,s=this.getText(),r=s.length;for(e=0;n>e&&i[e]===s[e];e++);var o=n-e;for(t=1;o>=t&&i[n-t]===s[r-t];t++);var a=t>1?1-t:void 0;return this._fallbackText=s.slice(e,a),this._fallbackText}}),s.addPoolingTo(n),t.exports=n},{131:131,24:24,25:25}],21:[function(e,t,i){"use strict";var n,s=e(10),r=e(147),o=s.injection.MUST_USE_ATTRIBUTE,a=s.injection.MUST_USE_PROPERTY,l=s.injection.HAS_BOOLEAN_VALUE,u=s.injection.HAS_SIDE_EFFECTS,c=s.injection.HAS_NUMERIC_VALUE,h=s.injection.HAS_POSITIVE_NUMERIC_VALUE,p=s.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(r.canUseDOM){var d=document.implementation;n=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|l,allowTransparency:o,alt:null,async:l,autoComplete:null,autoPlay:l,capture:o|l,cellPadding:null,cellSpacing:null,charSet:o,challenge:o,checked:a|l,classID:o,className:n?o:a,cols:o|h,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:a|l,coords:null,crossOrigin:null,data:null,dateTime:o,"default":l,defer:l,dir:null,disabled:o|l,download:p,draggable:null,encType:null,form:o,formAction:o,formEncType:o,formMethod:o,formNoValidate:l,formTarget:o,frameBorder:o,headers:null,height:o,hidden:o|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,inputMode:o,integrity:null,is:o,keyParams:o,keyType:o,kind:null,label:null,lang:null,list:o,loop:a|l,low:null,manifest:o,marginHeight:null,marginWidth:null,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,minLength:o,multiple:a|l,muted:a|l,name:null,nonce:o,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|l,rel:null,required:l,reversed:l,role:o,rows:o|h,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:o|l,selected:a|l,shape:null,size:o|h,sizes:o,span:h,spellCheck:null,src:null,srcDoc:a,srcLang:null,srcSet:o,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|u,width:o,wmode:o,wrap:null,about:o,datatype:o,inlist:o,prefix:o,property:o,resource:o,"typeof":o,vocab:o,autoCapitalize:o,autoCorrect:o,autoSave:null,color:null,itemProp:o,itemScope:o|l,itemType:o,itemID:o,itemRef:o,results:null,security:o,unselectable:o},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},{10:10,147:147}],22:[function(e,t,i){"use strict";var n=e(70),s=e(90),r={linkState:function(e){return new n(this.state[e],s.createStateKeySetter(this,e))}};t.exports=r},{70:70,90:90}],23:[function(e,t,i){"use strict";function n(e){null!=e.checkedLink&&null!=e.valueLink?u(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):void 0}function s(e){n(e),null!=e.value||null!=e.onChange?u(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):void 0}function r(e){n(e),null!=e.checked||null!=e.onChange?u(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):void 0}function o(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var a=e(82),l=e(81),u=e(161),c=e(173),h={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},p={value:function(e,t,i){return!e[t]||h[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,i){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:a.func},d={},f={checkPropTypes:function(e,t,i){for(var n in p){if(p.hasOwnProperty(n))var s=p[n](t,n,e,l.prop);if(s instanceof Error&&!(s.message in d)){d[s.message]=!0;var r=o(i);c(!1,"Failed form propType: %s%s",s.message,r)}}},getValue:function(e){return e.valueLink?(s(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(r(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(s(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(r(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=f},{161:161,173:173,81:81,82:82}],24:[function(e,t,i){"use strict";function n(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var i=Object(e),n=Object.prototype.hasOwnProperty,s=1;s<arguments.length;s++){var r=arguments[s];if(null!=r){var o=Object(r);for(var a in o)n.call(o,a)&&(i[a]=o[a])}}return i}t.exports=n},{}],25:[function(e,t,i){"use strict";var n=e(161),s=function(e){var t=this;if(t.instancePool.length){var i=t.instancePool.pop();return t.call(i,e),i}return new t(e)},r=function(e,t){var i=this;if(i.instancePool.length){var n=i.instancePool.pop();return i.call(n,e,t),n}return new i(e,t)},o=function(e,t,i){var n=this;if(n.instancePool.length){var s=n.instancePool.pop();return n.call(s,e,t,i),s}return new n(e,t,i)},a=function(e,t,i,n){var s=this;if(s.instancePool.length){var r=s.instancePool.pop();return s.call(r,e,t,i,n),r}return new s(e,t,i,n)},l=function(e,t,i,n,s){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,i,n,s),o}return new r(e,t,i,n,s)},u=function(e){var t=this;e instanceof t?void 0:n(!1,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,h=s,p=function(e,t){var i=e;return i.instancePool=[],i.getPooled=t||h,i.poolSize||(i.poolSize=c),i.release=u,i},d={addPoolingTo:p,oneArgumentPooler:s,twoArgumentPooler:r,threeArgumentPooler:o,fourArgumentPooler:a,fiveArgumentPooler:l};t.exports=d},{161:161}],26:[function(e,t,i){"use strict";var n=e(40),s=e(50),r=e(69),o=e(24),a=e(120),l={};o(l,r),o(l,{findDOMNode:a("findDOMNode","ReactDOM","react-dom",n,n.findDOMNode),render:a("render","ReactDOM","react-dom",n,n.render),unmountComponentAtNode:a("unmountComponentAtNode","ReactDOM","react-dom",n,n.unmountComponentAtNode),renderToString:a("renderToString","ReactDOMServer","react-dom/server",s,s.renderToString),renderToStaticMarkup:a("renderToStaticMarkup","ReactDOMServer","react-dom/server",s,s.renderToStaticMarkup)}),l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n,l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s,l.Injection=e(65),t.exports=l},{120:120,24:24,40:40,50:50,69:69}],27:[function(e,t,i){"use strict";var n=e(68),s=e(122),r=e(173),o="_getDOMNodeDidWarn",a={getDOMNode:function(){return r(this.constructor[o],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",n.get(this).getName()||this.tagName||"Unknown"),this.constructor[o]=!0,s(this)}};t.exports=a},{122:122,173:173,68:68}],28:[function(e,t,i){"use strict";function n(e){return Object.prototype.hasOwnProperty.call(e,g)||(e[g]=f++,p[e[g]]={}),p[e[g]]}var s=e(15),r=e(16),o=e(17),a=e(62),l=e(78),u=e(114),c=e(24),h=e(133),p={},d=!1,f=0,m={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),v=c({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var i=t,r=n(i),a=o.registrationNameDependencies[e],l=s.topLevelTypes,u=0;u<a.length;u++){var c=a[u];r.hasOwnProperty(c)&&r[c]||(c===l.topWheel?h("wheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",i):h("mousewheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",i):v.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",i):c===l.topScroll?h("scroll",!0)?v.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",i):v.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):c===l.topFocus||c===l.topBlur?(h("focus",!0)?(v.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",i),v.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",i)):h("focusin")&&(v.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",i),v.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",i)),r[l.topBlur]=!0,r[l.topFocus]=!0):m.hasOwnProperty(c)&&v.ReactEventListener.trapBubbledEvent(c,m[c],i),r[c]=!0)}},trapBubbledEvent:function(e,t,i){return v.ReactEventListener.trapBubbledEvent(e,t,i)},trapCapturedEvent:function(e,t,i){return v.ReactEventListener.trapCapturedEvent(e,t,i)},ensureScrollValueMonitoring:function(){if(!d){var e=u.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),d=!0}},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:r.putListener,getListener:r.getListener,deleteListener:r.deleteListener,deleteAllListeners:r.deleteAllListeners});l.measureMethods(v,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=v},{114:114,133:133,15:15,16:16,17:17,24:24,62:62,78:78}],29:[function(e,t,i){"use strict";function n(e){var t="transition"+e+"Timeout",i="transition"+e;return function(e){if(e[i]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var s=e(26),r=e(24),o=e(94),a=e(30),l=s.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:a.propTypes.name,transitionAppear:s.PropTypes.bool,transitionEnter:s.PropTypes.bool,transitionLeave:s.PropTypes.bool,transitionAppearTimeout:n("Appear"),transitionEnterTimeout:n("Enter"),transitionLeaveTimeout:n("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return s.createElement(a,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return s.createElement(o,r({},this.props,{childFactory:this._wrapChild}))}});t.exports=l},{24:24,26:26,30:30,94:94}],30:[function(e,t,i){"use strict";var n=e(26),s=e(40),r=e(145),o=e(93),a=e(135),l=17,u=n.createClass({
displayName:"ReactCSSTransitionGroupChild",propTypes:{name:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.shape({enter:n.PropTypes.string,leave:n.PropTypes.string,active:n.PropTypes.string}),n.PropTypes.shape({enter:n.PropTypes.string,enterActive:n.PropTypes.string,leave:n.PropTypes.string,leaveActive:n.PropTypes.string,appear:n.PropTypes.string,appearActive:n.PropTypes.string})]).isRequired,appear:n.PropTypes.bool,enter:n.PropTypes.bool,leave:n.PropTypes.bool,appearTimeout:n.PropTypes.number,enterTimeout:n.PropTypes.number,leaveTimeout:n.PropTypes.number},transition:function(e,t,i){var n=s.findDOMNode(this);if(!n)return void(t&&t());var a=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||a+"-active",u=null,c=function(e){e&&e.target!==n||(clearTimeout(u),r.removeClass(n,a),r.removeClass(n,l),o.removeEndEventListener(n,c),t&&t())};r.addClass(n,a),this.queueClass(l),i?(u=setTimeout(c,i),this.transitionTimeouts.push(u)):o.addEndEventListener(n,c)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,l))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(r.addClass.bind(r,s.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)})},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return a(this.props.children)}});t.exports=u},{135:135,145:145,26:26,40:40,93:93}],31:[function(e,t,i){"use strict";function n(e,t,i){var n=void 0===e[i];l(n,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i),null!=t&&n&&(e[i]=r(t,null))}var s=e(84),r=e(132),o=e(141),a=e(142),l=e(173),u={instantiateChildren:function(e,t,i){if(null==e)return null;var s={};return a(e,n,s),s},updateChildren:function(e,t,i,n){if(!t&&!e)return null;var a;for(a in t)if(t.hasOwnProperty(a)){var l=e&&e[a],u=l&&l._currentElement,c=t[a];if(null!=l&&o(u,c))s.receiveComponent(l,c,i,n),t[a]=l;else{l&&s.unmountComponent(l,a);var h=r(c,null);t[a]=h}}for(a in e)!e.hasOwnProperty(a)||t&&t.hasOwnProperty(a)||s.unmountComponent(e[a]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];s.unmountComponent(i)}}};t.exports=u},{132:132,141:141,142:142,173:173,84:84}],32:[function(e,t,i){"use strict";function n(e){return(""+e).replace(w,"//")}function s(e,t){this.func=e,this.context=t,this.count=0}function r(e,t,i){var n=e.func,s=e.context;n.call(s,t,e.count++)}function o(e,t,i){if(null==e)return e;var n=s.getPooled(t,i);v(e,r,n),s.release(n)}function a(e,t,i,n){this.result=e,this.keyPrefix=t,this.func=i,this.context=n,this.count=0}function l(e,t,i){var s=e.result,r=e.keyPrefix,o=e.func,a=e.context,l=o.call(a,t,e.count++);Array.isArray(l)?u(l,s,i,g.thatReturnsArgument):null!=l&&(m.isValidElement(l)&&(l=m.cloneAndReplaceKey(l,r+(l!==t?n(l.key||"")+"/":"")+i)),s.push(l))}function u(e,t,i,s,r){var o="";null!=i&&(o=n(i)+"/");var u=a.getPooled(t,o,s,r);v(e,l,u),a.release(u)}function c(e,t,i){if(null==e)return e;var n=[];return u(e,n,null,t,i),n}function h(e,t,i){return null}function p(e,t){return v(e,h,null)}function d(e){var t=[];return u(e,t,null,g.thatReturnsArgument),t}var f=e(25),m=e(57),g=e(153),v=e(142),y=f.twoArgumentPooler,b=f.fourArgumentPooler,w=/\/(?!\/)/g;s.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(s,y),a.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(a,b);var S={forEach:o,map:c,mapIntoWithKeyPrefixInternal:u,count:p,toArray:d};t.exports=S},{142:142,153:153,25:25,57:57}],33:[function(e,t,i){"use strict";function n(){P||(P=!0,T(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."))}function s(e,t,i){for(var n in t)t.hasOwnProperty(n)&&T("function"==typeof t[n],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",g[i],n)}function r(e,t){var i=_.hasOwnProperty(t)?_[t]:null;k.hasOwnProperty(t)&&(i!==C.OVERRIDE_BASE?w(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t):void 0),e.hasOwnProperty(t)&&(i!==C.DEFINE_MANY&&i!==C.DEFINE_MANY_MERGED?w(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t):void 0)}function o(e,t){if(t){"function"==typeof t?w(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):void 0,f.isValidElement(t)?w(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):void 0;var i=e.prototype;t.hasOwnProperty(E)&&I.mixins(e,t.mixins);for(var n in t)if(t.hasOwnProperty(n)&&n!==E){var s=t[n];if(r(i,n),I.hasOwnProperty(n))I[n](e,s);else{var o=_.hasOwnProperty(n),a=i.hasOwnProperty(n),l="function"==typeof s,h=l&&!o&&!a&&t.autobind!==!1;if(h)i.__reactAutoBindMap||(i.__reactAutoBindMap={}),i.__reactAutoBindMap[n]=s,i[n]=s;else if(a){var p=_[n];!o||p!==C.DEFINE_MANY_MERGED&&p!==C.DEFINE_MANY?w(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",p,n):void 0,p===C.DEFINE_MANY_MERGED?i[n]=u(i[n],s):p===C.DEFINE_MANY&&(i[n]=c(i[n],s))}else i[n]=s,"function"==typeof s&&t.displayName&&(i[n].displayName=t.displayName+"_"+n)}}}}function a(e,t){if(t)for(var i in t){var n=t[i];if(t.hasOwnProperty(i)){var s=i in I;s?w(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',i):void 0;var r=i in e;r?w(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",i):void 0,e[i]=n}}}function l(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:w(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var i in t)t.hasOwnProperty(i)&&(void 0!==e[i]?w(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",i):void 0,e[i]=t[i]);return e}function u(e,t){return function(){var i=e.apply(this,arguments),n=t.apply(this,arguments);if(null==i)return n;if(null==n)return i;var s={};return l(s,i),l(s,n),s}}function c(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function h(e,t){var i=t.bind(e);i.__reactBoundContext=e,i.__reactBoundMethod=t,i.__reactBoundArguments=null;var n=e.constructor.displayName,s=i.bind;return i.bind=function(r){for(var o=arguments.length,a=Array(o>1?o-1:0),l=1;o>l;l++)a[l-1]=arguments[l];if(r!==e&&null!==r)T(!1,"bind(): React component methods may only be bound to the component instance. See %s",n);else if(!a.length)return T(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",n),i;var u=s.apply(i,arguments);return u.__reactBoundContext=e,u.__reactBoundMethod=t,u.__reactBoundArguments=a,u},i}function p(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var i=e.__reactAutoBindMap[t];e[t]=h(e,i)}}var d=e(34),f=e(57),m=e(81),g=e(80),v=e(76),y=e(24),b=e(154),w=e(161),S=e(165),x=e(166),T=e(173),E=x({mixins:null}),C=S({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),A=[],P=!1,_={mixins:C.DEFINE_MANY,statics:C.DEFINE_MANY,propTypes:C.DEFINE_MANY,contextTypes:C.DEFINE_MANY,childContextTypes:C.DEFINE_MANY,getDefaultProps:C.DEFINE_MANY_MERGED,getInitialState:C.DEFINE_MANY_MERGED,getChildContext:C.DEFINE_MANY_MERGED,render:C.DEFINE_ONCE,componentWillMount:C.DEFINE_MANY,componentDidMount:C.DEFINE_MANY,componentWillReceiveProps:C.DEFINE_MANY,shouldComponentUpdate:C.DEFINE_ONCE,componentWillUpdate:C.DEFINE_MANY,componentDidUpdate:C.DEFINE_MANY,componentWillUnmount:C.DEFINE_MANY,updateComponent:C.OVERRIDE_BASE},I={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var i=0;i<t.length;i++)o(e,t[i])},childContextTypes:function(e,t){s(e,t,m.childContext),e.childContextTypes=y({},e.childContextTypes,t)},contextTypes:function(e,t){s(e,t,m.context),e.contextTypes=y({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){s(e,t,m.prop),e.propTypes=y({},e.propTypes,t)},statics:function(e,t){a(e,t)},autobind:function(){}},k={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){n(),this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){n(),this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},R=function(){};y(R.prototype,d.prototype,k);var O={createClass:function(e){var t=function(e,i,n){T(this instanceof t,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&p(this),this.props=e,this.context=i,this.refs=b,this.updater=n||v,this.state=null;var s=this.getInitialState?this.getInitialState():null;"undefined"==typeof s&&this.getInitialState._isMockFunction&&(s=null),"object"!=typeof s||Array.isArray(s)?w(!1,"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"):void 0,this.state=s};t.prototype=new R,t.prototype.constructor=t,A.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved={}),t.prototype.getInitialState&&(t.prototype.getInitialState.isReactClassApproved={}),t.prototype.render?void 0:w(!1,"createClass(...): Class specification must implement a `render` method."),T(!t.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"),T(!t.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component");for(var i in _)t.prototype[i]||(t.prototype[i]=null);return t},injection:{injectMixin:function(e){A.push(e)}}};t.exports=O},{154:154,161:161,165:165,166:166,173:173,24:24,34:34,57:57,76:76,80:80,81:81}],34:[function(e,t,i){"use strict";function n(e,t,i){this.props=e,this.context=t,this.refs=o,this.updater=i||s}var s=e(76),r=e(117),o=e(154),a=e(161),l=e(173);n.prototype.isReactComponent={},n.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):void 0,l(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};var u={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},c=function(e,t){r&&Object.defineProperty(n.prototype,e,{get:function(){l(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var h in u)u.hasOwnProperty(h)&&c(h,u[h]);t.exports=n},{117:117,154:154,161:161,173:173,76:76}],35:[function(e,t,i){"use strict";var n=e(45),s=e(72),r={processChildrenUpdates:n.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:n.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){s.purgeID(e)}};t.exports=r},{45:45,72:72}],36:[function(e,t,i){"use strict";var n=e(161),s=!1,r={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){s?n(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):void 0,r.unmountIDFromEnvironment=e.unmountIDFromEnvironment,r.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,r.processChildrenUpdates=e.processChildrenUpdates,s=!0}}};t.exports=r},{161:161}],37:[function(e,t,i){"use strict";var n=e(140),s={shouldComponentUpdate:function(e,t){return n(this,e,t)}};t.exports=s},{140:140}],38:[function(e,t,i){"use strict";function n(e){var t=e._currentElement._owner||null;if(t){var i=t.getName();if(i)return" Check the render method of `"+i+"`."}return""}function s(e){}var r=e(36),o=e(39),a=e(57),l=e(68),u=e(78),c=e(81),h=e(80),p=e(84),d=e(95),f=e(24),m=e(154),g=e(161),v=e(141),y=e(173);s.prototype.render=function(){var e=l.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var b=1,w={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,i){this._context=i,this._mountOrder=b++,this._rootNodeID=e;var n,r,u=this._processProps(this._currentElement.props),c=this._processContext(i),h=this._currentElement.type,f="prototype"in h;if(f){o.current=this;try{n=new h(u,c,d)}finally{o.current=null}}f&&null!==n&&n!==!1&&!a.isValidElement(n)||(r=n,n=new s(h)),null==n.render?y(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",h.displayName||h.name||"Component"):y(h.prototype&&h.prototype.isReactComponent||!f||!(n instanceof h),"%s(...): React component classes must extend React.Component.",h.displayName||h.name||"Component"),n.props=u,n.context=c,n.refs=m,n.updater=d,this._instance=n,l.set(n,this),y(!n.getInitialState||n.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),y(!n.getDefaultProps||n.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),y(!n.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),y(!n.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),y("function"!=typeof n.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"),y("function"!=typeof n.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"),y("function"!=typeof n.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component");var v=n.state;void 0===v&&(n.state=v=null),"object"!=typeof v||Array.isArray(v)?g(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,n.componentWillMount&&(n.componentWillMount(),this._pendingStateQueue&&(n.state=this._processPendingState(n.props,n.context))),void 0===r&&(r=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(r);var w=p.mountComponent(this._renderedComponent,e,t,this._processChildContext(i));return n.componentDidMount&&t.getReactMountReady().enqueue(n.componentDidMount,n),w},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),p.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,l.remove(e)},_maskContext:function(e){var t=null,i=this._currentElement.type,n=i.contextTypes;if(!n)return m;t={};for(var s in n)t[s]=e[s];return t},_processContext:function(e){var t=this._maskContext(e),i=this._currentElement.type;return i.contextTypes&&this._checkPropTypes(i.contextTypes,t,c.context),t},_processChildContext:function(e){var t=this._currentElement.type,i=this._instance,n=i.getChildContext&&i.getChildContext();if(n){"object"!=typeof t.childContextTypes?g(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):void 0,this._checkPropTypes(t.childContextTypes,n,c.childContext);for(var s in n)s in t.childContextTypes?void 0:g(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",s);return f({},e,n)}return e},_processProps:function(e){var t=this._currentElement.type;return t.propTypes&&this._checkPropTypes(t.propTypes,e,c.prop),e},_checkPropTypes:function(e,t,i){var s=this.getName();for(var r in e)if(e.hasOwnProperty(r)){var o;try{"function"!=typeof e[r]?g(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",s||"React class",h[i],r):void 0,o=e[r](t,r,s,i)}catch(a){o=a}if(o instanceof Error){var l=n(this);i===c.prop?y(!1,"Failed Composite propType: %s%s",o.message,l):y(!1,"Failed Context Types: %s%s",o.message,l)}}},receiveComponent:function(e,t,i){var n=this._currentElement,s=this._context;this._pendingElement=null,this.updateComponent(t,n,e,s,i)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&p.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,i,n,s){var r,o=this._instance,a=this._context===s?o.context:this._processContext(s);t===i?r=i.props:(r=this._processProps(i.props),o.componentWillReceiveProps&&o.componentWillReceiveProps(r,a));var l=this._processPendingState(r,a),u=this._pendingForceUpdate||!o.shouldComponentUpdate||o.shouldComponentUpdate(r,l,a);y("undefined"!=typeof u,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),u?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,r,l,a,e,s)):(this._currentElement=i,this._context=s,o.props=r,o.state=l,o.context=a)},_processPendingState:function(e,t){var i=this._instance,n=this._pendingStateQueue,s=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!n)return i.state;if(s&&1===n.length)return n[0];for(var r=f({},s?n[0]:i.state),o=s?1:0;o<n.length;o++){var a=n[o];f(r,"function"==typeof a?a.call(i,r,e,t):a)}return r},_performComponentUpdate:function(e,t,i,n,s,r){var o,a,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(o=u.props,a=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,i,n),this._currentElement=e,this._context=r,u.props=t,u.state=i,u.context=n,this._updateRenderedComponent(s,r),c&&s.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,o,a,l),u)},_updateRenderedComponent:function(e,t){var i=this._renderedComponent,n=i._currentElement,s=this._renderValidatedComponent();if(v(n,s))p.receiveComponent(i,s,e,this._processChildContext(t));else{var r=this._rootNodeID,o=i._rootNodeID;p.unmountComponent(i),this._renderedComponent=this._instantiateReactComponent(s);var a=p.mountComponent(this._renderedComponent,r,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(o,a)}},_replaceNodeWithMarkupByID:function(e,t){r.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return"undefined"==typeof t&&e.render._isMockFunction&&(t=null),t},_renderValidatedComponent:function(){var e;o.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{o.current=null}return null===e||e===!1||a.isValidElement(e)?void 0:g(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var i=this.getPublicInstance();null==i?g(!1,"Stateless function components cannot have refs."):void 0;var n=t.getPublicInstance(),s=t&&t.getName?t.getName():"a component";y(null!=n,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',e,s,this.getName());var r=i.refs===m?i.refs={}:i.refs;r[e]=n},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof s?null:e},_instantiateReactComponent:null};u.measureMethods(w,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var S={Mixin:w};t.exports=S},{141:141,154:154,161:161,173:173,24:24,36:36,39:39,57:57,68:68,78:78,80:80,81:81,84:84,95:95}],39:[function(e,t,i){"use strict";var n={current:null};t.exports=n},{}],40:[function(e,t,i){"use strict";var n=e(39),s=e(51),r=e(54),o=e(67),a=e(72),l=e(78),u=e(84),c=e(96),h=e(97),p=e(122),d=e(137),f=e(173);r.inject();var m=l.measure("React","render",a.render),g={findDOMNode:p,render:m,unmountComponentAtNode:a.unmountComponentAtNode,version:h,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:n,InstanceHandles:o,Mount:a,Reconciler:u,TextComponent:s});var v=e(147);if(v.canUseDOM&&window.top===window.self){"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");var y=document.documentMode&&document.documentMode<8;f(!y,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />');for(var b=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],w=0;w<b.length;w++)if(!b[w]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}t.exports=g},{122:122,137:137,147:147,173:173,39:39,51:51,54:54,67:67,72:72,78:78,84:84,96:96,97:97}],41:[function(e,t,i){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},s={getNativeProps:function(e,t,i){if(!t.disabled)return t;var s={};for(var r in t)t.hasOwnProperty(r)&&!n[r]&&(s[r]=t[r]);return s}};t.exports=s},{}],42:[function(e,t,i){"use strict";function n(e){if(e){var t=e._currentElement._owner||null;if(t){var i=t.getName();if(i)return" This DOM node was rendered by `"+i+"`."}}return""}function s(){var e=this._reactInternalComponent;return X(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",n(e)),this}function r(){var e=this._reactInternalComponent;return X(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",n(e)),!!e}function o(){var e=this._reactInternalComponent;X(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",n(e))}function a(e,t){var i=this._reactInternalComponent;X(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",n(i)),i&&(V.enqueueSetPropsInternal(i,e),t&&V.enqueueCallbackInternal(i,t))}function l(e,t){var i=this._reactInternalComponent;X(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",n(i)),i&&(V.enqueueReplacePropsInternal(i,e),t&&V.enqueueCallbackInternal(i,t))}function u(e){if("object"==typeof e){if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";var t=[];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=/^[a-z$_][\w$_]*$/i.test(i)?i:JSON.stringify(i);t.push(n+": "+u(e[i]))}return"{"+t.join(", ")+"}"}return"string"==typeof e?JSON.stringify(e):"function"==typeof e?"[function object]":String(e)}function c(e,t,i){if(null!=e&&null!=t&&!z(e,t)){var n,s=i._tag,r=i._currentElement._owner;r&&(n=r.getName());var o=n+"|"+s;ne.hasOwnProperty(o)||(ne[o]=!0,X(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",s,r?"of `"+n+"`":"using <"+s+">",u(e),u(t)))}}function h(e,t){t&&(ae[e._tag]&&X(null==t.children&&null==t.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children?F(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):void 0,"object"==typeof t.dangerouslySetInnerHTML&&te in t.dangerouslySetInnerHTML?void 0:F(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),X(null==t.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),X(!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!=typeof t.style?F(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",n(e)):void 0)}function p(e,t,i,n){X("onScroll"!==t||H("scroll",!0),"This browser doesn't support the `onScroll` event");var s=M.findReactContainerForID(e);if(s){var r=s.nodeType===ie?s.ownerDocument:s;K(t,r)}n.getReactMountReady().enqueue(d,{id:e,registrationName:t,listener:i})}function d(){var e=this;P.putListener(e.id,e.registrationName,e.listener)}function f(){var e=this;e._rootNodeID?void 0:F(!1,"Must be mounted to trap events");var t=M.getNode(e._rootNodeID);switch(t?void 0:F(!1,"trapBubbledEvent(...): Requires node to be rendered."),e._tag){case"iframe":e._wrapperState.listeners=[P.trapBubbledEvent(A.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var i in se)se.hasOwnProperty(i)&&e._wrapperState.listeners.push(P.trapBubbledEvent(A.topLevelTypes[i],se[i],t));break;case"img":e._wrapperState.listeners=[P.trapBubbledEvent(A.topLevelTypes.topError,"error",t),P.trapBubbledEvent(A.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[P.trapBubbledEvent(A.topLevelTypes.topReset,"reset",t),P.trapBubbledEvent(A.topLevelTypes.topSubmit,"submit",t)]}}function m(){k.mountReadyWrapper(this)}function g(){O.postUpdateWrapper(this)}function v(e){ce.call(ue,e)||(le.test(e)?void 0:F(!1,"Invalid tag: %s",e),ue[e]=!0)}function y(e,t){e=B({},e);var i=e[Y.ancestorInfoContextKey];return e[Y.ancestorInfoContextKey]=Y.updatedAncestorInfo(i,t._tag,t),e}function b(e,t){return e.indexOf("-")>=0||null!=t.is}function w(e){v(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null,this._unprocessedContextDev=null,this._processedContextDev=null}var S,x=e(2),T=e(5),E=e(10),C=e(11),A=e(15),P=e(28),_=e(35),I=e(41),k=e(46),R=e(47),O=e(48),L=e(52),M=e(72),D=e(73),N=e(78),V=e(95),B=e(24),j=e(117),U=e(121),F=e(161),H=e(133),q=e(166),G=e(138),W=e(139),z=e(171),Y=e(144),X=e(173),Q=P.deleteListener,K=P.listenTo,$=P.registrationNameModules,J={string:!0,number:!0},Z=q({children:null}),ee=q({style:null}),te=q({__html:null}),ie=1;S={props:{enumerable:!1,get:function(){var e=this._reactInternalComponent;return X(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",n(e)),e._currentElement.props}}};var ne={},se={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},re={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},oe={listing:!0,pre:!0,textarea:!0},ae=B({menuitem:!0},re),le=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ue={},ce={}.hasOwnProperty;w.displayName="ReactDOMComponent",w.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,i){this._rootNodeID=e;var n=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(f,this);
break;case"button":n=I.getNativeProps(this,n,i);break;case"input":k.mountWrapper(this,n,i),n=k.getNativeProps(this,n,i);break;case"option":R.mountWrapper(this,n,i),n=R.getNativeProps(this,n,i);break;case"select":O.mountWrapper(this,n,i),n=O.getNativeProps(this,n,i),i=O.processChildContext(this,n,i);break;case"textarea":L.mountWrapper(this,n,i),n=L.getNativeProps(this,n,i)}h(this,n),i[Y.ancestorInfoContextKey]&&Y(this._tag,this,i[Y.ancestorInfoContextKey]),this._unprocessedContextDev=i,this._processedContextDev=y(i,this),i=this._processedContextDev;var s;if(t.useCreateElement){var r=i[M.ownerDocumentContextKey],o=r.createElement(this._currentElement.type);C.setAttributeForID(o,this._rootNodeID),M.getID(o),this._updateDOMProperties({},n,t,o),this._createInitialChildren(t,n,i,o),s=o}else{var a=this._createOpenTagMarkupAndPutListeners(t,n),l=this._createContentMarkup(t,n,i);s=!l&&re[this._tag]?a+"/>":a+">"+l+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(m,this);case"button":case"select":case"textarea":n.autoFocus&&t.getReactMountReady().enqueue(x.focusDOMComponent,this)}return s},_createOpenTagMarkupAndPutListeners:function(e,t){var i="<"+this._currentElement.type;for(var n in t)if(t.hasOwnProperty(n)){var s=t[n];if(null!=s)if($.hasOwnProperty(n))s&&p(this._rootNodeID,n,s,e);else{n===ee&&(s&&(this._previousStyle=s,s=this._previousStyleCopy=B({},t.style)),s=T.createMarkupForStyles(s));var r=null;null!=this._tag&&b(this._tag,t)?n!==Z&&(r=C.createMarkupForCustomAttribute(n,s)):r=C.createMarkupForProperty(n,s),r&&(i+=" "+r)}}if(e.renderToStaticMarkup)return i;var o=C.createMarkupForID(this._rootNodeID);return i+" "+o},_createContentMarkup:function(e,t,i){var n="",s=t.dangerouslySetInnerHTML;if(null!=s)null!=s.__html&&(n=s.__html);else{var r=J[typeof t.children]?t.children:null,o=null!=r?null:t.children;if(null!=r)n=U(r);else if(null!=o){var a=this.mountChildren(o,e,i);n=a.join("")}}return oe[this._tag]&&"\n"===n.charAt(0)?"\n"+n:n},_createInitialChildren:function(e,t,i,n){var s=t.dangerouslySetInnerHTML;if(null!=s)null!=s.__html&&G(n,s.__html);else{var r=J[typeof t.children]?t.children:null,o=null!=r?null:t.children;if(null!=r)W(n,r);else if(null!=o)for(var a=this.mountChildren(o,e,i),l=0;l<a.length;l++)n.appendChild(a[l])}},receiveComponent:function(e,t,i){var n=this._currentElement;this._currentElement=e,this.updateComponent(t,n,e,i)},updateComponent:function(e,t,i,n){var s=t.props,r=this._currentElement.props;switch(this._tag){case"button":s=I.getNativeProps(this,s),r=I.getNativeProps(this,r);break;case"input":k.updateWrapper(this),s=k.getNativeProps(this,s),r=k.getNativeProps(this,r);break;case"option":s=R.getNativeProps(this,s),r=R.getNativeProps(this,r);break;case"select":s=O.getNativeProps(this,s),r=O.getNativeProps(this,r);break;case"textarea":L.updateWrapper(this),s=L.getNativeProps(this,s),r=L.getNativeProps(this,r)}this._unprocessedContextDev!==n&&(this._unprocessedContextDev=n,this._processedContextDev=y(n,this)),n=this._processedContextDev,h(this,r),this._updateDOMProperties(s,r,e,null),this._updateDOMChildren(s,r,e,n),!j&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=r),"select"===this._tag&&e.getReactMountReady().enqueue(g,this)},_updateDOMProperties:function(e,t,i,n){var s,r,o;for(s in e)if(!t.hasOwnProperty(s)&&e.hasOwnProperty(s))if(s===ee){var a=this._previousStyleCopy;for(r in a)a.hasOwnProperty(r)&&(o=o||{},o[r]="");this._previousStyleCopy=null}else $.hasOwnProperty(s)?e[s]&&Q(this._rootNodeID,s):(E.properties[s]||E.isCustomAttribute(s))&&(n||(n=M.getNode(this._rootNodeID)),C.deleteValueForProperty(n,s));for(s in t){var l=t[s],u=s===ee?this._previousStyleCopy:e[s];if(t.hasOwnProperty(s)&&l!==u)if(s===ee)if(l?(c(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=l,l=this._previousStyleCopy=B({},l)):this._previousStyleCopy=null,u){for(r in u)!u.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(o=o||{},o[r]="");for(r in l)l.hasOwnProperty(r)&&u[r]!==l[r]&&(o=o||{},o[r]=l[r])}else o=l;else $.hasOwnProperty(s)?l?p(this._rootNodeID,s,l,i):u&&Q(this._rootNodeID,s):b(this._tag,t)?(n||(n=M.getNode(this._rootNodeID)),s===Z&&(l=null),C.setValueForAttribute(n,s,l)):(E.properties[s]||E.isCustomAttribute(s))&&(n||(n=M.getNode(this._rootNodeID)),null!=l?C.setValueForProperty(n,s,l):C.deleteValueForProperty(n,s))}o&&(n||(n=M.getNode(this._rootNodeID)),T.setValueForStyles(n,o))},_updateDOMChildren:function(e,t,i,n){var s=J[typeof e.children]?e.children:null,r=J[typeof t.children]?t.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=s?null:e.children,u=null!=r?null:t.children,c=null!=s||null!=o,h=null!=r||null!=a;null!=l&&null==u?this.updateChildren(null,i,n):c&&!h&&this.updateTextContent(""),null!=r?s!==r&&this.updateTextContent(""+r):null!=a?o!==a&&this.updateMarkup(""+a):null!=u&&this.updateChildren(u,i,n)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":k.unmountWrapper(this);break;case"html":case"head":case"body":F(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag)}if(this.unmountChildren(),P.deleteAllListeners(this._rootNodeID),_.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var i=this._nodeWithLegacyProperties;i._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=M.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=s,e.isMounted=r,e.setState=o,e.replaceState=o,e.forceUpdate=o,e.setProps=a,e.replaceProps=l,j?Object.defineProperties(e,S):e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},N.measureMethods(w,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),B(w.prototype,w.Mixin,D.Mixin),t.exports=w},{10:10,11:11,117:117,121:121,133:133,138:138,139:139,144:144,15:15,161:161,166:166,171:171,173:173,2:2,24:24,28:28,35:35,41:41,46:46,47:47,48:48,5:5,52:52,72:72,73:73,78:78,95:95}],43:[function(e,t,i){"use strict";function n(e){return s.createFactory(e)}var s=(e(57),e(58)),r=e(167),o=r({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},n);t.exports=o},{167:167,57:57,58:58}],44:[function(e,t,i){"use strict";var n={useCreateElement:!1};t.exports=n},{}],45:[function(e,t,i){"use strict";var n=e(9),s=e(11),r=e(72),o=e(78),a=e(161),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(e,t,i){var n=r.getNode(e);l.hasOwnProperty(t)?a(!1,"updatePropertyByID(...): %s",l[t]):void 0,null!=i?s.setValueForProperty(n,t,i):s.deleteValueForProperty(n,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var i=r.getNode(e);n.dangerouslyReplaceNodeWithMarkup(i,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var i=0;i<e.length;i++)e[i].parentNode=r.getNode(e[i].parentID);n.processUpdates(e,t)}};o.measureMethods(u,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=u},{11:11,161:161,72:72,78:78,9:9}],46:[function(e,t,i){"use strict";function n(){this._rootNodeID&&p.updateWrapper(this)}function s(e){var t=this._currentElement.props,i=o.executeOnChange(t,e);l.asap(n,this);var s=t.name;if("radio"===t.type&&null!=s){for(var r=a.getNode(this._rootNodeID),u=r;u.parentNode;)u=u.parentNode;for(var p=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),d=0;d<p.length;d++){var f=p[d];if(f!==r&&f.form===r.form){var m=a.getID(f);m?void 0:c(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var g=h[m];g?void 0:c(!1,"ReactDOMInput: Unknown radio button ID %s.",m),l.asap(n,g)}}}return i}var r=e(45),o=e(23),a=e(72),l=e(96),u=e(24),c=e(161),h={},p={getNativeProps:function(e,t,i){var n=o.getValue(t),s=o.getChecked(t),r=u({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=s?s:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){o.checkPropTypes("input",t,e._currentElement._owner);var i=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=i?i:null,onChange:s.bind(e)}},mountReadyWrapper:function(e){h[e._rootNodeID]=e},unmountWrapper:function(e){delete h[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,i=t.checked;null!=i&&r.updatePropertyByID(e._rootNodeID,"checked",i||!1);var n=o.getValue(t);null!=n&&r.updatePropertyByID(e._rootNodeID,"value",""+n)}};t.exports=p},{161:161,23:23,24:24,45:45,72:72,96:96}],47:[function(e,t,i){"use strict";var n=e(32),s=e(48),r=e(24),o=e(173),a=s.valueContextKey,l={mountWrapper:function(e,t,i){o(null==t.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.");var n=i[a],s=null;if(null!=n)if(s=!1,Array.isArray(n)){for(var r=0;r<n.length;r++)if(""+n[r]==""+t.value){s=!0;break}}else s=""+n==""+t.value;e._wrapperState={selected:s}},getNativeProps:function(e,t,i){var s=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(s.selected=e._wrapperState.selected);var a="";return n.forEach(t.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e?a+=e:o(!1,"Only strings and numbers are supported as <option> children."))}),s.children=a,s}};t.exports=l},{173:173,24:24,32:32,48:48}],48:[function(e,t,i){"use strict";function n(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=l.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function s(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function r(e,t){var i=e._currentElement._owner;l.checkPropTypes("select",t,i);for(var n=0;n<f.length;n++){var r=f[n];null!=t[r]&&(t.multiple?p(Array.isArray(t[r]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",r,s(i)):p(!Array.isArray(t[r]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",r,s(i)))}}function o(e,t,i){var n,s,r=u.getNode(e._rootNodeID).options;if(t){for(n={},s=0;s<i.length;s++)n[""+i[s]]=!0;for(s=0;s<r.length;s++){var o=n.hasOwnProperty(r[s].value);r[s].selected!==o&&(r[s].selected=o)}}else{for(n=""+i,s=0;s<r.length;s++)if(r[s].value===n)return void(r[s].selected=!0);r.length&&(r[0].selected=!0)}}function a(e){var t=this._currentElement.props,i=l.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,c.asap(n,this),i}var l=e(23),u=e(72),c=e(96),h=e(24),p=e(173),d="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),f=["value","defaultValue"],m={valueContextKey:d,getNativeProps:function(e,t,i){return h({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){r(e,t);var i=l.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=i?i:t.defaultValue,onChange:a.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,i){var n=h({},i);return n[d]=e._wrapperState.initialValue,n},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var i=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var n=l.getValue(t);null!=n?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),n)):i!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=m},{173:173,23:23,24:24,72:72,96:96}],49:[function(e,t,i){"use strict";function n(e,t,i,n){return e===i&&t===n}function s(e){var t=document.selection,i=t.createRange(),n=i.text.length,s=i.duplicate();s.moveToElementText(e),s.setEndPoint("EndToStart",i);var r=s.text.length,o=r+n;return{start:r,end:o}}function r(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var i=t.anchorNode,s=t.anchorOffset,r=t.focusNode,o=t.focusOffset,a=t.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(l){return null}var u=n(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=u?0:a.toString().length,h=a.cloneRange();h.selectNodeContents(e),h.setEnd(a.startContainer,a.startOffset);var p=n(h.startContainer,h.startOffset,h.endContainer,h.endOffset),d=p?0:h.toString().length,f=d+c,m=document.createRange();m.setStart(i,s),m.setEnd(r,o);var g=m.collapsed;return{start:g?f:d,end:g?d:f}}function o(e,t){var i,n,s=document.selection.createRange().duplicate();"undefined"==typeof t.end?(i=t.start,n=i):t.start>t.end?(i=t.end,n=t.start):(i=t.start,n=t.end),s.moveToElementText(e),s.moveStart("character",i),s.setEndPoint("EndToStart",s),s.moveEnd("character",n-i),s.select()}function a(e,t){if(window.getSelection){var i=window.getSelection(),n=e[c()].length,s=Math.min(t.start,n),r="undefined"==typeof t.end?s:Math.min(t.end,n);if(!i.extend&&s>r){var o=r;r=s,s=o}var a=u(e,s),l=u(e,r);if(a&&l){var h=document.createRange();h.setStart(a.node,a.offset),i.removeAllRanges(),s>r?(i.addRange(h),i.extend(l.node,l.offset)):(h.setEnd(l.node,l.offset),i.addRange(h))}}}var l=e(147),u=e(130),c=e(131),h=l.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:h?s:r,setOffsets:h?o:a};t.exports=p},{130:130,131:131,147:147}],50:[function(e,t,i){"use strict";var n=e(54),s=e(88),r=e(97);n.inject();var o={renderToString:s.renderToString,renderToStaticMarkup:s.renderToStaticMarkup,version:r};t.exports=o},{54:54,88:88,97:97}],51:[function(e,t,i){"use strict";var n=e(9),s=e(11),r=e(35),o=e(72),a=e(24),l=e(121),u=e(139),c=e(144),h=function(e){};a(h.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,i){if(i[c.ancestorInfoContextKey]&&c("span",null,i[c.ancestorInfoContextKey]),this._rootNodeID=e,t.useCreateElement){var n=i[o.ownerDocumentContextKey],r=n.createElement("span");return s.setAttributeForID(r,e),o.getID(r),u(r,this._stringText),r}var a=l(this._stringText);return t.renderToStaticMarkup?a:"<span "+s.createMarkupForID(e)+">"+a+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var i=""+e;if(i!==this._stringText){this._stringText=i;var s=o.getNode(this._rootNodeID);n.updateTextContent(s,i)}}},unmountComponent:function(){r.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=h},{11:11,121:121,139:139,144:144,24:24,35:35,72:72,9:9}],52:[function(e,t,i){"use strict";function n(){this._rootNodeID&&h.updateWrapper(this)}function s(e){var t=this._currentElement.props,i=r.executeOnChange(t,e);return a.asap(n,this),i}var r=e(23),o=e(45),a=e(96),l=e(24),u=e(161),c=e(173),h={getNativeProps:function(e,t,i){null!=t.dangerouslySetInnerHTML?u(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):void 0;var n=l({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){r.checkPropTypes("textarea",t,e._currentElement._owner);var i=t.defaultValue,n=t.children;null!=n&&(c(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=i?u(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):void 0,Array.isArray(n)&&(n.length<=1?void 0:u(!1,"<textarea> can only have at most one child."),n=n[0]),i=""+n),null==i&&(i="");var o=r.getValue(t);e._wrapperState={initialValue:""+(null!=o?o:i),onChange:s.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,i=r.getValue(t);null!=i&&o.updatePropertyByID(e._rootNodeID,"value",""+i)}};t.exports=h},{161:161,173:173,23:23,24:24,45:45,96:96}],53:[function(e,t,i){"use strict";function n(){this.reinitializeTransaction()}var s=e(96),r=e(113),o=e(24),a=e(153),l={initialize:a,close:function(){p.isBatchingUpdates=!1}},u={initialize:a,close:s.flushBatchedUpdates.bind(s)},c=[u,l];o(n.prototype,r.Mixin,{getTransactionWrappers:function(){return c}});var h=new n,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,i,n,s,r){var o=p.isBatchingUpdates;p.isBatchingUpdates=!0,o?e(t,i,n,s,r):h.perform(e,null,t,i,n,s,r)}};t.exports=p},{113:113,153:153,24:24,96:96}],54:[function(e,t,i){"use strict";function n(){if(!C){C=!0,v.EventEmitter.injectReactEventListener(g),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginHub.injectInstanceHandle(y),v.EventPluginHub.injectMount(b),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:T,EnterLeaveEventPlugin:l,ChangeEventPlugin:r,SelectEventPlugin:S,BeforeInputEventPlugin:s}),v.NativeComponent.injectGenericComponentClass(f),v.NativeComponent.injectTextComponentClass(m),v.Class.injectMixin(h),v.DOMProperty.injectDOMPropertyConfig(c),v.DOMProperty.injectDOMPropertyConfig(E),v.EmptyComponent.injectEmptyComponent("noscript"),v.Updates.injectReconcileTransaction(w),v.Updates.injectBatchingStrategy(d),v.RootIndex.injectCreateReactRootIndex(u.canUseDOM?o.createReactRootIndex:x.createReactRootIndex),v.Component.injectEnvironment(p);var t=u.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(t)){var i=e(55);i.start()}}}var s=e(3),r=e(7),o=e(8),a=e(13),l=e(14),u=e(147),c=e(21),h=e(27),p=e(35),d=e(53),f=e(42),m=e(51),g=e(63),v=e(65),y=e(67),b=e(72),w=e(83),S=e(99),x=e(100),T=e(101),E=e(98),C=!1;t.exports={inject:n}},{100:100,101:101,13:13,14:14,147:147,21:21,27:27,3:3,35:35,42:42,51:51,53:53,55:55,63:63,65:65,67:67,7:7,72:72,8:8,83:83,98:98,99:99}],55:[function(e,t,i){"use strict";function n(e){return Math.floor(100*e)/100}function s(e,t,i){e[t]=(e[t]||0)+i}var r=e(10),o=e(56),a=e(72),l=e(78),u=e(170),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||l.injection.injectMeasure(c.measure),c._allMeasurements.length=0,l.enableMeasure=!0},stop:function(){l.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(e){e=e||c._allMeasurements;var t=o.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":n(e.inclusive),"Exclusive mount time (ms)":n(e.exclusive),"Exclusive render time (ms)":n(e.render),"Mount time per instance (ms)":n(e.exclusive/e.count),"Render time per instance (ms)":n(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||c._allMeasurements;var t=o.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":n(e.time),Instances:e.count}})),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=o.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(e)),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||c._allMeasurements;var t=o.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[r.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,i,n){var s=c._allMeasurements[c._allMeasurements.length-1].writes;s[e]=s[e]||[],s[e].push({type:t,time:i,args:n})},measure:function(e,t,i){return function(){for(var n=arguments.length,r=Array(n),o=0;n>o;o++)r[o]=arguments[o];var l,h,p;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),p=u(),h=i.apply(this,r),c._allMeasurements[c._allMeasurements.length-1].totalTime=u()-p,h;if("_mountImageIntoNode"===t||"ReactBrowserEventEmitter"===e||"ReactDOMIDOperations"===e||"CSSPropertyOperations"===e||"DOMChildrenOperations"===e||"DOMPropertyOperations"===e){if(p=u(),h=i.apply(this,r),l=u()-p,"_mountImageIntoNode"===t){var d=a.getID(r[1]);c._recordWrite(d,t,l,r[0])}else if("dangerouslyProcessChildrenUpdates"===t)r[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=r[1][e.markupIndex]),c._recordWrite(e.parentID,e.type,l,t)});else{var f=r[0];"object"==typeof f&&(f=a.getID(r[0])),c._recordWrite(f,t,l,Array.prototype.slice.call(r,1))}return h}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return i.apply(this,r);if(this._currentElement.type===a.TopLevelWrapper)return i.apply(this,r);var m="mountComponent"===t?r[0]:this._rootNodeID,g="_renderValidatedComponent"===t,v="mountComponent"===t,y=c._mountStack,b=c._allMeasurements[c._allMeasurements.length-1];if(g?s(b.counts,m,1):v&&(b.created[m]=!0,y.push(0)),p=u(),h=i.apply(this,r),l=u()-p,g)s(b.render,m,l);else if(v){var w=y.pop();y[y.length-1]+=l,s(b.exclusive,m,l-w),s(b.inclusive,m,l)}else s(b.inclusive,m,l);return b.displayNames[m]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},h}}};t.exports=c},{10:10,170:170,56:56,72:72,78:78}],56:[function(e,t,i){"use strict";function n(e){for(var t=0,i=0;i<e.length;i++){var n=e[i];t+=n.totalTime}return t}function s(e){var t=[];return e.forEach(function(e){Object.keys(e.writes).forEach(function(i){e.writes[i].forEach(function(e){t.push({id:i,type:c[e.type]||e.type,args:e.args})})})}),t}function r(e){for(var t,i={},n=0;n<e.length;n++){var s=e[n],r=l({},s.exclusive,s.inclusive);for(var o in r)t=s.displayNames[o].current,i[t]=i[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},s.render[o]&&(i[t].render+=s.render[o]),s.exclusive[o]&&(i[t].exclusive+=s.exclusive[o]),s.inclusive[o]&&(i[t].inclusive+=s.inclusive[o]),s.counts[o]&&(i[t].count+=s.counts[o])}var a=[];for(t in i)i[t].exclusive>=u&&a.push(i[t]);return a.sort(function(e,t){return t.exclusive-e.exclusive}),a}function o(e,t){for(var i,n={},s=0;s<e.length;s++){var r,o=e[s],c=l({},o.exclusive,o.inclusive);t&&(r=a(o));for(var h in c)if(!t||r[h]){var p=o.displayNames[h];i=p.owner+" > "+p.current,n[i]=n[i]||{componentName:i,time:0,count:0},o.inclusive[h]&&(n[i].time+=o.inclusive[h]),o.counts[h]&&(n[i].count+=o.counts[h])}}var d=[];for(i in n)n[i].time>=u&&d.push(n[i]);return d.sort(function(e,t){return t.time-e.time}),d}function a(e){var t={},i=Object.keys(e.writes),n=l({},e.exclusive,e.inclusive);for(var s in n){for(var r=!1,o=0;o<i.length;o++)if(0===i[o].indexOf(s)){r=!0;break}e.created[s]&&(r=!0),!r&&e.counts[s]>0&&(t[s]=!0)}return t}var l=e(24),u=1.2,c={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"},h={getExclusiveSummary:r,getInclusiveSummary:o,getDOMSummary:s,getTotalTime:n};t.exports=h},{24:24}],57:[function(e,t,i){"use strict";var n=e(39),s=e(24),r=e(117),o="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,a={key:!0,ref:!0,__self:!0,__source:!0},l=function(e,t,i,n,s,a,l){var u={$$typeof:o,type:e,key:t,ref:i,props:l,_owner:a};return u._store={},r?(Object.defineProperty(u._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(u,"_self",{configurable:!1,enumerable:!1,writable:!1,value:n}),Object.defineProperty(u,"_source",{configurable:!1,enumerable:!1,writable:!1,value:s})):(u._store.validated=!1,u._self=n,u._source=s),Object.freeze(u.props),Object.freeze(u),u};l.createElement=function(e,t,i){var s,r={},o=null,u=null,c=null,h=null;if(null!=t){u=void 0===t.ref?null:t.ref,o=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,h=void 0===t.__source?null:t.__source;for(s in t)t.hasOwnProperty(s)&&!a.hasOwnProperty(s)&&(r[s]=t[s])}var p=arguments.length-2;if(1===p)r.children=i;else if(p>1){for(var d=Array(p),f=0;p>f;f++)d[f]=arguments[f+2];r.children=d}if(e&&e.defaultProps){var m=e.defaultProps;for(s in m)"undefined"==typeof r[s]&&(r[s]=m[s])}return l(e,o,u,c,h,n.current,r)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){var i=l(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return i},l.cloneAndReplaceProps=function(e,t){var i=l(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return i._store.validated=e._store.validated,i},l.cloneElement=function(e,t,i){var r,o=s({},e.props),u=e.key,c=e.ref,h=e._self,p=e._source,d=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,d=n.current),void 0!==t.key&&(u=""+t.key);for(r in t)t.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(o[r]=t[r])}var f=arguments.length-2;if(1===f)o.children=i;else if(f>1){for(var m=Array(f),g=0;f>g;g++)m[g]=arguments[g+2];o.children=m}return l(e.type,u,c,h,p,d,o)},l.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.exports=l},{117:117,24:24,39:39}],58:[function(e,t,i){"use strict";function n(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function s(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var i=r("uniqueKey",e,t);null!==i&&g(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',i.parentOrOwner||"",i.childOwner||"",i.url||"")}}function r(e,t,i){var s=n();if(!s){var r="string"==typeof i?i:i.displayName||i.name;r&&(s=" Check the top-level render call using <"+r+">.")}var o=v[e]||(v[e]={});if(o[s])return null;o[s]=!0;var a={parentOrOwner:s,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(a.childOwner=" It was passed a child from "+t._owner.getName()+"."),a}function o(e,t){if("object"==typeof e)if(Array.isArray(e))for(var i=0;i<e.length;i++){var n=e[i];u.isValidElement(n)&&s(n,t)}else if(u.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var r=f(e);if(r&&r!==e.entries)for(var o,a=r.call(e);!(o=a.next()).done;)u.isValidElement(o.value)&&s(o.value,t)}}function a(e,t,i,s){for(var r in t)if(t.hasOwnProperty(r)){var o;try{"function"!=typeof t[r]?m(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",h[s],r):void 0,o=t[r](i,r,e,s)}catch(a){o=a}if(g(!o||o instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",e||"React class",h[s],r,typeof o),o instanceof Error&&!(o.message in y)){y[o.message]=!0;var l=n();g(!1,"Failed propType: %s%s",o.message,l)}}}function l(e){var t=e.type;if("function"==typeof t){var i=t.displayName||t.name;t.propTypes&&a(i,t.propTypes,e.props,c.prop),"function"==typeof t.getDefaultProps&&g(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var u=e(57),c=e(81),h=e(80),p=e(39),d=e(117),f=e(129),m=e(161),g=e(173),v={},y={},b={createElement:function(e,t,i){var s="string"==typeof e||"function"==typeof e;g(s,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",n());var r=u.createElement.apply(this,arguments);if(null==r)return r;if(s)for(var a=2;a<arguments.length;a++)o(arguments[a],e);return l(r),r},createFactory:function(e){var t=b.createElement.bind(null,e);return t.type=e,d&&Object.defineProperty(t,"type",{enumerable:!1,get:function(){return g(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},cloneElement:function(e,t,i){for(var n=u.cloneElement.apply(this,arguments),s=2;s<arguments.length;s++)o(arguments[s],n.type);return l(n),n}};t.exports=b},{117:117,129:129,161:161,173:173,39:39,57:57,80:80,81:81}],59:[function(e,t,i){"use strict";var n,s=e(57),r=e(60),o=e(84),a=e(24),l={injectEmptyComponent:function(e){n=s.createElement(e)}},u=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(n)};a(u.prototype,{construct:function(e){},mountComponent:function(e,t,i){return r.registerNullComponentID(e),this._rootNodeID=e,o.mountComponent(this._renderedComponent,e,t,i)},receiveComponent:function(){},unmountComponent:function(e,t,i){o.unmountComponent(this._renderedComponent),r.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),u.injection=l,t.exports=u},{24:24,57:57,60:60,84:84}],60:[function(e,t,i){"use strict";function n(e){return!!o[e]}function s(e){o[e]=!0}function r(e){delete o[e]}var o={},a={isNullComponentID:n,registerNullComponentID:s,deregisterNullComponentID:r};t.exports=a},{}],61:[function(e,t,i){"use strict";function n(e,t,i,n){try{return t(i,n)}catch(r){return void(null===s&&(s=r))}}var s=null,r={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(s){var e=s;throw s=null,e}}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var o=document.createElement("react");r.invokeGuardedCallback=function(e,t,i,n){var s=t.bind(null,i,n),r="react-"+e;o.addEventListener(r,s,!1);var a=document.createEvent("Event");
a.initEvent(r,!1,!1),o.dispatchEvent(a),o.removeEventListener(r,s,!1)}}t.exports=r},{}],62:[function(e,t,i){"use strict";function n(e){s.enqueueEvents(e),s.processEventQueue(!1)}var s=e(16),r={handleTopLevel:function(e,t,i,r,o){var a=s.extractEvents(e,t,i,r,o);n(a)}};t.exports=r},{16:16}],63:[function(e,t,i){"use strict";function n(e){var t=p.getID(e),i=h.getReactRootIDFromNodeID(t),n=p.findReactContainerForID(i),s=p.getFirstReactDOM(n);return s}function s(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function r(e){o(e)}function o(e){for(var t=p.getFirstReactDOM(m(e.nativeEvent))||window,i=t;i;)e.ancestors.push(i),i=n(i);for(var s=0;s<e.ancestors.length;s++){t=e.ancestors[s];var r=p.getID(t)||"";v._handleTopLevel(e.topLevelType,t,r,e.nativeEvent,m(e.nativeEvent))}}function a(e){var t=g(window);e(t)}var l=e(146),u=e(147),c=e(25),h=e(67),p=e(72),d=e(96),f=e(24),m=e(128),g=e(158);f(s.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(s,c.twoArgumentPooler);var v={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){v._handleTopLevel=e},setEnabled:function(e){v._enabled=!!e},isEnabled:function(){return v._enabled},trapBubbledEvent:function(e,t,i){var n=i;return n?l.listen(n,t,v.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,i){var n=i;return n?l.capture(n,t,v.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(v._enabled){var i=s.getPooled(e,t);try{d.batchedUpdates(r,i)}finally{s.release(i)}}}};t.exports=v},{128:128,146:146,147:147,158:158,24:24,25:25,67:67,72:72,96:96}],64:[function(e,t,i){"use strict";var n=e(32),s=e(57),r=e(153),o=e(161),a=e(173),l=/^\d+$/,u=!1,c={create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return a(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(s.isValidElement(e))return a(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;1===e.nodeType?o(!1,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components."):void 0;var t=[];for(var i in e)!u&&l.test(i)&&(a(!1,"React.addons.createFragment(...): Child objects should have non-numeric keys so ordering is preserved."),u=!0),n.mapIntoWithKeyPrefixInternal(e[i],t,i,r.thatReturnsArgument);return t}};t.exports=c},{153:153,161:161,173:173,32:32,57:57}],65:[function(e,t,i){"use strict";var n=e(10),s=e(16),r=e(36),o=e(33),a=e(59),l=e(28),u=e(75),c=e(78),h=e(86),p=e(96),d={Component:r.injection,Class:o.injection,DOMProperty:n.injection,EmptyComponent:a.injection,EventPluginHub:s.injection,EventEmitter:l.injection,NativeComponent:u.injection,Perf:c.injection,RootIndex:h.injection,Updates:p.injection};t.exports=d},{10:10,16:16,28:28,33:33,36:36,59:59,75:75,78:78,86:86,96:96}],66:[function(e,t,i){"use strict";function n(e){return r(document.documentElement,e)}var s=e(49),r=e(150),o=e(155),a=e(156),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=a(),i=e.focusedElem,s=e.selectionRange;t!==i&&n(i)&&(l.hasSelectionCapabilities(i)&&l.setSelection(i,s),o(i))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=document.selection.createRange();i.parentElement()===e&&(t={start:-i.moveStart("character",-e.value.length),end:-i.moveEnd("character",-e.value.length)})}else t=s.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var i=t.start,n=t.end;if("undefined"==typeof n&&(n=i),"selectionStart"in e)e.selectionStart=i,e.selectionEnd=Math.min(n,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var r=e.createTextRange();r.collapse(!0),r.moveStart("character",i),r.moveEnd("character",n-i),r.select()}else s.setOffsets(e,t)}};t.exports=l},{150:150,155:155,156:156,49:49}],67:[function(e,t,i){"use strict";function n(e){return d+e.toString(36)}function s(e,t){return e.charAt(t)===d||t===e.length}function r(e){return""===e||e.charAt(0)===d&&e.charAt(e.length-1)!==d}function o(e,t){return 0===t.indexOf(e)&&s(t,e.length)}function a(e){return e?e.substr(0,e.lastIndexOf(d)):""}function l(e,t){if(r(e)&&r(t)?void 0:p(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,t),o(e,t)?void 0:p(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,t),e===t)return e;var i,n=e.length+f;for(i=n;i<t.length&&!s(t,i);i++);return t.substr(0,i)}function u(e,t){var i=Math.min(e.length,t.length);if(0===i)return"";for(var n=0,o=0;i>=o;o++)if(s(e,o)&&s(t,o))n=o;else if(e.charAt(o)!==t.charAt(o))break;var a=e.substr(0,n);return r(a)?void 0:p(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,t,a),a}function c(e,t,i,n,s,r){e=e||"",t=t||"",e===t?p(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e):void 0;var u=o(t,e);u||o(e,t)?void 0:p(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,t);for(var c=0,h=u?a:l,d=e;;d=h(d,t)){var f;if(s&&d===e||r&&d===t||(f=i(d,u,n)),f===!1||d===t)break;c++<m?void 0:p(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,t,d)}}var h=e(86),p=e(161),d=".",f=d.length,m=1e4,g={createReactRootID:function(){return n(h.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===d&&e.length>1){var t=e.indexOf(d,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,i,n,s){var r=u(e,t);r!==e&&c(e,r,i,n,!1,!0),r!==t&&c(r,t,i,s,!0,!1)},traverseTwoPhase:function(e,t,i){e&&(c("",e,t,i,!0,!1),c(e,"",t,i,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,i){e&&(c("",e,t,i,!0,!0),c(e,"",t,i,!0,!0))},traverseAncestors:function(e,t,i){c("",e,t,i,!0,!1)},getFirstCommonAncestorID:u,_getNextDescendantID:l,isAncestorIDOf:o,SEPARATOR:d};t.exports=g},{161:161,86:86}],68:[function(e,t,i){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=n},{}],69:[function(e,t,i){"use strict";var n=e(32),s=e(34),r=e(33),o=e(43),a=e(57),l=e(58),u=e(82),c=e(97),h=e(24),p=e(135),d=a.createElement,f=a.createFactory,m=a.cloneElement;d=l.createElement,f=l.createFactory,m=l.cloneElement;var g={Children:{map:n.map,forEach:n.forEach,count:n.count,toArray:n.toArray,only:p},Component:s,createElement:d,cloneElement:m,isValidElement:a.isValidElement,PropTypes:u,createClass:r.createClass,createFactory:f,createMixin:function(e){return e},DOM:o,version:c,__spread:h};t.exports=g},{135:135,24:24,32:32,33:33,34:34,43:43,57:57,58:58,82:82,97:97}],70:[function(e,t,i){"use strict";function n(e,t){this.value=e,this.requestChange=t}function s(e){var t={value:"undefined"==typeof e?r.PropTypes.any.isRequired:e.isRequired,requestChange:r.PropTypes.func.isRequired};return r.PropTypes.shape(t)}var r=e(26);n.PropTypes={link:s},t.exports=n},{26:26}],71:[function(e,t,i){"use strict";var n=e(116),s=/\/?>/,r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return e.replace(s," "+r.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var i=t.getAttribute(r.CHECKSUM_ATTR_NAME);i=i&&parseInt(i,10);var s=n(e);return s===i}};t.exports=r},{116:116}],72:[function(e,t,i){"use strict";function n(e,t){for(var i=Math.min(e.length,t.length),n=0;i>n;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length===t.length?-1:i}function s(e){return e?e.nodeType===W?e.documentElement:e.firstChild:null}function r(e){var t=s(e);return t&&ee.getID(t)}function o(e){var t=a(e);if(t)if(q.hasOwnProperty(t)){var i=q[t];i!==e&&(h(i,t)?V(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",H,t):void 0,q[t]=e)}else q[t]=e;return t}function a(e){return e&&e.getAttribute&&e.getAttribute(H)||""}function l(e,t){var i=a(e);i!==t&&delete q[i],e.setAttribute(H,t),q[t]=e}function u(e){return q.hasOwnProperty(e)&&h(q[e],e)||(q[e]=ee.findReactNodeByID(e)),q[e]}function c(e){var t=P.get(e)._rootNodeID;return C.isNullComponentID(t)?null:(q.hasOwnProperty(t)&&h(q[t],t)||(q[t]=ee.findReactNodeByID(t)),q[t])}function h(e,t){if(e){a(e)!==t?V(!1,"ReactMount: Unexpected modification of `%s`",H):void 0;var i=ee.findReactContainerForID(t);if(i&&D(i,e))return!0}return!1}function p(e){delete q[e]}function d(e){var t=q[e];return t&&h(t,e)?void(J=t):!1}function f(e){J=null,A.traverseAncestors(e,d);var t=J;return J=null,t}function m(e,t,i,n,s,r){T.useCreateElement&&(r=L({},r),i.nodeType===W?r[Y]=i:r[Y]=i.ownerDocument),r===M&&(r={});var o=i.nodeName.toLowerCase();r[U.ancestorInfoContextKey]=U.updatedAncestorInfo(null,o,null);var a=k.mountComponent(e,t,n,r);e._renderedComponent._topLevelWrapper=e,ee._mountImageIntoNode(a,i,s,n)}function g(e,t,i,n,s){var r=O.ReactReconcileTransaction.getPooled(n);r.perform(m,null,e,t,i,r,n,s),O.ReactReconcileTransaction.release(r)}function v(e,t){for(k.unmountComponent(e),t.nodeType===W&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function y(e){var t=r(e);return t?t!==A.getReactRootIDFromNodeID(t):!1}function b(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=a(e);if(t){var i,n=A.getReactRootIDFromNodeID(t),s=e;do if(i=a(s),s=s.parentNode,null==s)return null;while(i!==n);if(s===Q[n])return e}}return null}var w=e(10),S=e(28),x=e(39),T=e(44),E=e(57),C=e(60),A=e(67),P=e(68),_=e(71),I=e(78),k=e(84),R=e(95),O=e(96),L=e(24),M=e(154),D=e(150),N=e(132),V=e(161),B=e(138),j=e(141),U=e(144),F=e(173),H=w.ID_ATTRIBUTE_NAME,q={},G=1,W=9,z=11,Y="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),X={},Q={},K={},$=[],J=null,Z=function(){};Z.prototype.isReactComponent={},Z.displayName="TopLevelWrapper",Z.prototype.render=function(){return this.props};var ee={TopLevelWrapper:Z,_instancesByReactRootID:X,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,i,n){return ee.scrollMonitor(i,function(){R.enqueueElementInternal(e,t),n&&R.enqueueCallbackInternal(e,n)}),K[r(i)]=s(i),e},_registerComponent:function(e,t){!t||t.nodeType!==G&&t.nodeType!==W&&t.nodeType!==z?V(!1,"_registerComponent(...): Target container is not a DOM element."):void 0,S.ensureScrollValueMonitoring();var i=ee.registerContainer(t);return X[i]=e,i},_renderNewRootComponent:function(e,t,i,n){F(null==x.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",x.current&&x.current.getName()||"ReactCompositeComponent");var r=N(e,null),o=ee._registerComponent(r,t);return O.batchedUpdates(g,r,o,t,i,n),K[o]=s(t),r},renderSubtreeIntoContainer:function(e,t,i,n){return null==e||null==e._reactInternalInstance?V(!1,"parentComponent must be a valid React Component"):void 0,ee._renderSubtreeIntoContainer(e,t,i,n)},_renderSubtreeIntoContainer:function(e,t,i,n){E.isValidElement(t)?void 0:V(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof t?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof t?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":""),F(!i||!i.tagName||"BODY"!==i.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");var o=new E(Z,null,null,null,null,null,t),l=X[r(i)];if(l){var u=l._currentElement,c=u.props;if(j(c,t)){var h=l._renderedComponent.getPublicInstance(),p=n&&function(){n.call(h)};return ee._updateRootComponent(l,o,i,p),h}ee.unmountComponentAtNode(i)}var d=s(i),f=d&&!!a(d),m=y(i);if(F(!m,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),!f||d.nextSibling)for(var g=d;g;){if(a(g)){F(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}g=g.nextSibling}var v=f&&!l&&!m,b=ee._renderNewRootComponent(o,i,v,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):M)._renderedComponent.getPublicInstance();return n&&n.call(b),b},render:function(e,t,i){return ee._renderSubtreeIntoContainer(null,e,t,i)},registerContainer:function(e){var t=r(e);return t&&(t=A.getReactRootIDFromNodeID(t)),t||(t=A.createReactRootID()),Q[t]=e,t},unmountComponentAtNode:function(e){F(null==x.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",x.current&&x.current.getName()||"ReactCompositeComponent"),!e||e.nodeType!==G&&e.nodeType!==W&&e.nodeType!==z?V(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):void 0;var t=r(e),i=X[t];if(!i){var n=y(e),s=a(e),o=s&&s===A.getReactRootIDFromNodeID(s);return F(!n,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",o?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1}return O.batchedUpdates(v,i,e),delete X[t],delete Q[t],delete K[t],!0},findReactContainerForID:function(e){var t=A.getReactRootIDFromNodeID(e),i=Q[t],n=K[t];if(n&&n.parentNode!==i){F(a(n)===t,"ReactMount: Root element ID differed from reactRootID.");var s=i.firstChild;s&&t===a(s)?K[t]=s:F(!1,"ReactMount: Root element has been removed from its original container. New container: %s",n.parentNode)}return i},findReactNodeByID:function(e){var t=ee.findReactContainerForID(e);return ee.findComponentRoot(t,e)},getFirstReactDOM:function(e){return b(e)},findComponentRoot:function(e,t){var i=$,n=0,s=f(t)||e;for(F(null!=s,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",t),i[0]=s.firstChild,i.length=1;n<i.length;){for(var r,o=i[n++];o;){var a=ee.getID(o);a?t===a?r=o:A.isAncestorIDOf(a,t)&&(i.length=n=0,i.push(o.firstChild)):i.push(o.firstChild),o=o.nextSibling}if(r)return i.length=0,r}i.length=0,V(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,ee.getID(e))},_mountImageIntoNode:function(e,t,i,r){if(!t||t.nodeType!==G&&t.nodeType!==W&&t.nodeType!==z?V(!1,"mountComponentIntoNode(...): Target container is not valid."):void 0,i){var o=s(t);if(_.canReuseMarkup(e,o))return;var a=o.getAttribute(_.CHECKSUM_ATTR_NAME);o.removeAttribute(_.CHECKSUM_ATTR_NAME);var l=o.outerHTML;o.setAttribute(_.CHECKSUM_ATTR_NAME,a);var u,c=e;t.nodeType===G?(u=document.createElement("div"),u.innerHTML=e,c=u.innerHTML):(u=document.createElement("iframe"),document.body.appendChild(u),u.contentDocument.write(e),c=u.contentDocument.documentElement.outerHTML,document.body.removeChild(u));var h=n(c,l),p=" (client) "+c.substring(h-20,h+20)+"\n (server) "+l.substring(h-20,h+20);t.nodeType===W?V(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",p):void 0,F(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",p)}if(t.nodeType===W?V(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):void 0,r.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else B(t,e)},ownerDocumentContextKey:Y,getReactRootID:r,getID:o,setID:l,getNode:u,getNodeFromInstance:c,isValid:h,purgeID:p};I.measureMethods(ee,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=ee},{10:10,132:132,138:138,141:141,144:144,150:150,154:154,161:161,173:173,24:24,28:28,39:39,44:44,57:57,60:60,67:67,68:68,71:71,78:78,84:84,95:95,96:96}],73:[function(e,t,i){"use strict";function n(e,t,i){v.push({parentID:e,parentNode:null,type:h.INSERT_MARKUP,markupIndex:y.push(t)-1,content:null,fromIndex:null,toIndex:i})}function s(e,t,i){v.push({parentID:e,parentNode:null,type:h.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:i})}function r(e,t){v.push({parentID:e,parentNode:null,type:h.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function o(e,t){v.push({parentID:e,parentNode:null,type:h.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function a(e,t){v.push({parentID:e,parentNode:null,type:h.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function l(){v.length&&(c.processChildrenUpdates(v,y),u())}function u(){v.length=0,y.length=0}var c=e(36),h=e(74),p=e(39),d=e(84),f=e(31),m=e(123),g=0,v=[],y=[],b={Mixin:{_reconcilerInstantiateChildren:function(e,t,i){if(this._currentElement)try{return p.current=this._currentElement._owner,f.instantiateChildren(e,t,i)}finally{p.current=null}return f.instantiateChildren(e,t,i)},_reconcilerUpdateChildren:function(e,t,i,n){var s;if(this._currentElement){try{p.current=this._currentElement._owner,s=m(t)}finally{p.current=null}return f.updateChildren(e,s,i,n)}return s=m(t),f.updateChildren(e,s,i,n)},mountChildren:function(e,t,i){var n=this._reconcilerInstantiateChildren(e,t,i);this._renderedChildren=n;var s=[],r=0;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o],l=this._rootNodeID+o,u=d.mountComponent(a,l,t,i);a._mountIndex=r++,s.push(u)}return s},updateTextContent:function(e){g++;var t=!0;try{var i=this._renderedChildren;f.unmountChildren(i);for(var n in i)i.hasOwnProperty(n)&&this._unmountChild(i[n]);this.setTextContent(e),t=!1}finally{g--,g||(t?u():l())}},updateMarkup:function(e){g++;var t=!0;try{var i=this._renderedChildren;f.unmountChildren(i);for(var n in i)i.hasOwnProperty(n)&&this._unmountChildByName(i[n],n);this.setMarkup(e),t=!1}finally{g--,g||(t?u():l())}},updateChildren:function(e,t,i){g++;var n=!0;try{this._updateChildren(e,t,i),n=!1}finally{g--,g||(n?u():l())}},_updateChildren:function(e,t,i){var n=this._renderedChildren,s=this._reconcilerUpdateChildren(n,e,t,i);if(this._renderedChildren=s,s||n){var r,o=0,a=0;for(r in s)if(s.hasOwnProperty(r)){var l=n&&n[r],u=s[r];l===u?(this.moveChild(l,a,o),o=Math.max(l._mountIndex,o),l._mountIndex=a):(l&&(o=Math.max(l._mountIndex,o),this._unmountChild(l)),this._mountChildByNameAtIndex(u,r,a,t,i)),a++}for(r in n)!n.hasOwnProperty(r)||s&&s.hasOwnProperty(r)||this._unmountChild(n[r])}},unmountChildren:function(){var e=this._renderedChildren;f.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,i){e._mountIndex<i&&s(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){n(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){r(this._rootNodeID,e._mountIndex)},setTextContent:function(e){a(this._rootNodeID,e)},setMarkup:function(e){o(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,i,n,s){var r=this._rootNodeID+t,o=d.mountComponent(e,r,n,s);e._mountIndex=i,this.createChild(e,o)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};t.exports=b},{123:123,31:31,36:36,39:39,74:74,84:84}],74:[function(e,t,i){"use strict";var n=e(165),s=n({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=s},{165:165}],75:[function(e,t,i){"use strict";function n(e){if("function"==typeof e.type)return e.type;var t=e.type,i=h[t];return null==i&&(h[t]=i=u(t)),i}function s(e){return c?void 0:l(!1,"There is no registered component for the tag %s",e.type),new c(e.type,e.props)}function r(e){return new p(e)}function o(e){return e instanceof p}var a=e(24),l=e(161),u=null,c=null,h={},p=null,d={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){p=e},injectComponentClasses:function(e){a(h,e)}},f={getComponentClassForElement:n,createInternalComponent:s,createInstanceForText:r,isTextComponent:o,injection:d};t.exports=f},{161:161,24:24}],76:[function(e,t,i){"use strict";function n(e,t){s(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor&&e.constructor.displayName||"")}var s=e(173),r={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){n(e,"forceUpdate")},enqueueReplaceState:function(e,t){n(e,"replaceState")},enqueueSetState:function(e,t){n(e,"setState")},enqueueSetProps:function(e,t){n(e,"setProps")},enqueueReplaceProps:function(e,t){n(e,"replaceProps")}};t.exports=r},{173:173}],77:[function(e,t,i){"use strict";var n=e(161),s={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,i){s.isValidOwner(i)?void 0:n(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),i.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,i){s.isValidOwner(i)?void 0:n(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),i.getPublicInstance().refs[t]===e.getPublicInstance()&&i.detachRef(t)}};t.exports=s},{161:161}],78:[function(e,t,i){"use strict";function n(e,t,i){return i}var s={enableMeasure:!1,storedMeasure:n,measureMethods:function(e,t,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=s.measure(t,i[n],e[n]))},measure:function(e,t,i){var n=null,r=function(){return s.enableMeasure?(n||(n=s.storedMeasure(e,t,i)),n.apply(this,arguments)):i.apply(this,arguments)};return r.displayName=e+"_"+t,r},injection:{injectMeasure:function(e){s.storedMeasure=e}}};t.exports=s},{}],79:[function(e,t,i){"use strict";function n(e){return function(t,i,n){t.hasOwnProperty(i)?t[i]=e(t[i],n):t[i]=n}}function s(e,t){for(var i in t)if(t.hasOwnProperty(i)){var n=u[i];n&&u.hasOwnProperty(i)?n(e,i,t[i]):e.hasOwnProperty(i)||(e[i]=t[i])}return e}var r=e(24),o=e(153),a=e(164),l=n(function(e,t){return r({},t,e)}),u={children:o,className:n(a),style:l},c={mergeProps:function(e,t){return s(r({},e),t)}};t.exports=c},{153:153,164:164,24:24}],80:[function(e,t,i){"use strict";var n={};n={prop:"prop",context:"context",childContext:"child context"},t.exports=n},{}],81:[function(e,t,i){"use strict";var n=e(165),s=n({prop:null,context:null,childContext:null});t.exports=s},{165:165}],82:[function(e,t,i){"use strict";function n(e){function t(t,i,n,s,r,o){if(s=s||x,o=o||n,null==i[n]){var a=b[r];return t?new Error("Required "+a+" `"+o+"` was not specified in "+("`"+s+"`.")):null}return e(i,n,s,r,o)}var i=t.bind(null,!1);return i.isRequired=t.bind(null,!0),i}function s(e){function t(t,i,n,s,r){var o=t[i],a=m(o);if(a!==e){var l=b[s],u=g(o);return new Error("Invalid "+l+" `"+r+"` of type "+("`"+u+"` supplied to `"+n+"`, expected ")+("`"+e+"`."))}return null}return n(t)}function r(){return n(w.thatReturns(null))}function o(e){function t(t,i,n,s,r){var o=t[i];if(!Array.isArray(o)){var a=b[s],l=m(o);return new Error("Invalid "+a+" `"+r+"` of type "+("`"+l+"` supplied to `"+n+"`, expected an array."))}for(var u=0;u<o.length;u++){var c=e(o,u,n,s,r+"["+u+"]");if(c instanceof Error)return c}return null}return n(t)}function a(){function e(e,t,i,n,s){if(!y.isValidElement(e[t])){var r=b[n];return new Error("Invalid "+r+" `"+s+"` supplied to "+("`"+i+"`, expected a single ReactElement."))}return null}return n(e)}function l(e){function t(t,i,n,s,r){if(!(t[i]instanceof e)){var o=b[s],a=e.name||x,l=v(t[i]);return new Error("Invalid "+o+" `"+r+"` of type "+("`"+l+"` supplied to `"+n+"`, expected ")+("instance of `"+a+"`."))}return null}return n(t)}function u(e){function t(t,i,n,s,r){for(var o=t[i],a=0;a<e.length;a++)if(o===e[a])return null;var l=b[s],u=JSON.stringify(e);return new Error("Invalid "+l+" `"+r+"` of value `"+o+"` "+("supplied to `"+n+"`, expected one of "+u+"."))}return n(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function c(e){function t(t,i,n,s,r){var o=t[i],a=m(o);if("object"!==a){var l=b[s];return new Error("Invalid "+l+" `"+r+"` of type "+("`"+a+"` supplied to `"+n+"`, expected an object."))}for(var u in o)if(o.hasOwnProperty(u)){var c=e(o,u,n,s,r+"."+u);if(c instanceof Error)return c}return null}return n(t)}function h(e){function t(t,i,n,s,r){for(var o=0;o<e.length;o++){var a=e[o];if(null==a(t,i,n,s,r))return null}var l=b[s];return new Error("Invalid "+l+" `"+r+"` supplied to "+("`"+n+"`."))}return n(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function p(){function e(e,t,i,n,s){if(!f(e[t])){var r=b[n];return new Error("Invalid "+r+" `"+s+"` supplied to "+("`"+i+"`, expected a ReactNode."))}return null}return n(e)}function d(e){function t(t,i,n,s,r){var o=t[i],a=m(o);if("object"!==a){var l=b[s];return new Error("Invalid "+l+" `"+r+"` of type `"+a+"` "+("supplied to `"+n+"`, expected `object`."))}for(var u in e){var c=e[u];if(c){var h=c(o,u,n,s,r+"."+u);if(h)return h}}return null}return n(t)}function f(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(f);if(null===e||y.isValidElement(e))return!0;var t=S(e);if(!t)return!1;var i,n=t.call(e);if(t!==e.entries){for(;!(i=n.next()).done;)if(!f(i.value))return!1}else for(;!(i=n.next()).done;){var s=i.value;if(s&&!f(s[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function v(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var y=e(57),b=e(80),w=e(153),S=e(129),x="<<anonymous>>",T={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),any:r(),arrayOf:o,element:a(),instanceOf:l,node:p(),objectOf:c,oneOf:u,oneOfType:h,shape:d};t.exports=T},{129:129,153:153,57:57,80:80}],83:[function(e,t,i){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=s.getPooled(null),this.useCreateElement=!e&&a.useCreateElement}var s=e(6),r=e(25),o=e(28),a=e(44),l=e(66),u=e(113),c=e(24),h={initialize:l.getSelectionInformation,close:l.restoreSelection},p={initialize:function(){var e=o.isEnabled();return o.setEnabled(!1),e},close:function(e){o.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[h,p,d],m={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},destructor:function(){s.release(this.reactMountReady),this.reactMountReady=null}};c(n.prototype,u.Mixin,m),r.addPoolingTo(n),t.exports=n},{113:113,24:24,25:25,28:28,44:44,6:6,66:66}],84:[function(e,t,i){"use strict";function n(){s.attachRefs(this,this._currentElement)}var s=e(85),r={mountComponent:function(e,t,i,s){var r=e.mountComponent(t,i,s);return e._currentElement&&null!=e._currentElement.ref&&i.getReactMountReady().enqueue(n,e),r},unmountComponent:function(e){s.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,i,r){var o=e._currentElement;if(t!==o||r!==e._context){var a=s.shouldUpdateRefs(o,t);a&&s.detachRefs(e,o),e.receiveComponent(t,i,r),a&&e._currentElement&&null!=e._currentElement.ref&&i.getReactMountReady().enqueue(n,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};t.exports=r},{85:85}],85:[function(e,t,i){"use strict";function n(e,t,i){"function"==typeof e?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,i)}function s(e,t,i){"function"==typeof e?e(null):r.removeComponentAsRefFrom(t,e,i)}var r=e(77),o={};o.attachRefs=function(e,t){if(null!==t&&t!==!1){var i=t.ref;null!=i&&n(i,e,t._owner)}},o.shouldUpdateRefs=function(e,t){var i=null===e||e===!1,n=null===t||t===!1;return i||n||t._owner!==e._owner||t.ref!==e.ref},o.detachRefs=function(e,t){if(null!==t&&t!==!1){var i=t.ref;null!=i&&s(i,e,t._owner)}},t.exports=o},{77:77}],86:[function(e,t,i){"use strict";var n={injectCreateReactRootIndex:function(e){s.createReactRootIndex=e}},s={createReactRootIndex:null,injection:n};t.exports=s},{}],87:[function(e,t,i){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(e){}};t.exports=n},{}],88:[function(e,t,i){"use strict";function n(e){o.isValidElement(e)?void 0:f(!1,"renderToString(): You must pass a valid ReactElement.");var t;try{h.injection.injectBatchingStrategy(u);var i=a.createReactRootID();return t=c.getPooled(!1),t.perform(function(){var n=d(e,null),s=n.mountComponent(i,t,p);return l.addChecksumToMarkup(s)},null)}finally{c.release(t),h.injection.injectBatchingStrategy(r)}}function s(e){o.isValidElement(e)?void 0:f(!1,"renderToStaticMarkup(): You must pass a valid ReactElement.");var t;try{h.injection.injectBatchingStrategy(u);var i=a.createReactRootID();return t=c.getPooled(!0),t.perform(function(){var n=d(e,null);return n.mountComponent(i,t,p)},null)}finally{c.release(t),h.injection.injectBatchingStrategy(r)}}var r=e(53),o=e(57),a=e(67),l=e(71),u=e(87),c=e(89),h=e(96),p=e(154),d=e(132),f=e(161);
t.exports={renderToString:n,renderToStaticMarkup:s}},{132:132,154:154,161:161,53:53,57:57,67:67,71:71,87:87,89:89,96:96}],89:[function(e,t,i){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=r.getPooled(null),this.useCreateElement=!1}var s=e(25),r=e(6),o=e(113),a=e(24),l=e(153),u={initialize:function(){this.reactMountReady.reset()},close:l},c=[u],h={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};a(n.prototype,o.Mixin,h),s.addPoolingTo(n),t.exports=n},{113:113,153:153,24:24,25:25,6:6}],90:[function(e,t,i){"use strict";function n(e,t){var i={};return function(n){i[t]=n,e.setState(i)}}var s={createStateSetter:function(e,t){return function(i,n,s,r,o,a){var l=t.call(e,i,n,s,r,o,a);l&&e.setState(l)}},createStateKeySetter:function(e,t){var i=e.__keySetters||(e.__keySetters={});return i[t]||(i[t]=n(e,t))}};s.Mixin={createStateSetter:function(e){return s.createStateSetter(this,e)},createStateKeySetter:function(e){return s.createStateKeySetter(this,e)}},t.exports=s},{}],91:[function(e,t,i){"use strict";function n(e){}function s(e,t){if(!e||!e.getPublicInstance)return[];var i=e.getPublicInstance(),n=t(i)?[i]:[],r=e._currentElement;if(A.isDOMComponent(i)){var o,a=e._renderedChildren;for(o in a)a.hasOwnProperty(o)&&(n=n.concat(s(a[o],t)))}else d.isValidElement(r)&&"function"==typeof r.type&&(n=n.concat(s(e._renderedComponent,t)));return n}function r(e){return function(t,i){var s;A.isDOMComponent(t)?s=T(t):t.tagName&&(s=t);var r=f.eventNameDispatchConfigs[e],o=new n;o.target=s;var a=new w(r,y.getID(s),o,s);S(a,i),r.phasedRegistrationNames?c.accumulateTwoPhaseDispatches(a):c.accumulateDirectDispatches(a),b.batchedUpdates(function(){u.enqueueEvents(a),u.processEventQueue(!0)})}}function o(){A.Simulate={};var e;for(e in f.eventNameDispatchConfigs)A.Simulate[e]=r(e)}function a(e){return function(t,i){var s=new n(e);S(s,i),A.isDOMComponent(t)?A.simulateNativeEventOnDOMComponent(e,t,s):t.tagName&&A.simulateNativeEventOnNode(e,t,s)}}var l=e(15),u=e(16),c=e(19),h=e(26),p=e(40),d=e(57),f=e(28),m=e(38),g=e(67),v=e(68),y=e(72),b=e(96),w=e(105),S=e(24),x=e(154),T=e(122),E=e(161),C=l.topLevelTypes,A={renderIntoDocument:function(e){var t=document.createElement("div");return p.render(e,t)},isElement:function(e){return d.isValidElement(e)},isElementOfType:function(e,t){return d.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!(!e||1!==e.nodeType||!e.tagName)},isDOMComponentElement:function(e){return!!(e&&d.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return A.isDOMComponent(e)?!1:null!=e&&"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentWithType:function(e,t){if(!A.isCompositeComponent(e))return!1;var i=v.get(e),n=i._currentElement.type;return n===t},isCompositeComponentElement:function(e){if(!d.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){var i=v.get(e),n=i._currentElement.type;return!(!A.isCompositeComponentElement(e)||n!==t)},getRenderedChildOfCompositeComponent:function(e){if(!A.isCompositeComponent(e))return null;var t=v.get(e);return t._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(e,t){return e?(A.isCompositeComponent(e)?void 0:E(!1,"findAllInRenderedTree(...): instance must be a composite component"),s(v.get(e),t)):[]},scryRenderedDOMComponentsWithClass:function(e,t){return Array.isArray(t)||(t=t.split(/\s+/)),A.findAllInRenderedTree(e,function(e){if(A.isDOMComponent(e)){var i=e.className;"string"!=typeof i&&(i=e.getAttribute("class")||"");var n=i.split(/\s+/);return t.every(function(e){return-1!==n.indexOf(e)})}return!1})},findRenderedDOMComponentWithClass:function(e,t){var i=A.scryRenderedDOMComponentsWithClass(e,t);if(1!==i.length)throw new Error("Did not find exactly one match (found: "+i.length+") for class:"+t);return i[0]},scryRenderedDOMComponentsWithTag:function(e,t){return A.findAllInRenderedTree(e,function(e){return A.isDOMComponent(e)&&e.tagName.toUpperCase()===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var i=A.scryRenderedDOMComponentsWithTag(e,t);if(1!==i.length)throw new Error("Did not find exactly one match for tag:"+t);return i[0]},scryRenderedComponentsWithType:function(e,t){return A.findAllInRenderedTree(e,function(e){return A.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var i=A.scryRenderedComponentsWithType(e,t);if(1!==i.length)throw new Error("Did not find exactly one match for componentType:"+t+" (found "+i.length+")");return i[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return h.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,i){i.target=t,f.ReactEventListener.dispatchEvent(e,i)},simulateNativeEventOnDOMComponent:function(e,t,i){A.simulateNativeEventOnNode(e,T(t),i)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new P},Simulate:null,SimulateNative:{}},P=function(){this._instance=null};P.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var _=function(e){this._renderedOutput=e,this._currentElement=e};_.prototype={mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=e},unmountComponent:function(){},getPublicInstance:function(){return null}};var I=function(){};S(I.prototype,m.Mixin,{_instantiateReactComponent:function(e){return new _(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:m.Mixin._renderValidatedComponentWithoutOwnerOrContext}),P.prototype.render=function(e,t){d.isValidElement(e)?void 0:E(!1,"ReactShallowRenderer render(): Invalid component element.%s","function"==typeof e?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":""),"string"==typeof e.type?E(!1,"ReactShallowRenderer render(): Shallow rendering works only with custom components, not primitives (%s). Instead of calling `.render(el)` and inspecting the rendered output, look at `el.props` directly instead.",e.type):void 0,t||(t=x);var i=b.ReactReconcileTransaction.getPooled(!1);this._render(e,i,t),b.ReactReconcileTransaction.release(i)},P.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},P.prototype._render=function(e,t,i){if(this._instance)this._instance.receiveComponent(e,t,i);else{var n=g.createReactRootID(),s=new I(e.type);s.construct(e),s.mountComponent(n,t,i),this._instance=s}};var k=u.injection.injectEventPluginOrder;u.injection.injectEventPluginOrder=function(){k.apply(this,arguments),o()};var R=u.injection.injectEventPluginsByName;u.injection.injectEventPluginsByName=function(){R.apply(this,arguments),o()},o(),Object.keys(C).forEach(function(e){var t=0===e.indexOf("top")?e.charAt(3).toLowerCase()+e.substr(4):e;A.SimulateNative[t]=a(e)}),t.exports=A},{105:105,122:122,15:15,154:154,16:16,161:161,19:19,24:24,26:26,28:28,38:38,40:40,57:57,67:67,68:68,72:72,96:96}],92:[function(e,t,i){"use strict";var n=e(123),s={getChildMapping:function(e){return e?n(e):e},mergeChildMappings:function(e,t){function i(i){return t.hasOwnProperty(i)?t[i]:e[i]}e=e||{},t=t||{};var n={},s=[];for(var r in e)t.hasOwnProperty(r)?s.length&&(n[r]=s,s=[]):s.push(r);var o,a={};for(var l in t){if(n.hasOwnProperty(l))for(o=0;o<n[l].length;o++){var u=n[l][o];a[n[l][o]]=i(u)}a[l]=i(l)}for(o=0;o<s.length;o++)a[s[o]]=i(s[o]);return a}};t.exports=s},{123:123}],93:[function(e,t,i){"use strict";function n(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var i in a){var n=a[i];for(var s in n)if(s in t){l.push(n[s]);break}}}function s(e,t,i){e.addEventListener(t,i,!1)}function r(e,t,i){e.removeEventListener(t,i,!1)}var o=e(147),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},l=[];o.canUseDOM&&n();var u={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(i){s(e,i,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(i){r(e,i,t)})}};t.exports=u},{147:147}],94:[function(e,t,i){"use strict";var n=e(26),s=e(92),r=e(24),o=e(153),a=n.createClass({displayName:"ReactTransitionGroup",propTypes:{component:n.PropTypes.any,childFactory:n.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:o.thatReturnsArgument}},getInitialState:function(){return{children:s.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=s.getChildMapping(e.children),i=this.state.children;this.setState({children:s.mergeChildMappings(i,t)});var n;for(n in t){var r=i&&i.hasOwnProperty(n);!t[n]||r||this.currentlyTransitioningKeys[n]||this.keysToEnter.push(n)}for(n in i){var o=t&&t.hasOwnProperty(n);!i[n]||o||this.currentlyTransitioningKeys[n]||this.keysToLeave.push(n)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var i=s.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var i=s.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var i=s.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var i=r({},t.children);return delete i[e],{children:i}})},render:function(){var e=[];for(var t in this.state.children){var i=this.state.children[t];i&&e.push(n.cloneElement(this.props.childFactory(i),{ref:t,key:t}))}return n.createElement(this.props.component,this.props,e)}});t.exports=a},{153:153,24:24,26:26,92:92}],95:[function(e,t,i){"use strict";function n(e){l.enqueueUpdate(e)}function s(e,t){var i=a.get(e);return i?(h(null==r.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",t),i):(h(!t,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor.displayName),null)}var r=e(39),o=e(57),a=e(68),l=e(96),u=e(24),c=e(161),h=e(173),p={isMounted:function(e){var t=r.current;null!==t&&(h(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0);var i=a.get(e);return i?!!i._renderedComponent:!1},enqueueCallback:function(e,t){"function"!=typeof t?c(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):void 0;var i=s(e);return i?(i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],void n(i)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t?c(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):void 0,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],n(e)},enqueueForceUpdate:function(e){var t=s(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,n(t))},enqueueReplaceState:function(e,t){var i=s(e,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,n(i))},enqueueSetState:function(e,t){var i=s(e,"setState");if(i){var r=i._pendingStateQueue||(i._pendingStateQueue=[]);r.push(t),n(i)}},enqueueSetProps:function(e,t){var i=s(e,"setProps");i&&p.enqueueSetPropsInternal(i,t)},enqueueSetPropsInternal:function(e,t){var i=e._topLevelWrapper;i?void 0:c(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var s=i._pendingElement||i._currentElement,r=s.props,a=u({},r.props,t);i._pendingElement=o.cloneAndReplaceProps(s,o.cloneAndReplaceProps(r,a)),n(i)},enqueueReplaceProps:function(e,t){var i=s(e,"replaceProps");i&&p.enqueueReplacePropsInternal(i,t)},enqueueReplacePropsInternal:function(e,t){var i=e._topLevelWrapper;i?void 0:c(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var s=i._pendingElement||i._currentElement,r=s.props;i._pendingElement=o.cloneAndReplaceProps(s,o.cloneAndReplaceProps(r,t)),n(i)},enqueueElementInternal:function(e,t){e._pendingElement=t,n(e)}};t.exports=p},{161:161,173:173,24:24,39:39,57:57,68:68,96:96}],96:[function(e,t,i){"use strict";function n(){A.ReactReconcileTransaction&&w?void 0:g(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function s(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=A.ReactReconcileTransaction.getPooled(!1)}function r(e,t,i,s,r,o){n(),w.batchedUpdates(e,t,i,s,r,o)}function o(e,t){return e._mountOrder-t._mountOrder}function a(e){var t=e.dirtyComponentsLength;t!==v.length?g(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,v.length):void 0,v.sort(o);for(var i=0;t>i;i++){var n=v[i],s=n._pendingCallbacks;if(n._pendingCallbacks=null,d.performUpdateIfNecessary(n,e.reconcileTransaction),s)for(var r=0;r<s.length;r++)e.callbackQueue.enqueue(s[r],n.getPublicInstance())}}function l(e){return n(),w.isBatchingUpdates?void v.push(e):void w.batchedUpdates(l,e)}function u(e,t){w.isBatchingUpdates?void 0:g(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),y.enqueue(e,t),b=!0}var c=e(6),h=e(25),p=e(78),d=e(84),f=e(113),m=e(24),g=e(161),v=[],y=c.getPooled(),b=!1,w=null,S={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),E()):v.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},T=[S,x];m(s.prototype,f.Mixin,{getTransactionWrappers:function(){return T},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,A.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,i){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,i)}}),h.addPoolingTo(s);var E=function(){for(;v.length||b;){if(v.length){var e=s.getPooled();e.perform(a,null,e),s.release(e)}if(b){b=!1;var t=y;y=c.getPooled(),t.notifyAll(),c.release(t)}}};E=p.measure("ReactUpdates","flushBatchedUpdates",E);var C={injectReconcileTransaction:function(e){e?void 0:g(!1,"ReactUpdates: must provide a reconcile transaction class"),A.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:g(!1,"ReactUpdates: must provide a batching strategy"),"function"!=typeof e.batchedUpdates?g(!1,"ReactUpdates: must provide a batchedUpdates() function"):void 0,"boolean"!=typeof e.isBatchingUpdates?g(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):void 0,w=e}},A={ReactReconcileTransaction:null,batchedUpdates:r,enqueueUpdate:l,flushBatchedUpdates:E,injection:C,asap:u};t.exports=A},{113:113,161:161,24:24,25:25,6:6,78:78,84:84}],97:[function(e,t,i){"use strict";t.exports="0.14.6"},{}],98:[function(e,t,i){"use strict";var n=e(10),s=n.injection.MUST_USE_ATTRIBUTE,r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={Properties:{clipPath:s,cx:s,cy:s,d:s,dx:s,dy:s,fill:s,fillOpacity:s,fontFamily:s,fontSize:s,fx:s,fy:s,gradientTransform:s,gradientUnits:s,markerEnd:s,markerMid:s,markerStart:s,offset:s,opacity:s,patternContentUnits:s,patternUnits:s,points:s,preserveAspectRatio:s,r:s,rx:s,ry:s,spreadMethod:s,stopColor:s,stopOpacity:s,stroke:s,strokeDasharray:s,strokeLinecap:s,strokeOpacity:s,strokeWidth:s,textAnchor:s,transform:s,version:s,viewBox:s,x1:s,x2:s,x:s,xlinkActuate:s,xlinkArcrole:s,xlinkHref:s,xlinkRole:s,xlinkShow:s,xlinkTitle:s,xlinkType:s,xmlBase:s,xmlLang:s,xmlSpace:s,y1:s,y2:s,y:s},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=o},{10:10}],99:[function(e,t,i){"use strict";function n(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var i=document.selection.createRange();return{parentElement:i.parentElement(),text:i.text,top:i.boundingTop,left:i.boundingLeft}}}function s(e,t){if(w||null==v||v!==c())return null;var i=n(v);if(!b||!d(b,i)){b=i;var s=u.getPooled(g.select,y,e,t);return s.type="select",s.target=v,o.accumulateTwoPhaseDispatches(s),s}return null}var r=e(15),o=e(19),a=e(147),l=e(66),u=e(105),c=e(156),h=e(134),p=e(166),d=e(171),f=r.topLevelTypes,m=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[f.topBlur,f.topContextMenu,f.topFocus,f.topKeyDown,f.topMouseDown,f.topMouseUp,f.topSelectionChange]}},v=null,y=null,b=null,w=!1,S=!1,x=p({onSelect:null}),T={eventTypes:g,extractEvents:function(e,t,i,n,r){if(!S)return null;switch(e){case f.topFocus:(h(t)||"true"===t.contentEditable)&&(v=t,y=i,b=null);break;case f.topBlur:v=null,y=null,b=null;break;case f.topMouseDown:w=!0;break;case f.topContextMenu:case f.topMouseUp:return w=!1,s(n,r);case f.topSelectionChange:if(m)break;case f.topKeyDown:case f.topKeyUp:return s(n,r)}return null},didPutListener:function(e,t,i){t===x&&(S=!0)}};t.exports=T},{105:105,134:134,147:147,15:15,156:156,166:166,171:171,19:19,66:66}],100:[function(e,t,i){"use strict";var n=Math.pow(2,53),s={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=s},{}],101:[function(e,t,i){"use strict";var n=e(15),s=e(146),r=e(19),o=e(72),a=e(102),l=e(105),u=e(106),c=e(108),h=e(109),p=e(104),d=e(110),f=e(111),m=e(112),g=e(153),v=e(125),y=e(161),b=e(166),w=n.topLevelTypes,S={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},x={topAbort:S.abort,topBlur:S.blur,topCanPlay:S.canPlay,topCanPlayThrough:S.canPlayThrough,topClick:S.click,topContextMenu:S.contextMenu,topCopy:S.copy,topCut:S.cut,topDoubleClick:S.doubleClick,topDrag:S.drag,topDragEnd:S.dragEnd,topDragEnter:S.dragEnter,topDragExit:S.dragExit,topDragLeave:S.dragLeave,topDragOver:S.dragOver,topDragStart:S.dragStart,topDrop:S.drop,topDurationChange:S.durationChange,topEmptied:S.emptied,topEncrypted:S.encrypted,topEnded:S.ended,topError:S.error,topFocus:S.focus,topInput:S.input,topKeyDown:S.keyDown,topKeyPress:S.keyPress,topKeyUp:S.keyUp,topLoad:S.load,topLoadedData:S.loadedData,topLoadedMetadata:S.loadedMetadata,topLoadStart:S.loadStart,topMouseDown:S.mouseDown,topMouseMove:S.mouseMove,topMouseOut:S.mouseOut,topMouseOver:S.mouseOver,topMouseUp:S.mouseUp,topPaste:S.paste,topPause:S.pause,topPlay:S.play,topPlaying:S.playing,topProgress:S.progress,topRateChange:S.rateChange,topReset:S.reset,topScroll:S.scroll,topSeeked:S.seeked,topSeeking:S.seeking,topStalled:S.stalled,topSubmit:S.submit,topSuspend:S.suspend,topTimeUpdate:S.timeUpdate,topTouchCancel:S.touchCancel,topTouchEnd:S.touchEnd,topTouchMove:S.touchMove,topTouchStart:S.touchStart,topVolumeChange:S.volumeChange,topWaiting:S.waiting,topWheel:S.wheel};for(var T in x)x[T].dependencies=[T];var E=b({onClick:null}),C={},A={eventTypes:S,extractEvents:function(e,t,i,n,s){var o=x[e];if(!o)return null;var g;switch(e){case w.topAbort:case w.topCanPlay:case w.topCanPlayThrough:case w.topDurationChange:case w.topEmptied:case w.topEncrypted:case w.topEnded:case w.topError:case w.topInput:case w.topLoad:case w.topLoadedData:case w.topLoadedMetadata:case w.topLoadStart:case w.topPause:case w.topPlay:case w.topPlaying:case w.topProgress:case w.topRateChange:case w.topReset:case w.topSeeked:case w.topSeeking:case w.topStalled:case w.topSubmit:case w.topSuspend:case w.topTimeUpdate:case w.topVolumeChange:case w.topWaiting:g=l;break;case w.topKeyPress:if(0===v(n))return null;case w.topKeyDown:case w.topKeyUp:g=c;break;case w.topBlur:case w.topFocus:g=u;break;case w.topClick:if(2===n.button)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:g=h;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:g=p;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:g=d;break;case w.topScroll:g=f;break;case w.topWheel:g=m;break;case w.topCopy:case w.topCut:case w.topPaste:g=a}g?void 0:y(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var b=g.getPooled(o,i,n,s);return r.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,i){if(t===E){var n=o.getNode(e);C[e]||(C[e]=s.listen(n,"click",g))}},willDeleteListener:function(e,t){t===E&&(C[e].remove(),delete C[e])}};t.exports=A},{102:102,104:104,105:105,106:106,108:108,109:109,110:110,111:111,112:112,125:125,146:146,15:15,153:153,161:161,166:166,19:19,72:72}],102:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(105),r={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};s.augmentClass(n,r),t.exports=n},{105:105}],103:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(105),r={data:null};s.augmentClass(n,r),t.exports=n},{105:105}],104:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(109),r={dataTransfer:null};s.augmentClass(n,r),t.exports=n},{109:109}],105:[function(e,t,i){"use strict";function n(e,t,i,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=i,this.target=n,this.currentTarget=n;var s=this.constructor.Interface;for(var r in s)if(s.hasOwnProperty(r)){var a=s[r];a?this[r]=a(i):this[r]=i[r]}var l=null!=i.defaultPrevented?i.defaultPrevented:i.returnValue===!1;l?this.isDefaultPrevented=o.thatReturnsTrue:this.isDefaultPrevented=o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse}var s=e(25),r=e(24),o=e(153),a=e(173),l={type:null,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;a(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=o.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;a(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,
this.isPropagationStopped=o.thatReturnsTrue)},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),n.Interface=l,n.augmentClass=function(e,t){var i=this,n=Object.create(i.prototype);r(n,e.prototype),e.prototype=n,e.prototype.constructor=e,e.Interface=r({},i.Interface,t),e.augmentClass=i.augmentClass,s.addPoolingTo(e,s.fourArgumentPooler)},s.addPoolingTo(n,s.fourArgumentPooler),t.exports=n},{153:153,173:173,24:24,25:25}],106:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(111),r={relatedTarget:null};s.augmentClass(n,r),t.exports=n},{111:111}],107:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(105),r={data:null};s.augmentClass(n,r),t.exports=n},{105:105}],108:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(111),r=e(125),o=e(126),a=e(127),l={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(e){return"keypress"===e.type?r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};s.augmentClass(n,l),t.exports=n},{111:111,125:125,126:126,127:127}],109:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(111),r=e(114),o=e(127),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+r.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+r.currentScrollTop}};s.augmentClass(n,a),t.exports=n},{111:111,114:114,127:127}],110:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(111),r=e(127),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:r};s.augmentClass(n,o),t.exports=n},{111:111,127:127}],111:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(105),r=e(128),o={view:function(e){if(e.view)return e.view;var t=r(e);if(null!=t&&t.window===t)return t;var i=t.ownerDocument;return i?i.defaultView||i.parentWindow:window},detail:function(e){return e.detail||0}};s.augmentClass(n,o),t.exports=n},{105:105,128:128}],112:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(109),r={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};s.augmentClass(n,r),t.exports=n},{109:109}],113:[function(e,t,i){"use strict";var n=e(161),s={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,i,s,r,o,a,l){this.isInTransaction()?n(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):void 0;var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,i,s,r,o,a,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(h){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,i=e;i<t.length;i++){var n=t[i];try{this.wrapperInitData[i]=r.OBSERVED_ERROR,this.wrapperInitData[i]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[i]===r.OBSERVED_ERROR)try{this.initializeAll(i+1)}catch(s){}}}},closeAll:function(e){this.isInTransaction()?void 0:n(!1,"Transaction.closeAll(): Cannot close transaction when none are open.");for(var t=this.transactionWrappers,i=e;i<t.length;i++){var s,o=t[i],a=this.wrapperInitData[i];try{s=!0,a!==r.OBSERVED_ERROR&&o.close&&o.close.call(this,a),s=!1}finally{if(s)try{this.closeAll(i+1)}catch(l){}}}this.wrapperInitData.length=0}},r={Mixin:s,OBSERVED_ERROR:{}};t.exports=r},{161:161}],114:[function(e,t,i){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};t.exports=n},{}],115:[function(e,t,i){"use strict";function n(e,t){if(null==t?s(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):void 0,null==e)return t;var i=Array.isArray(e),n=Array.isArray(t);return i&&n?(e.push.apply(e,t),e):i?(e.push(t),e):n?[e].concat(t):[e,t]}var s=e(161);t.exports=n},{161:161}],116:[function(e,t,i){"use strict";function n(e){for(var t=1,i=0,n=0,r=e.length,o=-4&r;o>n;){for(;n<Math.min(n+4096,o);n+=4)i+=(t+=e.charCodeAt(n))+(t+=e.charCodeAt(n+1))+(t+=e.charCodeAt(n+2))+(t+=e.charCodeAt(n+3));t%=s,i%=s}for(;r>n;n++)i+=t+=e.charCodeAt(n);return t%=s,i%=s,t|i<<16}var s=65521;t.exports=n},{}],117:[function(e,t,i){"use strict";var n=!1;try{Object.defineProperty({},"x",{get:function(){}}),n=!0}catch(s){}t.exports=n},{}],118:[function(e,t,i){"use strict";function n(e,t){a(u,"cloneWithProps(...) is deprecated. Please use React.cloneElement instead."),u=!0,a(!e.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var i=r.mergeProps(t,e.props);return!i.hasOwnProperty(l)&&e.props.hasOwnProperty(l)&&(i.children=e.props.children),s.createElement(e.type,i)}var s=e(57),r=e(79),o=e(166),a=e(173),l=o({children:null}),u=!1;t.exports=n},{166:166,173:173,57:57,79:79}],119:[function(e,t,i){"use strict";function n(e,t){var i=null==t||"boolean"==typeof t||""===t;if(i)return"";var n=isNaN(t);return n||0===t||r.hasOwnProperty(e)&&r[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var s=e(4),r=s.isUnitlessNumber;t.exports=n},{4:4}],120:[function(e,t,i){"use strict";function n(e,t,i,n,o){var a=!1,l=function(){return r(a,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",e,t,e,i),a=!0,o.apply(n,arguments)};return s(l,o)}var s=e(24),r=e(173);t.exports=n},{173:173,24:24}],121:[function(e,t,i){"use strict";function n(e){return r[e]}function s(e){return(""+e).replace(o,n)}var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;t.exports=s},{}],122:[function(e,t,i){"use strict";function n(e){var t=s.current;return null!==t&&(l(t._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0),null==e?null:1===e.nodeType?e:r.has(e)?o.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?a(!1,"findDOMNode was called on an unmounted component."):void 0,void a(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)))}var s=e(39),r=e(68),o=e(72),a=e(161),l=e(173);t.exports=n},{161:161,173:173,39:39,68:68,72:72}],123:[function(e,t,i){"use strict";function n(e,t,i){var n=e,s=void 0===n[i];o(s,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i),s&&null!=t&&(n[i]=t)}function s(e){if(null==e)return e;var t={};return r(e,n,t),t}var r=e(142),o=e(173);t.exports=s},{142:142,173:173}],124:[function(e,t,i){"use strict";var n=function(e,t,i){Array.isArray(e)?e.forEach(t,i):e&&t.call(i,e)};t.exports=n},{}],125:[function(e,t,i){"use strict";function n(e){var t,i=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===i&&(t=13)):t=i,t>=32||13===t?t:0}t.exports=n},{}],126:[function(e,t,i){"use strict";function n(e){if(e.key){var t=r[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var i=s(e);return 13===i?"Enter":String.fromCharCode(i)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}var s=e(125),r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=n},{125:125}],127:[function(e,t,i){"use strict";function n(e){var t=this,i=t.nativeEvent;if(i.getModifierState)return i.getModifierState(e);var n=r[e];return n?!!i[n]:!1}function s(e){return n}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=s},{}],128:[function(e,t,i){"use strict";function n(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=n},{}],129:[function(e,t,i){"use strict";function n(e){var t=e&&(s&&e[s]||e[r]);return"function"==typeof t?t:void 0}var s="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";t.exports=n},{}],130:[function(e,t,i){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function s(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function r(e,t){for(var i=n(e),r=0,o=0;i;){if(3===i.nodeType){if(o=r+i.textContent.length,t>=r&&o>=t)return{node:i,offset:t-r};r=o}i=n(s(i))}}t.exports=r},{}],131:[function(e,t,i){"use strict";function n(){return!r&&s.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var s=e(147),r=null;t.exports=n},{147:147}],132:[function(e,t,i){"use strict";function n(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function s(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function r(e){var t;if(null===e||e===!1)t=new a(r);else if("object"==typeof e){var i=e;!i||"function"!=typeof i.type&&"string"!=typeof i.type?c(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==i.type?i.type:typeof i.type,n(i._owner)):void 0,t="string"==typeof i.type?l.createInternalComponent(i):s(i.type)?new i.type(i):new p}else"string"==typeof e||"number"==typeof e?t=l.createInstanceForText(e):c(!1,"Encountered invalid React node of type %s",typeof e);return h("function"==typeof t.construct&&"function"==typeof t.mountComponent&&"function"==typeof t.receiveComponent&&"function"==typeof t.unmountComponent,"Only React Components can be mounted."),t.construct(e),t._mountIndex=0,t._mountImage=null,t._isOwnerNecessary=!1,t._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(t),t}var o=e(38),a=e(59),l=e(75),u=e(24),c=e(161),h=e(173),p=function(){};u(p.prototype,o.Mixin,{_instantiateReactComponent:r}),t.exports=r},{161:161,173:173,24:24,38:38,59:59,75:75}],133:[function(e,t,i){"use strict";function n(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var i="on"+e,n=i in document;if(!n){var o=document.createElement("div");o.setAttribute(i,"return;"),n="function"==typeof o[i]}return!n&&s&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var s,r=e(147);r.canUseDOM&&(s=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=n},{147:147}],134:[function(e,t,i){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&s[e.type]||"textarea"===t)}var s={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},{}],135:[function(e,t,i){"use strict";function n(e){return s.isValidElement(e)?void 0:r(!1,"onlyChild must be passed a children with exactly one child."),e}var s=e(57),r=e(161);t.exports=n},{161:161,57:57}],136:[function(e,t,i){"use strict";function n(e){return'"'+s(e)+'"'}var s=e(121);t.exports=n},{121:121}],137:[function(e,t,i){"use strict";var n=e(72);t.exports=n.renderSubtreeIntoContainer},{72:72}],138:[function(e,t,i){"use strict";var n=e(147),s=/^[ \r\n\t\f]/,r=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(o=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),n.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(o=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),s.test(t)||"<"===t[0]&&r.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var i=e.firstChild;1===i.data.length?e.removeChild(i):i.deleteData(0,1)}else e.innerHTML=t})}t.exports=o},{147:147}],139:[function(e,t,i){"use strict";var n=e(147),s=e(121),r=e(138),o=function(e,t){e.textContent=t};n.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){r(e,s(t))})),t.exports=o},{121:121,138:138,147:147}],140:[function(e,t,i){"use strict";function n(e,t,i){return!s(e.props,t)||!s(e.state,i)}var s=e(171);t.exports=n},{171:171}],141:[function(e,t,i){"use strict";function n(e,t){var i=null===e||e===!1,n=null===t||t===!1;if(i||n)return i===n;var s=typeof e,r=typeof t;return"string"===s||"number"===s?"string"===r||"number"===r:"object"===r&&e.type===t.type&&e.key===t.key}t.exports=n},{}],142:[function(e,t,i){"use strict";function n(e){return v[e]}function s(e,t){return e&&null!=e.key?o(e.key):t.toString(36)}function r(e){return(""+e).replace(y,n)}function o(e){return"$"+r(e)}function a(e,t,i,n){var r=typeof e;if("undefined"!==r&&"boolean"!==r||(e=null),null===e||"string"===r||"number"===r||c.isValidElement(e))return i(n,e,""===t?m+s(e,0):t),1;var l,h,v=0,y=""===t?m:t+g;if(Array.isArray(e))for(var w=0;w<e.length;w++)l=e[w],h=y+s(l,w),v+=a(l,h,i,n);else{var S=p(e);if(S){var x,T=S.call(e);if(S!==e.entries)for(var E=0;!(x=T.next()).done;)l=x.value,h=y+s(l,E++),v+=a(l,h,i,n);else for(f(b,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),b=!0;!(x=T.next()).done;){var C=x.value;C&&(l=C[1],h=y+o(C[0])+g+s(l,0),v+=a(l,h,i,n))}}else if("object"===r){var A="";if(A=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",e._isReactElement&&(A=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),u.current){var P=u.current.getName();P&&(A+=" Check the render method of `"+P+"`.")}var _=String(e);d(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===_?"object with keys {"+Object.keys(e).join(", ")+"}":_,A)}}return v}function l(e,t,i){return null==e?0:a(e,"",t,i)}var u=e(39),c=e(57),h=e(67),p=e(129),d=e(161),f=e(173),m=h.SEPARATOR,g=":",v={"=":"=0",".":"=1",":":"=2"},y=/[=.:]/g,b=!1;t.exports=l},{129:129,161:161,173:173,39:39,57:57,67:67}],143:[function(e,t,i){"use strict";function n(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?o(new e.constructor,e):e}function s(e,t,i){Array.isArray(e)?void 0:l(!1,"update(): expected target of %s to be an array; got %s.",i,e);var n=t[i];Array.isArray(n)?void 0:l(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",i,n)}function r(e,t){if("object"!=typeof t?l(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",g.join(", "),d):void 0,u.call(t,d))return 1!==Object.keys(t).length?l(!1,"Cannot have more than one key in an object with %s",d):void 0,t[d];var i=n(e);if(u.call(t,f)){var a=t[f];a&&"object"==typeof a?void 0:l(!1,"update(): %s expects a spec of type 'object'; got %s",f,a),i&&"object"==typeof i?void 0:l(!1,"update(): %s expects a target of type 'object'; got %s",f,i),o(i,t[f])}u.call(t,c)&&(s(e,t,c),t[c].forEach(function(e){i.push(e)})),u.call(t,h)&&(s(e,t,h),t[h].forEach(function(e){i.unshift(e)})),u.call(t,p)&&(Array.isArray(e)?void 0:l(!1,"Expected %s target to be an array; got %s",p,e),Array.isArray(t[p])?void 0:l(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",p,t[p]),t[p].forEach(function(e){Array.isArray(e)?void 0:l(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",p,t[p]),i.splice.apply(i,e)})),u.call(t,m)&&("function"!=typeof t[m]?l(!1,"update(): expected spec of %s to be a function; got %s.",m,t[m]):void 0,i=t[m](i));for(var y in t)v.hasOwnProperty(y)&&v[y]||(i[y]=r(e[y],t[y]));return i}var o=e(24),a=e(166),l=e(161),u={}.hasOwnProperty,c=a({$push:null}),h=a({$unshift:null}),p=a({$splice:null}),d=a({$set:null}),f=a({$merge:null}),m=a({$apply:null}),g=[c,h,p,d,f,m],v={};g.forEach(function(e){v[e]=!0}),t.exports=r},{161:161,166:166,24:24}],144:[function(e,t,i){"use strict";var n=e(24),s=e(153),r=e(173),o=s,a=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],l=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],u=l.concat(["button"]),c=["dd","dt","li","option","optgroup","p","rp","rt"],h={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},p=function(e,t,i){var s=n({},e||h),r={tag:t,instance:i};return-1!==l.indexOf(t)&&(s.aTagInScope=null,s.buttonTagInScope=null,s.nobrTagInScope=null),-1!==u.indexOf(t)&&(s.pTagInButtonScope=null),-1!==a.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(s.listItemTagAutoclosing=null,s.dlItemTagAutoclosing=null),s.parentTag=r,"form"===t&&(s.formTag=r),"a"===t&&(s.aTagInScope=r),"button"===t&&(s.buttonTagInScope=r),"nobr"===t&&(s.nobrTagInScope=r),"p"===t&&(s.pTagInButtonScope=r),"li"===t&&(s.listItemTagAutoclosing=r),"dd"!==t&&"dt"!==t||(s.dlItemTagAutoclosing=r),s},d=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===c.indexOf(t);case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0},f=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},m=function(e){if(!e)return[];var t=[];do t.push(e);while(e=e._currentElement._owner);return t.reverse(),t},g={};o=function(e,t,i){i=i||h;var n=i.parentTag,s=n&&n.tag,o=d(e,s)?null:n,a=o?null:f(e,i),l=o||a;if(l){var u,c=l.tag,p=l.instance,v=t&&t._currentElement._owner,y=p&&p._currentElement._owner,b=m(v),w=m(y),S=Math.min(b.length,w.length),x=-1;for(u=0;S>u&&b[u]===w[u];u++)x=u;var T="(unknown)",E=b.slice(x+1).map(function(e){return e.getName()||T}),C=w.slice(x+1).map(function(e){return e.getName()||T}),A=[].concat(-1!==x?b[x].getName()||T:[],C,c,a?["..."]:[],E,e).join(" > "),P=!!o+"|"+e+"|"+c+"|"+A;if(g[P])return;if(g[P]=!0,o){var _="";"table"===c&&"tr"===e&&(_+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),r(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",e,c,A,_)}else r(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",e,c,A)}},o.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),o.updatedAncestorInfo=p,o.isTagValidInContext=function(e,t){t=t||h;var i=t.parentTag,n=i&&i.tag;return d(e,n)&&!f(e,t)},t.exports=o},{153:153,173:173,24:24}],145:[function(e,t,i){"use strict";var n=e(161),s={addClass:function(e,t){return/\s/.test(t)?n(!1,'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',t):void 0,t&&(e.classList?e.classList.add(t):s.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?n(!1,'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',t):void 0,t&&(e.classList?e.classList.remove(t):s.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,i){return(i?s.addClass:s.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?n(!1,"CSS.hasClass takes only a single class name."):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=s},{161:161}],146:[function(e,t,i){"use strict";var n=e(153),s={listen:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!1),{remove:function(){e.removeEventListener(t,i,!1)}}):e.attachEvent?(e.attachEvent("on"+t,i),{remove:function(){e.detachEvent("on"+t,i)}}):void 0},capture:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!0),{remove:function(){e.removeEventListener(t,i,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:n})},registerDefault:function(){}};t.exports=s},{153:153}],147:[function(e,t,i){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),s={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=s},{}],148:[function(e,t,i){"use strict";function n(e){return e.replace(s,function(e,t){return t.toUpperCase()})}var s=/-(.)/g;t.exports=n},{}],149:[function(e,t,i){"use strict";function n(e){return s(e.replace(r,"ms-"))}var s=e(148),r=/^-ms-/;t.exports=n},{148:148}],150:[function(e,t,i){"use strict";function n(e,t){var i=!0;e:for(;i;){var n=e,r=t;if(i=!1,n&&r){if(n===r)return!0;if(s(n))return!1;if(s(r)){e=n,t=r.parentNode,i=!0;continue e}return n.contains?n.contains(r):n.compareDocumentPosition?!!(16&n.compareDocumentPosition(r)):!1}return!1}}var s=e(163);t.exports=n},{163:163}],151:[function(e,t,i){"use strict";function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function s(e){return n(e)?Array.isArray(e)?e.slice():r(e):[e]}var r=e(172);t.exports=s},{172:172}],152:[function(e,t,i){"use strict";function n(e){var t=e.match(c),i=t&&t[1].toLowerCase();return h.hasOwnProperty(i)?h[i]:i}function s(e,t){var i=u;u?void 0:l(!1,"createNodesFromMarkup dummy not initialized");var s=n(e),r=s&&a(s);if(r){i.innerHTML=r[1]+e+r[2];for(var c=r[0];c--;)i=i.lastChild}else i.innerHTML=e;var h=i.getElementsByTagName("script");h.length&&(t?void 0:l(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."),o(h).forEach(t));for(var p=o(i.childNodes);i.lastChild;)i.removeChild(i.lastChild);return p}var r=e(147),o=e(151),a=e(157),l=e(161),u=r.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/,h={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"};t.exports=s},{147:147,151:151,157:157,161:161}],153:[function(e,t,i){"use strict";function n(e){return function(){return e}}function s(){}s.thatReturns=n,s.thatReturnsFalse=n(!1),s.thatReturnsTrue=n(!0),s.thatReturnsNull=n(null),s.thatReturnsThis=function(){return this},s.thatReturnsArgument=function(e){return e},t.exports=s},{}],154:[function(e,t,i){"use strict";var n={};Object.freeze(n),t.exports=n},{}],155:[function(e,t,i){"use strict";function n(e){try{e.focus()}catch(t){}}t.exports=n},{}],156:[function(e,t,i){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=n},{}],157:[function(e,t,i){"use strict";function n(e){return o?void 0:r(!1,"Markup wrapping node not initialized"),p.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||("*"===e?o.innerHTML="<link />":o.innerHTML="<"+e+"></"+e+">",a[e]=!o.firstChild),a[e]?p[e]:null}var s=e(147),r=e(161),o=s.canUseDOM?document.createElement("div"):null,a={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c},d=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan","use","filter","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feTile","feTurbulence"];d.forEach(function(e){p[e]=h,a[e]=!0}),t.exports=n},{147:147,161:161}],158:[function(e,t,i){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=n},{}],159:[function(e,t,i){"use strict";function n(e){return e.replace(s,"-$1").toLowerCase()}var s=/([A-Z])/g;t.exports=n},{}],160:[function(e,t,i){"use strict";function n(e){return s(e).replace(r,"-ms-")}var s=e(159),r=/^ms-/;t.exports=n},{159:159}],161:[function(e,t,i){"use strict";function n(e,t,i,n,s,r,o,a){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,n,s,r,o,a],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}t.exports=n},{}],162:[function(e,t,i){"use strict";function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=n},{}],163:[function(e,t,i){"use strict";function n(e){return s(e)&&3==e.nodeType}var s=e(162);t.exports=n},{162:162}],164:[function(e,t,i){"use strict";function n(e){e||(e="");var t,i=arguments.length;if(i>1)for(var n=1;i>n;n++)t=arguments[n],t&&(e=(e?e+" ":"")+t);return e}t.exports=n},{}],165:[function(e,t,i){"use strict";var n=e(161),s=function(e){var t,i={};e instanceof Object&&!Array.isArray(e)?void 0:n(!1,"keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(i[t]=t);return i};t.exports=s},{161:161}],166:[function(e,t,i){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=n},{}],167:[function(e,t,i){"use strict";function n(e,t,i){if(!e)return null;var n={};for(var r in e)s.call(e,r)&&(n[r]=t.call(i,e[r],r,e));return n}var s=Object.prototype.hasOwnProperty;t.exports=n},{}],168:[function(e,t,i){"use strict";function n(e){var t={};return function(i){return t.hasOwnProperty(i)||(t[i]=e.call(this,i)),t[i]}}t.exports=n},{}],169:[function(e,t,i){"use strict";var n,s=e(147);s.canUseDOM&&(n=window.performance||window.msPerformance||window.webkitPerformance),t.exports=n||{}},{147:147}],170:[function(e,t,i){"use strict";var n,s=e(169);n=s.now?function(){return s.now()}:function(){return Date.now()},t.exports=n},{169:169}],171:[function(e,t,i){"use strict";function n(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var r=s.bind(t),o=0;o<i.length;o++)if(!r(i[o])||e[i[o]]!==t[i[o]])return!1;return!0}var s=Object.prototype.hasOwnProperty;t.exports=n},{}],172:[function(e,t,i){"use strict";function n(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?s(!1,"toArray: Array-like object expected"):void 0,"number"!=typeof t?s(!1,"toArray: Object needs a length property"):void 0,0===t||t-1 in e?void 0:s(!1,"toArray: Object should have keys for indices"),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(i){}for(var n=Array(t),r=0;t>r;r++)n[r]=e[r];return n}var s=e(161);
t.exports=n},{161:161}],173:[function(e,t,i){"use strict";var n=e(153),s=n;s=function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),s=2;i>s;s++)n[s-2]=arguments[s];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){var r=0,o="Warning: "+t.replace(/%s/g,function(){return n[r++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(a){}}},t.exports=s},{153:153}]},{},[1])(1)}),define("helpers/ReactOverride",["lodash","react"],function(e,t){"use strict";var i=function(e){var i=t.createClass(e);return i.__spec=e,i},n=function(t,n){return i(e.extend({},t.__spec,n))};return e.extend({},t,{createClass:i,extend:n})}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define("react-dom",["react"],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactDOM=e(t.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}),function(e,t){function i(e){var t=e.length,i=re.type(e);return re.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e){var t=fe[e]={};return re.each(e.match(ae)||[],function(e,i){t[i]=!0}),t}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=re.expando+Math.random()}function r(e,i,n){var s;if(n===t&&1===e.nodeType)if(s="data-"+i.replace(ye,"-$1").toLowerCase(),n=e.getAttribute(s),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ve.test(n)?JSON.parse(n):n}catch(r){}me.set(e,i,n)}else n=t;return n}function o(){return!0}function a(){return!1}function l(){try{return W.activeElement}catch(e){}}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e,t,i){if(re.isFunction(t))return re.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return re.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(_e.test(t))return re.filter(t,e,i);t=re.filter(t,e)}return re.grep(e,function(e){return te.call(t,e)>=0!==i})}function h(e,t){return re.nodeName(e,"table")&&re.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function d(e){var t=je.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function f(e,t){for(var i=e.length,n=0;i>n;n++)ge.set(e[n],"globalEval",!t||ge.get(t[n],"globalEval"))}function m(e,t){var i,n,s,r,o,a,l,u;if(1===t.nodeType){if(ge.hasData(e)&&(r=ge.access(e),o=ge.set(t,r),u=r.events)){delete o.handle,o.events={};for(s in u)for(i=0,n=u[s].length;n>i;i++)re.event.add(t,s,u[s][i])}me.hasData(e)&&(a=me.access(e),l=re.extend({},a),me.set(t,l))}}function g(e,i){var n=e.getElementsByTagName?e.getElementsByTagName(i||"*"):e.querySelectorAll?e.querySelectorAll(i||"*"):[];return i===t||i&&re.nodeName(e,i)?re.merge([e],n):n}function v(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Ne.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function y(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,s=Ze.length;s--;)if(t=Ze[s]+i,t in e)return t;return n}function b(e,t){return e=t||e,"none"===re.css(e,"display")||!re.contains(e.ownerDocument,e)}function w(t){return e.getComputedStyle(t,null)}function S(e,t){for(var i,n,s,r=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(r[o]=ge.get(n,"olddisplay"),i=n.style.display,t?(r[o]||"none"!==i||(n.style.display=""),""===n.style.display&&b(n)&&(r[o]=ge.access(n,"olddisplay",C(n.nodeName)))):r[o]||(s=b(n),(i&&"none"!==i||!s)&&ge.set(n,"olddisplay",s?i:re.css(n,"display"))));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function x(e,t,i){var n=ze.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function T(e,t,i,n,s){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===i&&(o+=re.css(e,i+Je[r],!0,s)),n?("content"===i&&(o-=re.css(e,"padding"+Je[r],!0,s)),"margin"!==i&&(o-=re.css(e,"border"+Je[r]+"Width",!0,s))):(o+=re.css(e,"padding"+Je[r],!0,s),"padding"!==i&&(o+=re.css(e,"border"+Je[r]+"Width",!0,s)));return o}function E(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,r=w(e),o=re.support.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,r);if(0>=s||null==s){if(s=He(e,t,r),(0>s||null==s)&&(s=e.style[t]),Ye.test(s))return s;n=o&&(re.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+T(e,t,i||(o?"border":"content"),n,r)+"px"}function C(e){var t=W,i=Qe[e];return i||(i=A(e,t),"none"!==i&&i||(qe=(qe||re("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(qe[0].contentWindow||qe[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=A(e,t),qe.detach()),Qe[e]=i),i}function A(e,t){var i=re(t.createElement(e)).appendTo(t.body),n=re.css(i[0],"display");return i.remove(),n}function P(e,t,i,n){var s;if(re.isArray(t))re.each(t,function(t,s){i||tt.test(e)?n(e,s):P(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==re.type(t))n(e,t);else for(s in t)P(e+"["+s+"]",t[s],i,n)}function _(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,r=t.toLowerCase().match(ae)||[];if(re.isFunction(i))for(;n=r[s++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function I(e,t,i,n){function s(a){var l;return r[a]=!0,re.each(e[a]||[],function(e,a){var u=a(t,i,n);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),s(u),!1)}),l}var r={},o=e===yt;return s(t.dataTypes[0])||!r["*"]&&s("*")}function k(e,i){var n,s,r=re.ajaxSettings.flatOptions||{};for(n in i)i[n]!==t&&((r[n]?e:s||(s={}))[n]=i[n]);return s&&re.extend(!0,e,s),e}function R(e,i,n){for(var s,r,o,a,l=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),s===t&&(s=e.mimeType||i.getResponseHeader("Content-Type"));if(s)for(r in l)if(l[r]&&l[r].test(s)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function O(e,t,i,n){var s,r,o,a,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(r=c.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(o=u[l+" "+r]||u["* "+r],!o)for(s in u)if(a=s.split(" "),a[1]===r&&(o=u[l+" "+a[0]]||u["* "+a[0]])){o===!0?o=u[s]:u[s]!==!0&&(r=a[0],c.unshift(a[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function L(){return setTimeout(function(){Pt=t}),Pt=re.now()}function M(e,t,i){for(var n,s=(Lt[t]||[]).concat(Lt["*"]),r=0,o=s.length;o>r;r++)if(n=s[r].call(i,t,e))return n}function D(e,t,i){var n,s,r=0,o=Ot.length,a=re.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Pt||L(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,r=1-n,o=0,l=u.tweens.length;l>o;o++)u.tweens[o].run(r);return a.notifyWith(e,[u,r,i]),1>r&&l?i:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:re.extend({},t),opts:re.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Pt||L(),duration:i.duration,tweens:[],createTween:function(t,i){var n=re.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)u.tweens[i].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(N(c,u.opts.specialEasing);o>r;r++)if(n=Ot[r].call(u,e,c,u.opts))return n;return re.map(c,M,u),re.isFunction(u.opts.start)&&u.opts.start.call(e,u),re.fx.timer(re.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function N(e,t){var i,n,s,r,o;for(i in e)if(n=re.camelCase(i),s=t[n],r=e[i],re.isArray(r)&&(s=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),o=re.cssHooks[n],o&&"expand"in o){r=o.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=s)}else t[n]=s}function V(e,i,n){var s,r,o,a,l,u,c=this,h={},p=e.style,d=e.nodeType&&b(e),f=ge.get(e,"fxshow");n.queue||(l=re._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,u=l.empty.fire,l.empty.fire=function(){l.unqueued||u()}),l.unqueued++,c.always(function(){c.always(function(){l.unqueued--,re.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in i||"width"in i)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===re.css(e,"display")&&"none"===re.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(s in i)if(r=i[s],It.exec(r)){if(delete i[s],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!f||f[s]===t)continue;d=!0}h[s]=f&&f[s]||re.style(e,s)}if(!re.isEmptyObject(h)){f?"hidden"in f&&(d=f.hidden):f=ge.access(e,"fxshow",{}),o&&(f.hidden=!d),d?re(e).show():c.done(function(){re(e).hide()}),c.done(function(){var t;ge.remove(e,"fxshow");for(t in h)re.style(e,t,h[t])});for(s in h)a=M(d?f[s]:0,s,c),s in f||(f[s]=a.start,d&&(a.end=a.start,a.start="width"===s||"height"===s?1:0))}}function B(e,t,i,n,s){return new B.prototype.init(e,t,i,n,s)}function j(e,t){var i,n={height:e},s=0;for(t=t?1:0;4>s;s+=2-t)i=Je[s],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function U(e){return re.isWindow(e)?e:9===e.nodeType&&e.defaultView}var F,H,q=typeof t,G=e.location,W=e.document,z=W.documentElement,Y=e.jQuery,X=e.$,Q={},K=[],$="2.0.3",J=K.concat,Z=K.push,ee=K.slice,te=K.indexOf,ie=Q.toString,ne=Q.hasOwnProperty,se=$.trim,re=function(e,t){return new re.fn.init(e,t,F)},oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=/\S+/g,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ce=/^-ms-/,he=/-([\da-z])/gi,pe=function(e,t){return t.toUpperCase()},de=function(){W.removeEventListener("DOMContentLoaded",de,!1),e.removeEventListener("load",de,!1),re.ready()};re.fn=re.prototype={jquery:$,constructor:re,init:function(e,i,n){var s,r;if(!e)return this;if("string"==typeof e){if(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:le.exec(e),!s||!s[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(s[1]){if(i=i instanceof re?i[0]:i,re.merge(this,re.parseHTML(s[1],i&&i.nodeType?i.ownerDocument||i:W,!0)),ue.test(s[1])&&re.isPlainObject(i))for(s in i)re.isFunction(this[s])?this[s](i[s]):this.attr(s,i[s]);return this}return r=W.getElementById(s[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=W,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):re.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),re.makeArray(e,this))},selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=re.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return re.each(this,e,t)},ready:function(e){return re.ready.promise().done(e),this},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(re.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},re.fn.init.prototype=re.fn,re.extend=re.fn.extend=function(){var e,i,n,s,r,o,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||re.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(i in e)n=a[i],s=e[i],a!==s&&(c&&s&&(re.isPlainObject(s)||(r=re.isArray(s)))?(r?(r=!1,o=n&&re.isArray(n)?n:[]):o=n&&re.isPlainObject(n)?n:{},a[i]=re.extend(c,o,s)):s!==t&&(a[i]=s));return a},re.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===re&&(e.$=X),t&&e.jQuery===re&&(e.jQuery=Y),re},isReady:!1,readyWait:1,holdReady:function(e){e?re.readyWait++:re.ready(!0)},ready:function(e){(e===!0?--re.readyWait:re.isReady)||(re.isReady=!0,e!==!0&&--re.readyWait>0||(H.resolveWith(W,[re]),re.fn.trigger&&re(W).trigger("ready").off("ready")))},isFunction:function(e){return"function"===re.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Q[ie.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==re.type(e)||e.nodeType||re.isWindow(e))return!1;try{if(e.constructor&&!ne.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||W;var n=ue.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=re.buildFragment([e],t,s),s&&re(s).remove(),re.merge([],n.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var i,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,i=n.parseFromString(e,"text/xml")}catch(s){i=t}return i&&!i.getElementsByTagName("parsererror").length||re.error("Invalid XML: "+e),i},noop:function(){},globalEval:function(e){var t,i=eval;e=re.trim(e),e&&(1===e.indexOf("use strict")?(t=W.createElement("script"),t.text=e,W.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(ce,"ms-").replace(he,pe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var s,r=0,o=e.length,a=i(e);if(n){if(a)for(;o>r&&(s=t.apply(e[r],n),s!==!1);r++);else for(r in e)if(s=t.apply(e[r],n),s===!1)break}else if(a)for(;o>r&&(s=t.call(e[r],r,e[r]),s!==!1);r++);else for(r in e)if(s=t.call(e[r],r,e[r]),s===!1)break;return e},trim:function(e){return null==e?"":se.call(e)},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?re.merge(n,"string"==typeof e?[e]:e):Z.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:te.call(t,e,i)},merge:function(e,i){var n=i.length,s=e.length,r=0;if("number"==typeof n)for(;n>r;r++)e[s++]=i[r];else for(;i[r]!==t;)e[s++]=i[r++];return e.length=s,e},grep:function(e,t,i){var n,s=[],r=0,o=e.length;for(i=!!i;o>r;r++)n=!!t(e[r],r),i!==n&&s.push(e[r]);return s},map:function(e,t,n){var s,r=0,o=e.length,a=i(e),l=[];if(a)for(;o>r;r++)s=t(e[r],r,n),null!=s&&(l[l.length]=s);else for(r in e)s=t(e[r],r,n),null!=s&&(l[l.length]=s);return J.apply([],l)},guid:1,proxy:function(e,i){var n,s,r;return"string"==typeof i&&(n=e[i],i=e,e=n),re.isFunction(e)?(s=ee.call(arguments,2),r=function(){return e.apply(i||this,s.concat(ee.call(arguments)))},r.guid=e.guid=e.guid||re.guid++,r):t},access:function(e,i,n,s,r,o,a){var l=0,u=e.length,c=null==n;if("object"===re.type(n)){r=!0;for(l in n)re.access(e,i,l,n[l],!0,o,a)}else if(s!==t&&(r=!0,re.isFunction(s)||(a=!0),c&&(a?(i.call(e,s),i=null):(c=i,i=function(e,t,i){return c.call(re(e),i)})),i))for(;u>l;l++)i(e[l],n,a?s:s.call(e[l],l,i(e[l],n)));return r?e:c?i.call(e):u?i(e[0],n):o},now:Date.now,swap:function(e,t,i,n){var s,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];s=i.apply(e,n||[]);for(r in t)e.style[r]=o[r];return s}}),re.ready.promise=function(t){return H||(H=re.Deferred(),"complete"===W.readyState?setTimeout(re.ready):(W.addEventListener("DOMContentLoaded",de,!1),e.addEventListener("load",de,!1))),H.promise(t)},re.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()}),F=re(W),function(e,t){function i(e,t,i,n){var s,r,o,a,l,u,c,h,f,m;if((t?t.ownerDocument||t:U)!==O&&R(t),t=t||O,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(M&&!n){if(s=be.exec(e))if(o=s[1]){if(9===a){if(r=t.getElementById(o),!r||!r.parentNode)return i;if(r.id===o)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(o))&&B(t,r)&&r.id===o)return i.push(r),i}else{if(s[2])return ee.apply(i,t.getElementsByTagName(e)),i;if((o=s[3])&&T.getElementsByClassName&&t.getElementsByClassName)return ee.apply(i,t.getElementsByClassName(o)),i}if(T.qsa&&(!D||!D.test(e))){if(h=c=j,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=p(e),(c=t.getAttribute("id"))?h=c.replace(xe,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+d(u[l]);f=de.test(e)&&t.parentNode||t,m=u.join(",")}if(m)try{return ee.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{c||t.removeAttribute("id")}}}return S(e.replace(ce,"$1"),t,i,n)}function n(){function e(i,n){return t.push(i+=" ")>C.cacheLength&&delete e[t.shift()],e[i]=n}var t=[];return e}function s(e){return e[j]=!0,e}function r(e){var t=O.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),n=e.length;n--;)C.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Q)-(~e.sourceIndex||Q);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function l(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function u(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return s(function(t){return t=+t,s(function(i,n){for(var s,r=e([],i.length,t),o=r.length;o--;)i[s=r[o]]&&(i[s]=!(n[s]=i[s]))})})}function h(){}function p(e,t){var n,s,r,o,a,l,u,c=G[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=C.preFilter;a;){n&&!(s=he.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(r=[])),n=!1,(s=pe.exec(a))&&(n=s.shift(),r.push({value:n,type:s[0].replace(ce," ")}),a=a.slice(n.length));for(o in C.filter)!(s=ve[o].exec(a))||u[o]&&!(s=u[o](s))||(n=s.shift(),r.push({value:n,type:o,matches:s}),a=a.slice(n.length));if(!n)break}return t?a.length:a?i.error(e):G(e,l).slice(0)}function d(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,s=i&&"parentNode"===n,r=H++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,r)}:function(t,i,o){var a,l,u,c=F+" "+r;if(o){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(u=t[j]||(t[j]={}),(l=u[n])&&l[0]===c){if((a=l[1])===!0||a===E)return a===!0}else if(l=u[n]=[c],l[1]=e(t,i,o)||E,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function g(e,t,i,n,s){for(var r,o=[],a=0,l=e.length,u=null!=t;l>a;a++)(r=e[a])&&(i&&!i(r,n,s)||(o.push(r),u&&t.push(a)));return o}function v(e,t,i,n,r,o){return n&&!n[j]&&(n=v(n)),r&&!r[j]&&(r=v(r,o)),s(function(s,o,a,l){var u,c,h,p=[],d=[],f=o.length,m=s||w(t||"*",a.nodeType?[a]:a,[]),v=!e||!s&&t?m:g(m,p,e,a,l),y=i?r||(s?e:f||n)?[]:o:v;if(i&&i(v,y,a,l),n)for(u=g(y,d),n(u,[],a,l),c=u.length;c--;)(h=u[c])&&(y[d[c]]=!(v[d[c]]=h));if(s){if(r||e){if(r){for(u=[],c=y.length;c--;)(h=y[c])&&u.push(v[c]=h);r(null,y=[],u,l)}for(c=y.length;c--;)(h=y[c])&&(u=r?ie.call(s,h):p[c])>-1&&(s[u]=!(o[u]=h))}}else y=g(y===o?y.splice(f,y.length):y),r?r(null,o,y,l):ee.apply(o,y)})}function y(e){for(var t,i,n,s=e.length,r=C.relative[e[0].type],o=r||C.relative[" "],a=r?1:0,l=f(function(e){return e===t},o,!0),u=f(function(e){return ie.call(t,e)>-1},o,!0),c=[function(e,i,n){return!r&&(n||i!==I)||((t=i).nodeType?l(e,i,n):u(e,i,n))}];s>a;a++)if(i=C.relative[e[a].type])c=[f(m(c),i)];else{if(i=C.filter[e[a].type].apply(null,e[a].matches),i[j]){for(n=++a;s>n&&!C.relative[e[n].type];n++);return v(a>1&&m(c),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ce,"$1"),i,n>a&&y(e.slice(a,n)),s>n&&y(e=e.slice(n)),s>n&&d(e))}c.push(i)}return m(c)}function b(e,t){var n=0,r=t.length>0,o=e.length>0,a=function(s,a,l,u,c){var h,p,d,f=[],m=0,v="0",y=s&&[],b=null!=c,w=I,S=s||o&&C.find.TAG("*",c&&a.parentNode||a),x=F+=null==w?1:Math.random()||.1;for(b&&(I=a!==O&&a,E=n);null!=(h=S[v]);v++){if(o&&h){for(p=0;d=e[p++];)if(d(h,a,l)){u.push(h);break}b&&(F=x,E=++n)}r&&((h=!d&&h)&&m--,s&&y.push(h))}if(m+=v,r&&v!==m){for(p=0;d=t[p++];)d(y,f,a,l);if(s){if(m>0)for(;v--;)y[v]||f[v]||(f[v]=J.call(u));f=g(f)}ee.apply(u,f),b&&!s&&f.length>0&&m+t.length>1&&i.uniqueSort(u)}return b&&(F=x,I=w),y};return r?s(a):a}function w(e,t,n){for(var s=0,r=t.length;r>s;s++)i(e,t[s],n);return n}function S(e,t,i,n){var s,r,o,a,l,u=p(e);if(!n&&1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&T.getById&&9===t.nodeType&&M&&C.relative[r[1].type]){if(t=(C.find.ID(o.matches[0].replace(Te,Ee),t)||[])[0],!t)return i;e=e.slice(r.shift().value.length)}for(s=ve.needsContext.test(e)?0:r.length;s--&&(o=r[s],!C.relative[a=o.type]);)if((l=C.find[a])&&(n=l(o.matches[0].replace(Te,Ee),de.test(r[0].type)&&t.parentNode||t))){if(r.splice(s,1),e=n.length&&d(r),!e)return ee.apply(i,n),i;break}}return _(e,u)(n,t,!M,i,de.test(e)),i}var x,T,E,C,A,P,_,I,k,R,O,L,M,D,N,V,B,j="sizzle"+-new Date,U=e.document,F=0,H=0,q=n(),G=n(),W=n(),z=!1,Y=function(e,t){return e===t?(z=!0,0):0},X=typeof t,Q=1<<31,K={}.hasOwnProperty,$=[],J=$.pop,Z=$.push,ee=$.push,te=$.slice,ie=$.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",se="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=oe.replace("w","w#"),le="\\["+se+"*("+oe+")"+se+"*(?:([*^$|!~]?=)"+se+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+se+"*\\]",ue=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+le.replace(3,8)+")*)|.*)\\)|)",ce=new RegExp("^"+se+"+|((?:^|[^\\\\])(?:\\\\.)*)"+se+"+$","g"),he=new RegExp("^"+se+"*,"+se+"*"),pe=new RegExp("^"+se+"*([>+~]|"+se+")"+se+"*"),de=new RegExp(se+"*[+~]"),fe=new RegExp("="+se+"*([^\\]'\"]*)"+se+"*\\]","g"),me=new RegExp(ue),ge=new RegExp("^"+ae+"$"),ve={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+le),PSEUDO:new RegExp("^"+ue),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+se+"*(even|odd|(([+-]|)(\\d*)n|)"+se+"*(?:([+-]|)"+se+"*(\\d+)|))"+se+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+se+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+se+"*((?:-\\d)?\\d*)"+se+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/^(?:input|select|textarea|button)$/i,Se=/^h\d$/i,xe=/'|\\/g,Te=new RegExp("\\\\([\\da-f]{1,6}"+se+"?|("+se+")|.)","ig"),Ee=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{ee.apply($=te.call(U.childNodes),U.childNodes),$[U.childNodes.length].nodeType}catch(Ce){ee={apply:$.length?function(e,t){Z.apply(e,te.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}P=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},T=i.support={},R=i.setDocument=function(e){var t=e?e.ownerDocument||e:U,i=t.defaultView;return t!==O&&9===t.nodeType&&t.documentElement?(O=t,L=t.documentElement,M=!P(t),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){R()}),T.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=r(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),T.getById=r(function(e){return L.appendChild(e).id=j,!t.getElementsByName||!t.getElementsByName(j).length}),T.getById?(C.find.ID=function(e,t){if(typeof t.getElementById!==X&&M){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(e){var t=e.replace(Te,Ee);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(Te,Ee);return function(e){var i=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return i&&i.value===t}}),C.find.TAG=T.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==X?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],s=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},C.find.CLASS=T.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==X&&M?t.getElementsByClassName(e):void 0},N=[],D=[],(T.qsa=ye.test(t.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||D.push("\\["+se+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||D.push(":checked")}),r(function(e){var i=t.createElement("input");i.setAttribute("type","hidden"),e.appendChild(i).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&D.push("[*^$]="+se+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(T.matchesSelector=ye.test(V=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(e){T.disconnectedMatch=V.call(e,"div"),V.call(e,"[s!='']:x"),N.push("!=",ue)}),D=D.length&&new RegExp(D.join("|")),N=N.length&&new RegExp(N.join("|")),B=ye.test(L.contains)||L.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=L.compareDocumentPosition?function(e,i){if(e===i)return z=!0,0;var n=i.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(i);return n?1&n||!T.sortDetached&&i.compareDocumentPosition(e)===n?e===t||B(U,e)?-1:i===t||B(U,i)?1:k?ie.call(k,e)-ie.call(k,i):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,i){var n,s=0,r=e.parentNode,o=i.parentNode,l=[e],u=[i];if(e===i)return z=!0,0;if(!r||!o)return e===t?-1:i===t?1:r?-1:o?1:k?ie.call(k,e)-ie.call(k,i):0;if(r===o)return a(e,i);for(n=e;n=n.parentNode;)l.unshift(n);for(n=i;n=n.parentNode;)u.unshift(n);for(;l[s]===u[s];)s++;return s?a(l[s],u[s]):l[s]===U?-1:u[s]===U?1:0},t):O},i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){if((e.ownerDocument||e)!==O&&R(e),t=t.replace(fe,"='$1']"),T.matchesSelector&&M&&(!N||!N.test(t))&&(!D||!D.test(t)))try{var n=V.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(s){}return i(t,O,null,[e]).length>0},i.contains=function(e,t){return(e.ownerDocument||e)!==O&&R(e),B(e,t)},i.attr=function(e,i){(e.ownerDocument||e)!==O&&R(e);var n=C.attrHandle[i.toLowerCase()],s=n&&K.call(C.attrHandle,i.toLowerCase())?n(e,i,!M):t;return s===t?T.attributes||!M?e.getAttribute(i):(s=e.getAttributeNode(i))&&s.specified?s.value:null:s},i.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},i.uniqueSort=function(e){var t,i=[],n=0,s=0;if(z=!T.detectDuplicates,k=!T.sortStable&&e.slice(0),e.sort(Y),z){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return e},A=i.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=A(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n];n++)i+=A(t);return i},C=i.selectors={cacheLength:50,createPseudo:s,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Te,Ee),e[3]=(e[4]||e[5]||"").replace(Te,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||i.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&i.error(e[0]),e},PSEUDO:function(e){var i,n=!e[5]&&e[2];return ve.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:n&&me.test(n)&&(i=p(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(e[0]=e[0].slice(0,i),e[2]=n.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Te,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+se+")"+e+"("+se+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(s){var r=i.attr(s,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,s){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var u,c,h,p,d,f,m=r!==o?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(r){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(c=g[j]||(g[j]={}),u=c[e]||[],d=u[0]===F&&u[1],p=u[0]===F&&u[2],h=d&&g.childNodes[d];h=++d&&h&&h[m]||(p=d=0)||f.pop();)if(1===h.nodeType&&++p&&h===t){c[e]=[F,d,p];break}}else if(y&&(u=(t[j]||(t[j]={}))[e])&&u[0]===F)p=u[1];else for(;(h=++d&&h&&h[m]||(p=d=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++p||(y&&((h[j]||(h[j]={}))[e]=[F,p]),h!==t)););return p-=s,p===n||p%n===0&&p/n>=0}}},PSEUDO:function(e,t){var n,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return r[j]?r(t):r.length>1?(n=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,i){for(var n,s=r(e,t),o=s.length;o--;)n=ie.call(e,s[o]),e[n]=!(i[n]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:s(function(e){var t=[],i=[],n=_(e.replace(ce,"$1"));return n[j]?s(function(e,t,i,s){for(var r,o=n(e,null,s,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,s,r){return t[0]=e,n(t,null,r,i),!i.pop()}}),has:s(function(e){return function(t){return i(e,t).length>0}}),contains:s(function(e){return function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:s(function(e){return ge.test(e||"")||i.error("unsupported lang: "+e),e=e.replace(Te,Ee).toLowerCase(),function(t){var i;do if(i=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){
return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return Se.test(e.nodeName)},input:function(e){return we.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},C.pseudos.nth=C.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})C.pseudos[x]=u(x);h.prototype=C.filters=C.pseudos,C.setFilters=new h,_=i.compile=function(e,t){var i,n=[],s=[],r=W[e+" "];if(!r){for(t||(t=p(e)),i=t.length;i--;)r=y(t[i]),r[j]?n.push(r):s.push(r);r=W(e,b(s,n))}return r},T.sortStable=j.split("").sort(Y).join("")===j,T.detectDuplicates=z,R(),T.sortDetached=r(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(ne,function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&n.specified?n.value:e[t]===!0?t.toLowerCase():null}),re.find=i,re.expr=i.selectors,re.expr[":"]=re.expr.pseudos,re.unique=i.uniqueSort,re.text=i.getText,re.isXMLDoc=i.isXML,re.contains=i.contains}(e);var fe={};re.Callbacks=function(e){e="string"==typeof e?fe[e]||n(e):re.extend({},e);var i,s,r,o,a,l,u=[],c=!e.once&&[],h=function(t){for(i=e.memory&&t,s=!0,l=o||0,o=0,a=u.length,r=!0;u&&a>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}r=!1,u&&(c?c.length&&h(c.shift()):i?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;!function n(t){re.each(t,function(t,i){var s=re.type(i);"function"===s?e.unique&&p.has(i)||u.push(i):i&&i.length&&"string"!==s&&n(i)})}(arguments),r?a=u.length:i&&(o=t,h(i))}return this},remove:function(){return u&&re.each(arguments,function(e,t){for(var i;(i=re.inArray(t,u,i))>-1;)u.splice(i,1),r&&(a>=i&&a--,l>=i&&l--)}),this},has:function(e){return e?re.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=c=i=t,this},disabled:function(){return!u},lock:function(){return c=t,i||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!u||s&&!c||(t=t||[],t=[e,t.slice?t.slice():t],r?c.push(t):h(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!s}};return p},re.extend({Deferred:function(e){var t=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return re.Deferred(function(i){re.each(t,function(t,r){var o=r[0],a=re.isFunction(e[t])&&e[t];s[r[1]](function(){var e=a&&a.apply(this,arguments);e&&re.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?re.extend(e,n):n}},s={};return n.pipe=n.then,re.each(t,function(e,r){var o=r[2],a=r[3];n[r[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?n:this,arguments),this},s[r[0]+"With"]=o.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,r=ee.call(arguments),o=r.length,a=1!==o||e&&re.isFunction(e.promise)?o:0,l=1===a?e:re.Deferred(),u=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?ee.call(arguments):s,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);o>s;s++)r[s]&&re.isFunction(r[s].promise)?r[s].promise().done(u(s,n,r)).fail(l.reject).progress(u(s,i,t)):--a;return a||l.resolveWith(n,r),l.promise()}}),re.support=function(t){var i=W.createElement("input"),n=W.createDocumentFragment(),s=W.createElement("div"),r=W.createElement("select"),o=r.appendChild(W.createElement("option"));return i.type?(i.type="checkbox",t.checkOn=""!==i.value,t.optSelected=o.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled,i=W.createElement("input"),i.value="t",i.type="radio",t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),n.appendChild(i),t.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===s.style.backgroundClip,re(function(){var i,n,r="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",o=W.getElementsByTagName("body")[0];o&&(i=W.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(i).appendChild(s),s.innerHTML="",s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",re.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===s.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(s,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(s,null)||{width:"4px"}).width,n=s.appendChild(W.createElement("div")),n.style.cssText=s.style.cssText=r,n.style.marginRight=n.style.width="0",s.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight)),o.removeChild(i))}),t):t}({});var me,ge,ve=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ye=/([A-Z])/g;s.uid=1,s.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=s.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,re.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,s=this.key(e),r=this.cache[s];if("string"==typeof t)r[t]=i;else if(re.isEmptyObject(r))re.extend(this.cache[s],t);else for(n in t)r[n]=t[n];return r},get:function(e,i){var n=this.cache[this.key(e)];return i===t?n:n[i]},access:function(e,i,n){var s;return i===t||i&&"string"==typeof i&&n===t?(s=this.get(e,i),s!==t?s:this.get(e,re.camelCase(i))):(this.set(e,i,n),n!==t?n:i)},remove:function(e,i){var n,s,r,o=this.key(e),a=this.cache[o];if(i===t)this.cache[o]={};else{re.isArray(i)?s=i.concat(i.map(re.camelCase)):(r=re.camelCase(i),i in a?s=[i,r]:(s=r,s=s in a?[s]:s.match(ae)||[])),n=s.length;for(;n--;)delete a[s[n]]}},hasData:function(e){return!re.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},me=new s,ge=new s,re.extend({acceptData:s.accepts,hasData:function(e){return me.hasData(e)||ge.hasData(e)},data:function(e,t,i){return me.access(e,t,i)},removeData:function(e,t){me.remove(e,t)},_data:function(e,t,i){return ge.access(e,t,i)},_removeData:function(e,t){ge.remove(e,t)}}),re.fn.extend({data:function(e,i){var n,s,o=this[0],a=0,l=null;if(e===t){if(this.length&&(l=me.get(o),1===o.nodeType&&!ge.get(o,"hasDataAttrs"))){for(n=o.attributes;a<n.length;a++)s=n[a].name,0===s.indexOf("data-")&&(s=re.camelCase(s.slice(5)),r(o,s,l[s]));ge.set(o,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each(function(){me.set(this,e)}):re.access(this,function(i){var n,s=re.camelCase(e);if(o&&i===t){if(n=me.get(o,e),n!==t)return n;if(n=me.get(o,s),n!==t)return n;if(n=r(o,s,t),n!==t)return n}else this.each(function(){var n=me.get(this,s);me.set(this,s,i),-1!==e.indexOf("-")&&n!==t&&me.set(this,e,i)})},null,i,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){me.remove(this,e)})}}),re.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=ge.get(e,t),i&&(!n||re.isArray(i)?n=ge.access(e,t,re.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=re.queue(e,t),n=i.length,s=i.shift(),r=re._queueHooks(e,t),o=function(){re.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete r.stop,s.call(e,o,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ge.get(e,i)||ge.access(e,i,{empty:re.Callbacks("once memory").add(function(){ge.remove(e,[t+"queue",i])})})}}),re.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?re.queue(this[0],e):i===t?this:this.each(function(){var t=re.queue(this,e,i);re._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&re.dequeue(this,e)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},delay:function(e,t){return e=re.fx?re.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,s=1,r=re.Deferred(),o=this,a=this.length,l=function(){--s||r.resolveWith(o,[o])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)n=ge.get(o[a],e+"queueHooks"),n&&n.empty&&(s++,n.empty.add(l));return l(),r.promise(i)}});var be,we,Se=/[\t\r\n\f]/g,xe=/\r/g,Te=/^(?:input|select|textarea|button)$/i;re.fn.extend({attr:function(e,t){return re.access(this,re.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})},prop:function(e,t){return re.access(this,re.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[re.propFix[e]||e]})},addClass:function(e){var t,i,n,s,r,o=0,a=this.length,l="string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ae)||[];a>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Se," "):" ")){for(r=0;s=t[r++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");i.className=re.trim(n)}return this},removeClass:function(e){var t,i,n,s,r,o=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ae)||[];a>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Se," "):"")){for(r=0;s=t[r++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");i.className=e?re.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):re.isFunction(e)?this.each(function(i){re(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,s=re(this),r=e.match(ae)||[];t=r[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else i!==q&&"boolean"!==i||(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ge.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Se," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,s,r=this[0];{if(arguments.length)return s=re.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=s?e.call(this,n,re(this).val()):e,null==r?r="":"number"==typeof r?r+="":re.isArray(r)&&(r=re.map(r,function(e){return null==e?"":e+""})),i=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,r,"value")!==t||(this.value=r))});if(r)return i=re.valHooks[r.type]||re.valHooks[r.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(r,"value"))!==t?n:(n=r.value,"string"==typeof n?n.replace(xe,""):null==n?"":n)}}}),re.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,r="select-one"===e.type||0>s,o=r?null:[],a=r?s+1:n.length,l=0>s?a:r?s:0;a>l;l++)if(i=n[l],(i.selected||l===s)&&(re.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!re.nodeName(i.parentNode,"optgroup"))){if(t=re(i).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var i,n,s=e.options,r=re.makeArray(t),o=s.length;o--;)n=s[o],(n.selected=re.inArray(re(n).val(),r)>=0)&&(i=!0);return i||(e.selectedIndex=-1),r}}},attr:function(e,i,n){var s,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===q?re.prop(e,i,n):(1===o&&re.isXMLDoc(e)||(i=i.toLowerCase(),s=re.attrHooks[i]||(re.expr.match.bool.test(i)?we:be)),n===t?s&&"get"in s&&null!==(r=s.get(e,i))?r:(r=re.find.attr(e,i),null==r?t:r):null!==n?s&&"set"in s&&(r=s.set(e,n,i))!==t?r:(e.setAttribute(i,n+""),n):void re.removeAttr(e,i))},removeAttr:function(e,t){var i,n,s=0,r=t&&t.match(ae);if(r&&1===e.nodeType)for(;i=r[s++];)n=re.propFix[i]||i,re.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!re.support.radioValue&&"radio"===t&&re.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,i,n){var s,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!re.isXMLDoc(e),o&&(i=re.propFix[i]||i,r=re.propHooks[i]),n!==t?r&&"set"in r&&(s=r.set(e,n,i))!==t?s:e[i]=n:r&&"get"in r&&null!==(s=r.get(e,i))?s:e[i]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Te.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),we={set:function(e,t,i){return t===!1?re.removeAttr(e,i):e.setAttribute(i,i),i}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,i){var n=re.expr.attrHandle[i]||re.find.attr;re.expr.attrHandle[i]=function(e,i,s){var r=re.expr.attrHandle[i],o=s?t:(re.expr.attrHandle[i]=t)!=n(e,i,s)?i.toLowerCase():null;return re.expr.attrHandle[i]=r,o}}),re.support.optSelected||(re.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(e,t){return re.isArray(t)?e.checked=re.inArray(re(e).val(),t)>=0:void 0}},re.support.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ee=/^key/,Ce=/^(?:mouse|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,Pe=/^([^.]*)(?:\.(.+)|)$/;re.event={global:{},add:function(e,i,n,s,r){var o,a,l,u,c,h,p,d,f,m,g,v=ge.get(e);if(v){for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=re.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return typeof re===q||e&&re.event.triggered===e.type?t:re.event.dispatch.apply(a.elem,arguments)},a.elem=e),i=(i||"").match(ae)||[""],c=i.length;c--;)l=Pe.exec(i[c])||[],f=g=l[1],m=(l[2]||"").split(".").sort(),f&&(p=re.event.special[f]||{},f=(r?p.delegateType:p.bindType)||f,p=re.event.special[f]||{},h=re.extend({type:f,origType:g,data:s,handler:n,guid:n.guid,selector:r,needsContext:r&&re.expr.match.needsContext.test(r),namespace:m.join(".")},o),(d=u[f])||(d=u[f]=[],d.delegateCount=0,p.setup&&p.setup.call(e,s,m,a)!==!1||e.addEventListener&&e.addEventListener(f,a,!1)),p.add&&(p.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),re.event.global[f]=!0);e=null}},remove:function(e,t,i,n,s){var r,o,a,l,u,c,h,p,d,f,m,g=ge.hasData(e)&&ge.get(e);if(g&&(l=g.events)){for(t=(t||"").match(ae)||[""],u=t.length;u--;)if(a=Pe.exec(t[u])||[],d=m=a[1],f=(a[2]||"").split(".").sort(),d){for(h=re.event.special[d]||{},d=(n?h.delegateType:h.bindType)||d,p=l[d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=p.length;r--;)c=p[r],!s&&m!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(p.splice(r,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(e,c));o&&!p.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||re.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)re.event.remove(e,d+t[u],i,n,!0);re.isEmptyObject(l)&&(delete g.handle,ge.remove(e,"events"))}},trigger:function(i,n,s,r){var o,a,l,u,c,h,p,d=[s||W],f=ne.call(i,"type")?i.type:i,m=ne.call(i,"namespace")?i.namespace.split("."):[];if(a=l=s=s||W,3!==s.nodeType&&8!==s.nodeType&&!Ae.test(f+re.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),c=f.indexOf(":")<0&&"on"+f,i=i[re.expando]?i:new re.Event(f,"object"==typeof i&&i),i.isTrigger=r?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=s),n=null==n?[i]:re.makeArray(n,[i]),p=re.event.special[f]||{},r||!p.trigger||p.trigger.apply(s,n)!==!1)){if(!r&&!p.noBubble&&!re.isWindow(s)){for(u=p.delegateType||f,Ae.test(u+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),l=a;l===(s.ownerDocument||W)&&d.push(l.defaultView||l.parentWindow||e)}for(o=0;(a=d[o++])&&!i.isPropagationStopped();)i.type=o>1?u:p.bindType||f,h=(ge.get(a,"events")||{})[i.type]&&ge.get(a,"handle"),h&&h.apply(a,n),h=c&&a[c],h&&re.acceptData(a)&&h.apply&&h.apply(a,n)===!1&&i.preventDefault();return i.type=f,r||i.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),n)!==!1||!re.acceptData(s)||c&&re.isFunction(s[f])&&!re.isWindow(s)&&(l=s[c],l&&(s[c]=null),re.event.triggered=f,s[f](),re.event.triggered=t,l&&(s[c]=l)),i.result}},dispatch:function(e){e=re.event.fix(e);var i,n,s,r,o,a=[],l=ee.call(arguments),u=(ge.get(this,"events")||{})[e.type]||[],c=re.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=re.event.handlers.call(this,e,u),i=0;(r=a[i++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,s=((re.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),s!==t&&(e.result=s)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,s,r,o,a=[],l=i.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(s=[],n=0;l>n;n++)o=i[n],r=o.selector+" ",s[r]===t&&(s[r]=o.needsContext?re(r,this).index(u)>=0:re.find(r,this,null,[u]).length),s[r]&&s.push(o);s.length&&a.push({elem:u,handlers:s})}return l<i.length&&a.push({elem:this,handlers:i.slice(l)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,s,r,o=i.button;return null==e.pageX&&null!=i.clientX&&(n=e.target.ownerDocument||W,s=n.documentElement,r=n.body,e.pageX=i.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=i.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[re.expando])return e;var t,i,n,s=e.type,r=e,o=this.fixHooks[s];for(o||(this.fixHooks[s]=o=Ce.test(s)?this.mouseHooks:Ee.test(s)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new re.Event(r),t=n.length;t--;)i=n[t],e[i]=r[i];return e.target||(e.target=W),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&re.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return re.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var s=re.extend(new re.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?re.event.trigger(s,null,t):re.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},re.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},re.Event=function(e,t){return this instanceof re.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?o:a):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),void(this[re.expando]=!0)):new re.Event(e,t)},re.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=o,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=o,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){re.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,r=e.handleObj;return s&&(s===n||re.contains(n,s))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),re.support.focusinBubbles||re.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){re.event.simulate(t,e.target,re.event.fix(e),!0)};re.event.special[t]={setup:function(){0===i++&&W.addEventListener(e,n,!0)},teardown:function(){0===--i&&W.removeEventListener(e,n,!0)}}}),re.fn.extend({on:function(e,i,n,s,r){var o,l;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(l in e)this.on(l,i,n,e[l],r);return this}if(null==n&&null==s?(s=i,n=i=t):null==s&&("string"==typeof i?(s=n,n=t):(s=n,n=i,i=t)),s===!1)s=a;else if(!s)return this;return 1===r&&(o=s,s=function(e){return re().off(e),o.apply(this,arguments)},s.guid=o.guid||(o.guid=re.guid++)),this.each(function(){re.event.add(this,e,s,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var s,r;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,re(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(r in e)this.off(r,i,e[r]);return this}return i!==!1&&"function"!=typeof i||(n=i,i=t),n===!1&&(n=a),this.each(function(){re.event.remove(this,e,n,i)})},trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?re.event.trigger(e,t,i,!0):void 0}});var _e=/^.[^:#\[\.,]*$/,Ie=/^(?:parents|prev(?:Until|All))/,ke=re.expr.match.needsContext,Re={children:!0,contents:!0,next:!0,prev:!0};re.fn.extend({find:function(e){var t,i=[],n=this,s=n.length;if("string"!=typeof e)return this.pushStack(re(e).filter(function(){for(t=0;s>t;t++)if(re.contains(n[t],this))return!0}));for(t=0;s>t;t++)re.find(e,n[t],i);return i=this.pushStack(s>1?re.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t=re(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(re.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e||[],!0))},filter:function(e){return this.pushStack(c(this,e||[],!1))},is:function(e){return!!c(this,"string"==typeof e&&ke.test(e)?re(e):e||[],!1).length},closest:function(e,t){for(var i,n=0,s=this.length,r=[],o=ke.test(e)||"string"!=typeof e?re(e,t||this.context):0;s>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&re.find.matchesSelector(i,e))){i=r.push(i);break}return this.pushStack(r.length>1?re.unique(r):r)},index:function(e){return e?"string"==typeof e?te.call(re(e),this[0]):te.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?re(e,t):re.makeArray(e&&e.nodeType?[e]:e),n=re.merge(this.get(),i);return this.pushStack(re.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return re.dir(e,"parentNode")},parentsUntil:function(e,t,i){return re.dir(e,"parentNode",i)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return re.dir(e,"nextSibling")},prevAll:function(e){return re.dir(e,"previousSibling")},nextUntil:function(e,t,i){return re.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return re.dir(e,"previousSibling",i)},siblings:function(e){return re.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return re.sibling(e.firstChild)},contents:function(e){return e.contentDocument||re.merge([],e.childNodes)}},function(e,t){re.fn[e]=function(i,n){var s=re.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=re.filter(n,s)),this.length>1&&(Re[e]||re.unique(s),Ie.test(e)&&s.reverse()),this.pushStack(s)}}),re.extend({filter:function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?re.find.matchesSelector(n,e)?[n]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,i,n){for(var s=[],r=n!==t;(e=e[i])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&re(e).is(n))break;s.push(e)}return s},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Le=/<([\w:]+)/,Me=/<|&#?\w+;/,De=/<(?:script|style|link)/i,Ne=/^(?:checkbox|radio)$/i,Ve=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^$|\/(?:java|ecma)script/i,je=/^true\/(.*)/,Ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,re.fn.extend({text:function(e){return re.access(this,function(e){return e===t?re.text(this):this.empty().append((this[0]&&this[0].ownerDocument||W).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?re.filter(e,this):this,s=0;null!=(i=n[s]);s++)t||1!==i.nodeType||re.cleanData(g(i)),i.parentNode&&(t&&re.contains(i.ownerDocument,i)&&f(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(re.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return re.access(this,function(e){var i=this[0]||{},n=0,s=this.length;if(e===t&&1===i.nodeType)return i.innerHTML;if("string"==typeof e&&!De.test(e)&&!Fe[(Le.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Oe,"<$1></$2>");try{for(;s>n;n++)i=this[n]||{},1===i.nodeType&&(re.cleanData(g(i,!1)),i.innerHTML=e);i=0}catch(r){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=re.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(i){var n=e[t++],s=e[t++];s&&(n&&n.parentNode!==s&&(n=this.nextSibling),re(this).remove(),s.insertBefore(i,n))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){e=J.apply([],e);var n,s,r,o,a,l,u=0,c=this.length,h=this,f=c-1,m=e[0],v=re.isFunction(m);if(v||!(1>=c||"string"!=typeof m||re.support.checkClone)&&Ve.test(m))return this.each(function(n){var s=h.eq(n);v&&(e[0]=m.call(this,n,s.html())),s.domManip(e,t,i)});if(c&&(n=re.buildFragment(e,this[0].ownerDocument,!1,!i&&this),s=n.firstChild,1===n.childNodes.length&&(n=s),s)){for(r=re.map(g(n,"script"),p),o=r.length;c>u;u++)a=n,u!==f&&(a=re.clone(a,!0,!0),o&&re.merge(r,g(a,"script"))),t.call(this[u],a,u);if(o)for(l=r[r.length-1].ownerDocument,re.map(r,d),u=0;o>u;u++)a=r[u],Be.test(a.type||"")&&!ge.access(a,"globalEval")&&re.contains(l,a)&&(a.src?re._evalUrl(a.src):re.globalEval(a.textContent.replace(Ue,"")))}return this}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){re.fn[e]=function(e){for(var i,n=[],s=re(e),r=s.length-1,o=0;r>=o;o++)i=o===r?this:this.clone(!0),re(s[o])[t](i),Z.apply(n,i.get());return this.pushStack(n)}}),re.extend({clone:function(e,t,i){var n,s,r,o,a=e.cloneNode(!0),l=re.contains(e.ownerDocument,e);if(!(re.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e)))for(o=g(a),r=g(e),n=0,s=r.length;s>n;n++)v(r[n],o[n]);if(t)if(i)for(r=r||g(e),o=o||g(a),n=0,s=r.length;s>n;n++)m(r[n],o[n]);else m(e,a);return o=g(a,"script"),o.length>0&&f(o,!l&&g(e,"script")),a},buildFragment:function(e,t,i,n){for(var s,r,o,a,l,u,c=0,h=e.length,p=t.createDocumentFragment(),d=[];h>c;c++)if(s=e[c],s||0===s)if("object"===re.type(s))re.merge(d,s.nodeType?[s]:s);else if(Me.test(s)){for(r=r||p.appendChild(t.createElement("div")),o=(Le.exec(s)||["",""])[1].toLowerCase(),a=Fe[o]||Fe._default,r.innerHTML=a[1]+s.replace(Oe,"<$1></$2>")+a[2],u=a[0];u--;)r=r.lastChild;re.merge(d,r.childNodes),r=p.firstChild,r.textContent=""}else d.push(t.createTextNode(s));for(p.textContent="",c=0;s=d[c++];)if((!n||-1===re.inArray(s,n))&&(l=re.contains(s.ownerDocument,s),r=g(p.appendChild(s),"script"),l&&f(r),i))for(u=0;s=r[u++];)Be.test(s.type||"")&&i.push(s);return p},cleanData:function(e){for(var i,n,r,o,a,l,u=re.event.special,c=0;(n=e[c])!==t;c++){if(s.accepts(n)&&(a=n[ge.expando],a&&(i=ge.cache[a]))){if(r=Object.keys(i.events||{}),r.length)for(l=0;(o=r[l])!==t;l++)u[o]?re.event.remove(n,o):re.removeEvent(n,o,i.handle);ge.cache[a]&&delete ge.cache[a]}delete me.cache[n[me.expando]]}},_evalUrl:function(e){return re.ajax({url:e,type:"GET",dataType:"script",
async:!1,global:!1,"throws":!0})}}),re.fn.extend({wrapAll:function(e){var t;return re.isFunction(e)?this.each(function(t){re(this).wrapAll(e.call(this,t))}):(this[0]&&(t=re(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return re.isFunction(e)?this.each(function(t){re(this).wrapInner(e.call(this,t))}):this.each(function(){var t=re(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=re.isFunction(e);return this.each(function(i){re(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}});var He,qe,Ge=/^(none|table(?!-c[ea]).+)/,We=/^margin/,ze=new RegExp("^("+oe+")(.*)$","i"),Ye=new RegExp("^("+oe+")(?!px)[a-z%]+$","i"),Xe=new RegExp("^([+-])=("+oe+")","i"),Qe={BODY:"block"},Ke={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:0,fontWeight:400},Je=["Top","Right","Bottom","Left"],Ze=["Webkit","O","Moz","ms"];re.fn.extend({css:function(e,i){return re.access(this,function(e,i,n){var s,r,o={},a=0;if(re.isArray(i)){for(s=w(e),r=i.length;r>a;a++)o[i[a]]=re.css(e,i[a],!1,s);return o}return n!==t?re.style(e,i,n):re.css(e,i)},e,i,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){b(this)?re(this).show():re(this).hide()})}}),re.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=He(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,i,n,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,l=re.camelCase(i),u=e.style;return i=re.cssProps[l]||(re.cssProps[l]=y(u,l)),a=re.cssHooks[i]||re.cssHooks[l],n===t?a&&"get"in a&&(r=a.get(e,!1,s))!==t?r:u[i]:(o=typeof n,"string"===o&&(r=Xe.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(re.css(e,i)),o="number"),null==n||"number"===o&&isNaN(n)||("number"!==o||re.cssNumber[l]||(n+="px"),re.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(u[i]="inherit"),a&&"set"in a&&(n=a.set(e,n,s))===t||(u[i]=n)),void 0)}},css:function(e,i,n,s){var r,o,a,l=re.camelCase(i);return i=re.cssProps[l]||(re.cssProps[l]=y(e.style,l)),a=re.cssHooks[i]||re.cssHooks[l],a&&"get"in a&&(r=a.get(e,!0,n)),r===t&&(r=He(e,i,s)),"normal"===r&&i in $e&&(r=$e[i]),""===n||n?(o=parseFloat(r),n===!0||re.isNumeric(o)?o||0:r):r}}),He=function(e,i,n){var s,r,o,a=n||w(e),l=a?a.getPropertyValue(i)||a[i]:t,u=e.style;return a&&(""!==l||re.contains(e.ownerDocument,e)||(l=re.style(e,i)),Ye.test(l)&&We.test(i)&&(s=u.width,r=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=a.width,u.width=s,u.minWidth=r,u.maxWidth=o)),l},re.each(["height","width"],function(e,t){re.cssHooks[t]={get:function(e,i,n){return i?0===e.offsetWidth&&Ge.test(re.css(e,"display"))?re.swap(e,Ke,function(){return E(e,t,n)}):E(e,t,n):void 0},set:function(e,i,n){var s=n&&w(e);return x(e,i,n?T(e,t,n,re.support.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,s),s):0)}}}),re(function(){re.support.reliableMarginRight||(re.cssHooks.marginRight={get:function(e,t){return t?re.swap(e,{display:"inline-block"},He,[e,"marginRight"]):void 0}}),!re.support.pixelPosition&&re.fn.position&&re.each(["top","left"],function(e,t){re.cssHooks[t]={get:function(e,i){return i?(i=He(e,t),Ye.test(i)?re(e).position()[t]+"px":i):void 0}}})}),re.expr&&re.expr.filters&&(re.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},re.expr.filters.visible=function(e){return!re.expr.filters.hidden(e)}),re.each({margin:"",padding:"",border:"Width"},function(e,t){re.cssHooks[e+t]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];4>n;n++)s[e+Je[n]+t]=r[n]||r[n-2]||r[0];return s}},We.test(e)||(re.cssHooks[e+t].set=x)});var et=/%20/g,tt=/\[\]$/,it=/\r?\n/g,nt=/^(?:submit|button|image|reset|file)$/i,st=/^(?:input|select|textarea|keygen)/i;re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,"elements");return e?re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!re(this).is(":disabled")&&st.test(this.nodeName)&&!nt.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var i=re(this).val();return null==i?null:re.isArray(i)?re.map(i,function(e){return{name:t.name,value:e.replace(it,"\r\n")}}):{name:t.name,value:i.replace(it,"\r\n")}}).get()}}),re.param=function(e,i){var n,s=[],r=function(e,t){t=re.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(e)||e.jquery&&!re.isPlainObject(e))re.each(e,function(){r(this.name,this.value)});else for(n in e)P(n,e[n],i,r);return s.join("&").replace(et,"+")},re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){re.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var rt,ot,at=re.now(),lt=/\?/,ut=/#.*$/,ct=/([?&])_=[^&]*/,ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,dt=/^(?:GET|HEAD)$/,ft=/^\/\//,mt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,gt=re.fn.load,vt={},yt={},bt="*/".concat("*");try{ot=G.href}catch(wt){ot=W.createElement("a"),ot.href="",ot=ot.href}rt=mt.exec(ot.toLowerCase())||[],re.fn.load=function(e,i,n){if("string"!=typeof e&&gt)return gt.apply(this,arguments);var s,r,o,a=this,l=e.indexOf(" ");return l>=0&&(s=e.slice(l),e=e.slice(0,l)),re.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(r="POST"),a.length>0&&re.ajax({url:e,type:r,dataType:"html",data:i}).done(function(e){o=arguments,a.html(s?re("<div>").append(re.parseHTML(e)).find(s):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ot,type:"GET",isLocal:pt.test(rt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?k(k(e,re.ajaxSettings),t):k(re.ajaxSettings,e)},ajaxPrefilter:_(vt),ajaxTransport:_(yt),ajax:function(e,i){function n(e,i,n,a){var u,h,y,b,S,T=i;2!==w&&(w=2,l&&clearTimeout(l),s=t,o=a||"",x.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(b=R(p,x,n)),b=O(p,b,x,u),u?(p.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(re.lastModified[r]=S),S=x.getResponseHeader("etag"),S&&(re.etag[r]=S)),204===e||"HEAD"===p.type?T="nocontent":304===e?T="notmodified":(T=b.state,h=b.data,y=b.error,u=!y)):(y=T,!e&&T||(T="error",0>e&&(e=0))),x.status=e,x.statusText=(i||T)+"",u?m.resolveWith(d,[h,T,x]):m.rejectWith(d,[x,T,y]),x.statusCode(v),v=t,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[x,p,u?h:y]),g.fireWith(d,[x,T]),c&&(f.trigger("ajaxComplete",[x,p]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var s,r,o,a,l,u,c,h,p=re.ajaxSetup({},i),d=p.context||p,f=p.context&&(d.nodeType||d.jquery)?re(d):re.event,m=re.Deferred(),g=re.Callbacks("once memory"),v=p.statusCode||{},y={},b={},w=0,S="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!a)for(a={};t=ht.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=b[i]=b[i]||e,y[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||S;return s&&s.abort(t),n(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||ot)+"").replace(ut,"").replace(ft,rt[1]+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=re.trim(p.dataType||"*").toLowerCase().match(ae)||[""],null==p.crossDomain&&(u=mt.exec(p.url.toLowerCase()),p.crossDomain=!(!u||u[1]===rt[1]&&u[2]===rt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(rt[3]||("http:"===rt[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=re.param(p.data,p.traditional)),I(vt,p,i,x),2===w)return x;c=p.global,c&&0===re.active++&&re.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!dt.test(p.type),r=p.url,p.hasContent||(p.data&&(r=p.url+=(lt.test(r)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=ct.test(r)?r.replace(ct,"$1_="+at++):r+(lt.test(r)?"&":"?")+"_="+at++)),p.ifModified&&(re.lastModified[r]&&x.setRequestHeader("If-Modified-Since",re.lastModified[r]),re.etag[r]&&x.setRequestHeader("If-None-Match",re.etag[r])),(p.data&&p.hasContent&&p.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+bt+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)x.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(d,x,p)===!1||2===w))return x.abort();S="abort";for(h in{success:1,error:1,complete:1})x[h](p[h]);if(s=I(yt,p,i,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},p.timeout));try{w=1,s.send(y,n)}catch(T){if(!(2>w))throw T;n(-1,T)}}else n(-1,"No Transport");return x},getJSON:function(e,t,i){return re.get(e,t,i,"json")},getScript:function(e,i){return re.get(e,t,i,"script")}}),re.each(["get","post"],function(e,i){re[i]=function(e,n,s,r){return re.isFunction(n)&&(r=r||s,s=n,n=t),re.ajax({url:e,type:i,dataType:r,data:n,success:s})}}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),re.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,s){t=re("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&s("error"===e.type?404:200,e.type)}),W.head.appendChild(t[0])},abort:function(){i&&i()}}}});var St=[],xt=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=St.pop()||re.expando+"_"+at++;return this[e]=!0,e}}),re.ajaxPrefilter("json jsonp",function(i,n,s){var r,o,a,l=i.jsonp!==!1&&(xt.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&xt.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(r=i.jsonpCallback=re.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(xt,"$1"+r):i.jsonp!==!1&&(i.url+=(lt.test(i.url)?"&":"?")+i.jsonp+"="+r),i.converters["script json"]=function(){return a||re.error(r+" was not called"),a[0]},i.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},s.always(function(){e[r]=o,i[r]&&(i.jsonpCallback=n.jsonpCallback,St.push(r)),a&&re.isFunction(o)&&o(a[0]),a=o=t}),"script"):void 0}),re.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Tt=re.ajaxSettings.xhr(),Et={0:200,1223:204},Ct=0,At={};e.ActiveXObject&&re(e).on("unload",function(){for(var e in At)At[e]();At=t}),re.support.cors=!!Tt&&"withCredentials"in Tt,re.support.ajax=Tt=!!Tt,re.ajaxTransport(function(e){var i;return re.support.cors||Tt&&!e.crossDomain?{send:function(n,s){var r,o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)a.setRequestHeader(r,n[r]);i=function(e){return function(){i&&(delete At[o],i=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?s(a.status||404,a.statusText):s(Et[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:t,a.getAllResponseHeaders()))}},a.onload=i(),a.onerror=i("error"),i=At[o=Ct++]=i("abort"),a.send(e.hasContent&&e.data||null)},abort:function(){i&&i()}}:void 0});var Pt,_t,It=/^(?:toggle|show|hide)$/,kt=new RegExp("^(?:([+-])=|)("+oe+")([a-z%]*)$","i"),Rt=/queueHooks$/,Ot=[V],Lt={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),s=kt.exec(t),r=s&&s[3]||(re.cssNumber[e]?"":"px"),o=(re.cssNumber[e]||"px"!==r&&+n)&&kt.exec(re.css(i.elem,e)),a=1,l=20;if(o&&o[3]!==r){r=r||o[3],s=s||[],o=+n||1;do a=a||".5",o/=a,re.style(i.elem,e,o+r);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return s&&(o=i.start=+o||+n||0,i.unit=r,i.end=s[1]?o+(s[1]+1)*s[2]:+s[2]),i}]};re.Animation=re.extend(D,{tweener:function(e,t){re.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;s>n;n++)i=e[n],Lt[i]=Lt[i]||[],Lt[i].unshift(t)},prefilter:function(e,t){t?Ot.unshift(e):Ot.push(e)}}),re.Tween=B,B.prototype={constructor:B,init:function(e,t,i,n,s,r){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(re.cssNumber[i]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,i=B.propHooks[this.prop];return this.options.duration?this.pos=t=re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=re.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[re.cssProps[e.prop]]||re.cssHooks[e.prop])?re.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.each(["toggle","show","hide"],function(e,t){var i=re.fn[t];re.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(j(t,!0),e,n,s)}}),re.fn.extend({fadeTo:function(e,t,i,n){return this.filter(b).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=re.isEmptyObject(e),r=re.speed(t,i,n),o=function(){var t=D(this,re.extend({},e),r);(s||ge.get(this,"finish"))&&t.stop(!0)};return o.finish=o,s||r.queue===!1?this.each(o):this.queue(r.queue,o)},stop:function(e,i,n){var s=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",r=re.timers,o=ge.get(this);if(i)o[i]&&o[i].stop&&s(o[i]);else for(i in o)o[i]&&o[i].stop&&Rt.test(i)&&s(o[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));!t&&n||re.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ge.get(this),n=i[e+"queue"],s=i[e+"queueHooks"],r=re.timers,o=n?n.length:0;for(i.finish=!0,re.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;o>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),re.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){re.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),re.speed=function(e,t,i){var n=e&&"object"==typeof e?re.extend({},e):{complete:i||!i&&t||re.isFunction(e)&&e,duration:e,easing:i&&t||t&&!re.isFunction(t)&&t};return n.duration=re.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in re.fx.speeds?re.fx.speeds[n.duration]:re.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){re.isFunction(n.old)&&n.old.call(this),n.queue&&re.dequeue(this,n.queue)},n},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},re.timers=[],re.fx=B.prototype.init,re.fx.tick=function(){var e,i=re.timers,n=0;for(Pt=re.now();n<i.length;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||re.fx.stop(),Pt=t},re.fx.timer=function(e){e()&&re.timers.push(e)&&re.fx.start()},re.fx.interval=13,re.fx.start=function(){_t||(_t=setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){clearInterval(_t),_t=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fx.step={},re.expr&&re.expr.filters&&(re.expr.filters.animated=function(e){return re.grep(re.timers,function(t){return e===t.elem}).length}),re.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){re.offset.setOffset(this,e,t)});var i,n,s=this[0],r={top:0,left:0},o=s&&s.ownerDocument;if(o)return i=o.documentElement,re.contains(i,s)?(typeof s.getBoundingClientRect!==q&&(r=s.getBoundingClientRect()),n=U(o),{top:r.top+n.pageYOffset-i.clientTop,left:r.left+n.pageXOffset-i.clientLeft}):r},re.offset={setOffset:function(e,t,i){var n,s,r,o,a,l,u,c=re.css(e,"position"),h=re(e),p={};"static"===c&&(e.style.position="relative"),a=h.offset(),r=re.css(e,"top"),l=re.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1,u?(n=h.position(),o=n.top,s=n.left):(o=parseFloat(r)||0,s=parseFloat(l)||0),re.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(p.top=t.top-a.top+o),null!=t.left&&(p.left=t.left-a.left+s),"using"in t?t.using.call(e,p):h.css(p)}},re.fn.extend({position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===re.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),re.nodeName(e[0],"html")||(n=e.offset()),n.top+=re.css(e[0],"borderTopWidth",!0),n.left+=re.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-re.css(i,"marginTop",!0),left:t.left-n.left-re.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||z;e&&!re.nodeName(e,"html")&&"static"===re.css(e,"position");)e=e.offsetParent;return e||z})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,n){var s="pageYOffset"===n;re.fn[i]=function(r){return re.access(this,function(i,r,o){var a=U(i);return o===t?a?a[n]:i[r]:void(a?a.scrollTo(s?e.pageXOffset:o,s?o:e.pageYOffset):i[r]=o)},i,r,arguments.length,null)}}),re.each({Height:"height",Width:"width"},function(e,i){re.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,s){re.fn[s]=function(s,r){var o=arguments.length&&(n||"boolean"!=typeof s),a=n||(s===!0||r===!0?"margin":"border");return re.access(this,function(i,n,s){var r;return re.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(r=i.documentElement,Math.max(i.body["scroll"+e],r["scroll"+e],i.body["offset"+e],r["offset"+e],r["client"+e])):s===t?re.css(i,n,a):re.style(i,n,s,a)},i,o?s:t,o,null)}})}),re.fn.size=function(){return this.length},re.fn.andSelf=re.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=re:"function"==typeof define&&define.amd&&define("jquery",[],function(){return re}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=re)}(window),function(){"use strict";require.config({map:{"*":{underscore:"lodash"}}})}(),define("helpers/lodashMap",function(){}),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(i,n,s){e.Backbone=t(e,s,i,n)});else if("undefined"!=typeof exports){var i=require("underscore");t(e,exports,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,i,n){var s=e.Backbone,r=[],o=(r.push,r.slice);r.splice;t.VERSION="1.1.2",t.$=n,t.noConflict=function(){return e.Backbone=s,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=t.Events={on:function(e,t,i){if(!u(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);return n.push({callback:t,context:i,ctx:i||this}),this},once:function(e,t,n){if(!u(this,"once",e,[t,n])||!t)return this;var s=this,r=i.once(function(){s.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var s,r,o,a,l,c,h,p;if(!this._events||!u(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(a=e?[e]:i.keys(this._events),l=0,c=a.length;c>l;l++)if(e=a[l],o=this._events[e]){if(this._events[e]=s=[],t||n)for(h=0,p=o.length;p>h;h++)r=o[h],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&s.push(r);s.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!u(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&c(i,t),n&&c(n,arguments),this},stopListening:function(e,t,n){var s=this._listeningTo;if(!s)return this;var r=!t&&!n;n||"object"!=typeof t||(n=this),e&&((s={})[e._listenId]=e);for(var o in s)e=s[o],e.off(t,n,this),(r||i.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,u=function(e,t,i,n){if(!i)return!0;if("object"==typeof i){for(var s in i)e[t].apply(e,[s,i[s]].concat(n));return!1}if(l.test(i)){for(var r=i.split(l),o=0,a=r.length;a>o;o++)e[t].apply(e,[r[o]].concat(n));return!1}return!0},c=function(e,t){var i,n=-1,s=e.length,r=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++n<s;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=e[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=e[n]).callback.call(i.ctx,r,o);return;case 3:for(;++n<s;)(i=e[n]).callback.call(i.ctx,r,o,a);return;default:for(;++n<s;)(i=e[n]).callback.apply(i.ctx,t);return}},h={listenTo:"on",listenToOnce:"once"};i.each(h,function(e,t){a[t]=function(t,n,s){var r=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=i.uniqueId("l"));return r[o]=t,s||"object"!=typeof n||(s=this),t[e](n,s,this),this}}),a.bind=a.on,a.unbind=a.off,i.extend(t,a);var p=t.Model=function(e,t){var n=e||{};t||(t={}),this.cid=i.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};i.extend(p.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return i.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return i.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var s,r,o,a,l,u,c,h;if(null==e)return this;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;o=n.unset,l=n.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=i.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(s in r)t=r[s],i.isEqual(h[s],t)||a.push(s),i.isEqual(c[s],t)?delete this.changed[s]:this.changed[s]=t,o?delete h[s]:h[s]=t;if(!l){a.length&&(this._pending=n);for(var p=0,d=a.length;d>p;p++)this.trigger("change:"+a[p],this,h[a[p]],n)}if(u)return this;if(!l)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,i.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,i.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!i.isEmpty(this.changed):i.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?i.clone(this.changed):!1;var t,n=!1,s=this._changing?this._previousAttributes:this.attributes;for(var r in e)i.isEqual(s[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(e){e=e?i.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),void t.trigger("sync",t,i,e)):!1},V(this,e),this.sync("read",this,e)},save:function(e,t,n){var s,r,o,a=this.attributes;if(null==e||"object"==typeof e?(s=e,n=t):(s={})[e]=t,n=i.extend({validate:!0},n),s&&!n.wait){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;s&&n.wait&&(this.attributes=i.extend({},a,s)),void 0===n.parse&&(n.parse=!0);var l=this,u=n.success;return n.success=function(e){l.attributes=a;var t=l.parse(e,n);return n.wait&&(t=i.extend(s||{},t)),i.isObject(t)&&!l.set(t,n)?!1:(u&&u(l,e,n),void l.trigger("sync",l,e,n))},V(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=s),o=this.sync(r,this,n),s&&n.wait&&(this.attributes=a),o},destroy:function(e){e=e?i.clone(e):{};var t=this,n=e.success,s=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(i){(e.wait||t.isNew())&&s(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)},this.isNew())return e.success(),!1;V(this,e);var r=this.sync("delete",this,e);return e.wait||s(),r},url:function(){var e=i.result(this,"urlRoot")||i.result(this.collection,"url")||N();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},i.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=i.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,i.extend(t,{validationError:n})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];i.each(d,function(e){p.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),i[e].apply(i,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,i.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};i.extend(f.prototype,a,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,i.extend({merge:!1},t,g))},remove:function(e,t){var n=!i.isArray(e);e=n?[e]:i.clone(e),t||(t={});var s,r,o,a;for(s=0,r=e.length;r>s;s++)a=e[s]=this.get(e[s]),a&&(delete this._byId[a.id],delete this._byId[a.cid],o=this.indexOf(a),this.models.splice(o,1),this.length--,t.silent||(t.index=o,a.trigger("remove",a,this,t)),this._removeReference(a,t));return n?e[0]:e},set:function(e,t){t=i.defaults({},t,m),t.parse&&(e=this.parse(e,t));var n=!i.isArray(e);e=n?e?[e]:[]:i.clone(e);var s,r,o,a,l,u,c,h=t.at,d=this.model,f=this.comparator&&null==h&&t.sort!==!1,g=i.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=t.add,S=t.merge,x=t.remove,T=!f&&w&&x?[]:!1;for(s=0,r=e.length;r>s;s++){if(l=e[s]||{},o=l instanceof p?a=l:l[d.prototype.idAttribute||"id"],u=this.get(o))x&&(b[u.cid]=!0),S&&(l=l===a?a.attributes:l,t.parse&&(l=u.parse(l,t)),u.set(l,t),f&&!c&&u.hasChanged(g)&&(c=!0)),e[s]=u;else if(w){if(a=e[s]=this._prepareModel(l,t),!a)continue;v.push(a),this._addReference(a,t)}a=u||a,!T||!a.isNew()&&b[a.id]||T.push(a),b[a.id]=!0}if(x){for(s=0,r=this.length;r>s;++s)b[(a=this.models[s]).cid]||y.push(a);y.length&&this.remove(y,t)}if(v.length||T&&T.length)if(f&&(c=!0),this.length+=v.length,null!=h)for(s=0,r=v.length;r>s;s++)this.models.splice(h+s,0,v[s]);else{T&&(this.models.length=0);var E=T||v;for(s=0,r=E.length;r>s;s++)this.models.push(E[s])}if(c&&this.sort({silent:!0}),!t.silent){for(s=0,r=v.length;r>s;s++)(a=v[s]).trigger("add",a,this,t);(c||T&&T.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,s=this.models.length;s>n;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,i.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,i.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,i.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return o.apply(this.models,arguments)},get:function(e){return null!=e?this._byId[e]||this._byId[e.id]||this._byId[e.cid]:void 0},at:function(e){return this.models[e]},where:function(e,t){return i.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return i.invoke(this.models,"get",e)},fetch:function(e){e=e?i.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var s=e.reset?"reset":"set";n[s](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},V(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?i.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,s=t.success;return t.success=function(e,i){t.wait&&n.add(e,t),s&&s(e,i,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e;t=t?i.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_addReference:function(e,t){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];
i.each(v,function(e){f.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),i[e].apply(i,t)}});var y=["groupBy","countBy","sortBy","indexBy"];i.each(y,function(e){f.prototype[e]=function(t,n){var s=i.isFunction(t)?t:function(e){return e.get(t)};return i[e](this.models,s,n)}});var b=t.View=function(e){this.cid=i.uniqueId("view"),e||(e={}),i.extend(this,i.pick(e,S)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];i.extend(b.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=i.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(i.isFunction(n)||(n=this[e[t]]),n){var s=t.match(w),r=s[1],o=s[2];n=i.bind(n,this),r+=".delegateEvents"+this.cid,""===o?this.$el.on(r,n):this.$el.on(r,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var e=i.extend({},i.result(this,"attributes"));this.id&&(e.id=i.result(this,"id")),this.className&&(e["class"]=i.result(this,"className"));var n=t.$("<"+i.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,s){var r=T[e];i.defaults(s||(s={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:r,dataType:"json"};if(s.url||(o.url=i.result(n,"url")||N()),null!=s.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){o.type="POST",s.emulateJSON&&(o.data._method=r);var a=s.beforeSend;s.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),a?a.apply(this,arguments):void 0}}"GET"===o.type||s.emulateJSON||(o.processData=!1),"PATCH"===o.type&&x&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=s.xhr=t.ajax(i.extend(o,s));return n.trigger("request",n,l,s),l};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var E=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,P=/\*\w+/g,_=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(E.prototype,a,{initialize:function(){},route:function(e,n,s){i.isRegExp(e)||(e=this._routeToRegExp(e)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return t.history.route(e,function(i){var o=r._extractParameters(e,i);r.execute(s,o),r.trigger.apply(r,["route:"+n].concat(o)),r.trigger("route",n,o),t.history.trigger("route",r,n,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var e,t=i.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(_,"\\$&").replace(C,"(?:$1)?").replace(A,function(e,t){return t?e:"([^/?]+)"}).replace(P,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return i.map(n,function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var I=t.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},k=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,O=/msie [\w.]+/,L=/\/$/,M=/#.*$/;I.started=!1,i.extend(I.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(L,"");e.indexOf(i)||(e=e.slice(i.length))}else e=this.getHash();return e.replace(k,"")},start:function(e){if(I.started)throw new Error("Backbone.history has already been started");I.started=!0,this.options=i.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),s=document.documentMode,r=O.exec(navigator.userAgent.toLowerCase())&&(!s||7>=s);if(this.root=("/"+this.root+"/").replace(R,"/"),r&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(k,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),I.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),i.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!I.started)return!1;t&&t!==!0||(t={trigger:!!t});var i=this.root+(e=this.getFragment(e||""));if(e=e.replace(M,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),t.history=new I;var D=function(e,t){var n,s=this;n=e&&i.has(e,"constructor")?e.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,t);var r=function(){this.constructor=n};return r.prototype=s.prototype,n.prototype=new r,e&&i.extend(n.prototype,e),n.__super__=s.prototype,n};p.extend=f.extend=E.extend=b.extend=I.extend=D;var N=function(){throw new Error('A "url" property or function must be specified')},V=function(e,t){var i=t.error;t.error=function(n){i&&i(e,n,t),e.trigger("error",e,n,t)}};return t}),define("helpers/backboneSync",["require","jquery","lodash","backbone"],function(e){"use strict";var t=e("jquery"),i=e("lodash"),n=e("backbone"),s="Must provide a url to fetch model",r="Could not fetch model",o={},a=function(e){return i.first(i.last(e.split("/")).split("."))},l=function(e){var i=new t.Deferred,n=i.promise(),s=document.createElement("script"),r=i.resolve.bind(i),o=i.reject.bind(i);return s.addEventListener("load",r),s.addEventListener("error",o),s.src=e,n.always(function(){s.removeEventListener("load",r),s.removeEventListener("error",o),document.head.removeChild(s),s.src="",s=null}),document.head.appendChild(s),n},u={origSync:n.sync,scriptSync:function(e,n,u){var c,h=u.url||i.result(n,"url"),p=new t.Deferred,d=p.promise();return h?(c=n.id||a(h),l(h).done(function(){var e=o[c];o[c]=null,u.success(e),p.resolve(e)}).fail(function(){u.error(r),p.reject(r)}),d):(p.reject(s),d)},sync:function(e,t,i){var n="read"===e?"scriptSync":"origSync";return u[n].apply(this,arguments)}};return n.sync=u.sync,window.globalProvideData=function(e,t){var i=JSON.parse(t),n="slide"===e?i.id:e;o[n]=i},u}),define("helpers/pubSub",["require","backbone","lodash"],function(e){"use strict";var t=e("backbone"),i=e("lodash"),n=i.extend({},t.Events);return n}),define("helpers/events",["require"],function(e){"use strict";var t={actionlink:{EVENT:"actionlink:event",VIEWED:"actionlink:viewed"},animation:{CREATED:"animation:created",DESTROYED:"animation:destroyed"},app:{COMPLETE:"app:complete",BRANDING_COLOR:"app:brandingColor",PRESENTATION_POSITION:"app:presentationPosition"},audioClip:{ENDED:"audioClip:ended",TIME_UPDATE:"audioClip:timeUpdate"},captions:{SHOW_BUTTON:"captions:showbutton",HIDE_BUTTON:"captions:hidebutton",RENDER:"captions:render",ENABLED:"captions:enabled",ENABLE:"captions:enable"},controlLayout:{CHANGED:"controllayout:changed"},course:{COMPLETED:"course:completed",VIEWED:"course:viewed",MANUALLY_COMPLETED:"course:manuallyCompleted"},customlink:{EVENT:"customlink:event"},data:{INITIALIZED:"data:initialized",UPDATED:"data:updated"},detection:{VISIBILITY_HIDDEN:"detection:visibilityhidden",VISIBILITY_SHOWN:"detection:visibilityshown",ORIENTATION_CHANGE:"detection:orientationChange"},draw:{RESET:"draw:reset",RESET_COMPLETE:"draw:resetcomplete",EXIT:"draw:exit"},error:{INTERFACE:"error:interface"},interaction:{EVALUATED:"interaction:evaluated",VIEWED:"interaction:viewed"},keyManager:{FRAME_CONTROL_KEY:"keyManager:frameControlKey"},layer:{HIDDEN:"hidden",HIDE_OTHER_LAYERS:"hideOtherLayers",ACTIVATED:"activated",TIMELINE_ACTIVATED:"layer:timelineActivated",PAUSE_TIMELINE:"layer:pauseTimeline",RESOLVED_OBJECT_VISIBILITY:"layer:resolvedObjectVisibility"},layout:{CHANGED:"layout:changed"},loader:{MUTE:"loader:mute",UNMUTE:"loader:unmute",HIDE:"loader:hide",SHOW:"loader:show",SILENCE:"loader:silence",REMOVE_TITLE:"loader:removeTitle"},media:{CURRENT_TIME:"media:currentTime"},menuLinksListItem:{ITEM_SELECTED:"menuLinksListItem:itemSelected",TOGGLE:"menuLinksListItem:toggle"},mobile:{PRESENTATION_VISIBLE:"mobileChromeKiller:presentationVisible",ENTER_THUMB_VIEW:"mobileStartOverlay:enterThumbView",EXIT_THUMB_VIEW:"mobileStartOverlay:exitThumbView",MENU_OPEN:"uiMobile:menuOpen"},navcontrols:{CHANGED:"navcontrols:changed"},player:{RESET:"player:reset",CLOSING:"player:closing",ERROR:"player:error",MENU_OPTIONS:"player:menuOptions",ENABLE_KEYBOARD_SHORTCUTS:"player:enableKeyboardShortcuts"},popup:{SHOW:"popup:show",HIDE:"popup:hide",TOGGLE:"popup:toggle",EMAIL:"popup:email"},presentation:{ENTER_FULLSCREEN:"presentation:enterFullscreen",EXIT_FULLSCREEN:"presentation:exitFullscreen",ON_OBJECT_EVENT:"presentation:onobjectevent"},preview:{NOTIFY:"preview:notify"},quiz:{COMPLETED:"quiz:completed"},request:{START:"start:requesting",NEXT_SLIDE:"nextSlide:requesting",PREV_SLIDE:"prevSlide:requesting",NEXT_DRAW_SLIDE:"nextDrawSlide:requesting",PREV_HISTORY_GROUP:"prevHistoryGroup:requesting"},resources:{LINK_CLICKED:"resources:linkClicked"},resume:{SET_DATA:"resume:setdata",RESET:"resume:reset",APPLIED:"resume:applied",COMPLETE:"resume:complete",RESET_DATA:"resume:reset-data"},scheme:{CHANGED:"scheme:changed"},search:{START:"search:start",CLEAR:"search:clear",BLUR:"search:blur"},sidebar:{ACTIVE_TAB_SET:"sidebar:activeTabSet",SHOW_SEARCH:"sidebar:showSearch",HIDE_SEARCH:"sidebar:hideSearch",RESIZING:"sidebar:resizing"},slide:{WILL_CHANGE:"slide:willChange",CHANGE:"change:slides",READY:"slide:ready",STARTED:"slide:started",VIEWED:"slide:viewed",TRANSITION_STARTED:"slide:transitionStarted",ON_TRANSITION_IN:"slide:ontransitionin",CURRENT_TIMELINE:"slide:currentTimeline",PAUSE_TIMELINE:"slide:pauseTimeline",PLAY_TIMELINE:"slide:playTimeline",HAS_MOUNTED:"slide:hasMounted",HAS_CHANGED:"slide:hasChanged",ALL_TIMELINES_COMPLETE:"slide:allTimelinesComplete"},slideContainer:{POSITIONED:"slideContainer:positioned"},slideObject:{FOCUS:"slideobject:focus"},status:{UPDATED:"status:updated"},swipe:{CHANGED:"swipe:changed"},timeline:{PLAYING:"timeline:playing",PAUSED:"timeline:paused",RESET:"timeline:reset",TICK:"timeline:tick",ENDED:"timeline:ended",COMPLETE:"timeline:complete",BEFORE_SEEK_UPDATE:"timeline:beforeSeekUpdate",AFTER_SEEK_UPDATE:"timeline:afterSeekUpdate",SEEK_START:"timeline:seekStart",SEEK_END:"timeline:seekEnd",CHANGED:"timeline:changed",CURRENT_TIMELINE:"timeline:currentTimeline"},timer:{SHOWN:"timer:shown",HIDDEN:"timer:hidden"},tincan:{STATEMENT:"tincan:statement"},topbar:{CLOSED_SIDEBAR:"topbar:closedSidebar"},topTabsItem:{ACTIVATE:"topTabsItem:activate",HIDE:"topTabsItem:hide"},tween:{UPDATE:"tween:update"},variable:{CHANGED:"variable:changed",REFRESH_VIEW:"variable:refreshView"},video:{STATE_CHANGED:"video:stateChanged"},volume:{CHANGED:"volume:changed",TOGGLE:"volume:toggle",CHANGE_CURRENT:"change:currentVolume"},window:{CLOSING:"window:closing",CLOSED:"window:closed",CREATED:"window:created",OPEN_EXTERNAL:"externalWindow:open",MAIN_CREATED:"mainWindow:created",MAIN_CHANGED:"mainWindow:slideChanged",SCALE:"window:scale"},windowManager:{CREATED:"windowManager:created"}};return Object.freeze(t),Object.freeze(t.actionlink),Object.freeze(t.animation),Object.freeze(t.app),Object.freeze(t.audioClip),Object.freeze(t.captions),Object.freeze(t.controlLayout),Object.freeze(t.course),Object.freeze(t.customlink),Object.freeze(t.data),Object.freeze(t.detection),Object.freeze(t.draw),Object.freeze(t.error),Object.freeze(t.interaction),Object.freeze(t.keyManager),Object.freeze(t.layer),Object.freeze(t.layout),Object.freeze(t.loader),Object.freeze(t.media),Object.freeze(t.menuLinksListItem),Object.freeze(t.mobile),Object.freeze(t.navcontrols),Object.freeze(t.player),Object.freeze(t.popup),Object.freeze(t.presentation),Object.freeze(t.preview),Object.freeze(t.quiz),Object.freeze(t.request),Object.freeze(t.resources),Object.freeze(t.resume),Object.freeze(t.scheme),Object.freeze(t.search),Object.freeze(t.sidebar),Object.freeze(t.slide),Object.freeze(t.slideContainer),Object.freeze(t.status),Object.freeze(t.swipe),Object.freeze(t.timeline),Object.freeze(t.timer),Object.freeze(t.topbar),Object.freeze(t.topTabsItem),Object.freeze(t.tween),Object.freeze(t.variable),Object.freeze(t.volume),Object.freeze(t.window),Object.freeze(t.windowManager),t}),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var t=window.StyleFix={link:function(e){try{if("stylesheet"!==e.rel||e.hasAttribute("data-noprefix"))return}catch(i){return}var n,s=e.href||e.getAttribute("data-href"),r=s.replace(/[^\/]+$/,""),o=(/^[a-z]{3,10}:/.exec(r)||[""])[0],a=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(r)||[""])[0],l=/^([^?]*)\??/.exec(s)[1],u=e.parentNode,c=new XMLHttpRequest;c.onreadystatechange=function(){4===c.readyState&&n()},n=function(){var i=c.responseText;if(i&&e.parentNode&&(!c.status||400>c.status||600<c.status)){if(i=t.fix(i,!0,e),r)var i=i.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,i){return/^([a-z]{3,10}:|#)/i.test(i)?e:/^\/\//.test(i)?'url("'+o+i+'")':/^\//.test(i)?'url("'+a+i+'")':/^\?/.test(i)?'url("'+l+i+'")':'url("'+r+i+'")'}),n=r.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1"),i=i.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+n,"gi"),"$1");n=document.createElement("style"),n.textContent=i,n.media=e.media,n.disabled=e.disabled,n.setAttribute("data-href",e.getAttribute("href")),u.insertBefore(n,e),u.removeChild(e),n.media=e.media}};try{c.open("GET",s),c.send(null)}catch(h){"undefined"!=typeof XDomainRequest&&(c=new XDomainRequest,c.onerror=c.onprogress=function(){},c.onload=n,c.open("GET",s),c.send(null))}e.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var i=e.disabled;e.textContent=t.fix(e.textContent,!0,e),e.disabled=i}},styleAttribute:function(e){var i=e.getAttribute("style"),i=t.fix(i,!1,e);e.setAttribute("style",i)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,i){(t.fixers=t.fixers||[]).splice(void 0===i?t.fixers.length:i,0,e)},fix:function(e,i,n){for(var s=0;s<t.fixers.length;s++)e=t.fixers[s](e,i,n)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};!function(){setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}()}}(),function(e){function t(e,t,n,s,r){return e=i[e],e.length&&(e=RegExp(t+"("+e.join("|")+")"+n,"gi"),r=r.replace(e,s)),r}if(window.StyleFix&&window.getComputedStyle){var i=window.PrefixFree={prefixCSS:function(e,n,s){var r=i.prefix;if(-1<i.functions.indexOf("linear-gradient")&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(e,t,i,n){return t+(i||"")+"linear-gradient("+(90-n)+"deg"})),e=t("functions","(\\s|:|,)","\\s*\\(","$1"+r+"$2(",e),e=t("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+r+"$2$3",e),e=t("properties","(^|\\{|\\s|;)","\\s*:","$1"+r+"$2:",e),i.properties.length){var o=RegExp("\\b("+i.properties.join("|")+")(?!:)","gi");e=t("valueProperties","\\b",":(.+?);",function(e){return e.replace(o,r+"$1")},e)}return n&&(e=t("selectors","","\\b",i.prefixSelector,e),e=t("atrules","@","\\b","@"+r+"$1",e)),e=e.replace(RegExp("-"+r,"g"),"-"),e=e.replace(/-\*-(?=[a-z]+)/gi,i.prefix)},property:function(e){return(0<=i.properties.indexOf(e)?i.prefix:"")+e},value:function(e,n){return e=t("functions","(^|\\s|,)","\\s*\\(","$1"+i.prefix+"$2(",e),e=t("keywords","(^|\\s)","(\\s|$)","$1"+i.prefix+"$2$3",e),0<=i.valueProperties.indexOf(n)&&(e=t("properties","(^|\\s|,)","($|\\s|,)","$1"+i.prefix+"$2$3",e)),e},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+i.prefix})},prefixProperty:function(e,t){var n=i.prefix+e;return t?StyleFix.camelCase(n):n}};!function(){var e={},t=[],n=getComputedStyle(document.documentElement,null),s=document.createElement("div").style,r=function(i){if("-"===i.charAt(0)){t.push(i),i=i.split("-");var n=i[1];for(e[n]=++e[n]||1;3<i.length;)i.pop(),n=i.join("-"),StyleFix.camelCase(n)in s&&-1===t.indexOf(n)&&t.push(n)}};if(0<n.length)for(var o=0;o<n.length;o++)r(n[o]);else for(var a in n)r(StyleFix.deCamelCase(a));var l,u,o=0;for(u in e)n=e[u],n>o&&(l=u,o=n);for(i.prefix="-"+l+"-",i.Prefix=StyleFix.camelCase(i.prefix),i.properties=[],o=0;o<t.length;o++)a=t[o],0===a.indexOf(i.prefix)&&(l=a.slice(i.prefix.length),StyleFix.camelCase(l)in s||i.properties.push(l));!("Ms"!=i.Prefix||"transform"in s||"MsTransform"in s)&&"msTransform"in s&&i.properties.push("transform","transform-origin"),i.properties.sort()}(),function(){function e(e,t){return r[t]="",r[t]=e,!!r[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var n={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width"};i.functions=[],i.keywords=[];var s,r=document.createElement("div").style;for(s in t){var o=t[s],a=o.property,o=s+"("+o.params+")";!e(o,a)&&e(i.prefix+o,a)&&i.functions.push(s)}for(var l in n)a=n[l],!e(l,a)&&e(i.prefix+l,a)&&i.keywords.push(l)}(),function(){function t(e){return o.textContent=e+"{}",!!o.sheet.cssRules.length}var n={":read-only":null,":read-write":null,":any-link":null,"::selection":null},s={keyframes:"name",viewport:null,document:'regexp(".")'};i.selectors=[],i.atrules=[];var r,o=e.appendChild(document.createElement("style"));for(r in n){var a=r+(n[r]?"("+n[r]+")":"");!t(a)&&t(i.prefixSelector(a))&&i.selectors.push(r)}for(var l in s)a=l+" "+(s[l]||""),!t("@"+a)&&t("@"+i.prefix+a)&&i.atrules.push(l);e.removeChild(o)}(),i.valueProperties=["transition","transition-property"],e.className+=" "+i.prefix,StyleFix.register(i.prefixCSS)}}(document.documentElement),define("prefix-free",function(e){return function(){var t;return t||e.PrefixFree}}(this)),define("helpers/cssPrefix",["require","prefix-free"],function(e){"use strict";var t=e("prefix-free"),i={},n=function(e){var i=t.prefixCSS(e+":").replace(":","");return i.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},s={camelCase:function(e){var t=i[e]||n(e);return i[e]=t,t},kebabCase:function(e){return t.prefix+e}};return s}),define("polyfills/audioContext",[],function(){"use strict";return window.AudioContext||window.webkitAudioContext}),define("polyfills/detection",["require","lodash","helpers/events","helpers/pubSub","helpers/cssPrefix","polyfills/audioContext"],function(e){"use strict";var t=e("lodash"),i=e("helpers/events"),n=e("helpers/pubSub"),s=(e("helpers/cssPrefix"),e("polyfills/audioContext")),r=window.navigator.userAgent.toLowerCase(),o=function(){var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return e=null,null!=t}(),a=function(e){return new RegExp("msie"+(isNaN(e)?"":"\\s"+e),"i").test(navigator.userAgent)},l=window.globals&&window.globals.parsedParams||{},u=function(e){return"1"===l[e]},c=window.isMobile.any,h=window.isMobile.android.device,p=u("forcemobile"),d=u("devicepreview"),f=u("enableFs"),m=u("phone"),g=u("noframe"),v={isMobilePreview:p,isMobileAndNotPreview:c&&!p,isMobile:p||c,isAndroid:h,isWebObject:/(\?|&)wo=1(&|$)/.test(window.location.search),hideFrame:g,isWebKit:function(){return r.indexOf("webkit")>-1},isFF:function(){return r.indexOf("firefox")>-1},isIE:function(){return"ActiveXObject"in window||null!=window.MSBlobBuilder},isIOS:function(){return/(ipad|iphone)/i.test(r)},isWebView:function(){return v.isIOS()&&r.indexOf("version")<0},isUIWebView:function(){return v.isWebView()&&!window.indexedDB},iOSVersion:t.memoize(function(){if(this.isIOS()){var e=/os ([0-9]+)_/.exec(r);return e&&parseInt(e[1])}}),isIosPhoneBefore10:function(){return this.isPhone&&this.isIOS()&&this.iOSVersion()<10},isIE11:function(){return this.isIE()&&null!=window.msCrypto&&!window.ActiveXObject},isIE10:function(){return a(10)},isEdge:function(){return this.isIE()&&null==window.msCrypto&&o},isFileProtocol:function(){return"file:"===document.location.protocol},hasAudioApi:function(){return s&&(!v.isFileProtocol()||v.isMobileAndNotPreview)},isTablet:window.isMobile.tablet,isTouchableTheme:"classic"!==window.globals.themeName&&window.isMobile.any,isClassic:"classic"===window.globals.themeName,isPhone:window.isMobile.phone,isMemoryDeficientDevice:window.isMobile.apple.tablet&&(768===screen.height||768===screen.width),is360:null!=window.vInterfaceObject&&window.autoSpider,forceHideOrientationWarning:!1,isRise:null!=window.vInterfaceObject&&window.vInterfaceObject.isRise,isInIframe:window.top!==window.self};v.isDevicePreview=v.is360&&p&&d,v.isPhonePreview=v.isDevicePreview&&m,v.enableFs=f&&v.isDevicePreview&&!m,v.isTouchableTheme&&(v.isMobile=!1),v.isDesktop=!v.isTablet&&!v.isPhone,v.isMobileOrTouchableTheme=v.isMobile||v.isTouchableTheme,v.isTouchableThemeAndPhone=v.isTouchableTheme&&v.isPhone,v.data360={toggleFullScreen:v.is360&&(v.isTablet||v.isDevicePreview&&v.enableFs)},v.heightScalar=1,v.prevOrientation=null;var y=v.isAndroid?function(){var e;v.forceHideOrientationWarning=!1,e=window.screen.height>window.screen.width?"portrait":"landscape",v.orientation!==e&&(v.forceHideOrientationWarning=!0)}:t.identity,b=function(){document.querySelector(".option-pane"),document.getElementById("presentation");window.innerHeight>window.innerWidth?v.orientation="portrait":v.orientation="landscape",v.innerHeight=window.innerHeight,v.innerWidth=window.innerWidth,y(),(v.orientation!==v.prevOrientation||v.forceHideOrientationWarning)&&(n.trigger(i.detection.ORIENTATION_CHANGE,{orientation:v.orientation}),v.prevOrientation=v.orientation)};return v.isInIframe&&!v.isMobileAndNotPreview?setInterval(b,300):(b(),window.addEventListener("resize",b)),v}),define("polyfills/fileProtocolOverrides",["require","lodash","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/detection"),n={formatSrcUrl:i.isFileProtocol()&&i.isIE()?function(e){return i.isIE10()?"file://"+e:document.location.origin+e}:t.identity};return n}),define("helpers/constants",["require"],function(e){"use strict";var t=window.globals||{},i=(window.location.protocol,window.location.host,window.location.pathname),n=i.split(/\/+/).slice(0,-1).join("/"),s=t.DATA_PATH_BASE+"/html5/data/js",r={player:{},LINE_BREAK_REGEX:/\n|\r/,theme:{},setThemeConstant:function(e,t){r.theme[e]=t},SVG_HIT:"svgHit",RECT_HIT:"rectHit",GROUP_HIT:"groupHit",SLIDE_HIT:"slideHit",PATH_DELIMITER:".",NODE_DELIMITER:"-",SVG_NODE_PREFIX:"commandset",PRESENTATION_URL:[t.DATA_PATH_BASE,n].join(""),PRESENTATION_DATA_URL:[n,s].join(""),STORY_CONTENT_URL:"story_content/",QUIZ_MAKER_URL:"quiz_content/",PRESENTER_URL:"presentation_content/",PLAYER_PROPS_KEYPATH:"playerProps",DEFAULT_VOLUME:.8,MOBILE_UI_SIZE:58,DOUBLE_MOBILE_UI_SIZE:116,MOBILE_ANIMATION_DURATION:260,MOBILE_WIDTH_MIN:320,MOBILE_360_PHONE_LARGE:380,MOBILE_360_PHONE_MEDIUM:375,MOBILE_MIN_LANDSCAPE_FULL:314,MOBILE_MIN_LANDSCAPE:250,MOBILE_FONT:"Open Sans Full",XMLNS_XLINK:"http://www.w3.org/1999/xlink",XMLNS:"http://www.w3.org/2000/svg",refs:{PLAYER:"_player",FRAME:"_frame",PARENT:"_parent",CURRENT_SLIDE:"_currentSlide",CHILDREN:"_children",SELF:"_this",CHOICES:"choices",STMTS:"statements",PLAYER_VARS:"_playerVars"},varTypes:{STRING:"string",NUM:"number",BOOL:"boolean"},statuses:{CORRECT:"correct",INCORRECT:"incorrect",INCOMPLETE:"incomplete",COMPLETE:"complete",NEUTRAL:"neutral",PASSING:"pass",FAILING:"fail"},tabIndices:{SKIP:0,LIGHTBOX_CLOSE:1,SUBMIT_ALL:2,PREV:3,NEXT:4,SUBMIT:5,SIDEBAR:10,SEARCH_RESULTS_TREE_MODE:0,SEARCH_INPUT:1,SEARCH_SUBMIT:2,SEARCH_FILTER:3,SEARCH_NOTES:4,SEARCH_TEXT:5,SEARCH_RESULTS_LIST_MODE:6,SEARCH_CLEAR:17,TIME:39,TOP_TAB_LEFT:30,TOP_TAB_RIGHT:40,VOLUME:50,CAPTIONS:55,PLAYBACK_PLAY:60,PLAYBACK_PROGRESS:65,PLAYBACK_RESET:70},math:{QUARTER_PI:.25*Math.PI,HALF_PI:.5*Math.PI,THREE_QUARTER_PI:.75*Math.PI,TWO_PI:2*Math.PI,TO_RADIANS:Math.PI/180,TO_DEGREES:180/Math.PI},keys:{8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CONTROL",18:"ALT",20:"CAPS_LOCK",27:"ESCAPE",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",45:"INSERT",46:"DELETE",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15"},TINY_VIDEO:"data:video/mp4;base64, AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE="};return Object.freeze(r),Object.freeze(r.refs),Object.freeze(r.varTypes),Object.freeze(r.statuses),Object.freeze(r.tabIndices),Object.freeze(r.math),Object.freeze(r.keys),r}),define("helpers/utils",["require","lodash","polyfills/fileProtocolOverrides","helpers/constants","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/fileProtocolOverrides"),n=e("helpers/constants"),s=e("polyfills/detection"),r=5,o="ds",a=/[\u0600-\u06FF]/,l="[",u=function(e,t){var n=b.slice(t);return n.unshift(e),i.formatSrcUrl(n.join("/"))},c=function(e){var i=t.rest(arguments);return function(){var n=t.toArray(arguments);return i[e](function(e){return e.apply(null,n)})}},h=function(e){return e+"."},p=function(e,t){return t.replace(e,"")},d=function(e,t){return e===t},f=function(e,t){return t.charAt(0)[e]()+t.slice(1)},m=function(e,t){return[e,t,e].join("")},g=function(e,i,n){if(null==e||null==i)return n;if(0===i.length)return null!=e?e:n;var s,r=t.first(i),o=t.rest(i),a=t.isString(r),u=a&&"$"===r.charAt(0)?"prop":"get",c=function(e){return"get"===u?e:e.slice(1)};return a&&r.indexOf(l)>-1&&(s=r.split(l),o.unshift(parseInt(s[1])),r=t.first(s)),r=null!=e[r]&&t.isFunction(e[r])?e[r]():null!=e[r]?e[r]:e[u]&&e[u](c(r)),g(r,o,n)},v=function(e){return"{"===e.charAt(0)&&(e=JSON.parse(e)),e},y=function(e){return e.split("=").map(decodeURIComponent).map(v)},b={keys:{DASH:189,PERIOD:190,DELETE:8,ENTER:13},getPath:function(e,i,n){return g(e,t.isString(i)?i.split("."):i,n)},fix:function(e,t){return+e.toFixed(null!=t?t:r)},toSeconds:function(e){return e/1e3},toMilliseconds:function(e){return b.fix(1e3*e,0)},formatSecondsAsTime:function(e){var t,i=Math.floor(e/3600),n=Math.floor((e-3600*i)/60),s=Math.floor(e-3600*i-60*n),r=function(e){return 10>e?"0"+e:e};return n=r(n),s=r(s),t=[n,s],i>=1&&t.unshift(i),t.join(":")},hexify:function(e){return"#"+e.replace(/0x|#/,"")},opacify:function(e){return e/100},rgbify:function(e,t){var i=this.hexify(e).replace("#",""),n=parseInt(i,16),s=n>>16&255,r=n>>8&255,o=255&n,a=[s,r,o],l=null!=t,u="rgb"+(l?"a":"");return l&&a.push(t),[u,"(",a.join(","),")"].join("")},toRgba:function(e,t){return b.rgbify(e,b.opacify(t))},octToDec:function(e){return e/255},decToPct:function(e,t){var i=b.fix(100*e);return t?i+"%":i},stopPct:function(e){return b.decToPct(b.octToDec(e))},pctToDec:function(e,t){return b.fix(parseFloat(e)/100,t);
},add:function(e,t){return(e||0)+(t||0)},sum:function(){return t.reduce(arguments,b.add,0)},upperCaseFirst:t.partial(f,"toUpperCase"),lowerCaseFirst:t.partial(f,"toLowerCase"),slice:t.bind(Array.prototype.slice.call,Array.prototype.slice),resolveAssetUrl:function(){return u(n.PRESENTATION_URL,arguments)},resolveDataUrl:function(){return u(n.PRESENTATION_DATA_URL,arguments)+".js"},clamp:function(e,t,i){return Math.max(Math.min(i,t),e)},isWithinRange:function(e,t,i){return i>=e&&t>=i},hasProp:function(e,t){if(null==e)return!1;for(var i,n=e,s=t.split(".");i=s.shift();){if(null==n[i])return!1;n=n[i]}return!0},not:function(e){return function(){return!e.apply(this,arguments)}},take:function(e,i,n){return function(){return i.apply(n,t.take(arguments,e))}},invertPercent:function(e){return 1-e},andify:t.partial(c,"every"),orify:t.partial(c,"some"),is:d,isTrue:t.partial(d,!0),isFalse:t.partial(d,!1),alwaysTrue:function(){return!0},alwaysFalse:function(){return!1},buildDataStructure:function(e,t,i){return new e(i,t)},createSuper:function(e){return function(t){return e.prototype[t]}},cloneDeeply:function(e){return JSON.parse(JSON.stringify(e))},buildEventNamespace:function(e){return"."+o+(e||"")},namespaceEvent:function(e,t){return e+b.buildEventNamespace(t)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},hypot:function(e,t){return Math.sqrt(e*e+t*t)},dist:function(e,t,i,n){var s=e-i,r=t-n;return this.hypot(s,r)},degToRad:function(e){return e*n.math.TO_RADIANS},radToDeg:function(e){return e*n.math.TO_DEGREES},normalizeDeg:function(e){for(var t=e;0>t;)t+=360;return t%360},stripTags:function(e,i,n){var s=document.createElement("div"),r=n?["<",n,">"].join(""):"",o=r.replace("<","</");return s.innerHTML=e,i?t(s.querySelectorAll(i)).map(function(e){return[r,e.innerHTML,o].join("")}).join(""):s.textContent},stripTagsMobile:function(e,t,i){return s.isMobile?b.stripTags(e,t,i):e},camelCaseAttr:function(e,t){return e=t?e:e.toLowerCase(),e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},stripPlayer:t.partial(p,h(n.refs.PLAYER)),stripChoice:t.partial(p,h(n.refs.CHOICES)),stripStatement:t.partial(p,h(n.refs.STMTS)),prefixWithPlayer:function(e){return n.refs.PLAYER+"."+b.stripPlayer(e)},parseParams:function(e){return e=e||window.location.search.substr(1),t.object(e.split("&").map(function(e){return e.split("=")}))},applyMethod:function(e,i){var n=t.slice(arguments,2);return i=t.isArray(i)?i:[i],n.unshift(i,e),t.invoke.apply(t,n)},pxify:function(e){return[e,"px"].join("")},shallowEqual:function(e,t){if(e===t)return!0;var i;for(i in e)if(e.hasOwnProperty(i)&&(!t.hasOwnProperty(i)||e[i]!==t[i]))return!1;for(i in t)if(t.hasOwnProperty(i)&&!e.hasOwnProperty(i))return!1;return!0},doubleQuote:t.partial(m,'"'),quote:t.partial(m,"'"),toCssUrl:function(e){return["url(",this.quote(e),")"].join("")},getWindowSearch:function(){return window.location.search.replace(/^\?/,"")},queryStringToObj:function(){var e,i=this.getWindowSearch();return e=i.split("&"),t.zipObject(e.map(y))},rotatePoint:function(e,t,i,n,s){s=b.degToRad(s);var r=e-i,o=t-n,a=Math.cos(s),l=Math.sin(s);return{x:a*r-l*o+i,y:l*r+a*o+n}},pointInRect:function(e,t,i){var n=i[0][0],s=i[0][1],r=i[1][0],o=i[1][1];return e>=n&&r>=e&&t>=s&&o>=t},showTimer:function(e,i){t(e.refs).pick(function(e,t){return 0===t.indexOf("timer")&&e!==i}).forOwn(function(e){e.onHide()}).value()},dateToString:function(e){if(null==e)return"";var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return[t[e.getMonth()]," ",e.getDate(),", ",e.getFullYear()].join("")},timeToString:function(e){if(null==e)return"";var t=e.getHours(),i=e.getMinutes(),n="am";return 10>i&&(i="0"+i),t>12&&(t-=12,n="pm"),[t,":",i," ",n].join("")},parseUrl:function(e){var i=document.createElement("a");return i.href=e,t.pick(i,["protocol","hostname","port","pathname","search","hash","host"])},hasArabicCharacters:function(e){return a.test(e)},ellipsize:function(e,t){return null==e||e.length<=t?e:[e.substr(0,t),"…"].join("")},generateHash:function(e){var t,i,n=0,s=e.length;for(i=0;s>i;i++)t=e.charCodeAt(i),n=31*n+t,n|=0;return n}};return b}),define("helpers/vow",["require","jquery","lodash","helpers/utils"],function(e){"use strict";var t=e("jquery"),i=e("lodash"),n=e("helpers/utils"),s={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},r=function(e,t){return t.state()===e},o={Deferred:t.Deferred,when:t.when,after:function(){var e=new o.Deferred,t=n.slice(arguments),i=[],s=function(){return t.length===i.length},r=function(n){i.push(n),s()&&e.resolve.apply(e,t)};return t.length?t.forEach(function(e){e.always(function(){r(e)})}):e.resolve(),e.promise()},isPending:i.partial(r,s.PENDING),isResolved:i.partial(r,s.RESOLVED),isRejected:i.partial(r,s.REJECTED)};return o}),define("helpers/debug",["require","helpers/pubSub","helpers/events","helpers/vow"],function(e){"use strict";var t=e("helpers/pubSub"),i=e("helpers/events"),n=(e("helpers/vow"),{initialize:function(e,t,i){this.debugMode=e.get("debugMode"),this.setGlobals(e,t,i)},setGlobals:function(e,t,i){this.debugMode&&(window.presentation=e,window.player=t,window.app=i)},throwError:function(){this.debugMode===!0&&t.trigger(i.player.ERROR)}});return n}),define("helpers/errorManager",["require","lodash","helpers/debug"],function(e){"use strict";var t=e("lodash"),i=e("helpers/debug"),n=t.curry(function(e,i,n,s){var r=t.slice(arguments,3).join(" ");e([i,"::",n," - ",r].join(""))},4),s={throwFatal:n(function(e){throw new Error(e)}),throwError:n(function(e){var t=i.debugMode?"error":"warn";console[t](e),i.throwError()}),throwErrorSoft:n(function(e){i.debugMode&&console.warn(e)}),warn:n(function(e){console.warn(e)}),backtick:function(e){return["`",e,"`"].join("")}};return s}),define("helpers/mixer",["require","lodash","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=(i.throwError("mixer"),i.backtick,function(e,t){var i,n,r=s[e],o=t.mixins.slice(0);for(n=o.length;n--;)i=o[n],null!=i[e]&&i[e].call(t),null!=i[r]&&i[r].call(t);return this}),s={init:"componentWillMount"},r=["preInit","init","postInit"],o=t.partialRight(t.omit,r),a={mixInto:function(e,i){return t.defaults.apply(t,t(i).map(o).unshift(e).value()),e},mix:function(e){return this.mixInto(e,e.mixins),e}};return r.forEach(function(e){var i=e+"MixinsOf";a[i]=t.partial(n,e)}),a}),define("helpers/extend",["require","lodash","backbone","helpers/mixer"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/mixer"),s=t.partialRight(t.omit,"mixins"),r=i.Model.extend,o=function(e,i){var o;return e=e||{},t.isArray(e)||(e=[e]),e=e.filter(t.isPlainObject),o=t.extend.apply(t,e.map(s)),o.mixins=t(e).pluck("mixins").unshift(this.prototype.mixins).flatten().filter(t.isPlainObject).uniq().value(),n.mix(o),r.call(this,o,i)};return"Model Collection View Router History".split(" ").forEach(function(e){i[e].extend=o}),o}),define("helpers/svg/svgUtils",["require","lodash","helpers/utils","helpers/constants","helpers/cssPrefix"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/constants"),s=e("helpers/cssPrefix"),r=n.XMLNS_XLINK,o=n.XMLNS,a=n.math.TWO_PI,l=function(e){return function(){return t.toArray(arguments).concat(e)}},u=function(e,i,n){var s,r=l(t.slice(arguments,3));return s=i.apply(null,r(n)),s=e.apply(null,r(r,i,s,n))},c=function(e,t,i,n){return null!=i&&i!==!1||!n.children||n.children.every(function(n){var s=e(t,n),r=d.getFromNodeConfig.apply(null,s);return null!=r&&r!==!1?(i=r,!1):!0}),i},h=function(e,i,n){return n.children&&!n.children.skipTraversal&&(n.children=n.children.map(function(n){if(t.isString(n))return n;var s=e(i,n);return p.apply(null,s)})),n},p=t.partial(u,h),d={isNodeOfType:function(e,t){var i;return t&&(i=t.tagName||t.nodeType),i?e.toLowerCase()===i.toLowerCase():!1},svgPrefix:function(e){return[n.SVG_NODE_PREFIX,e].join(n.NODE_DELIMITER)},buildTransformFromConfigFn:function(e){var t=e.args.slice();return t.unshift(e.type),d.buildTransformFn.apply(this,t)},buildTransformFn:function(e){for(var i=arguments.length,n=new Array(i),s=0;i>s;++s)n[s]=arguments[s];return[e,"(",t.rest(n).join(", "),")"].join("")},buildTransformConfig:function(e){return{type:e,args:t.rest(arguments)}},applyTransformTo:function(e,t){return e.transform=[t],e},getTransformOf:function(e){return e.transform=e.transform||[],e.transform},transformNodeConfig:function(e,i){t.isFunction(e.beforeStart)&&e.beforeStart();var n=p.apply(null,arguments);return t.isFunction(e.afterFinish)&&(n=e.afterFinish(n)),n},getFromNodeConfig:t.partial(u,c),getFullSvgConfig:function(e,n,a){var l={height:n.fullHeight+Math.ceil(n.strokewidth/2),width:n.fullWidth+Math.ceil(n.strokewidth/2)},u={nodeType:"svg",xmlns:o,"xmlns:xlink":r,"data-xmlns-xlink":r,version:"1.1",baseprofile:"full",height:n.fullHeight,width:n.fullWidth,viewBox:[n.fullX,n.fullY,n.fullWidth,n.fullHeight].join(" "),children:[e],"data-commandset-id":a,"data-accepts":"events",ref:t.uniqueId("ref-")};return l[s.camelCase("transform")]=d.transformTranslate(i.pxify(n.fullX),i.pxify(n.fullY)),{nodeType:"div",className:"slideobject-maskable",style:l,children:[u]}},createSvgNode:function(e,t){var i=document.createElementNS(o,"svg");return i.setAttribute("width",e),i.setAttribute("height",t),i},getFirstTransformOfType:function(e,i){return t.find(i,{type:e})},buildUrl:function(e){return["url(#",e,")"].join("")},createElement:function(e){return document.createElementNS(o,e)},rectPath:function(e,t,i,n){var s=e+i,r=t+n;return["M",e,t,"L",s,t,s,r,e,r].join(" ")},ellipsePath:function(e,t,i,n){var s=2*i;return["M",e,t,"m",-i,0,"a",i,n,0,1,0,s,0,"a",i,n,0,1,0,-s,0].join(" ")},diamondPath:function(e,t,i,n){var s=i/2,r=n/2,o=s+e,a=r+t;return["M",o,t,"L",i+e,a,o,n+t,e,a].join(" ")},rightRoundedRectPath:function(e,t,i,n,s){return["M",e,t,"h",i-s,"a",s,s,"0 0 1",s,s,"v",n-2*s,"a",s,s,"0 0 1",-s,s,"h",s-i,"z"].join(" ")},wheelPath:function(e,t,n,s,r){if(!r)return"";s=i.degToRad(s),r=i.degToRad(r),r===a&&(r=a-1e-5);var o=r-s>Math.PI?1:0,l=i.fix(n*Math.cos(s),4),u=i.fix(n*Math.sin(s),4),c=i.fix(e+n*Math.cos(r),4),h=i.fix(t+n*Math.sin(r),4);return["M",e,t,"l",l,u,"A",n,n,0,o,1,c,h,"z"].join(" ")}};return d.getFirstTranslate=t.partial(d.getFirstTransformOfType,"translate"),d.getFirstRotate=t.partial(d.getFirstTransformOfType,"rotate"),d.getFirstScale=t.partial(d.getFirstTransformOfType,"scale"),d.buildTranslateConfig=t.partial(d.buildTransformConfig,"translate"),d.buildRotateConfig=t.partial(d.buildTransformConfig,"rotate"),d.buildScaleConfig=t.partial(d.buildTransformConfig,"scale"),d.isImageNode=t.partial(d.isNodeOfType,"image"),d.isPatternNode=t.partial(d.isNodeOfType,"pattern"),d.isDefsNode=t.partial(d.isNodeOfType,"defs"),d.isUseNode=t.partial(d.isNodeOfType,"use"),d.isPathNode=t.partial(d.isNodeOfType,"path"),d.isTextNode=t.partial(d.isNodeOfType,"text"),d.isTspanNode=t.partial(d.isNodeOfType,"tspan"),d.transformScale=t.partial(d.buildTransformFn,"scale"),d.transformRotate=t.partial(d.buildTransformFn,"rotate"),d.transformTranslate=t.partial(d.buildTransformFn,"translate"),d.transformTranslateX=t.partial(d.buildTransformFn,"translateX"),d.scaleFromCenter=function(e,t){return null==t&&(t=e),[d.transformTranslate(.5,.5),d.transformScale(e,t),d.transformTranslate(-.5,-.5)].join(" ")},d.getDefsNode=t.partial(d.getFromNodeConfig,function(e){return d.isDefsNode(e)?e:void 0}),d}),define("helpers/scaler",["require","lodash","helpers/svg/svgUtils","polyfills/detection","helpers/events","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=(e("helpers/svg/svgUtils"),e("polyfills/detection")),s=e("helpers/events"),r=e("helpers/pubSub"),o={scaleValue:1,initialize:function(){this.isShowAll()&&!n.isMobile?this.startScaling():window.addEventListener("resize",i.throttle(this.sendWindowScale.bind(this),16))},isShowAll:function(){return"show all"===window.globals.scale},sendWindowScale:function(){r.trigger(s.window.SCALE)},startScaling:function(){t=document.getElementById("presentation"),this.scale(),window.addEventListener("resize",i.throttle(this.scale.bind(this),16))},scale:function(){var e=this.getWindowDimensions(),i=e.height,n=e.width,s=t.scrollHeight,r=t.scrollWidth,o=i/s,a=n/r,l=Math.min(o,a);this.scaleValue=l,this.sendWindowScale()},getWindowDimensions:function(){return{height:window.innerHeight,width:window.innerWidth}},getScale:function(){return this.scaleValue}};return o}),define("views/helpers/dom",["require","lodash","helpers/utils","helpers/scaler","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/scaler"),s=e("helpers/constants"),r=function(e,i,n,s){return e.addEventListener(i,n,!!s),t.partial(o,e,i,n)},o=function(e,t,i){e.removeEventListener(t,i)},a=function(e){return 1===e.nodeType},l=function(e,t,n){var s=[];for(t=t||i.alwaysTrue;e&&a(e)&&(s.push(e),null==n||!n(e));)e=e.parentNode;return s.slice(1).filter(t)},u=function(e){return m(e,"slide-object")},c=function(e){return _.closest(e,function(e){return _.hasClass(e,"slide")})},h=function(e,t,n){return t=t||i.alwaysTrue,t(e)?e:l(e,t,n)[0]},p=function(e,t){return t.tagName.toLowerCase()===e.toLowerCase()},d=function(e){return m(e,"svg-icon-wrapper")},f=function(e){return null==e?"":t.isString(e)?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e},m=function(e,t){var i,n;return null!=e.classList?e.classList.contains(t):(n=e.className.baseVal||e.className,i=new RegExp("\\b"+t+"\\b"),i.test(n))},g=function(e,i){return t.forOwn(i,function(t,i){e.style[i]=t}),e},v=function(e,i){return t.forOwn(i,function(t,i){e.setAttribute(i,t)}),e},y=function(e,t){var i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),s=i.top-n.top+e.scrollTop;return n.top>i.top||n.bottom<i.bottom?s:0},b=function(e,s,r,o){var a=t.isFinite(r)?s.length>r:!1,l=e.getBoundingClientRect().width/(n.getScale()||1),u=l,c=0,h=u/s.length;o=o||0,t(s).map(function(e,t){e.style.width="";var i=e.getBoundingClientRect().width+o;return c+=i,{el:e,width:i}}).sortBy("width").forEach(function(e,t){var n=t+1,r=Math.min(e.width,h);c>l?(e.el.style.width=i.pxify(r-o),u-=r,h=u/(s.length-n)):a&&(e.el.style.width=i.pxify(e.width+(u-c)/s.length))}).value()},w=function(e){return p("input",e)||p("textarea",e)},S=function(e,i,n){var s=["<",e];return i&&t.isPlainObject(i)&&t.forOwn(i,function(e,t){s.push(" ",t,'="',f(e),'"')},s),s.push(n===!0||i===!0?" />":">"),s.join("")},x=function(e){return S(e).replace("<","</")},T=function(e,t,i){return e.classList.add(t),setTimeout(function(){e.classList.remove(t)},i)},E=function(e,i){var n=document.createEvent("Event");return n.initEvent(e,!0,!0),t.defaults(n,i),n},C=function(e,t,i){if(i=i||{ignoreDisabled:!0},null!=e){var n=E(t);return i.ignoreDisabled&&e.disabled||e.dispatchEvent(n),n}},A=t.partialRight(T,"button-tapped",s.MOBILE_ANIMATION_DURATION),P=function(){try{for(var e,t,i=window.parent.document.getElementsByTagName("iframe"),n=i.length,s=0;n>s;s++)if(e=i[s],t=e.contentDocument,t===document)return e}catch(r){}},_={on:r,off:o,parentNodesOf:l,closest:h,isNodeOfType:p,isInput:w,isLink:t.partial(p,"a"),isVideoNode:t.partial(p,"video"),isIconNode:d,isSlideObject:u,setAttributes:v,setStyles:g,getScrollRecommendation:y,resizeToFit:b,hasClass:m,writeNode:S,writeCloseNode:x,tappedClass:A,trigger:C,getParentFrame:P,isWithinSlide:c,updateMousePosition:function(e){null!=e.pageX&&null!=e.pageY&&(_.mouseX=e.pageX,_.mouseY=e.pageY)}};return _.mouseX=0,_.mouseY=0,document.body.addEventListener("mousemove",function(e){_.updateMousePosition(e)}),document.body.addEventListener("touchstart",function(e){e.touches&&e.touches.length>0&&(_.mouseX=e.touches[0].pageX,_.mouseY=e.touches[0].pageY)},!0),_}),define("views/events/mouseEvents",["require"],function(e){"use strict";var t={};return t}),define("helpers/slideObjectUtils",["require","lodash","helpers/utils","views/helpers/dom","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("views/helpers/dom"),s=e("polyfills/detection"),r=t.partialRight(n.hasClass,"draggable"),o=t.partialRight(n.hasClass,"hidden"),a=t.partialRight(n.hasClass,"rotatable"),l=t.partialRight(n.hasClass,"slideable-parent"),u=function(e){return n.hasClass(e,"is-scrollable")||n.hasClass(e,"scrollarea-scrollbar")},c=function(e,t){return t(e)?!0:!!n.closest(e,t)},h=function(e){return e.scrollHeight>e.offsetHeight||n.hasClass(e,"scrollarea-scrollbar")},p=function(e){return e.hasAttribute("data-double-click")},d=t.partialRight(c,function(e){return u(e)&&h(e)}),f=function(e){return p(e)||c(e,p)},m=function(e){return u(e)?h(e):d(e)},g=t.partialRight(c,function(e){return a(e)}),v=t.partialRight(c,function(e){return o(e)}),y=t.partialRight(c,function(e){return r(e)}),b=t.partialRight(c,function(e){return l(e)}),w=function(e){return n.hasClass(e,"eventable")},S=t.partialRight(c,function(e){return w(e)}),x=function(e,t){s.isMobile&&(0===i.getPath(e,"length",0)?document.body.classList.add(t):document.body.classList.remove(t))},T=function(e){return s.isMobileOrTouchableTheme&&!e.props.isMessageWindow},E=function(e,t){var i,n;return e.objects().forEach(function(e,s){var r,o=null!=t?t.refs["obj"+s]:e.currView,a=o&&o.getFocusTarget();null!=a&&(r=a.props.model.prop("tabIndex"),a.isFocusable()&&a.isVisible()&&(null==n||n>r)&&(n=r,i=o))}),i},C=function(e){var t,i=e.props.parent;if(!s.isMobile)return t=i.isFocusable()?i:E(e.props.model,e)},A=function(){var e=n.getParentFrame();null!=e&&e.classList.remove("webobject-engage")},P={isRelated:c,needsToScroll:h,isScrollable:u,isScrollRelated:m,isDraggable:r,isDraggableRelated:y,isEventable:w,isEventableRelated:S,isRotatable:a,isRotatableRelated:g,isSlideableRelated:b,isDoubleClickRelated:f,activeMobileMenuItem:x,isMobileSlide:T,getGroupFocusTarget:C,removeEngageBorder:A,getChildAtLowestTabIndex:E,isHiddenRelated:v};return P}),function(){function e(e,t){e.prototype[t]=function(){var e=arguments.length?"set":"get",i=s.call(arguments);return i.unshift(t),this[e].apply(this,i)}}var t=this,i=t.Backbone;i||"undefined"==typeof require||(i=require("backbone"));var n="shorthand",s=Array.prototype.slice;i.Model.shorthandify=function(t){if(t=t||this.prototype[n],!t)return this;"string"==typeof t&&(t=[t]);for(var i=0,s=t.length;s>i;i++)e(this,t[i]);return this},"undefined"!=typeof exports&&(exports.shorthandify=i.Model.shorthandify)}(),define("shorthand",["backbone"],function(){}),define("mixins/subscribable",["require","lodash","helpers/pubSub","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/pubSub"),n=e("helpers/errorManager"),s=n.throwError("subscribable"),r={componentWillMount:function(){return this.addSubscriptions(),this},addSubscriptions:function(){this.resetSubscriptions();for(var e in this.subscriptions)this.subscriptions.hasOwnProperty(e)&&this.addSubscription(e,this.subscriptions[e]);return this},addSubscription:function(e,n){return t.isFunction(this[n])||s("addSubscription","this."+n,"is not a defined callback."),this.addSubscribedEvent(e).listenTo(i,e,this[n]),this},addSubscribedEvent:function(e){return this.subscribedEvents.push(e),this},removeSubscriptions:function(){return t.each(t.uniq(this.subscribedEvents),this.removeSubscription,this),this},removeSubscription:function(e,t){var n=this.subscribedEvents.indexOf(e);return this.stopListening(i,e,this[t]),n>-1&&this.subscribedEvents.splice(n,1),this},resetSubscriptions:function(){return this.removeSubscriptions(),this.subscribedEvents=[],this}};return r}),define("mixins/ancestral",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=function(e,i){return t.contains(t.values(i.associations),e)},n={isAncestral:!0,createParentReference:function(e){return e&&e.parent&&(this.parent=e.parent),this},getClosestAncestor:function(e,t){for(var i=t?this:this.parent;i&&!e(i);)i=i.parent;return i},getClosestAncestorWithAssoc:function(e){var n=t.partial(i,e);return this.getClosestAncestor(n)},getClosestAncestorByAttr:function(e,t,i){var n=function(i){return i.get(e)===t};return this.getClosestAncestor(n,i)},forEachAncestor:function(e,t){for(var i=t?this:this.parent,n=0;null!=i;){if(e(i,n++)===!1)return;i=i.parent}}};return n.getClosestAncestorByKind=t.partial(n.getClosestAncestorByAttr,"kind"),n}),define("helpers/resolver",["require","lodash","helpers/errorManager","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=e("helpers/constants"),s=/^RAND/,r=function(e){return s.test(e)},o={};o.string=o.object=o["boolean"]=function(e){return e},o.num=o.number=function(e){return r(e)?e:parseFloat(e)},o["var"]=o.variable=function(e,i){var n=t.identity,s=this.resolvePath(e,i,{optional:!0});return null!=s&&("number"===s.type()&&(n=parseFloat),s=n(s.value())),s},o.property=function(e,t){return this.resolvePath(e,t,{optional:!0})},o.drawid=function(e,t){return this.resolvePath(e,t,{optional:!0})},o.param=function(e,t,i){return this.getRef(i.params[e],t,i)},o.valueref=function(e,i,n){return this.getRef(t.findWhere(n.iterables,{name:e}),i,n)},o.actparam=function(e,t,i){return i[e]},o["default"]=function(e,t){return this.getRef(e,t)};var a,l=i.throwError("resolver"),u=l("resolvePath"),c=l("getRef"),h=l("findReference"),p=/\$/,d=/\#/,f=/\$/g,m=/\#/g,g=/^\$/,v=/^\#/,y=new RegExp("^"+n.refs.PLAYER),b=function(e,i){return t.has(i.resolvers,e)},w=function(e,t){return e.prop&&e.hasOwnPlayerProp(S(t))},S=function(e){return e.replace(p,"")},x=function(e){return e.replace(d,"")},T=function(e){return p.test(e)},E=function(e){return d.test(e)},C=function(e){return e.split(n.PATH_DELIMITER)},A=function(e){return e.join(n.PATH_DELIMITER)},P=function(e){return!y.test(e)},_=function(e,i){var n;return t.find(e.resolveables,function(t){var s=e.get(t);return s?(n=s.isCollection?s.get(i):s.id===i?s:s[i],!n&&b(t,e)&&(n=e.resolvers[t].call(e,i,s)),n):!1},e),n},I=function(e){return v.test(e)&&-1!==e.indexOf(".")},k=function(e){return g.test(e)&&-1!==e.indexOf(".")},R=function(e,t){var i,n,s="$"===t?f:m;return i=e.replace(s,"").split("."),n=t+i.pop(),i.push(n),i.join(".")},O=t.partialRight(R,"$"),L=t.partialRight(R,"#"),M={initialize:function(e){a=e},getPresentationContext:function(){return a},resolvePath:function(e,i,n){return e?(I(e)?e=L(e):k(e)&&(e=O(e)),n=n||{},i&&t.isPlainObject(i)&&(n=i,i=void 0),this.resolvePathArray(C(e),i,n)):void u("Must provide a path to resolve")},resolvePathArray:function(e,i,s){var r=e.shift();switch(r){case n.refs.PLAYER:i=a;break;case n.refs.PLAYER_VARS:i=a.playerVars();break;case n.refs.PARENT:i=i.getClosestParentRef();break;case n.refs.CHILDREN:i=i.getChildren();break;case n.refs.SELF:i=i.getClosestThisRef();break;case n.refs.CURRENT_SLIDE:i=this.resolvePath(a.prop("CurrentSlideId"),a);break;default:i=M.findReference(r,i)}return null==i?s.optional?void 0:void u("Path did not resolve at:",r):e.length?t.isArray(i)?t(i).map(function(t){var i=e.slice();return M.resolvePathArray(i,t,{optional:!0})}).compact().value():M.resolvePathArray(e,i,s):i},findReference:function(e,t){if(!e)return void h("Cannot find a reference with no ID");if(!t)return void h("Context must be defined.");var i,n,s;return t.isCollection&&t.get(e)?t.get(e):T(e)?t.prop(S(e)):E(e)?(s=x(e),t.getVariableProp&&(n=t.getVariableProp(s))?n.value():t.variables().get(x(e))):t.isModel||null==t[e]?(i=_(t,e),i?i:t.id===e?t:w(t,e)?t.prop(e):void 0):t[e]},getRef:function(e,t,i){if(!e)return void c("No reference passed in");if(!e.type)return void c("Type is undefined for the provided reference");var n=o[e.type]||o["default"];return n.call(this,e.value,t,i)}},D=function(e,i){var n,s,r;return e=e.split("."),n=t.first(e.splice(0,1)),r=e.some(function(e){return n+="."+e,s=M.resolvePath(n),i(s)}),r?s:null};return M.normalizePropRef=S,M.isPropRef=T,M.splitPath=C,M.joinPath=A,M.isRelativePath=P,M.isRandomToken=r,M.resolveAbsolutePathWithFilter=D,M}),define("mixins/resolveable",["require","lodash","mixins/ancestral","helpers/resolver"],function(e){"use strict";var t=e("lodash"),i=e("mixins/ancestral"),n=e("helpers/resolver"),s=i.getClosestAncestor,r=function(e){return e.abilities.resolveAsThis},o=function(e){return e.abilities.resolveAsParent},a=function(e){return e.abilities.beEventTarget},l={resolvePath:function(e){return n.resolvePath(e,this.getClosestThisRef())},getClosestParentRef:t.partial(s,o),getClosestThisRef:t.partial(s,r,!0),getClosestEventTarget:t.partial(s,a,!0),getChildren:function(){return this.objects().slice()}};return l}),define("mixins/shortEventable",["require","lodash","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=i.warn("shortEventable"),s=n("bindShortEvents"),r=i.backtick,o="Cannot listen to undefined object",a=function(e,i){return t.mapValues(i,function(t){return e[t]})},l=function(e,i){var n=e[i];return n?t.isFunction(n)?n.call(e):n:e.get?e.get(i):e.props&&e.props[i]},u={componentWillMount:function(){return this.bindShortEvents(),this},bindShortEvents:function(){var e,t,i,n,u=Object.keys(this.shortEvents||{}),c=u.length;for(n=0;c>n;n++){if(e=u[n],t="self"===e?this:l(this,e),i=a(this,this.shortEvents[e]),!t)return void s(o,r(e));this.listenTo(t,i)}return this},rebindShortEvents:function(){return this.stopListening(),this.bindShortEvents(),this}};return u}),define("models/BaseModel",["require","shorthand","backbone","lodash","helpers/events","helpers/errorManager","mixins/subscribable","mixins/resolveable","mixins/ancestral","mixins/shortEventable","helpers/mixer","helpers/utils"],function(e){"use strict";e("shorthand");var t=e("backbone"),i=e("lodash"),n=e("helpers/events"),s=e("helpers/errorManager"),r=e("mixins/subscribable"),o=e("mixins/resolveable"),a=e("mixins/ancestral"),l=e("mixins/shortEventable"),u=e("helpers/mixer"),c=e("helpers/utils"),h=s.throwError("BaseModel"),p=function(){},d=c.createSuper(t.Model),f=t.Model.extend({abilities:{resolveAsThis:!1,resolveAsParent:!1,beEventTarget:!1},mixins:[r,o,a,l],autoParse:!1,isModel:!0,constructor:function(e,n){i.bindAll(this,"createAbsoluteId");var s=this.initialize;this.initialize=p,this.autoParse&&(n=n||{},n.parse=!0),t.Model.call(this,e,n),this.createParentReference(n).buildAssociations().bindAssociations().createAbsoluteId(),u.initMixinsOf(this),this.initialize=s,this.initialize.apply(this,arguments),u.postInitMixinsOf(this)},index:function(){return this.collection||h("index","must have a `collection` defined"),this.collection.indexOf(this)},sibling:function(e){return this.collection||h("sibling","must have a `collection` defined"),e=e||0,this.collection.at(this.index()+e)},prevSibling:function(){return this.sibling(-1)},nextSibling:function(){return this.sibling(1)},toJSON:function(e){return c.isTrue(e)?c.cloneDeeply(this):d("toJSON").call(this)},buildAssociations:function(e){for(var t in this.associations)this.associations.hasOwnProperty(t)&&this.buildAssociation(t);return this},buildAssociation:function(e,t){var i=t||this.get(e),n={parent:this},s=this.associations[e];return i instanceof s||(this.attributes[e]=c.buildDataStructure(s,n,i)),this},bindAssociation:function(e){return this.on("change:"+e,function(t,s,r){var o=this.previous(e);i.isFunction(o.set)?(o.set(s,{parent:this}),o.trigger(n.data.UPDATED),o.isCollection&&o.invoke("trigger",n.data.UPDATED),this.set(e,o,{silent:!0})):this.buildAssociation(e,s)}),this},bindAssociations:function(){for(var e in this.associations)this.associations.hasOwnProperty(e)&&this.bindAssociation(e);return this},buildAbsoluteId:function(){if(!this.id)return null;for(var e=this,t=[this.id];e=e.parent;)e.id&&t.push(e.id);return t.reverse().join(".")},createAbsoluteId:function(){this.absoluteId=this.buildAbsoluteId(),this.on(n.data.UPDATED,this.createAbsoluteId)},isType:function(e){return this.get("type")===e},isKind:function(e){return this.get("kind")===e}});f.addAssociation=function(e,t){this.prototype.associations.hasOwnProperty(e)||(this.prototype.associations[e]=t,this.shorthandify(e))};var m=f.extend;return f.extend=function(){var e=m.apply(this,arguments);return e.prototype.associations=i.extend({},e.prototype.associations,this.prototype.associations),e.shorthandify().shorthandify(i.keys(e.prototype.associations)),e},f}),define("helpers/appState",["require","lodash","helpers/constants","helpers/events","helpers/vow","models/BaseModel"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("helpers/events"),s=e("helpers/vow"),r=e("models/BaseModel"),o=r.extend({shorthand:["currentLayout","currentScheme","currentVolume"],subscriptions:function(){var e={};return e[n.app.COMPLETE]="onAppComplete",e[n.controlLayout.CHANGED]="onLayoutChanged",e[n.scheme.CHANGED]="onSchemeChanged",e[n.volume.CHANGED]="onVolumeChanged",e[n.volume.TOGGLE]="onToggleVolume",e}(),initialize:function(){this.appCompleteDfd=new s.Deferred,this.onVolumeChanged(i.DEFAULT_VOLUME)},getAppCompletePromise:function(){return this.appCompleteDfd.promise()},onAppComplete:function(){this.appCompleteDfd.resolve()},unsetAttrs:function(){return this.set(t.toArray(arguments).reduce(function(e,t){return e[t]=null,e},{})),this},onLayoutChanged:function(e,t){this.currentLayout(e),this.trigger(n.layout.CHANGED,this,e,t)},onSchemeChanged:function(e){this.currentScheme(e)},onVolumeChanged:function(e){this.volumeToggle=!1,this.currentVolume(e)},onToggleVolume:function(){this.volumeToggle||(this.lastVolume=this.currentVolume()),this.volumeToggle=!this.volumeToggle,this.currentVolume(this.volumeToggle?0:this.lastVolume)}});return new o}),define("views/events/touchHelper",["require","lodash","views/helpers/dom","helpers/slideObjectUtils","polyfills/detection","helpers/appState","helpers/utils"],function(e){var t=e("lodash"),i=e("views/helpers/dom"),n=e("helpers/slideObjectUtils"),s=e("polyfills/detection"),r=e("helpers/appState"),o=e("helpers/utils"),a={},l=10,u=["touchstart","touchmove","touchend","touchcancel"],c={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},h=function(e){return s.isMobileOrTouchableTheme?c[e]:e},p=function(e){return s.isAndroid&&i.isNodeOfType("select",e)};document.addEventListener("touchstart",function(e){1===e.touches.length?a.currentTouch=e.touches[0]:e.preventDefault()},!0);var d=function(e){return t.any(e.changedTouches,function(e){return e.identifier===a.currentTouch.identifier})},f=function(e,t){return function(s){s.touches&&s.touches.length>1||(d(s)&&e(s),!t||i.isInput(s.target)||p(s.target)||n.isScrollRelated(s.target)||s.preventDefault())}},m=function(e,t,i,n){var s,r=f(function(e){s=e.target,s.addEventListener(t,i,n),s.addEventListener("touchend",o)}),o=function(){s&&(s.removeEventListener(t,i,n),s.removeEventListener("touchend",o))},a=function(){e.removeEventListener("touchstart",r),o()};return e.addEventListener("touchstart",r),a};a.on=function(e,t,i,n,s){var r="touchstart"===t,o=f(i,s!==!1);return r?(e.addEventListener(t,o,n),function(){e.removeEventListener(t,o,n)}):m(e,t,o,n)},a.isTouchEventName=function(e){return t.contains(u,e)},a.addEventListener=function(e,t,i,n){e.addEventListener(h(t),i,!!n)},a.removeEventListener=function(e,t,i){e.removeEventListener(h(t),i)},a.getPageLoc=function(e){var t={};return e.touches&&1===e.touches.length?(t.pageX=e.touches[0].pageX,t.pageY=e.touches[0].pageY):(t.pageX=e.pageX,t.pageY=e.pageY),t};var g=function(e){this.started=!0,this.touchX=e.touches[0].pageX,this.touchY=e.touches[0].pageY,this.currTouchX=e.touches[0].pageX,this.currTouchY=e.touches[0].pageY,this.startScale=r.windowManager.getCurrentWindowSlide().currView.pinch.zoom},v=function(e){e.touches&&1===e.touches.length&&(this.currTouchX=e.touches[0].pageX,this.currTouchY=e.touches[0].pageY)},y=function(e){var t,i=r.windowManager.getCurrentWindowSlide().currView.pinch.zoom;this.started&&this.startScale===i&&(t=o.dist(this.touchX,this.touchY,this.currTouchX,this.currTouchY),this.started=!1,l>t&&this.callback())};return a.tap=function(e,t,i){var n={callback:i};t.addEventListener("touchstart",g.bind(n)),
document.addEventListener("touchmove",v.bind(n)),t.addEventListener("touchend",y.bind(n))},a}),define("views/events/eventHelper",["require","lodash","views/helpers/dom","views/events/mouseEvents","views/events/touchHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/helpers/dom"),n=e("views/events/mouseEvents"),s=e("views/events/touchHelper"),r=function(e,t){n[e]=t(o(e))},o=function(e){return function(n,r,o,a,l,u){var c={type:e,node:n},h=function(e){var i=o?o(e):!0;i&&a(t.extend({},c,i,{origEvent:e}))};return s.isTouchEventName(r)?s.on(n,r,h,l,u):i.on(n,r,h,l)}},a=function(e){return e instanceof window.SVGElement&&"svg"!==e.tagName},l=function(e){return a(e.target)},u=function(e){return i.isVideoNode(e.target)},c=function(e){return 1===e.which},h=function(e){return 3===e.which},p=function(e){return e&&null!=e.getAttribute&&"events"===e.getAttribute("data-accepts")},d=function(e,t){return p(e.target.ownerSVGElement)||!!i.closest(e.target,p,t)},f=function(e){return["click","mouseup","mousedown"].indexOf(e.type)>=0&&(null==e.pageX||0===e.pageX)&&(null==e.pageY||0===e.pageY)};return{registerEvent:r,on:i.on,off:i.off,parentNodesOf:i.parentNodesOf,isNodeSvgEl:a,isTgtSvgEl:l,isTgtVideoEl:u,isLeftMouseBtn:c,isRightMouseBtn:h,doesEventTargetAcceptEvents:d,isSpacebarClick:f}}),define("helpers/tabFocusBox",["require","lodash","views/helpers/dom","helpers/utils","helpers/pubSub","helpers/appState","helpers/scaler","polyfills/detection","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("views/helpers/dom"),n=e("helpers/utils"),s=(e("helpers/pubSub"),e("helpers/appState")),r=e("helpers/scaler"),o=(e("polyfills/detection"),e("helpers/errorManager")),a=4,l=1.2,u={tryToSelect:function(e,t){var i=e.querySelector(t);return null==i&&o.throwError("tabFocusBox","invalid focus rule selector: ",t),i},focusRuleConfig:{VectorSlideObject:function(e){return u.tryToSelect(e,"svg g")},ImageSlideObject:function(e){return u.tryToSelect(e,"img")},VideoSlideObject:function(e){return u.tryToSelect(e,".video-slide-object")},ResourcesList:function(e){return e.parentNode}},defaultOffsets:{x:0,y:0,width:0,height:0},focusOffsetConfig:{PlayPauseButton:{x:-1,y:-3,width:0,height:0},PlaybackResetButton:{x:0,y:-2,width:0,height:0},PlaybackProgress:{x:0,y:0,width:0,height:-5},SequenceCtrlDrop:{x:30,y:0,width:0,height:0}},onAncestorHidden:function(){this.hide()},listenForHide:function(e){"SlideObject"===e.displayName&&(e.props.model.forEachAncestor(function(t){"SlideObject"===n.getPath(this,"lastItemFocused.displayName")&&(this.lastItemFocused.stopListening(t,"hidden",c),this.lastItemFocused.stopListening(this.lastItemFocused.props.model,"hidden",c)),(t.isSlideObject||t.isSlideLayer)&&e.listenTo(t,{hidden:c})}.bind(this)),e.listenTo(e.props.model,{hidden:c}))},show:function(e){null!=e&&(this.update(e),this.listenForHide(e),this.lastItemFocused=e)},hide:function(){null!=this.borderEl&&(this.borderEl.style.display="none"),this.lastItemFocused=null,this.isShown=!1},getOrCreateBorder:function(){return null!=this.borderEl?this.borderEl:(this.borderEl=document.createElement("div"),this.borderEl.setAttribute("class","tab-focus-box"),i.setStyles(this.borderEl,{position:"absolute",left:0,top:0,border:"3px solid yellow","pointer-events":"none","z-index":99999}),this.borderEl)},slideObjectShouldUseCss:function(e){return"TextInputSlideObject"===n.getPath(e,"refs.innard.displayName")||e.decorators&&null!=e.decorators.slideable},domElShouldUseCss:function(e){return e.parentNode&&i.hasClass(e.parentNode,"search-clear")||i.hasClass(e,"lightbox-close-btn")||i.closest(e,function(e){return i.hasClass(e,"lightbox")})},update:function(e){var o,l,u,c,h,p,d,f,m,g=this.getOrCreateBorder(),v=0,y=0,b=1,w={left:0,top:0},S=this.defaultOffsets,x=0;if(null!=e.displayName){if(S=this.focusOffsetConfig[e.displayName]||this.defaultOffsets,v+=S.x,y+=S.y,this.slideObjectShouldUseCss(e))return void this.hide();o=e.el,d=null!=n.getPath(e,"refs.innard")?e.refs.innard.displayName:e.displayName,o=(this.focusRuleConfig[d]||t.identity)(o)}else{if(this.domElShouldUseCss(e))return void this.hide();o=e}u=o.getBoundingClientRect(),c=i.isWithinSlide(o),c?(p=s.windowManager.getCurrentWindow().getCurSlide(),l=p.el,w=l.getBoundingClientRect(),x=a,b=p.props.model.isMessageSlide()?1:p.props.model.calculateTotalScale(),l.querySelector(".slide-top-container-main").appendChild(g)):(f=document.querySelector("#app-top-container"),f.appendChild(g),w=f.getBoundingClientRect(),b=1/(r.getScale()||1)),0!==u.width&&0!==u.height?(h=2*x,m=t.mapValues(this.constrainToSlide(c,p,{left:(u.left-w.left)*b+v-x,top:(u.top-w.top)*b+y-x,width:u.width*b+h+S.width,height:u.height*b+h+S.height}),n.pxify),m.display="block",i.setStyles(g,m),this.isShown=!0):this.hide()},constrainToSlide:function(e,t,i){var n,s,r,o;return e&&(n=i.left+i.width-t.props.model.get("width"),o=i.top+i.height-t.props.model.get("height"),s=i.left,r=i.top,n>0&&(i.width-=n-l),o>0&&(i.height-=o-l),0>s&&(i.width+=i.left,i.left=-l),0>r&&(i.height+=i.top,i.top=-l)),i}},c=u.onAncestorHidden.bind(u);return u}),define("helpers/keyManager",["require","lodash","react","react-dom","helpers/utils","helpers/constants","helpers/debug","views/helpers/dom","helpers/events","helpers/pubSub","views/events/eventHelper","helpers/errorManager","helpers/tabFocusBox","helpers/slideObjectUtils"],function(e){"use strict";var t,i,n=e("lodash"),s=(e("react"),e("react-dom")),r=e("helpers/utils"),o=e("helpers/constants"),a=e("helpers/debug"),l=e("views/helpers/dom"),u=e("helpers/events"),c=e("helpers/pubSub"),h=e("views/events/eventHelper"),p=e("helpers/errorManager"),d=e("helpers/tabFocusBox"),f=e("helpers/slideObjectUtils"),m=p.warn("keyManager"),g=p.throwErrorSoft("keyManager"),v=null!=window.vInterfaceObject&&window.autoSpider,y=function(e,t){return e.idx-t.idx},b=function(e){var t=document.activeElement,i=t.nodeName.toLowerCase(),n=t.type&&t.type.toLowerCase(),s="textarea"===i,r="input"===i&&("text"===n||"number"===n||"search"===n);return e?r:s||r},w=function(){return A.keys.SPACE||A.keys.ENTER},S=function(){return A.keys.UP||A.keys.DOWN||A.keys.LEFT||A.keys.RIGHT},x=function(){return A.keys.LEFT||A.keys.DOWN},T=o.keys,E={mainWindow:{windowId:"mainWindow",slide:[],player:[]}};c.once(u.player.MENU_OPTIONS,function(e){i=e.get("flow")});var C=function(e){var t=e.keyCode,i=String.fromCharCode(t),n=[];return t>=48&&90>=t?n.push(i):(null!=o.keys[t]?n.push(o.keys[t]):n=n.concat(["#",t]),n.unshift("["),n.push("]")),e.altKey&&n.unshift("[ALT] + "),e.shiftKey&&n.unshift("[SHIFT] + "),e.ctrlKey&&n.unshift("[CTRL] + "),{LastKeyCodeString:n.join(""),LastKeyCode:t,LastKeyValue:i,LastKeyCtrl:e.ctrlKey,LastKeyShift:e.shiftKey,LastKeyAlt:e.altKey}},A={currentIndex:-1,currentWindow:E.mainWindow,tabIndexTable:{},lastKeyPressTargets:[],initialize:function(e){var i=e.getCurrentWindow(),s=r.getPath(i,"props.model.id"),o={};this.keys={},t=e,n.bindAll(this,"prepare","removeWindow","addWindow","onSlideChanged","enableControlsKeyShortcuts"),o[u.app.COMPLETE]=this.prepare,o[u.window.CLOSED]=this.removeWindow,o[u.window.CREATED]=this.addWindow,o[u.slide.STARTED]=this.onSlideChanged,o[u.player.ENABLE_KEYBOARD_SHORTCUTS]=this.enableControlsKeyShortcuts,o[u.slide.WILL_CHANGE]=this.onSlideWillChange,c.on(o),this.currentWindow=E[s||"mainWindow"],this.tabIndexTable=this.currentWindow.tabIndexTable={Presenter:[],SidebarTab:[],TopTabsItem:[],SlideControlButton:[],PlayerControlButton:[]}},holdFocusBox:function(){if(d.isShown){var e=r.getPath(this,"lastCurrentItem.el",this.lastCurrentItem);null==e||l.isWithinSlide(e)?this.unsetCurrentItemAndFocus():window.requestAnimationFrame(function(){return f.isHiddenRelated(e)?void this.unsetCurrentItemAndFocus():void this.currentWindow.tabbables.forEach(function(e){e===this.lastCurrentItem&&(this.focusItem(e),d.show(e))}.bind(this))}.bind(this))}},onSlideChanged:function(e){this.holdFocusBox()},onSlideWillChange:function(){null!=document.activeElement&&n.isFunction(document.activeElement.blur)&&document.activeElement.blur()},onHideFocusBox:function(e){h.isSpacebarClick(e)||d.hide()},updateKeyMap:function(e,t){var i=String.fromCharCode(e.which);null!=T[e.which]?this.keys[T[e.which]]=t:this.keys[i]=t,this.keys.keyCode=e.which},prepare:function(){document.body.addEventListener("keydown",this.checkKeyEvent.bind(this)),document.body.addEventListener("keyup",this.fixKeyUp.bind(this)),document.body.addEventListener("mousedown",this.clearTab.bind(this)),document.body.addEventListener("click",this.onHideFocusBox.bind(this))},getInnardOfCurrentItem:function(){return r.getPath(this,"currentItem.refs.innard")},checkKeyEvent:function(e){var i,s,r=!0,o=t.getCurrentWindowSlide();if(this.currSlide=o,this.updateKeyMap(e,!0),this.keys.TAB&&v&&this.currentIndex===this.currentWindow.tabbables.length-1)return this.currentItem=null,this.currentIndex=-1,d.hide(),!0;if(this.lastShift=e.shiftKey,e.metaKey!==!1||b()||e.preventDefault(),this.keys.TAB){if(s=this.getInnardOfCurrentItem(),null!=n.get(s,"exitStealTab")&&s.exitStealTab(s,e.shiftKey))return void this.delayCheckKeyUp(e);if(null!=n.get(s,"stealTab"))return s.stealTab(this.currentItem,e.shiftKey),void this.delayCheckKeyUp(e);this.changeFocus(e.shiftKey),d.show(this.currentItem),e.preventDefault()}if(this.shouldTriggerFrameControl(e)&&c.trigger(u.keyManager.FRAME_CONTROL_KEY,this.keys),null!=this.currentItem)w()&&(r=!this.getCurrentFocusController().onActionKey(this.currentItem,this.keys.ENTER)),r&&S()&&(r=!this.getCurrentFocusController().onTreeKey(this.currentItem,x(),this.keys)),null==this.currentItem||this.currentItem instanceof window.Node||(i=this.currentItem.props.model,i&&i.isSlideObject&&!b(!0)&&this.executeKeypressEvent(this.currentItem.props.model,e));else if(null!=o){var a=o.slideLayers().getTopMostLayer();null!=a?this.executeKeypressEvent(a,e):this.executeKeypressEvent(o,e)}this.delayCheckKeyUp(e)},delayCheckKeyUp:function(e){window.requestAnimationFrame(function(){this.checkKeyUpEvent(e)}.bind(this))},fixKeyUp:function(e){return"SPACE"===T[e.keyCode]?(e.preventDefault(),e.returnValue=!1,!1):void 0},clearTab:function(e){null==this.currentItem||null!=e&&!h.isSpacebarClick(e)||this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(null)},clearCurrentItem:function(e){this.currentItem&&(n.contains(this.currentWindow.slide,this.currentItem)||e)&&(this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(null))},reset:function(){this.currentIndex=-1,this.focusNextItem()},clearSlide:function(e,t){t=t&&r.stripPlayer(t),null==t||"_current"===t||t===this.currentWindow.windowId?(this.clearCurrentItem(!1),this.currentWindow.slide=[]):(n.assign(E[t],{windowId:t,slide:[],player:[]}),this.currentWindow=E[t],this.tabIndexTable=this.currentWindow.tabIndexTable),this.currentIndex=-1,this.onBuildComplete()},getWindowId:function(e){return null!=e.props.model?e.props.model.id:"mainWindow"},addWindow:function(e){var t=this.getWindowId(e);E[t]=E[t]||{windowId:t,slide:[],player:[]},this.tabIndexTable=E[t].tabIndexTable||{Presenter:[],SidebarTab:[],TopTabsItem:[],SlideControlButton:[],PlayerControlButton:[]},this.currentWindow=E[t]},removeWindow:function(e){var i=this.getWindowId(e);this.clearTab(),E[i]=null,this.currentWindow=E[this.getWindowId(t.getCurrentWindow())],this.tabIndexTable=this.currentWindow.tabIndexTable,this.currentIndex=-1},addItem:function(e,t,i,n){var s,r=t?this.currentWindow.player:this.currentWindow.slide,o=e.idx,l=e.indexGroupName;null!=i&&(null==r[i]&&(r[i]=[]),r=r[i]),t?(l||(l=e.displayName),l&&this.tabIndexTable[l]&&(s=this.tabIndexTable[l],s.push(e)),this.onBuildComplete()):null==r[o]||n?r[o]=e:a.debugMode&&g("addItem","Already added an item with a tabindex of ",o)},removeItem:function(e,t,i){var n,s,r,o,a=e.idx;n=null!=i?this.currentWindow.slide[i]:t?this.currentWindow.player:this.currentWindow.slide,null!=n&&(n[a]===e?n[a]=null:(s=e.indexGroupName,null!=s&&this.tabIndexTable[s]&&(r=this.tabIndexTable[s],o=r.indexOf(e),-1!==o&&(r.splice(o,1),this.onBuildComplete())))),null!=i&&null!=this.currentWindow[i]&&0===this.currentWindow[i].length&&(this.currentWindow.slide[i]=null)},moveFocusObject:function(e,t){var i,s=this.tabIndexTable[e.indexGroupName],r=n.find(s,e),o=n.find(s,{idx:t});s=n.without(s,r),i=n.indexOf(s,o),s.splice(i,0,r),this.tabIndexTable[e.indexGroupName]=s,this.onBuildComplete()},onBuildComplete:function(){this.currentWindow.player=this.tabIndexTable.SlideControlButton.concat(this.tabIndexTable.Presenter).concat(this.tabIndexTable.SidebarTab).concat(this.tabIndexTable.TopTabsItem).concat(this.tabIndexTable.PlayerControlButton.sort(y)),this.buildCurrentTabbables(),this.currentWindow.tabIndexTable=this.tabIndexTable},buildCurrentTabbables:function(){this.currentWindow.tabbables=this.currentWindow.slide.reduce(function(e,t,i){var s=n.isArray(t)?n.compact(t):[t];return e.concat(s)}.bind(this),[]).concat(this.currentWindow.player)},changeFocus:function(e){e?this.focusPrevItem():this.focusNextItem()},getCurrentItem:function(){return this.currentItem},setCurrentItem:function(e){this.currentItem=e,null==e?d.hide():this.lastCurrentItem=e},setCurrentItemAndFocus:function(e){this.setCurrentItem(e),d.show(e)},unsetCurrentItemAndFocus:function(){this.currentIndex=-1,this.setCurrentItem(null),d.hide()},incrementIndex:function(e){return e+1<this.currentWindow.tabbables.length?e+1:0},decrementIndex:function(e){return e-1>=0?e-1:this.currentWindow.tabbables.length-1},getCurrentTabbable:function(){return this.currentWindow.tabbables[this.currentIndex]},getCurrentFocusController:function(){return this.currentItem.dsFocusController?this.currentItem.dsFocusController:this.currentItem},getItemIsVisible:function(e){var t;return n.isFunction(e.isVisible)?e.isVisible()&&!l.closest(e.el,function(e){return l.hasClass(e,"hidden")})&&(!e.props.model||!e.props.model.isKind("expandinglabel")||e.getPlayerProp("Expanded")===!0):(t=s.findDOMNode(e),!l.closest(t,function(e){return l.hasClass(e,"hidden")}))},setCurrentModal:function(e){if(this.buildCurrentTabbables(),null!=e){var t=f.getChildAtLowestTabIndex(e);null!=t&&(this.focusItem(t),this.focusPrevItem(),d.hide())}},isOutsideModal:function(e){var i=t.getCurrentWindowSlide(),n=i.slideLayers().filter(function(e){return e.get("modal")&&e.visibleState});return n.length>0&&null!=r.getPath(e,"refs.innard")?!e.props.model.getClosestAncestorByAttr("modal",!0):!1},skipItem:function(e){return!this.getItemIsVisible(e)||!this.getItemIsTabbable(e)||this.isOutsideModal(e)},getItemIsTabbable:function(e){var t=r.getPath(e,"refs.innard",e),i=t.isTabbable;return i?t.isTabbable():!0},focusMoveItem:function(e){var t=Math.max(0,this.currentIndex),i=this[e?"incrementIndex":"decrementIndex"].bind(this);if(0!==this.currentWindow.tabbables.length){for(this.currentIndex=i(this.currentIndex);this.skipItem(this.getCurrentTabbable());)if(this.currentIndex=i(this.currentIndex),this.currentIndex===t)return;this.implementFocus()}},focusItem:function(e,t){this.getItemIsVisible(e)&&this.getCurrentItem()!==e&&this.currentWindow.tabbables&&(this.currentIndex=this.currentWindow.tabbables.indexOf(e),this.implementFocus(t))},implementFocus:function(e){return this.currentItem&&this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(this.getCurrentTabbable()),null==this.getCurrentItem()?void m("implementFocus","Tried to focus on non-focusable item"):void this.getCurrentFocusController().gainFocus(this.currentItem,e)},copyTabIndicies:function(e){E[e].slide=E.mainWindow.slide,this.onBuildComplete()},enableControlsKeyShortcuts:function(e){this.frameControlKeysEnabled=e},checkKeyUpEvent:function(e){this.updateKeyMap(e,!1),this.clearLastKey()},shouldTriggerFrameControl:function(e){var t=e.which;return b()||!this.frameControlKeysEnabled||this.keys.SHIFT||this.keys.CONTROL||this.lastKeyEvent&&this.lastKeyEvent.which===t?!1:(this.lastKeyEvent=e,!e.altKey&&!e.ctrlKey&&!e.shiftKey)},executeKeypressEvent:function(e,i,s){var r,a,l,u;if(null==s&&(l=t.getCurrentWindowSlide(),s=null!=l?l.slideLayers().activeLayers.slice(0):[],u=n.findIndex(s,e),u>0&&(s.length=u)),this.lastKeyPressTargets.push(e),n.contains(["CONTROL","SHIFT","ALT"],o.keys[i.keyCode])||(e.prop(C(i)),e.executePlayerEvent("onanykeypress")),e.executeFilteredPlayerEvent(function(e){return e.keycode===i.keyCode&&e.shift===i.shiftKey&&e.ctrl===i.ctrlKey&&e.alt===i.altKey},"onkeypress"),e.isSlideObject&&(r=e.getClosestAncestor(function(e){return e.isSlideObject}),null==r&&(a=e.getLayer(),a.isBaseLayer()?s=[]:s.length=n.findIndex(s,a)+1)),null==r)do r=s.pop();while(null!=r&&!r.isOpen);null==r&&(r=e.getClosestAncestor(function(e){return e.isSlide})),null!=r&&this.executeKeypressEvent(r,i,s)},clearLastKey:function(){this.lastKeyEvent=null,n.forEach(this.lastKeyPressTargets,function(e){e.resetPropsExcept(n.difference(e.getPlayerProps().keys(),["LastKeyCodeString","LastKeyCode","LastKeyValue","LastKeyCtrl","LastKeyShift","LastKeyAlt"]))}),this.lastKeyPressTargets=[]}};return n.extend(A,{focusNextItem:n.partial(A.focusMoveItem,!0),focusPrevItem:n.partial(A.focusMoveItem,!1)}),A}),define("helpers/stringTabler",["require","helpers/errorManager"],function(e){"use strict";var t,i=e("helpers/errorManager"),n={initialize:function(e){var i=e.layouts().get(e.get("default_layout"));t=e.stringTables().get(i.string_table).string},getString:function(e,n){var s=t[e];return null==s&&(s=e,i.throwErrorSoft("getString","could not resolve the string",i.backtick(e))),s}};return n}),define("views/mixins/stringable",["require","lodash","helpers/stringTabler"],function(e){"use strict";var t=e("lodash"),i=e("helpers/stringTabler"),n=function(e){return["i18n",e].join("")},s=function(e){var t=i.getString(e);return null!=t?t:e},r={getInitialState:function(){var e=t.result(this,"stringTitles");return e?t.transform(e,function(e,t,i){e[n(i)]=s(t)}):{}}};return r}),define("views/mixins/baseView",["require","lodash","backbone","react","react-dom","helpers/keyManager","mixins/subscribable","mixins/shortEventable","views/mixins/stringable","helpers/cssPrefix","helpers/errorManager","helpers/utils","helpers/vow","polyfills/detection"],function(e){"use strict";var t,i=e("lodash"),n=e("backbone"),s=(e("react"),e("react-dom")),r=e("helpers/keyManager"),o=e("mixins/subscribable"),a=e("mixins/shortEventable"),l=e("views/mixins/stringable"),u=e("helpers/cssPrefix"),c=e("helpers/errorManager"),h=e("helpers/utils"),p=e("helpers/vow"),d=e("polyfills/detection"),f=c.backtick,m=c.throwError("baseView"),g="Must specify a "+f("displayName"),v=function(e){return i.values(e.refs)},y=function(e){return null!=e.currView},b={mixins:[n.Events,o,a,l],getInitialState:function(){return{isVisible:null!=this.initialVisibility?this.initialVisibility:!0}},componentWillMount:function(){this.displayName=this.constructor.displayName,this.displayName||m("baseView",g),this.template||(this.template=t.getTemplate(this.displayName)),this.cssTransform=u.camelCase("transform"),this.cssTransformOrigin=u.camelCase("transform-origin"),this.cssTransitionDuration=u.camelCase("transition-duration"),this.cssTransitionProperty=u.camelCase("transition-property"),this.cssTransitionTimingFunc=u.camelCase("transition-timing-function")},componentDidMount:function(){this.el=s.findDOMNode(this),this.setOrRemoveTabManagement(!0),null!=this.props.model&&(this.props.model.currView=this)},componentWillUnmount:function(){this.stopListening(),this.setOrRemoveTabManagement(!1),null!=this.props.model&&(this.props.model.currView=null)},setOrRemoveTabManagement:function(e){if(null!=this.el&&["click","touchstart"].forEach(function(t){this.el[e?"addEventListener":"removeEventListener"](t,this.onFocusClick,!0)}.bind(this)),!this.props.model||this.props.model.get&&this.props.model.get("tabEnabled")!==!1){var t,i=this.props.model&&this.props.model.prop&&this.props.model.prop("tabIndex"),n=e===!0?"addItem":"removeItem",s=this.props.model&&this.props.model.isKind&&this.props.model.isKind("slideframe"),o=this.props.slideFrame,a=o&&o.props.model.prop("tabIndex");i>=0&&this.props.isInnard!==!0&&!s&&(this.idx=i,r[n](this,!1,a)),this.getTabbableItems&&(t=this.getTabbableItems(),null!=t&&t.forEach(function(e){r[n](e,!0)}))}},shouldComponentUpdate:function(e,t){return(!h.shallowEqual(this.props,e)||!h.shallowEqual(this.state,t))&&(this.shouldUpdate?this.shouldUpdate(e,t):!0)},htmlReady:function(e){window.requestAnimationFrame(e)},afterHtmlReady:function(e){this.htmlReady(function(){this.htmlReady(e)}.bind(this))},onShown:function(e){for(var t,n=this.props.model,s=[];null!=n;)n.currView.isVisible()||(t=new p.Deferred,n.once("shown",t.resolve),s.push(t.promise())),n=n.getClosestAncestor(y);p.after.apply(p,s).then(i.partial(this.htmlReady,e))},find:function(e){return this.el.querySelector(e)},findAll:function(e){return i.toArray(this.el.querySelectorAll(e))},findAllComponents:function(e){for(var t=0,n=v(this);t<n.length;)n.push.apply(n,v(n[t])),t++;return i.where(n,{displayName:e})},findComponent:function(e){for(var t,n=0,s=i.isString(e),r=v(this);(t=r[n])&&n<r.length;){if(s&&t.displayName===e||!s&&t===e)return t;r.push.apply(r,v(t)),n++}},render:function(){return this.template()},displayClass:function(){return this.isVisible()?"shown":"hidden"},toggleVisibility:function(e){return e=null==e?!this.isVisible():e,this.setState({isVisible:e}),this},isVisible:function(){var e=null!=this.getPlayerProp?this.state:this.props.playerProps;return null!=this.props.model&&null!=this.props.model.isSlideObject?this.props.model.isKind("shufflegroup")?!0:e.OnStage&&!e.HiddenByLayer:this.state.isVisible},isEnabled:function(){return this.enabledHook?this.enabledHook():this.getPlayerProp&&this.getPlayerProp("Enabled")===!0},getPath:function(e){return h.getPath(this,e)},setTemplateManager:function(e){t=e},getTemplateManager:function(){return t},hex:function(e){return h.hexify(e)},quotify:function(e){return h.quote(e)},gainFocus:function(e,t){this.isMounted()&&(i.isFunction(this.stealFocus)?this.stealFocus(e,t):(t||this.setState({tabFocused:!0}),this.el.focus())),this.setLayerScroll()},loseFocus:function(e){this.isMounted()&&(i.isFunction(this.releaseFocus)?this.releaseFocus(e):(this.setState({tabFocused:!1}),this.el.blur()))},onActionKey:function(e,t){return i.isFunction(this.actionKeyCallback)?this.actionKeyCallback(e,t):!1},onTreeKey:function(e,t,n){return i.isFunction(this.treeKeyCallback)?this.treeKeyCallback(e,t,n):!1},previewMouseEvent:function(e){return d.isMobilePreview?e:null},onFocusClick:function(e){if(null!=this.getFocusTarget){var t=this.getFocusTarget(e);null!=t&&r.focusItem(t,!0)}},setLayerScroll:function(){i.isFunction(this.getLayer)&&(this.getLayer().scrollTop=0)}};return b.show=i.partial(b.toggleVisibility,!0),b.hide=i.partial(b.toggleVisibility,!1),b}),define("views/SvgLibrary",["require","lodash","helpers/utils","react","views/mixins/baseView"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils"),e("react")),i=e("views/mixins/baseView"),n=t.createClass({displayName:"SvgLibrary",mixins:[i]});return n});var CryptoJS=CryptoJS||function(e,t){var i={},n=i.lib={},s=n.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var i=new e;return t&&i.mixIn(t),i.$super=this,i},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.$super.extend(this)}}}(),r=n.WordArray=s.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,e=e.sigBytes;if(this.clamp(),n%4)for(var s=0;e>s;s++)t[n+s>>>2]|=(i[s>>>2]>>>24-8*(s%4)&255)<<24-8*((n+s)%4);else if(65535<i.length)for(s=0;e>s;s+=4)t[n+s>>>2]=i[s>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-8*(i%4),t.length=e.ceil(i/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;t>n;n+=4)i.push(4294967296*e.random()|0);return r.create(i,t)}}),o=i.enc={},a=o.Hex={stringify:function(e){for(var t=e.words,e=e.sigBytes,i=[],n=0;e>n;n++){var s=t[n>>>2]>>>24-8*(n%4)&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;t>n;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-4*(n%8);return r.create(i,t/2)}},l=o.Latin1={stringify:function(e){for(var t=e.words,e=e.sigBytes,i=[],n=0;e>n;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-8*(n%4)&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;t>n;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-8*(n%4);return r.create(i,t)}},u=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},c=n.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=r.create(),this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,s=i.sigBytes,o=this.blockSize,a=s/(4*o),a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0),t=a*o,s=e.min(4*t,s);if(t){for(var l=0;t>l;l+=o)this._doProcessBlock(n,l);l=n.splice(0,t),i.sigBytes-=s}return r.create(l,s)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=c.extend({init:function(){this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize(),this._hash},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:16,_createHelper:function(e){return function(t,i){return e.create(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return h.HMAC.create(e,i).finalize(t)}}});var h=i.algo={};return i}(Math);!function(){var e=CryptoJS,t=e.lib,i=t.WordArray,t=t.Hasher,n=[],s=e.algo.SHA1=t.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,s=i[0],r=i[1],o=i[2],a=i[3],l=i[4],u=0;80>u;u++){if(16>u)n[u]=0|e[t+u];else{var c=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=c<<1|c>>>31}c=(s<<5|s>>>27)+l+n[u],c=20>u?c+((r&o|~r&a)+1518500249):40>u?c+((r^o^a)+1859775393):60>u?c+((r&o|r&a|o&a)-1894007588):c+((r^o^a)-899497514),l=a,a=o,o=r<<30|r>>>2,r=s,s=c}i[0]=i[0]+s|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[(n+64>>>9<<4)+15]=i,e.sigBytes=4*t.length,this._process()}});e.SHA1=t._createHelper(s),e.HmacSHA1=t._createHmacHelper(s)}(),function(){var e=CryptoJS,t=e.lib,i=t.WordArray,n=e.enc;n.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var s=[],r=0;i>r;r+=3)for(var o=t[r>>>2]>>>24-r%4*8&255,a=t[r+1>>>2]>>>24-(r+1)%4*8&255,l=t[r+2>>>2]>>>24-(r+2)%4*8&255,u=o<<16|a<<8|l,c=0;4>c&&i>r+.75*c;c++)s.push(n.charAt(u>>>6*(3-c)&63));var h=n.charAt(64);if(h)for(;s.length%4;)s.push(h);return s.join("")},parse:function(e){e=e.replace(/\s/g,"");var t=e.length,n=this._map,s=n.charAt(64);if(s){var r=e.indexOf(s);-1!=r&&(t=r)}for(var o=[],a=0,l=0;t>l;l++)if(l%4){var u=n.indexOf(e.charAt(l-1))<<l%4*2,c=n.indexOf(e.charAt(l))>>>6-l%4*2;o[a>>>2]|=(u|c)<<24-a%4*8,a++}return i.create(o,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}();var TinCan;!function(){"use strict";var e={statementId:!0,voidedStatementId:!0,verb:!0,object:!0,registration:!0,context:!0,actor:!0,since:!0,until:!0,limit:!0,authoritative:!0,sparse:!0,instructor:!0,ascending:!0,continueToken:!0,agent:!0,activityId:!0,stateId:!0,profileId:!0,activity_platform:!0,grouping:!0,"Accept-Language":!0};TinCan=function(e){this.log("constructor"),this.recordStores=[],this.actor=null,this.activity=null,this.registration=null,this.context=null,this.init(e)},TinCan.prototype={LOG_SRC:"TinCan",log:function(e,t){TinCan.DEBUG&&"undefined"!=typeof console&&console.log&&(t=t||this.LOG_SRC||"TinCan",console.log("TinCan."+t+": "+e))},init:function(e){this.log("init");var t;if(e=e||{},e.hasOwnProperty("url")&&""!==e.url&&this._initFromQueryString(e.url),e.hasOwnProperty("recordStores")&&void 0!==e.recordStores)for(t=0;t<e.recordStores.length;t+=1)this.addRecordStore(e.recordStores[t]);e.hasOwnProperty("activity")&&(e.activity instanceof TinCan.Activity?this.activity=e.activity:this.activity=new TinCan.Activity(e.activity)),e.hasOwnProperty("actor")&&(e.actor instanceof TinCan.Agent?this.actor=e.actor:this.actor=new TinCan.Agent(e.actor)),e.hasOwnProperty("context")&&(e.context instanceof TinCan.Context?this.context=e.context:this.context=new TinCan.Context(e.context)),e.hasOwnProperty("registration")&&(this.registration=e.registration)},_initFromQueryString:function(t){this.log("_initFromQueryString");var i,n,s,r=TinCan.Utils.parseURL(t).params,o=["endpoint","auth"],a={},l=null;if(r.hasOwnProperty("actor")){this.log("_initFromQueryString - found actor: "+r.actor);try{this.actor=TinCan.Agent.fromJSON(r.actor),delete r.actor}catch(u){this.log("_initFromQueryString - failed to set actor: "+u)}}if(r.hasOwnProperty("activity_id")&&(this.activity=new TinCan.Activity({id:r.activity_id}),delete r.activity_id),(r.hasOwnProperty("activity_platform")||r.hasOwnProperty("registration")||r.hasOwnProperty("grouping"))&&(s={},r.hasOwnProperty("activity_platform")&&(s.platform=r.activity_platform,delete r.activity_platform),r.hasOwnProperty("registration")&&(s.registration=this.registration=r.registration,delete r.registration),r.hasOwnProperty("grouping")&&(s.contextActivities={},s.contextActivities.grouping=r.grouping,delete r.grouping),this.context=new TinCan.Context(s)),r.hasOwnProperty("endpoint")){for(i=0;i<o.length;i+=1)n=o[i],r.hasOwnProperty(n)&&(a[n]=r[n],delete r[n]);for(i in r)r.hasOwnProperty(i)&&(e.hasOwnProperty(i)?delete r[i]:(l=l||{},l[i]=r[i]));null!==l&&(a.extended=l),a.allowFail=!1,this.addRecordStore(a)}},addRecordStore:function(e){this.log("addRecordStore");var t;t=e instanceof TinCan.LRS?e:new TinCan.LRS(e),this.recordStores.push(t)},prepareStatement:function(e){return this.log("prepareStatement"),e instanceof TinCan.Statement||(e=new TinCan.Statement(e)),null===e.actor&&null!==this.actor&&(e.actor=this.actor),null===e.target&&null!==this.activity&&(e.target=this.activity),null!==this.context&&(null===e.context?e.context=this.context:(null===e.context.registration&&(e.context.registration=this.context.registration),null===e.context.platform&&(e.context.platform=this.context.platform),null!==this.context.contextActivities&&(null===e.context.contextActivities?e.context.contextActivities=this.context.contextActivities:(null!==this.context.contextActivities.grouping&&null===e.context.contextActivities.grouping&&(e.context.contextActivities.grouping=this.context.contextActivities.grouping),null!==this.context.contextActivities.parent&&null===e.context.contextActivities.parent&&(e.context.contextActivities.parent=this.context.contextActivities.parent),null!==this.context.contextActivities.other&&null===e.context.contextActivities.other&&(e.context.contextActivities.other=this.context.contextActivities.other))))),e},sendStatement:function(e,t){this.log("sendStatement");var i,n,s,r=this,o=this.prepareStatement(e),a=this.recordStores.length,l=[],u=[];if(a>0)for("function"==typeof t&&(s=function(e,i){var n;r.log("sendStatement - callbackWrapper: "+a),a>1?(a-=1,u.push({err:e,xhr:i})):1===a?(u.push({err:e,xhr:i}),n=[u,o],t.apply(this,n)):r.log("sendStatement - unexpected record store count: "+a)}),n=0;a>n;n+=1)i=this.recordStores[n],l.push(i.saveStatement(o,{callback:s
}));else this.log("[warning] sendStatement: No LRSs added yet (statement not sent)"),"function"==typeof t&&t.apply(this,[null,o]);return{statement:o,results:l}},getStatement:function(e,t){this.log("getStatement");var i;return this.recordStores.length>0?(i=this.recordStores[0],i.retrieveStatement(e,{callback:t})):void this.log("[warning] getStatement: No LRSs added yet (statement not retrieved)")},voidStatement:function(e,t,i){this.log("voidStatement");var n,s,r,o,a,l=this,u=this.recordStores.length,c=[],h=[];if(e instanceof TinCan.Statement&&(e=e.id),"undefined"!=typeof i.actor?s=i.actor:null!==this.actor&&(s=this.actor),r=new TinCan.Statement({actor:s,verb:{id:"http://adlnet.gov/expapi/verbs/voided"},target:{objectType:"StatementRef",id:e}}),u>0)for("function"==typeof t&&(a=function(e,i){var n;l.log("voidStatement - callbackWrapper: "+u),u>1?(u-=1,h.push({err:e,xhr:i})):1===u?(h.push({err:e,xhr:i}),n=[h,r],t.apply(this,n)):l.log("voidStatement - unexpected record store count: "+u)}),o=0;u>o;o+=1)n=this.recordStores[o],c.push(n.saveStatement(r,{callback:a}));else this.log("[warning] voidStatement: No LRSs added yet (statement not sent)"),"function"==typeof t&&t.apply(this,[null,r]);return{statement:r,results:c}},getVoidedStatement:function(e,t){this.log("getVoidedStatement");var i;return this.recordStores.length>0?(i=this.recordStores[0],i.retrieveVoidedStatement(e,{callback:t})):void this.log("[warning] getVoidedStatement: No LRSs added yet (statement not retrieved)")},sendStatements:function(e,t){this.log("sendStatements");var i,n,s,r=this,o=[],a=this.recordStores.length,l=[],u=[];if(0===e.length)"function"==typeof t&&t.apply(this,[null,o]);else{for(n=0;n<e.length;n+=1)o.push(this.prepareStatement(e[n]));if(a>0)for("function"==typeof t&&(s=function(e,i){var n;r.log("sendStatements - callbackWrapper: "+a),a>1?(a-=1,u.push({err:e,xhr:i})):1===a?(u.push({err:e,xhr:i}),n=[u,o],t.apply(this,n)):r.log("sendStatements - unexpected record store count: "+a)}),n=0;a>n;n+=1)i=this.recordStores[n],l.push(i.saveStatements(o,{callback:s}));else this.log("[warning] sendStatements: No LRSs added yet (statements not sent)"),"function"==typeof t&&t.apply(this,[null,o])}return{statements:o,results:l}},getStatements:function(e){this.log("getStatements");var t,i,n={};return this.recordStores.length>0?(t=this.recordStores[0],e=e||{},i=e.params||{},e.sendActor&&null!==this.actor&&("0.9"===t.version||"0.95"===t.version?i.actor=this.actor:i.agent=this.actor),e.sendActivity&&null!==this.activity&&("0.9"===t.version||"0.95"===t.version?i.target=this.activity:i.activity=this.activity),"undefined"==typeof i.registration&&null!==this.registration&&(i.registration=this.registration),n={params:i},"undefined"!=typeof e.callback&&(n.callback=e.callback),t.queryStatements(n)):void this.log("[warning] getStatements: No LRSs added yet (statements not read)")},getState:function(e,t){this.log("getState");var i,n;return this.recordStores.length>0?(n=this.recordStores[0],t=t||{},i={agent:"undefined"!=typeof t.agent?t.agent:this.actor,activity:"undefined"!=typeof t.activity?t.activity:this.activity},"undefined"!=typeof t.registration?i.registration=t.registration:null!==this.registration&&(i.registration=this.registration),"undefined"!=typeof t.callback&&(i.callback=t.callback),n.retrieveState(e,i)):void this.log("[warning] getState: No LRSs added yet (state not retrieved)")},setState:function(e,t,i){this.log("setState");var n,s;return this.recordStores.length>0?(s=this.recordStores[0],i=i||{},n={agent:"undefined"!=typeof i.agent?i.agent:this.actor,activity:"undefined"!=typeof i.activity?i.activity:this.activity},"undefined"!=typeof i.registration?n.registration=i.registration:null!==this.registration&&(n.registration=this.registration),"undefined"!=typeof i.lastSHA1&&(n.lastSHA1=i.lastSHA1),"undefined"!=typeof i.contentType&&(n.contentType=i.contentType,"undefined"!=typeof i.overwriteJSON&&!i.overwriteJSON&&TinCan.Utils.isApplicationJSON(i.contentType)&&(n.method="POST")),"undefined"!=typeof i.callback&&(n.callback=i.callback),s.saveState(e,t,n)):void this.log("[warning] setState: No LRSs added yet (state not saved)")},deleteState:function(e,t){this.log("deleteState");var i,n;return this.recordStores.length>0?(n=this.recordStores[0],t=t||{},i={agent:"undefined"!=typeof t.agent?t.agent:this.actor,activity:"undefined"!=typeof t.activity?t.activity:this.activity},"undefined"!=typeof t.registration?i.registration=t.registration:null!==this.registration&&(i.registration=this.registration),"undefined"!=typeof t.callback&&(i.callback=t.callback),n.dropState(e,i)):void this.log("[warning] deleteState: No LRSs added yet (state not deleted)")},getActivityProfile:function(e,t){this.log("getActivityProfile");var i,n;return this.recordStores.length>0?(n=this.recordStores[0],t=t||{},i={activity:"undefined"!=typeof t.activity?t.activity:this.activity},"undefined"!=typeof t.callback&&(i.callback=t.callback),n.retrieveActivityProfile(e,i)):void this.log("[warning] getActivityProfile: No LRSs added yet (activity profile not retrieved)")},setActivityProfile:function(e,t,i){this.log("setActivityProfile");var n,s;return this.recordStores.length>0?(s=this.recordStores[0],i=i||{},n={activity:"undefined"!=typeof i.activity?i.activity:this.activity},"undefined"!=typeof i.callback&&(n.callback=i.callback),"undefined"!=typeof i.lastSHA1&&(n.lastSHA1=i.lastSHA1),"undefined"!=typeof i.contentType&&(n.contentType=i.contentType,"undefined"!=typeof i.overwriteJSON&&!i.overwriteJSON&&TinCan.Utils.isApplicationJSON(i.contentType)&&(n.method="POST")),s.saveActivityProfile(e,t,n)):void this.log("[warning] setActivityProfile: No LRSs added yet (activity profile not saved)")},deleteActivityProfile:function(e,t){this.log("deleteActivityProfile");var i,n;return this.recordStores.length>0?(n=this.recordStores[0],t=t||{},i={activity:"undefined"!=typeof t.activity?t.activity:this.activity},"undefined"!=typeof t.callback&&(i.callback=t.callback),n.dropActivityProfile(e,i)):void this.log("[warning] deleteActivityProfile: No LRSs added yet (activity profile not deleted)")},getAgentProfile:function(e,t){this.log("getAgentProfile");var i,n;return this.recordStores.length>0?(n=this.recordStores[0],t=t||{},i={agent:"undefined"!=typeof t.agent?t.agent:this.actor},"undefined"!=typeof t.callback&&(i.callback=t.callback),n.retrieveAgentProfile(e,i)):void this.log("[warning] getAgentProfile: No LRSs added yet (agent profile not retrieved)")},setAgentProfile:function(e,t,i){this.log("setAgentProfile");var n,s;return this.recordStores.length>0?(s=this.recordStores[0],i=i||{},n={agent:"undefined"!=typeof i.agent?i.agent:this.actor},"undefined"!=typeof i.callback&&(n.callback=i.callback),"undefined"!=typeof i.lastSHA1&&(n.lastSHA1=i.lastSHA1),"undefined"!=typeof i.contentType&&(n.contentType=i.contentType,"undefined"!=typeof i.overwriteJSON&&!i.overwriteJSON&&TinCan.Utils.isApplicationJSON(i.contentType)&&(n.method="POST")),s.saveAgentProfile(e,t,n)):void this.log("[warning] setAgentProfile: No LRSs added yet (agent profile not saved)")},deleteAgentProfile:function(e,t){this.log("deleteAgentProfile");var i,n;return this.recordStores.length>0?(n=this.recordStores[0],t=t||{},i={agent:"undefined"!=typeof t.agent?t.agent:this.actor},"undefined"!=typeof t.callback&&(i.callback=t.callback),n.dropAgentProfile(e,i)):void this.log("[warning] deleteAgentProfile: No LRSs added yet (agent profile not deleted)")}},TinCan.DEBUG=!1,TinCan.enableDebug=function(){TinCan.DEBUG=!0},TinCan.disableDebug=function(){TinCan.DEBUG=!1},TinCan.versions=function(){return["1.0.1","1.0.0","0.95","0.9"]},"object"==typeof module&&(module.exports=TinCan)}(),function(){"use strict";TinCan.Utils={getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"==e?t:3&t|8;return i.toString(16)})},getISODateString:function(e){function t(e,t){var i,n;for("undefined"!=typeof e&&null!==e||(e=0),"undefined"!=typeof t&&null!==t||(t=2),i=Math.pow(10,t-1),n=e.toString();i>e&&i>1;)n="0"+n,i/=10;return n}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+t(e.getUTCMilliseconds(),3)+"Z"},convertISO8601DurationToMilliseconds:function(e){var t,i,n,s,r=e.indexOf("-")>=0,o=e.indexOf("T"),a=e.indexOf("H"),l=e.indexOf("M"),u=e.indexOf("S");if(-1===o||-1!==l&&o>l||-1!==e.indexOf("D")||-1!==e.indexOf("Y"))throw new Error("ISO 8601 timestamps including years, months and/or days are not currently supported");return-1===a?(a=o,t=0):t=parseInt(e.slice(o+1,a),10),-1===l?(l=o,i=0):i=parseInt(e.slice(a+1,l),10),n=parseFloat(e.slice(l+1,u)),s=parseInt(1e3*(60*(60*t+i)+n),10),isNaN(s)&&(s=0),r&&(s=-1*s),s},convertMillisecondsToISO8601Duration:function(e){var t,i,n,s=parseInt(e,10),r="",o="";return 0>s&&(r="-",s=-1*s),t=parseInt(s/36e5,10),i=parseInt(s%36e5/6e4,10),n=s%36e5%6e4/1e3,o=r+"PT",t>0&&(o+=t+"H"),i>0&&(o+=i+"M"),o+=n+"S"},getSHA1String:function(e){return CryptoJS.SHA1(e).toString(CryptoJS.enc.Hex)},getBase64String:function(e){return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Latin1.parse(e))},getLangDictionaryValue:function(e,t){var i,n=this[e];if("undefined"!=typeof t&&"undefined"!=typeof n[t])return n[t];if("undefined"!=typeof n.und)return n.und;if("undefined"!=typeof n["en-US"])return n["en-US"];for(i in n)if(n.hasOwnProperty(i))return n[i];return""},parseURL:function(e){var t,i,n,s,r=/\+/g,o=/([^&=]+)=?([^&]*)/g,a=function(e){return decodeURIComponent(e.replace(r," "))};if(t=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),i=e.match(t),n={protocol:i[1],host:i[2],hostname:i[3],port:i[4],pathname:i[5],search:i[6],hash:i[7],params:{}},n.path=n.protocol+"//"+n.host+n.pathname,""!==n.search)for(;s=o.exec(n.search.substring(1));)n.params[a(s[1])]=a(s[2]);return n},getServerRoot:function(e){var t=e.split("/");return t[0]+"//"+t[2]},getContentTypeFromHeader:function(e){return String(e).split(";")[0]},isApplicationJSON:function(e){return 0===TinCan.Utils.getContentTypeFromHeader(e).toLowerCase().indexOf("application/json")}}}(),function(){"use strict";var e=TinCan.LRS=function(e){this.log("constructor"),this.endpoint=null,this.version=null,this.auth=null,this.allowFail=!0,this.extended=null,this.init(e)};e.prototype={LOG_SRC:"LRS",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=TinCan.versions(),n=!1;if(e=e||{},e.hasOwnProperty("alertOnRequestFailure")&&this.log("'alertOnRequestFailure' is deprecated (alerts have been removed) no need to set it now"),!e.hasOwnProperty("endpoint")||null===e.endpoint||""===e.endpoint)throw this.log("[error] LRS invalid: no endpoint"),{code:3,mesg:"LRS invalid: no endpoint"};if(this.endpoint=String(e.endpoint),"/"!==this.endpoint.slice(-1)&&(this.log("adding trailing slash to endpoint"),this.endpoint+="/"),e.hasOwnProperty("allowFail")&&(this.allowFail=e.allowFail),e.hasOwnProperty("auth")?this.auth=e.auth:e.hasOwnProperty("username")&&e.hasOwnProperty("password")&&(this.auth="Basic "+TinCan.Utils.getBase64String(e.username+":"+e.password)),e.hasOwnProperty("extended")&&(this.extended=e.extended),this._initByEnvironment(e),"undefined"!=typeof e.version){for(this.log("version: "+e.version),t=0;t<i.length;t+=1)if(i[t]===e.version){n=!0;break}if(!n)throw this.log("[error] LRS invalid: version not supported ("+e.version+")"),{code:5,mesg:"LRS invalid: version not supported ("+e.version+")"};this.version=e.version}else this.version=i[0]},_initByEnvironment:function(){this.log("_initByEnvironment not overloaded - no environment loaded?")},_makeRequest:function(){this.log("_makeRequest not overloaded - no environment loaded?")},_IEModeConversion:function(){this.log("_IEModeConversion not overloaded - browser environment not loaded.")},sendRequest:function(e){this.log("sendRequest");var t,i=this.endpoint+e.url,n={};if(0===e.url.indexOf("http")&&(i=e.url),null!==this.extended){e.params=e.params||{};for(t in this.extended)this.extended.hasOwnProperty(t)&&(e.params.hasOwnProperty(t)||null!==this.extended[t]&&(e.params[t]=this.extended[t]))}n.Authorization=this.auth,"0.9"!==this.version&&(n["X-Experience-API-Version"]=this.version);for(t in e.headers)e.headers.hasOwnProperty(t)&&(n[t]=e.headers[t]);return this._makeRequest(i,n,e)},about:function(e){this.log("about");var t,i,n;return e=e||{},t={url:"about",method:"GET",params:{}},"undefined"!=typeof e.callback&&(n=function(t,i){var n=i;null===t&&(n=TinCan.About.fromJSON(i.responseText)),e.callback(t,n)},t.callback=n),i=this.sendRequest(t),n?void 0:(null===i.err&&(i.xhr=TinCan.About.fromJSON(i.xhr.responseText)),i)},saveStatement:function(e,t){this.log("saveStatement");var i,n;t=t||{};try{n=e.asVersion(this.version)}catch(s){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+s),"undefined"!=typeof t.callback?void t.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+s),"undefined"!=typeof t.callback?void t.callback(s,null):{err:s,xhr:null})}return i={url:"statements",data:JSON.stringify(n),headers:{"Content-Type":"application/json"}},null!==e.id?(i.method="PUT",i.params={statementId:e.id}):i.method="POST","undefined"!=typeof t.callback&&(i.callback=t.callback),this.sendRequest(i)},retrieveStatement:function(e,t){this.log("retrieveStatement");var i,n,s;return t=t||{},i={url:"statements",method:"GET",params:{statementId:e}},"undefined"!=typeof t.callback&&(s=function(e,i){var n=i;null===e&&(n=TinCan.Statement.fromJSON(i.responseText)),t.callback(e,n)},i.callback=s),n=this.sendRequest(i),s||(n.statement=null,null===n.err&&(n.statement=TinCan.Statement.fromJSON(n.xhr.responseText))),n},retrieveVoidedStatement:function(e,t){this.log("retrieveVoidedStatement");var i,n,s;return t=t||{},i={url:"statements",method:"GET",params:{}},"0.9"===this.version||"0.95"===this.version?i.params.statementId=e:i.params.voidedStatementId=e,"undefined"!=typeof t.callback&&(s=function(e,i){var n=i;null===e&&(n=TinCan.Statement.fromJSON(i.responseText)),t.callback(e,n)},i.callback=s),n=this.sendRequest(i),s||(n.statement=null,null===n.err&&(n.statement=TinCan.Statement.fromJSON(n.xhr.responseText))),n},saveStatements:function(e,t){this.log("saveStatements");var i,n,s,r=[];if(t=t||{},0===e.length)return"undefined"!=typeof t.callback?void t.callback(new Error("no statements"),null):{err:new Error("no statements"),xhr:null};for(s=0;s<e.length;s+=1){try{n=e[s].asVersion(this.version)}catch(o){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+o),"undefined"!=typeof t.callback?void t.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+o),"undefined"!=typeof t.callback?void t.callback(o,null):{err:o,xhr:null})}r.push(n)}return i={url:"statements",method:"POST",data:JSON.stringify(r),headers:{"Content-Type":"application/json"}},"undefined"!=typeof t.callback&&(i.callback=t.callback),this.sendRequest(i)},queryStatements:function(e){this.log("queryStatements");var t,i,n;e=e||{},e.params=e.params||{};try{t=this._queryStatementsRequestCfg(e)}catch(s){return this.log("[error] Query statements failed - "+s),"undefined"!=typeof e.callback&&e.callback(s,{}),{err:s,statementsResult:null}}return"undefined"!=typeof e.callback&&(n=function(t,i){var n=i;null===t&&(n=TinCan.StatementsResult.fromJSON(i.responseText)),e.callback(t,n)},t.callback=n),i=this.sendRequest(t),i.config=t,n||(i.statementsResult=null,null===i.err&&(i.statementsResult=TinCan.StatementsResult.fromJSON(i.xhr.responseText))),i},_queryStatementsRequestCfg:function(e){this.log("_queryStatementsRequestCfg");var t,i,n={},s={url:"statements",method:"GET",params:n},r=["agent","actor","object","instructor"],o=["verb","activity"],a=["registration","context","since","until","limit","authoritative","sparse","ascending","related_activities","related_agents","format","attachments"],l={verb:!0,registration:!0,since:!0,until:!0,limit:!0,ascending:!0},u={.9:{supported:{actor:!0,instructor:!0,target:!0,object:!0,context:!0,authoritative:!0,sparse:!0}},"1.0.0":{supported:{agent:!0,activity:!0,related_activities:!0,related_agents:!0,format:!0,attachments:!0}}};u[.95]=u[.9],u["1.0.1"]=u["1.0.0"],e.params.hasOwnProperty("target")&&(e.params.object=e.params.target);for(i in e.params)if(e.params.hasOwnProperty(i)&&"undefined"==typeof l[i]&&"undefined"==typeof u[this.version].supported[i])throw"Unrecognized query parameter configured: "+i;for(t=0;t<r.length;t+=1)"undefined"!=typeof e.params[r[t]]&&(n[r[t]]=JSON.stringify(e.params[r[t]].asVersion(this.version)));for(t=0;t<o.length;t+=1)"undefined"!=typeof e.params[o[t]]&&(n[o[t]]=e.params[o[t]].id);for(t=0;t<a.length;t+=1)"undefined"!=typeof e.params[a[t]]&&(n[a[t]]=e.params[a[t]]);return s},moreStatements:function(e){this.log("moreStatements: "+e.url);var t,i,n,s,r;return e=e||{},s=TinCan.Utils.parseURL(e.url),r=TinCan.Utils.getServerRoot(this.endpoint),0===s.path.indexOf("/statements")&&(s.path=this.endpoint.replace(r,"")+s.path,this.log("converting non-standard more URL to "+s.path)),0!==s.path.indexOf("/")&&(s.path="/"+s.path),t={method:"GET",url:r+s.path,params:s.params},"undefined"!=typeof e.callback&&(n=function(t,i){var n=i;null===t&&(n=TinCan.StatementsResult.fromJSON(i.responseText)),e.callback(t,n)},t.callback=n),i=this.sendRequest(t),i.config=t,n||(i.statementsResult=null,null===i.err&&(i.statementsResult=TinCan.StatementsResult.fromJSON(i.xhr.responseText))),i},retrieveState:function(e,t){this.log("retrieveState");var i,n,s={},r={};if(s={stateId:e,activityId:t.activity.id},"0.9"===this.version?s.actor=JSON.stringify(t.agent.asVersion(this.version)):s.agent=JSON.stringify(t.agent.asVersion(this.version)),"undefined"!=typeof t.registration&&null!==t.registration&&("0.9"===this.version?s.registrationId=t.registration:s.registration=t.registration),r={url:"activities/state",method:"GET",params:s,ignore404:!0},"undefined"!=typeof t.callback&&(n=function(i,n){var s=n;if(null===i)if(404===n.status)s=null;else if(s=new TinCan.State({id:e,contents:n.responseText}),"undefined"!=typeof n.getResponseHeader&&null!==n.getResponseHeader("ETag")&&""!==n.getResponseHeader("ETag")?s.etag=n.getResponseHeader("ETag"):s.etag=TinCan.Utils.getSHA1String(n.responseText),"undefined"!=typeof n.contentType?s.contentType=n.contentType:"undefined"!=typeof n.getResponseHeader&&null!==n.getResponseHeader("Content-Type")&&""!==n.getResponseHeader("Content-Type")&&(s.contentType=n.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(s.contentType))try{s.contents=JSON.parse(s.contents)}catch(r){this.log("retrieveState - failed to deserialize JSON: "+r)}t.callback(i,s)},r.callback=n),i=this.sendRequest(r),!n&&(i.state=null,null===i.err&&404!==i.xhr.status&&(i.state=new TinCan.State({id:e,contents:i.xhr.responseText}),"undefined"!=typeof i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("ETag")&&""!==i.xhr.getResponseHeader("ETag")?i.state.etag=i.xhr.getResponseHeader("ETag"):i.state.etag=TinCan.Utils.getSHA1String(i.xhr.responseText),"undefined"!=typeof i.xhr.contentType?i.state.contentType=i.xhr.contentType:"undefined"!=typeof i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("Content-Type")&&""!==i.xhr.getResponseHeader("Content-Type")&&(i.state.contentType=i.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(i.state.contentType))))try{i.state.contents=JSON.parse(i.state.contents)}catch(o){this.log("retrieveState - failed to deserialize JSON: "+o)}return i},saveState:function(e,t,i){this.log("saveState");var n,s;return"undefined"==typeof i.contentType&&(i.contentType="application/octet-stream"),"object"==typeof t&&TinCan.Utils.isApplicationJSON(i.contentType)&&(t=JSON.stringify(t)),"undefined"!=typeof i.method&&"POST"===i.method||(i.method="PUT"),n={stateId:e,activityId:i.activity.id},"0.9"===this.version?n.actor=JSON.stringify(i.agent.asVersion(this.version)):n.agent=JSON.stringify(i.agent.asVersion(this.version)),"undefined"!=typeof i.registration&&null!==i.registration&&("0.9"===this.version?n.registrationId=i.registration:n.registration=i.registration),s={url:"activities/state",method:i.method,params:n,data:t,headers:{"Content-Type":i.contentType}},"undefined"!=typeof i.callback&&(s.callback=i.callback),"undefined"!=typeof i.lastSHA1&&null!==i.lastSHA1&&(s.headers["If-Match"]=i.lastSHA1),this.sendRequest(s)},dropState:function(e,t){this.log("dropState");var i,n;return i={activityId:t.activity.id},"0.9"===this.version?i.actor=JSON.stringify(t.agent.asVersion(this.version)):i.agent=JSON.stringify(t.agent.asVersion(this.version)),null!==e&&(i.stateId=e),"undefined"!=typeof t.registration&&null!==t.registration&&("0.9"===this.version?i.registrationId=t.registration:i.registration=t.registration),n={url:"activities/state",method:"DELETE",params:i},"undefined"!=typeof t.callback&&(n.callback=t.callback),this.sendRequest(n)},retrieveActivityProfile:function(e,t){this.log("retrieveActivityProfile");var i,n,s={};if(s={url:"activities/profile",method:"GET",params:{profileId:e,activityId:t.activity.id},ignore404:!0},"undefined"!=typeof t.callback&&(n=function(i,n){var s=n;if(null===i)if(404===n.status)s=null;else if(s=new TinCan.ActivityProfile({id:e,activity:t.activity,contents:n.responseText}),"undefined"!=typeof n.getResponseHeader&&null!==n.getResponseHeader("ETag")&&""!==n.getResponseHeader("ETag")?s.etag=n.getResponseHeader("ETag"):s.etag=TinCan.Utils.getSHA1String(n.responseText),"undefined"!=typeof n.contentType?s.contentType=n.contentType:"undefined"!=typeof n.getResponseHeader&&null!==n.getResponseHeader("Content-Type")&&""!==n.getResponseHeader("Content-Type")&&(s.contentType=n.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(s.contentType))try{s.contents=JSON.parse(s.contents)}catch(r){this.log("retrieveActivityProfile - failed to deserialize JSON: "+r)}t.callback(i,s)},s.callback=n),i=this.sendRequest(s),!n&&(i.profile=null,null===i.err&&404!==i.xhr.status&&(i.profile=new TinCan.ActivityProfile({id:e,activity:t.activity,contents:i.xhr.responseText}),"undefined"!=typeof i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("ETag")&&""!==i.xhr.getResponseHeader("ETag")?i.profile.etag=i.xhr.getResponseHeader("ETag"):i.profile.etag=TinCan.Utils.getSHA1String(i.xhr.responseText),"undefined"!=typeof i.xhr.contentType?i.profile.contentType=i.xhr.contentType:"undefined"!=typeof i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("Content-Type")&&""!==i.xhr.getResponseHeader("Content-Type")&&(i.profile.contentType=i.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(i.profile.contentType))))try{i.profile.contents=JSON.parse(i.profile.contents)}catch(r){this.log("retrieveActivityProfile - failed to deserialize JSON: "+r)}return i},saveActivityProfile:function(e,t,i){this.log("saveActivityProfile");var n;return"undefined"==typeof i.contentType&&(i.contentType="application/octet-stream"),"undefined"!=typeof i.method&&"POST"===i.method||(i.method="PUT"),"object"==typeof t&&TinCan.Utils.isApplicationJSON(i.contentType)&&(t=JSON.stringify(t)),n={url:"activities/profile",method:i.method,params:{profileId:e,activityId:i.activity.id},data:t,headers:{"Content-Type":i.contentType}},"undefined"!=typeof i.callback&&(n.callback=i.callback),"undefined"!=typeof i.lastSHA1&&null!==i.lastSHA1?n.headers["If-Match"]=i.lastSHA1:n.headers["If-None-Match"]="*",this.sendRequest(n)},dropActivityProfile:function(e,t){this.log("dropActivityProfile");var i,n;return i={profileId:e,activityId:t.activity.id},n={url:"activities/profile",method:"DELETE",params:i},"undefined"!=typeof t.callback&&(n.callback=t.callback),this.sendRequest(n)},retrieveAgentProfile:function(e,t){this.log("retrieveAgentProfile");var i,n,s={};if(s={method:"GET",params:{profileId:e},ignore404:!0},"0.9"===this.version?(s.url="actors/profile",s.params.actor=JSON.stringify(t.agent.asVersion(this.version))):(s.url="agents/profile",s.params.agent=JSON.stringify(t.agent.asVersion(this.version))),"undefined"!=typeof t.callback&&(n=function(i,n){var s=n;if(null===i)if(404===n.status)s=null;else if(s=new TinCan.AgentProfile({id:e,agent:t.agent,contents:n.responseText}),"undefined"!=typeof n.getResponseHeader&&null!==n.getResponseHeader("ETag")&&""!==n.getResponseHeader("ETag")?s.etag=n.getResponseHeader("ETag"):s.etag=TinCan.Utils.getSHA1String(n.responseText),"undefined"!=typeof n.contentType?s.contentType=n.contentType:"undefined"!=typeof n.getResponseHeader&&null!==n.getResponseHeader("Content-Type")&&""!==n.getResponseHeader("Content-Type")&&(s.contentType=n.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(s.contentType))try{s.contents=JSON.parse(s.contents)}catch(r){this.log("retrieveAgentProfile - failed to deserialize JSON: "+r)}t.callback(i,s)},s.callback=n),i=this.sendRequest(s),!n&&(i.profile=null,null===i.err&&404!==i.xhr.status&&(i.profile=new TinCan.AgentProfile({id:e,agent:t.agent,contents:i.xhr.responseText}),"undefined"!=typeof i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("ETag")&&""!==i.xhr.getResponseHeader("ETag")?i.profile.etag=i.xhr.getResponseHeader("ETag"):i.profile.etag=TinCan.Utils.getSHA1String(i.xhr.responseText),"undefined"!=typeof i.xhr.contentType?i.profile.contentType=i.xhr.contentType:"undefined"!=typeof i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("Content-Type")&&""!==i.xhr.getResponseHeader("Content-Type")&&(i.profile.contentType=i.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(i.profile.contentType))))try{i.profile.contents=JSON.parse(i.profile.contents)}catch(r){this.log("retrieveAgentProfile - failed to deserialize JSON: "+r)}return i},saveAgentProfile:function(e,t,i){this.log("saveAgentProfile");var n;return"undefined"==typeof i.contentType&&(i.contentType="application/octet-stream"),"undefined"!=typeof i.method&&"POST"===i.method||(i.method="PUT"),"object"==typeof t&&TinCan.Utils.isApplicationJSON(i.contentType)&&(t=JSON.stringify(t)),n={method:i.method,params:{profileId:e},data:t,headers:{"Content-Type":i.contentType}},"0.9"===this.version?(n.url="actors/profile",n.params.actor=JSON.stringify(i.agent.asVersion(this.version))):(n.url="agents/profile",n.params.agent=JSON.stringify(i.agent.asVersion(this.version))),"undefined"!=typeof i.callback&&(n.callback=i.callback),"undefined"!=typeof i.lastSHA1&&null!==i.lastSHA1?n.headers["If-Match"]=i.lastSHA1:n.headers["If-None-Match"]="*",this.sendRequest(n)},dropAgentProfile:function(e,t){this.log("dropAgentProfile");var i,n;return i={profileId:e},n={method:"DELETE",params:i},"0.9"===this.version?(n.url="actors/profile",i.actor=JSON.stringify(t.agent.asVersion(this.version))):(n.url="agents/profile",i.agent=JSON.stringify(t.agent.asVersion(this.version))),"undefined"!=typeof t.callback&&(n.callback=t.callback),this.sendRequest(n)}},e.syncEnabled=null}(),function(){"use strict";var e=TinCan.AgentAccount=function(e){this.log("constructor"),this.homePage=null,this.name=null,this.init(e)};e.prototype={LOG_SRC:"AgentAccount",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["name","homePage"];for(e=e||{},"undefined"!=typeof e.accountServiceHomePage&&(e.homePage=e.accountServiceHomePage),"undefined"!=typeof e.accountName&&(e.name=e.accountName),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(){this.log("toString");var e="";return null!==this.name||null!==this.homePage?(e+=null!==this.name?this.name:"-",e+=":",e+=null!==this.homePage?this.homePage:"-"):e="AgentAccount: unidentified",e},asVersion:function(e){this.log("asVersion: "+e);var t={};return e=e||TinCan.versions()[0],"0.9"===e?(t.accountName=this.name,t.accountServiceHomePage=this.homePage):(t.name=this.name,t.homePage=this.homePage),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Agent=function(e){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.degraded=!1,this.init(e)};e.prototype={objectType:"Agent",LOG_SRC:"Agent",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n=["name","mbox","mbox_sha1sum","openid"];for(e=e||{},"undefined"!=typeof e.lastName||"undefined"!=typeof e.firstName?(e.name="","undefined"!=typeof e.firstName&&e.firstName.length>0&&(e.name=e.firstName[0],e.firstName.length>1&&(this.degraded=!0)),""!==e.name&&(e.name+=" "),"undefined"!=typeof e.lastName&&e.lastName.length>0&&(e.name+=e.lastName[0],e.lastName.length>1&&(this.degraded=!0))):"undefined"==typeof e.familyName&&"undefined"==typeof e.givenName||(e.name="","undefined"!=typeof e.givenName&&e.givenName.length>0&&(e.name=e.givenName[0],e.givenName.length>1&&(this.degraded=!0)),""!==e.name&&(e.name+=" "),"undefined"!=typeof e.familyName&&e.familyName.length>0&&(e.name+=e.familyName[0],e.familyName.length>1&&(this.degraded=!0))),"object"==typeof e.name&&null!==e.name&&(e.name.length>1&&(this.degraded=!0),e.name=e.name[0]),"object"==typeof e.mbox&&null!==e.mbox&&(e.mbox.length>1&&(this.degraded=!0),e.mbox=e.mbox[0]),"object"==typeof e.mbox_sha1sum&&null!==e.mbox_sha1sum&&(e.mbox_sha1sum.length>1&&(this.degraded=!0),e.mbox_sha1sum=e.mbox_sha1sum[0]),"object"==typeof e.openid&&null!==e.openid&&(e.openid.length>1&&(this.degraded=!0),e.openid=e.openid[0]),"object"==typeof e.account&&null!==e.account&&"undefined"==typeof e.account.homePage&&"undefined"==typeof e.account.name&&(0===e.account.length?delete e.account:(e.account.length>1&&(this.degraded=!0),e.account=e.account[0])),e.hasOwnProperty("account")&&(e.account instanceof TinCan.AgentAccount?this.account=e.account:this.account=new TinCan.AgentAccount(e.account)),t=0;t<n.length;t+=1)e.hasOwnProperty(n[t])&&null!==e[n[t]]&&(i=e[n[t]],"mbox"===n[t]&&-1===i.indexOf("mailto:")&&(i="mailto:"+i),this[n[t]]=i)},toString:function(){return this.log("toString"),null!==this.name?this.name:null!==this.mbox?this.mbox.replace("mailto:",""):null!==this.mbox_sha1sum?this.mbox_sha1sum:null!==this.openid?this.openid:null!==this.account?this.account.toString():this.objectType+": unidentified"},asVersion:function(e){this.log("asVersion: "+e);var t={objectType:this.objectType};return e=e||TinCan.versions()[0],"0.9"===e?(null!==this.mbox?t.mbox=[this.mbox]:null!==this.mbox_sha1sum?t.mbox_sha1sum=[this.mbox_sha1sum]:null!==this.openid?t.openid=[this.openid]:null!==this.account&&(t.account=[this.account.asVersion(e)]),null!==this.name&&(t.name=[this.name])):(null!==this.mbox?t.mbox=this.mbox:null!==this.mbox_sha1sum?t.mbox_sha1sum=this.mbox_sha1sum:null!==this.openid?t.openid=this.openid:null!==this.account&&(t.account=this.account.asVersion(e)),null!==this.name&&(t.name=this.name)),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Group=function(e){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.member=[],this.init(e)};e.prototype={objectType:"Group",LOG_SRC:"Group",log:TinCan.prototype.log,init:function(e){this.log("init");var t;if(e=e||{},TinCan.Agent.prototype.init.call(this,e),"undefined"!=typeof e.member)for(t=0;t<e.member.length;t+=1)e.member[t]instanceof TinCan.Agent?this.member.push(e.member[t]):this.member.push(new TinCan.Agent(e.member[t]))},toString:function(e){this.log("toString");var t=TinCan.Agent.prototype.toString.call(this,e);return t!==this.objectType+": unidentified"&&(t=this.objectType+": "+t),t},asVersion:function(e){this.log("asVersion: "+e);var t,i;if(e=e||TinCan.versions()[0],t=TinCan.Agent.prototype.asVersion.call(this,e),this.member.length>0)for(t.member=[],i=0;i<this.member.length;i+=1)t.member.push(this.member[i].asVersion(e));return t}},
e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e={"http://adlnet.gov/expapi/verbs/experienced":"experienced","http://adlnet.gov/expapi/verbs/attended":"attended","http://adlnet.gov/expapi/verbs/attempted":"attempted","http://adlnet.gov/expapi/verbs/completed":"completed","http://adlnet.gov/expapi/verbs/passed":"passed","http://adlnet.gov/expapi/verbs/failed":"failed","http://adlnet.gov/expapi/verbs/answered":"answered","http://adlnet.gov/expapi/verbs/interacted":"interacted","http://adlnet.gov/expapi/verbs/imported":"imported","http://adlnet.gov/expapi/verbs/created":"created","http://adlnet.gov/expapi/verbs/shared":"shared","http://adlnet.gov/expapi/verbs/voided":"voided"},t=TinCan.Verb=function(e){this.log("constructor"),this.id=null,this.display=null,this.init(e)};t.prototype={LOG_SRC:"Verb",log:TinCan.prototype.log,init:function(t){this.log("init");var i,n,s=["id","display"];if("string"==typeof t){this.id=t,this.display={und:this.id};for(n in e)if(e.hasOwnProperty(n)&&e[n]===t){this.id=n;break}}else{for(t=t||{},i=0;i<s.length;i+=1)t.hasOwnProperty(s[i])&&null!==t[s[i]]&&(this[s[i]]=t[s[i]]);null===this.display&&"undefined"!=typeof e[this.id]&&(this.display={und:e[this.id]})}},toString:function(e){return this.log("toString"),null!==this.display?this.getLangDictionaryValue("display",e):this.id},asVersion:function(t){this.log("asVersion");var i;return t=t||TinCan.versions()[0],"0.9"===t?i=e[this.id]:(i={id:this.id},null!==this.display&&(i.display=this.display)),i},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},t.fromJSON=function(e){t.prototype.log("fromJSON");var i=JSON.parse(e);return new t(i)}}(),function(){"use strict";var e=TinCan.Result=function(e){this.log("constructor"),this.score=null,this.success=null,this.completion=null,this.duration=null,this.response=null,this.extensions=null,this.init(e)};e.prototype={LOG_SRC:"Result",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["completion","duration","extensions","response","success"];for(e=e||{},e.hasOwnProperty("score")&&null!==e.score&&(e.score instanceof TinCan.Score?this.score=e.score:this.score=new TinCan.Score(e.score)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);"Completed"===this.completion&&(this.completion=!0)},asVersion:function(e){this.log("asVersion");var t,i={},n=["success","duration","response","extensions"],s=["score"];for(e=e||TinCan.versions()[0],t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);for(t=0;t<s.length;t+=1)null!==this[s[t]]&&(i[s[t]]=this[s[t]].asVersion(e));return null!==this.completion&&("0.9"===e?this.completion&&(i.completion="Completed"):i.completion=this.completion),i}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Score=function(e){this.log("constructor"),this.scaled=null,this.raw=null,this.min=null,this.max=null,this.init(e)};e.prototype={LOG_SRC:"Score",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["scaled","raw","min","max"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},asVersion:function(e){this.log("asVersion");var t,i={},n=["scaled","raw","min","max"];for(e=e||TinCan.versions()[0],t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);return i}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.InteractionComponent=function(e){this.log("constructor"),this.id=null,this.description=null,this.init(e)};e.prototype={LOG_SRC:"InteractionComponent",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","description"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},asVersion:function(e){this.log("asVersion");var t,i,n={id:this.id},s=["description"];for(e=e||TinCan.versions()[0],t=0;t<s.length;t+=1)i=s[t],null!==this[i]&&(n[i]=this[i]);return n},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e={"http://adlnet.gov/expapi/activities/course":"course","http://adlnet.gov/expapi/activities/module":"module","http://adlnet.gov/expapi/activities/meeting":"meeting","http://adlnet.gov/expapi/activities/media":"media","http://adlnet.gov/expapi/activities/performance":"performance","http://adlnet.gov/expapi/activities/simulation":"simulation","http://adlnet.gov/expapi/activities/assessment":"assessment","http://adlnet.gov/expapi/activities/interaction":"interaction","http://adlnet.gov/expapi/activities/cmi.interaction":"cmi.interaction","http://adlnet.gov/expapi/activities/question":"question","http://adlnet.gov/expapi/activities/objective":"objective","http://adlnet.gov/expapi/activities/link":"link"},t=TinCan.ActivityDefinition=function(e){this.log("constructor"),this.name=null,this.description=null,this.type=null,this.moreInfo=null,this.extensions=null,this.interactionType=null,this.correctResponsesPattern=null,this.choices=null,this.scale=null,this.source=null,this.target=null,this.steps=null,this.init(e)};t.prototype={LOG_SRC:"ActivityDefinition",log:TinCan.prototype.log,init:function(t){this.log("init");var i,n,s,r=["name","description","moreInfo","extensions","correctResponsesPattern"],o=[];if(t=t||{},t.hasOwnProperty("type")&&null!==t.type){for(s in e)e.hasOwnProperty(s)&&e[s]===t.type&&(t.type=e[s]);this.type=t.type}if(t.hasOwnProperty("interactionType")&&null!==t.interactionType&&(this.interactionType=t.interactionType,"choice"===t.interactionType||"sequencing"===t.interactionType?o.push("choices"):"likert"===t.interactionType?o.push("scale"):"matching"===t.interactionType?(o.push("source"),o.push("target")):"performance"===t.interactionType&&o.push("steps"),o.length>0))for(i=0;i<o.length;i+=1)if(s=o[i],t.hasOwnProperty(s)&&null!==t[s])for(this[s]=[],n=0;n<t[s].length;n+=1)t[s][n]instanceof TinCan.InteractionComponent?this[s].push(t[s][n]):this[s].push(new TinCan.InteractionComponent(t[s][n]));for(i=0;i<r.length;i+=1)t.hasOwnProperty(r[i])&&null!==t[r[i]]&&(this[r[i]]=t[r[i]])},toString:function(e){return this.log("toString"),null!==this.name?this.getLangDictionaryValue("name",e):null!==this.description?this.getLangDictionaryValue("description",e):""},asVersion:function(t){this.log("asVersion");var i,n,s,r={},o=["name","description","interactionType","correctResponsesPattern","extensions"],a=["choices","scale","source","target","steps"];for(t=t||TinCan.versions()[0],null!==this.type&&("0.9"===t?r.type=e[this.type]:r.type=this.type),i=0;i<o.length;i+=1)s=o[i],null!==this[s]&&(r[s]=this[s]);for(i=0;i<a.length;i+=1)if(s=a[i],null!==this[s])for(r[s]=[],n=0;n<this[s].length;n+=1)r[s].push(this[s][n].asVersion(t));return 0!==t.indexOf("0.9")&&null!==this.moreInfo&&(r.moreInfo=this.moreInfo),r},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},t.fromJSON=function(e){t.prototype.log("fromJSON");var i=JSON.parse(e);return new t(i)}}(),function(){"use strict";var e=TinCan.Activity=function(e){this.log("constructor"),this.objectType="Activity",this.id=null,this.definition=null,this.init(e)};e.prototype={LOG_SRC:"Activity",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id"];for(e=e||{},e.hasOwnProperty("definition")&&(e.definition instanceof TinCan.ActivityDefinition?this.definition=e.definition:this.definition=new TinCan.ActivityDefinition(e.definition)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(e){this.log("toString");var t="";return null!==this.definition&&(t=this.definition.toString(e),""!==t)?t:null!==this.id?this.id:"Activity: unidentified"},asVersion:function(e){this.log("asVersion");var t={id:this.id,objectType:this.objectType};return e=e||TinCan.versions()[0],null!==this.definition&&(t.definition=this.definition.asVersion(e)),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.ContextActivities=function(e){this.log("constructor"),this.category=null,this.parent=null,this.grouping=null,this.other=null,this.init(e)};e.prototype={LOG_SRC:"ContextActivities",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n,s,r=["category","parent","grouping","other"];for(e=e||{},t=0;t<r.length;t+=1)if(n=r[t],e.hasOwnProperty(n)&&null!==e[n])if("[object Array]"===Object.prototype.toString.call(e[n]))for(i=0;i<e[n].length;i+=1)this.add(n,e[n][i]);else s=e[n],this.add(n,s)},add:function(e,t){return"category"===e||"parent"===e||"grouping"===e||"other"===e?(null===this[e]&&(this[e]=[]),t instanceof TinCan.Activity||(t="string"==typeof t?{id:t}:t,t=new TinCan.Activity(t)),this[e].push(t),this[e].length-1):void 0},asVersion:function(e){this.log("asVersion");var t,i,n={},s=["parent","grouping","other"];for(e=e||TinCan.versions()[0],t=0;t<s.length;t+=1)if(null!==this[s[t]]&&this[s[t]].length>0)if("0.9"===e||"0.95"===e)this[s[t]].length>1&&this.log("[warning] version does not support multiple values in: "+s[t]),n[s[t]]=this[s[t]][0].asVersion(e);else for(n[s[t]]=[],i=0;i<this[s[t]].length;i+=1)n[s[t]].push(this[s[t]][i].asVersion(e));if(null!==this.category&&this.category.length>0){if("0.9"===e||"0.95"===e)throw this.log("[error] version does not support the 'category' property: "+e),new Error(e+" does not support the 'category' property");for(n.category=[],t=0;t<this.category.length;t+=1)n.category.push(this.category[t].asVersion(e))}return n}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Context=function(e){this.log("constructor"),this.registration=null,this.instructor=null,this.team=null,this.contextActivities=null,this.revision=null,this.platform=null,this.language=null,this.statement=null,this.extensions=null,this.init(e)};e.prototype={LOG_SRC:"Context",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n,s=["registration","revision","platform","language","extensions"],r=["instructor","team"];for(e=e||{},t=0;t<s.length;t+=1)i=s[t],e.hasOwnProperty(i)&&null!==e[i]&&(this[i]=e[i]);for(t=0;t<r.length;t+=1)i=r[t],e.hasOwnProperty(i)&&null!==e[i]&&(n=e[i],"undefined"!=typeof n.objectType&&"Person"!==n.objectType||(n.objectType="Agent"),"Agent"!==n.objectType||n instanceof TinCan.Agent?"Group"!==n.objectType||n instanceof TinCan.Group||(n=new TinCan.Group(n)):n=new TinCan.Agent(n),this[i]=n);e.hasOwnProperty("contextActivities")&&null!==e.contextActivities&&(e.contextActivities instanceof TinCan.ContextActivities?this.contextActivities=e.contextActivities:this.contextActivities=new TinCan.ContextActivities(e.contextActivities)),e.hasOwnProperty("statement")&&null!==e.statement&&(e.statement instanceof TinCan.StatementRef?this.statement=e.statement:e.statement instanceof TinCan.SubStatement?this.statement=e.statement:"StatementRef"===e.statement.objectType?this.statement=new TinCan.StatementRef(e.statement):"SubStatement"===e.statement.objectType?this.statement=new TinCan.SubStatement(e.statement):this.log("Unable to parse statement.context.statement property."))},asVersion:function(e){this.log("asVersion");var t,i={},n=["registration","revision","platform","language","extensions"],s=["instructor","team","contextActivities","statement"];if(e=e||TinCan.versions()[0],this.statement instanceof TinCan.SubStatement&&"0.9"!==e&&"0.95"!==e)throw this.log("[error] version does not support SubStatements in the 'statement' property: "+e),new Error(e+" does not support SubStatements in the 'statement' property");for(t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);for(t=0;t<s.length;t+=1)null!==this[s[t]]&&(i[s[t]]=this[s[t]].asVersion(e));return i}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.StatementRef=function(e){this.log("constructor"),this.id=null,this.init(e)};e.prototype={objectType:"StatementRef",LOG_SRC:"StatementRef",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(){return this.log("toString"),this.id},asVersion:function(e){this.log("asVersion");var t={objectType:this.objectType,id:this.id};return"0.9"===e&&(t.objectType="Statement"),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.SubStatement=function(e){this.log("constructor"),this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.init(e)};e.prototype={objectType:"SubStatement",LOG_SRC:"SubStatement",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["timestamp"];for(e=e||{},e.hasOwnProperty("object")&&(e.target=e.object),e.hasOwnProperty("actor")&&("undefined"!=typeof e.actor.objectType&&"Person"!==e.actor.objectType||(e.actor.objectType="Agent"),"Agent"===e.actor.objectType?e.actor instanceof TinCan.Agent?this.actor=e.actor:this.actor=new TinCan.Agent(e.actor):"Group"===e.actor.objectType&&(e.actor instanceof TinCan.Group?this.actor=e.actor:this.actor=new TinCan.Group(e.actor))),e.hasOwnProperty("verb")&&(e.verb instanceof TinCan.Verb?this.verb=e.verb:this.verb=new TinCan.Verb(e.verb)),e.hasOwnProperty("target")&&(e.target instanceof TinCan.Activity||e.target instanceof TinCan.Agent||e.target instanceof TinCan.Group||e.target instanceof TinCan.SubStatement||e.target instanceof TinCan.StatementRef?this.target=e.target:("undefined"==typeof e.target.objectType&&(e.target.objectType="Activity"),"Activity"===e.target.objectType?this.target=new TinCan.Activity(e.target):"Agent"===e.target.objectType?this.target=new TinCan.Agent(e.target):"Group"===e.target.objectType?this.target=new TinCan.Group(e.target):"SubStatement"===e.target.objectType?this.target=new TinCan.SubStatement(e.target):"StatementRef"===e.target.objectType?this.target=new TinCan.StatementRef(e.target):this.log("Unrecognized target type: "+e.target.objectType))),e.hasOwnProperty("result")&&(e.result instanceof TinCan.Result?this.result=e.result:this.result=new TinCan.Result(e.result)),e.hasOwnProperty("context")&&(e.context instanceof TinCan.Context?this.context=e.context:this.context=new TinCan.Context(e.context)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(e){return this.log("toString"),(null!==this.actor?this.actor.toString(e):"")+" "+(null!==this.verb?this.verb.toString(e):"")+" "+(null!==this.target?this.target.toString(e):"")},asVersion:function(e){this.log("asVersion");var t,i,n=["timestamp"],s=["actor","verb","result","context"];for(t={objectType:this.objectType},e=e||TinCan.versions()[0],i=0;i<n.length;i+=1)null!==this[n[i]]&&(t[n[i]]=this[n[i]]);for(i=0;i<s.length;i+=1)null!==this[s[i]]&&(t[s[i]]=this[s[i]].asVersion(e));return null!==this.target&&(t.object=this.target.asVersion(e)),"0.9"===e&&(t.objectType="Statement"),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Statement=function(e,t){this.log("constructor"),t="number"==typeof t?{storeOriginal:t}:t||{},"undefined"==typeof t.storeOriginal&&(t.storeOriginal=null),"undefined"==typeof t.doStamp&&(t.doStamp=!0),this.id=null,this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.stored=null,this.authority=null,this.version=null,this.degraded=!1,this.voided=null,this.inProgress=null,this.originalJSON=null,this.init(e,t)};e.prototype={LOG_SRC:"Statement",log:TinCan.prototype.log,init:function(e,t){this.log("init");var i,n=["id","stored","timestamp","version","inProgress","voided"];for(e=e||{},t.storeOriginal&&(this.originalJSON=JSON.stringify(e,null,t.storeOriginal)),e.hasOwnProperty("object")&&(e.target=e.object),e.hasOwnProperty("actor")&&("undefined"!=typeof e.actor.objectType&&"Person"!==e.actor.objectType||(e.actor.objectType="Agent"),"Agent"===e.actor.objectType?e.actor instanceof TinCan.Agent?this.actor=e.actor:this.actor=new TinCan.Agent(e.actor):"Group"===e.actor.objectType&&(e.actor instanceof TinCan.Group?this.actor=e.actor:this.actor=new TinCan.Group(e.actor))),e.hasOwnProperty("authority")&&("undefined"!=typeof e.authority.objectType&&"Person"!==e.authority.objectType||(e.authority.objectType="Agent"),"Agent"===e.authority.objectType?e.authority instanceof TinCan.Agent?this.authority=e.authority:this.authority=new TinCan.Agent(e.authority):"Group"===e.authority.objectType&&(e.actor instanceof TinCan.Group?this.authority=e.authority:this.authority=new TinCan.Group(e.authority))),e.hasOwnProperty("verb")&&(e.verb instanceof TinCan.Verb?this.verb=e.verb:this.verb=new TinCan.Verb(e.verb)),e.hasOwnProperty("target")&&(e.target instanceof TinCan.Activity||e.target instanceof TinCan.Agent||e.target instanceof TinCan.Group||e.target instanceof TinCan.SubStatement||e.target instanceof TinCan.StatementRef?this.target=e.target:("undefined"==typeof e.target.objectType&&(e.target.objectType="Activity"),"Activity"===e.target.objectType?this.target=new TinCan.Activity(e.target):"Agent"===e.target.objectType?this.target=new TinCan.Agent(e.target):"Group"===e.target.objectType?this.target=new TinCan.Group(e.target):"SubStatement"===e.target.objectType?this.target=new TinCan.SubStatement(e.target):"StatementRef"===e.target.objectType?this.target=new TinCan.StatementRef(e.target):this.log("Unrecognized target type: "+e.target.objectType))),e.hasOwnProperty("result")&&(e.result instanceof TinCan.Result?this.result=e.result:this.result=new TinCan.Result(e.result)),e.hasOwnProperty("context")&&(e.context instanceof TinCan.Context?this.context=e.context:this.context=new TinCan.Context(e.context)),i=0;i<n.length;i+=1)e.hasOwnProperty(n[i])&&null!==e[n[i]]&&(this[n[i]]=e[n[i]]);t.doStamp&&this.stamp()},toString:function(e){return this.log("toString"),(null!==this.actor?this.actor.toString(e):"")+" "+(null!==this.verb?this.verb.toString(e):"")+" "+(null!==this.target?this.target.toString(e):"")},asVersion:function(e){this.log("asVersion");var t,i={},n=["id","timestamp"],s=["actor","verb","result","context","authority"];for(e=e||TinCan.versions()[0],t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);for(t=0;t<s.length;t+=1)null!==this[s[t]]&&(i[s[t]]=this[s[t]].asVersion(e));return null!==this.target&&(i.object=this.target.asVersion(e)),"0.9"!==e&&"0.95"!==e||null!==this.voided&&(i.voided=this.voided),"0.9"===e&&null!==this.inProgress&&(i.inProgress=this.inProgress),i},stamp:function(){this.log("stamp"),null===this.id&&(this.id=TinCan.Utils.getUUID()),null===this.timestamp&&(this.timestamp=TinCan.Utils.getISODateString(new Date))}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.StatementsResult=function(e){this.log("constructor"),this.statements=null,this.more=null,this.init(e)};e.prototype={LOG_SRC:"StatementsResult",log:TinCan.prototype.log,init:function(e){this.log("init"),e=e||{},e.hasOwnProperty("statements")&&(this.statements=e.statements),e.hasOwnProperty("more")&&(this.more=e.more)}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i,n,s,r=[];try{i=JSON.parse(t)}catch(o){e.prototype.log("fromJSON - JSON.parse error: "+o)}if(i){for(s=0;s<i.statements.length;s+=1){try{n=new TinCan.Statement(i.statements[s],4)}catch(a){e.prototype.log("fromJSON - statement instantiation failed: "+a+" ("+JSON.stringify(i.statements[s])+")"),n=new TinCan.Statement({id:i.statements[s].id},4)}r.push(n)}i.statements=r}return new e(i)}}(),function(){"use strict";var e=TinCan.State=function(e){this.log("constructor"),this.id=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(e)};e.prototype={LOG_SRC:"State",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","contents","etag","contentType"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);this.updated=!1}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.ActivityProfile=function(e){this.log("constructor"),this.id=null,this.activity=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(e)};e.prototype={LOG_SRC:"ActivityProfile",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","contents","etag","contentType"];for(e=e||{},e.hasOwnProperty("activity")&&(e.activity instanceof TinCan.Activity?this.activity=e.activity:this.activity=new TinCan.Activity(e.activity)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);this.updated=!1}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.AgentProfile=function(e){this.log("constructor"),this.id=null,this.agent=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(e)};e.prototype={LOG_SRC:"AgentProfile",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","contents","etag","contentType"];for(e=e||{},e.hasOwnProperty("agent")&&(e.agent instanceof TinCan.Agent?this.agent=e.agent:this.agent=new TinCan.Agent(e.agent)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);this.updated=!1}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.About=function(e){this.log("constructor"),this.version=null,this.init(e)};e.prototype={LOG_SRC:"About",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["version"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var LOG_SRC="Environment.Browser",nativeRequest,xdrRequest,requestComplete,__delay,__IEModeConversion,env={},log=TinCan.prototype.log;return"undefined"==typeof window?void log("'window' not defined",LOG_SRC):(window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(e){var t,i,n="";if(e instanceof Object){if(e.constructor===Array){for(t=0;t<e.length;t+=1)n+=this.stringify(e[t])+",";return"["+n.substr(0,n.length-1)+"]"}if(e.toString!==Object.prototype.toString)return'"'+e.toString().replace(/"/g,"\\$&")+'"';for(i in e)e.hasOwnProperty(i)&&(n+='"'+i.replace(/"/g,"\\$&")+'":'+this.stringify(e[i])+",");return"{"+n.substr(0,n.length-1)+"}"}return"string"==typeof e?'"'+e.replace(/"/g,"\\$&")+'"':String(e)}}),Date.now||(Date.now=function(){return+new Date}),env.hasCORS=!1,env.useXDR=!1,"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof(new XMLHttpRequest).withCredentials?env.hasCORS=!0:"undefined"!=typeof XDomainRequest&&(env.hasCORS=!0,env.useXDR=!0),requestComplete=function(e,t,i){log("requestComplete: "+i.finished+", xhr.status: "+e.status,LOG_SRC);var n,s,r;return r="undefined"==typeof e.status?i.fakeStatus:1223===e.status?204:e.status,i.finished?n:(i.finished=!0,s=t.ignore404&&404===r,r>=200&&400>r||s?t.callback?void t.callback(null,e):n={err:null,xhr:e}:(n={err:r,xhr:e},0===r?log("[warning] There was a problem communicating with the Learning Record Store. Aborted, offline, or invalid CORS endpoint ("+r+")",LOG_SRC):log("[warning] There was a problem communicating with the Learning Record Store. ("+r+" | "+e.responseText+")",LOG_SRC),t.callback&&t.callback(r,e),n))},__IEModeConversion=function(e,t,i,n){var s;for(s in t)t.hasOwnProperty(s)&&i.push(s+"="+encodeURIComponent(t[s]));return"undefined"!=typeof n.data&&i.push("content="+encodeURIComponent(n.data)),t["Content-Type"]="application/x-www-form-urlencoded",e+="?method="+n.method,n.method="POST",n.params={},i.length>0&&(n.data=i.join("&")),e},nativeRequest=function(e,t,i){log("sendRequest using XMLHttpRequest",LOG_SRC);var n,s,r,o,a=this,l=[],u={finished:!1,fakeStatus:null},c="undefined"!=typeof i.callback,h=e,p=2048;log("sendRequest using XMLHttpRequest - async: "+c,LOG_SRC);for(s in i.params)i.params.hasOwnProperty(s)&&l.push(s+"="+encodeURIComponent(i.params[s]));if(l.length>0&&(h+="?"+l.join("&")),h.length>=p){if("undefined"!=typeof t["Content-Type"]&&"application/json"!==t["Content-Type"])return o=new Error("Unsupported content type for IE Mode request"),"undefined"!=typeof i.callback&&i.callback(o,null),{err:o,xhr:null};if("undefined"==typeof i.method)return o=new Error("method must not be undefined for an IE Mode Request conversion"),"undefined"!=typeof i.callback&&i.callback(o,null),{err:o,xhr:null};e=__IEModeConversion(e,t,l,i)}else e=h;n="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.open(i.method,e,c);for(s in t)t.hasOwnProperty(s)&&n.setRequestHeader(s,t[s]);"undefined"!=typeof i.data&&(i.data+=""),r=i.data,c&&(n.onreadystatechange=function(){log("xhr.onreadystatechange - xhr.readyState: "+n.readyState,LOG_SRC),4===n.readyState&&requestComplete.call(a,n,i,u)});try{n.send(r)}catch(d){log("sendRequest caught send exception: "+d,LOG_SRC)}return c?n:requestComplete.call(this,n,i,u)},xdrRequest=function(e,t,i){log("sendRequest using XDomainRequest",LOG_SRC);var n,s,r,o,a,l=this,u=[],c={finished:!1,fakeStatus:null};if("undefined"!=typeof t["Content-Type"]&&"application/json"!==t["Content-Type"])return a=new Error("Unsupported content type for IE Mode request"),i.callback?(i.callback(a,null),null):{err:a,xhr:null};e+="?method="+i.method;for(r in i.params)i.params.hasOwnProperty(r)&&u.push(r+"="+encodeURIComponent(i.params[r]));for(r in t)t.hasOwnProperty(r)&&u.push(r+"="+encodeURIComponent(t[r]));"undefined"!=typeof i.data&&u.push("content="+encodeURIComponent(i.data)),s=u.join("&"),n=new XDomainRequest,n.open("POST",e),i.callback?(n.onload=function(){c.fakeStatus=200,requestComplete.call(l,n,i,c)},n.onerror=function(){c.fakeStatus=400,requestComplete.call(l,n,i,c)},n.ontimeout=function(){c.fakeStatus=0,requestComplete.call(l,n,i,c)}):(n.onload=function(){c.fakeStatus=200},n.onerror=function(){c.fakeStatus=400},n.ontimeout=function(){c.fakeStatus=0}),n.onprogress=function(){},n.timeout=0;try{n.send(s)}catch(h){log("sendRequest caught send exception: "+h,LOG_SRC)}if(!i.callback){for(o=1e4+Date.now(),log("sendRequest - until: "+o+", finished: "+c.finished,LOG_SRC);Date.now()<o&&null===c.fakeStatus;)__delay();return requestComplete.call(l,n,i,c)}return n},TinCan.LRS.prototype._initByEnvironment=function(e){log("_initByEnvironment",LOG_SRC);var t,i,n,s;if(e=e||{},this._makeRequest=nativeRequest,this._IEModeConversion=__IEModeConversion,t=this.endpoint.toLowerCase().match(/([A-Za-z]+:)\/\/([^:\/]+):?(\d+)?(\/.*)?$/),null===t)throw log("[error] LRS invalid: failed to divide URL parts",LOG_SRC),{code:4,mesg:"LRS invalid: failed to divide URL parts"};if(n=location.port,i=location.protocol.toLowerCase()===t[1],""===n&&(n="http:"===location.protocol.toLowerCase()?"80":"https:"===location.protocol.toLowerCase()?"443":""),s=!i||location.hostname.toLowerCase()!==t[2]||n!==(null!==t[3]&&"undefined"!=typeof t[3]&&""!==t[3]?t[3]:"http:"===t[1]?"80":"https:"===t[1]?"443":""))if(env.hasCORS){if(env.useXDR&&i)this._makeRequest=xdrRequest;else if(env.useXDR&&!i){if(!e.allowFail)throw log("[error] LRS invalid: cross domain request for differing scheme in IE with XDR",LOG_SRC),{code:2,mesg:"LRS invalid: cross domain request for differing scheme in IE with XDR"};log("[warning] LRS invalid: cross domain request for differing scheme in IE with XDR (allowed to fail)",LOG_SRC)}}else{if(!e.allowFail)throw log("[error] LRS invalid: cross domain requests not supported in this browser",LOG_SRC),{code:1,mesg:"LRS invalid: cross domain requests not supported in this browser"};log("[warning] LRS invalid: cross domain requests not supported in this browser (allowed to fail)",LOG_SRC)}},__delay=function(){var e=new XMLHttpRequest,t=window.location+"?forcenocache="+TinCan.Utils.getUUID();e.open("GET",t,!1),e.send(null)},void(TinCan.LRS.syncEnabled=!0))}(),define("tincan",function(){}),define("helpers/external/tinCan",["require","lodash","helpers/vow","helpers/utils","helpers/events","helpers/pubSub","tincan"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/vow"),s=e("helpers/utils"),r=e("helpers/events"),o=e("helpers/pubSub"),a=(e("tincan"),window.TinCan),l=a.Utils.convertMillisecondsToISO8601Duration,u=a.Utils.getUUID,c="/",h="Activity",p="resume",d="choice",f="fill-in",m="matching",g="numeric",v="sequencing",y="likert",b="completed",w="passed",S="failed",x="attempted",T="experienced",E="answered",C="http://adlnet.gov/expapi/activities/course",A="http://adlnet.gov/expapi/activities/objective",P="http://adlnet.gov/expapi/activities/module",_="http://adlnet.gov/expapi/activities/cmi.interaction",I="[.]",k="[,]",R="und",O="http://",L=/file/.test(window.location.protocol),M=function(e){var t={id:e.id,description:{}};return t.description[R]=e.lmstext,t},D={};D[d]=D[v]=function(e,t){e.choices=t.choices().map(M)},D[m]=function(e,t){e.target=t.choices().map(M),e.source=t.statements().map(M)};var N={};N.likert=y,N.sequence=v,N.multiplechoice=N.truefalse=N.hotspot=N.wordbank=N.multipleresponse=d,N.numeric=g,N.fillin=f,N.matching=m;var V=function(e){return e===m||e===v||e===d},B={};B.multiplechoice=B.hotspot=B.wordbank=B.sequence=B.truefalse=B.multipleresponse=function(e){var t=e&&e.choiceResponse,i=null!=t?t:e;return s.stripChoice(i)},B.essay=B.fillin=B.numeric=i.identity,B.matching=function(e){return[s.stripStatement(e.statementResponse),s.stripChoice(e.choiceResponse)].join(I)};var j={queue:[],tinCan:null,resumer:null,scoring:null,version:0,setTotalSlides:i.noop,reportStatus:i.noop,initialize:function(e,t,i,n,r){if(window.globals.tinCanPresent||r){this.setPreso(n);var o=s.queryStringToObj();return this.urlParams=o,this.version=t,null!=o.activity_id&&(O=o.activity_id.replace(/\/$/,"")),this.scoring=i||{},this.tinCan=L||r?new a:new a({url:window.location.toString().replace("&tincan=true","")}),this.sendData=r?this.sendStatementLocal:this.sendStatement,this}},setPreso:function(e){t=e},setResumer:function(e){this.resumer=e},createConfig:function(e){return null==this.urlParams.activity_id&&(e.activity={id:"http://"+t.get("courseId")}),e},getItem:function(){this.resumeDfd=new n.Deferred;var e=this.createConfig({callback:this.sendResumeReady.bind(this),overwriteJSON:!0});return this.tinCan.getState(p,e),L&&this.resumeDfd.resolve(""),this.resumeDfd.promise()},setItem:function(e,t){var n=this.createConfig({callback:i.noop});this.tinCan.setState(p,t,n)},sendResumeReady:function(e,t){null==e&&this.resumeDfd.resolve(t&&t.contents)},courseStarted:function(e){var t=this.getStmtObj({type:C,name:this.scoring.get("lmstext"),description:this.scoring.get("description"),verb:this.getVerb(x)});e||(t.result={completion:!1}),this.queueStatement(t)},quizComplete:function(e){var t=e.get("lmstext"),i=this.getStmtObj(e.id,{type:A,name:t,description:t,verb:this.getVerb(this.getCompletedVerb(e))});e.get("issurvey")||(i.result={score:{scaled:e.prop("PercentScore")/100,raw:e.prop("Score"),min:0,max:e.maxPoints},success:e.isPassed()}),this.queueStatement(i)},courseComplete:function(e,t){if(!t){var i=this.getStmtObj({type:C,name:e.get("lmstext"),description:e.get("description"),verb:this.getVerb(this.getCompletedVerb(e))});i.result={duration:l(this.resumer.getCourseTime()),completion:!0},e.isSurvey()||e.isAction()||(i.result.score={scaled:e.getPercentScore()},i.result.success=e.isPassed()),this.queueStatement(i)}},manualCourseComplete:function(e,t){this.courseComplete(t,!1)},viewedComplete:function(e){var t=this.getStmtObj({type:C,name:e.get("lmstext"),description:e.get("description"),verb:this.getVerb(b)
}),i={};i[this.formatUri("viewcount")]=e.viewedSlides,t.result={completion:!0,duration:l(this.resumer.getCourseTime()),extensions:i},this.queueStatement(t)},slideViewed:function(e){var t=e.get("title"),i=this.getStmtObj(e.id,{type:P,name:t,description:t,verb:this.getVerb(T)});this.queueStatement(i)},interactionAnswered:function(e,t){var i=t.isType("likert")?"logLikert":"logQuestion";this[i](e,t)},logLikert:function(e,t){t.hasResponses()&&t.responses.forEach(function(i,n){var r=t.statements()[n].lmstext,o=s.stripStatement(i.statementResponse),a=[t.parent.id,t.id,o],l={scale:t.choices().map(M),interactionType:N.likert},u=this.getStmtObj(a,{type:_,name:r,description:r,verb:this.getVerb(E),parent:this.formatUri(e.id)});this.setDefinitions(u,l),u.result={response:s.stripChoice(i.choiceResponse)},this.queueStatement(u)}.bind(this))},logQuestion:function(e,t){if(t.hasResponses()){var n=t.get("lmstext"),s=t.type(),r=N[s],o=B[s],a=D[r]||i.noop,l={interactionType:r},u={response:t.responses.map(o).join(k)},c=[t.parent.id,t.id],h=this.getStmtObj(c,{type:_,name:n,description:n,verb:this.getVerb(E),parent:this.formatUri(e.id)});V(r)&&(l.correctResponsesPattern=[this.getCorrectResponses(t)]),a(l,t),this.setDefinitions(h,l),t.get("issurvey")||(u.success=t.isPassing(),u.score={raw:t.prop("Score")}),h.result=u,this.queueStatement(h)}},formatUri:function(){var e=i.compact(arguments),t=[O],n=this.version<1?".":c;return t.concat(e).join(n)},getCorrectResponses:function(e){var t=e.prop("CorrectResponse"),i=e.isType("sequence");return t.map(function(e){var t=e.id;return i?t=e.choice.id:e.choice&&e.statement&&(t=[e.statement.id,e.choice.id].join(I)),t}).join(k)},getVerb:function(e){var t=new a.Verb(e);return t.display["en-US"]=t.display.und,delete t.display.und,t},getCompletedVerb:function(e){return this.scoring.isType("survey")?b:e.isPassed()?w:S},setDefinitions:function(e,t){i.extend(e.object.definition,t)},getStmtObj:function(e,t){i.isPlainObject(e)&&(t=e,e=void 0);var n={name:{},description:{}};return n.name[R]=t.name||"",n.description[R]=t.description||"",n.type=t.type,i.isArray(e)||(e=[e]),{id:u(),object:{id:this.formatUri.apply(this,e),definition:n},context:{contextActivities:{grouping:[{id:this.formatUri(),objectType:"Activity"}],parent:[{id:t.parent||O,objectType:"Activity"}]}},verb:t.verb,objectType:h}},queueStatement:function(e){0===this.queue.length?this.sendData(e):this.queue.unshift(e)},popQueue:function(){this.queue.length>0&&this.sendData(this.queue.pop())},sendStatement:function(e){this.tinCan.sendStatement(e,this.popQueue.bind(this))},sendStatementLocal:function(e){o.trigger(r.tincan.STATEMENT,e),this.popQueue()}};return j}),define("external/Emitter",["require"],function(e){function t(e){return e?i(e):void 0}function i(e){for(var i in t.prototype)e[i]=t.prototype[i];return e}return t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},t.prototype.once=function(e,t){function i(){n.off(e,i),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,s=0;s<i.length;s++)if(n=i[s],n===t||n.fn===t){i.splice(s,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i){i=i.slice(0);for(var n=0,s=i.length;s>n;++n)i[n].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length},t}),define("external/superagent",["require","external/Emitter"],function(e){function t(){}function i(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function n(e){return e===Object(e)}function s(e){if(!n(e))return e;var t=[];for(var i in e)null!=e[i]&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")}function r(e){for(var t,i,n={},s=e.split("&"),r=0,o=s.length;o>r;++r)i=s[r],t=i.split("="),n[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return n}function o(e){var t,i,n,s,r=e.split(/\r?\n/),o={};r.pop();for(var a=0,l=r.length;l>a;++a)i=r[a],t=i.indexOf(":"),n=i.slice(0,t).toLowerCase(),s=m(i.slice(t+1)),o[n]=s;return o}function a(e){return e.split(/ *; */).shift()}function l(e){return d(e.split(/ *; */),function(e,t){var i=t.split(/ *= */),n=i.shift(),s=i.shift();return n&&s&&(e[n]=s),e},{})}function u(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=o(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function c(e,t){var i=this;p.call(this),this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new u(i)}catch(n){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=n,i.callback(e)}if(i.emit("response",t),e)return i.callback(e,t);if(t.status>=200&&t.status<300||0===t.status)return i.callback(e,t);var s=new Error(t.statusText||"Unsuccessful HTTP response");s.original=e,s.response=t,s.status=t.status,i.callback(e||s,t)})}function h(e,t){return"function"==typeof t?new c("GET",e).end(t):1==arguments.length?new c("GET",e):new c(e,t)}var p=e("external/Emitter"),d=function(e,t,i){for(var n=0,s=e.length,r=3==arguments.length?i:e[n++];s>n;)r=t.call(null,r,e[n],++n,e);return r},f="undefined"==typeof window?this||self:window;h.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var m="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};return h.serializeObject=s,h.parseString=r,h.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":r,"application/json":JSON.parse},u.prototype.get=function(e){return this.header[e.toLowerCase()]},u.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=a(t);var i=l(t);for(var n in i)this[n]=i[n]},u.prototype.parseBody=function(e){var t=h.parse[this.type];return t&&e&&(e.length||e instanceof Object)?t(e):null},u.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=4==t||5==t?this.toError():!1,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},u.prototype.toError=function(){var e=this.req,t=e.method,i=e.url,n="cannot "+t+" "+i+" ("+this.status+")",s=new Error(n);return s.status=this.status,s.method=t,s.url=i,s},h.Response=u,p(c.prototype),c.prototype.use=function(e){return e(this),this},c.prototype.timeout=function(e){return this._timeout=e,this},c.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},c.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},c.prototype.set=function(e,t){if(n(e)){for(var i in e)this.set(i,e[i]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},c.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},c.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},c.prototype.type=function(e){return this.set("Content-Type",h.types[e]||e),this},c.prototype.accept=function(e){return this.set("Accept",h.types[e]||e),this},c.prototype.auth=function(e,t){var i=btoa(e+":"+t);return this.set("Authorization","Basic "+i),this},c.prototype.query=function(e){return"string"!=typeof e&&(e=s(e)),e&&this._query.push(e),this},c.prototype.field=function(e,t){return this._formData||(this._formData=new f.FormData),this._formData.append(e,t),this},c.prototype.attach=function(e,t,i){return this._formData||(this._formData=new f.FormData),this._formData.append(e,t,i),this},c.prototype.send=function(e){var t=n(e),s=this.getHeader("Content-Type");if(t&&n(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(s||this.type("form"),s=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==s?this._data=this._data?this._data+"&"+e:e:this._data=(this._data||"")+e):this._data=e;return!t||i(e)?this:(s||this.type("json"),this)},c.prototype.callback=function(e,t){var i=this._callback;this.clearTimeout(),i(e,t)},c.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=!0,this.callback(e)},c.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},c.prototype.withCredentials=function(){return this._withCredentials=!0,this},c.prototype.end=function(e){var n=this,s=this.xhr=h.getXHR(),r=this._query.join("&"),o=this._timeout,a=this._formData||this._data;this._callback=e||t,s.onreadystatechange=function(){if(4==s.readyState){var e;try{e=s.status}catch(t){if(n.timedout)return n.timeoutError();if(n.aborted)return;return n.crossDomainError()}n.emit("end")}};var l=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),n.emit("progress",e)};this.hasListeners("progress")&&(s.onprogress=l);try{s.upload&&this.hasListeners("progress")&&(s.upload.onprogress=l)}catch(u){}if(o&&!this._timer&&(this._timer=setTimeout(function(){n.timedout=!0,n.abort()},o)),r&&(r=h.serializeObject(r),this.url+=~this.url.indexOf("?")?"&"+r:"?"+r),s.open(this.method,this.url,!0),this._withCredentials&&(s.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!i(a)){var c=h.serialize[this.getHeader("Content-Type")];c&&(a=c(a))}for(var p in this.header)null!=this.header[p]&&s.setRequestHeader(p,this.header[p]);return this.emit("request",this),s.send(a),this},h.Request=c,h.get=function(e,t,i){var n=h("GET",e);return"function"==typeof t&&(i=t,t=null),t&&n.query(t),i&&n.end(i),n},h.head=function(e,t,i){var n=h("HEAD",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},h.del=function(e,t){var i=h("DELETE",e);return t&&i.end(t),i},h.patch=function(e,t,i){var n=h("PATCH",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},h.post=function(e,t,i){var n=h("POST",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},h.put=function(e,t,i){var n=h("PUT",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},h}),function(e){"use strict";var t=e.GreenSockGlobals||e;if(!t.TweenLite){var i,n,s,r,o,a=function(e){var i,n=e.split("."),s=t;for(i=0;n.length>i;i++)s[n[i]]=s=s[n[i]]||{};return s},l=a("com.greensock"),u=1e-10,c=[].slice,h=function(){},p=function(){var e=Object.prototype.toString,t=e.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&e.call(i)===t)}}(),d={},f=function(i,n,s,r){this.sc=d[i]?d[i].sc:[],d[i]=this,this.gsClass=null,this.func=s;var o=[];this.check=function(l){for(var u,c,h,p,m=n.length,g=m;--m>-1;)(u=d[n[m]]||new f(n[m],[])).gsClass?(o[m]=u.gsClass,g--):l&&u.sc.push(this);if(0===g&&s)for(c=("com.greensock."+i).split("."),h=c.pop(),p=a(c.join("."))[h]=this.gsClass=s.apply(s,o),r&&(t[h]=p,"function"==typeof define&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+i.split(".").join("/"),[],function(){return p}):"undefined"!=typeof module&&module.exports&&(module.exports=p)),m=0;this.sc.length>m;m++)this.sc[m].check()},this.check(!0)},m=e._gsDefine=function(e,t,i,n){return new f(e,t,i,n)},g=l._class=function(e,t,i){return t=t||function(){},m(e,[],function(){return t},i),t};m.globals=t;var v=[0,0,1,1],y=[],b=g("easing.Ease",function(e,t,i,n){this._func=e,this._type=i||0,this._power=n||0,this._params=t?v.concat(t):v},!0),w=b.map={},S=b.register=function(e,t,i,n){for(var s,r,o,a,u=t.split(","),c=u.length,h=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(r=u[c],s=n?g("easing."+r,null,!0):l.easing[r]||{},o=h.length;--o>-1;)a=h[o],w[r+"."+a]=w[a+r]=s[a]=e.getRatio?e:e[a]||new e};for(s=b.prototype,s._calcEnd=!1,s.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,n=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===t?1-n:2===t?n:.5>e?n/2:1-n/2},i=["Linear","Quad","Cubic","Quart","Quint,Strong"],n=i.length;--n>-1;)s=i[n]+",Power"+n,S(new b(null,null,1,n),s,"easeOut",!0),S(new b(null,null,2,n),s,"easeIn"+(0===n?",easeNone":"")),S(new b(null,null,3,n),s,"easeInOut");w.linear=l.easing.Linear.easeIn,w.swing=l.easing.Quad.easeInOut;var x=g("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});s=x.prototype,s.addEventListener=function(e,t,i,n,s){s=s||0;var a,l,u=this._listeners[e],c=0;for(null==u&&(this._listeners[e]=u=[]),l=u.length;--l>-1;)a=u[l],a.c===t&&a.s===i?u.splice(l,1):0===c&&s>a.pr&&(c=l+1);u.splice(c,0,{c:t,s:i,up:n,pr:s}),this!==r||o||r.wake()},s.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;--i>-1;)if(n[i].c===t)return void n.splice(i,1)},s.dispatchEvent=function(e){var t,i,n,s=this._listeners[e];if(s)for(t=s.length,i=this._eventTarget;--t>-1;)n=s[t],n.up?n.c.call(n.s||i,{type:e,target:i}):n.c.call(n.s||i)};var T=e.requestAnimationFrame,E=e.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},A=C();for(i=["ms","moz","webkit","o"],n=i.length;--n>-1&&!T;)T=e[i[n]+"RequestAnimationFrame"],E=e[i[n]+"CancelAnimationFrame"]||e[i[n]+"CancelRequestAnimationFrame"];g("Ticker",function(e,t){var i,n,s,a,l,u=this,c=C(),p=t!==!1&&T,d=function(e){A=C(),u.time=(A-c)/1e3;var t,r=u.time-l;(!i||r>0||e===!0)&&(u.frame++,l+=r+(r>=a?.004:a-r),t=!0),e!==!0&&(s=n(d)),t&&u.dispatchEvent("tick")};x.call(u),u.time=u.frame=0,u.tick=function(){d(!0)},u.sleep=function(){null!=s&&(p&&E?E(s):clearTimeout(s),n=h,s=null,u===r&&(o=!1))},u.wake=function(){null!==s&&u.sleep(),n=0===i?h:p&&T?T:function(e){return setTimeout(e,0|1e3*(l-u.time)+1)},u===r&&(o=!0),d(2)},u.fps=function(e){return arguments.length?(i=e,a=1/(i||60),l=this.time+a,void u.wake()):i},u.useRAF=function(e){return arguments.length?(u.sleep(),p=e,void u.fps(i)):p},u.fps(e),setTimeout(function(){p&&(!s||5>u.frame)&&u.useRAF(!1)},1500)}),s=l.Ticker.prototype=new l.events.EventDispatcher,s.constructor=l.Ticker;var P=g("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,U){o||r.wake();var i=this.vars.useFrames?j:U;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});r=P.ticker=new l.Ticker,s=P.prototype,s._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var _=function(){o&&C()-A>2e3&&r.wake(),setTimeout(_,2e3)};_(),s.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},s.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},s.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},s.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},s.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},s.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},s.render=function(){},s.invalidate=function(){return this},s.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=i&&i+this.totalDuration()/this._timeScale>e},s._enabled=function(e,t){return o||r.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(){return this._enabled(!1,!1)},s.kill=function(e,t){return this._kill(e,t),this},s._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},s._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();--t>-1;)"{self}"===e[t]&&(i[t]=this);return i},s.eventCallback=function(e,t,i,n){if("on"===(e||"").substr(0,2)){var s=this.vars;if(1===arguments.length)return s[e];null==t?delete s[e]:(s[e]=t,s[e+"Params"]=p(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,s[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},s.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},s.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},s.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},s.totalTime=function(e,t,i){if(o||r.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,s=this._timeline;if(e>n&&!i&&(e=n),this._startTime=(this._paused?this._pauseTime:s._time)-(this._reversed?n-e:e)/this._timeScale,s._dirty||this._uncache(!1),s._timeline)for(;s._timeline;)s._timeline._time!==(s._startTime+s._totalTime)/s._timeScale&&s.totalTime(s._totalTime,!0),s=s._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&this.render(e,t,!1)}return this},s.progress=s.totalProgress=function(e,t){return arguments.length?this.totalTime(this.duration()*e,t):this._time/this.duration()},s.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},s.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||u,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||0===t?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},s.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(e){if(!arguments.length)return this._paused;if(e!=this._paused&&this._timeline){o||e||r.wake();var t=this._timeline,i=t.rawTime(),n=i-this._pauseTime;!e&&t.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?i:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&this.render(t.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!e&&this._enabled(!0,!1),this};var I=g("core.SimpleTimeline",function(e){P.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});s=I.prototype=new P,s.constructor=I,s.kill()._gc=!1,s._first=s._last=null,s._sortChildren=!1,s.add=s.insert=function(e,t){var i,n;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(n=e._startTime;i&&i._startTime>n;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._timeline&&this._uncache(!0),this},s._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e.timeline=null,e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),this._timeline&&this._uncache(!0)),this},s.render=function(e,t,i){var n,s=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;s;)n=s._next,(s._active||e>=s._startTime&&!s._paused)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(e-s._startTime)*s._timeScale,t,i):s.render((e-s._startTime)*s._timeScale,t,i)),s=n},s.rawTime=function(){return o||r.wake(),this._totalTime};var k=g("TweenLite",function(t,i,n){if(P.call(this,i,n),this.render=k.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:k.selector(t)||t;var s,r,o,a=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?B[k.defaultOverwrite]:"number"==typeof l?l>>0:B[l],(a||t instanceof Array||t.push&&p(t))&&"number"!=typeof t[0])for(this._targets=o=c.call(t,0),this._propLookup=[],this._siblings=[],s=0;o.length>s;s++)r=o[s],r?"string"!=typeof r?r.length&&r!==e&&r[0]&&(r[0]===e||r[0].nodeType&&r[0].style&&!r.nodeType)?(o.splice(s--,1),this._targets=o=o.concat(c.call(r,0))):(this._siblings[s]=F(r,this,!1),1===l&&this._siblings[s].length>1&&H(r,this,null,1,this._siblings[s])):(r=o[s--]=k.selector(r),"string"==typeof r&&o.splice(s+1,1)):o.splice(s--,1);else this._propLookup={},this._siblings=F(t,this,!1),1===l&&this._siblings.length>1&&H(t,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),R=function(t){return t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},O=function(e,t){var i,n={};for(i in e)V[i]||i in t&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!M[i]||M[i]&&M[i]._autoCSS)||(n[i]=e[i],delete e[i]);e.css=n};s=k.prototype=new P,s.constructor=k,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=!1,k.version="1.11.8",k.defaultEase=s._ease=new b(null,null,1,1),k.defaultOverwrite="auto",k.ticker=r,k.autoSleep=!0,k.selector=e.$||e.jQuery||function(t){return e.$?(k.selector=e.$,e.$(t)):e.document?e.document.getElementById("#"===t.charAt(0)?t.substr(1):t):t};var L=k._internals={isArray:p,isSelector:R},M=k._plugins={},D=k._tweenLookup={},N=0,V=L.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},B={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},j=P._rootFramesTimeline=new I,U=P._rootTimeline=new I;U._startTime=r.time,j._startTime=r.frame,U._active=j._active=!0,P._updateRoot=function(){if(U.render((r.time-U._startTime)*U._timeScale,!1,!1),j.render((r.frame-j._startTime)*j._timeScale,!1,!1),!(r.frame%120)){var e,t,i;for(i in D){for(t=D[i].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete D[i]}if(i=U._first,(!i||i._paused)&&k.autoSleep&&!j._first&&1===r._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||r.sleep()}}},r.addEventListener("tick",P._updateRoot);var F=function(e,t,i){var n,s,r=e._gsTweenID;if(D[r||(e._gsTweenID=r="t"+N++)]||(D[r]={target:e,tweens:[]}),t&&(n=D[r].tweens,n[s=n.length]=t,i))for(;--s>-1;)n[s]===t&&n.splice(s,1);return D[r].tweens},H=function(e,t,i,n,s){var r,o,a,l;if(1===n||n>=4){for(l=s.length,r=0;l>r;r++)if((a=s[r])!==t)a._gc||a._enabled(!1,!1)&&(o=!0);else if(5===n)break;return o}var c,h=t._startTime+u,p=[],d=0,f=0===t._duration;for(r=s.length;--r>-1;)(a=s[r])===t||a._gc||a._paused||(a._timeline!==t._timeline?(c=c||q(t,0,f),0===q(a,c,f)&&(p[d++]=a)):h>=a._startTime&&a._startTime+a.totalDuration()/a._timeScale>h&&((f||!a._initted)&&2e-10>=h-a._startTime||(p[d++]=a)));for(r=d;--r>-1;)a=p[r],2===n&&a._kill(i,e)&&(o=!0),(2!==n||!a._firstPT&&a._initted)&&a._enabled(!1,!1)&&(o=!0);return o},q=function(e,t,i){for(var n=e._timeline,s=n._timeScale,r=e._startTime;n._timeline;){if(r+=n._startTime,s*=n._timeScale,n._paused)return-100;n=n._timeline}return r/=s,r>t?r-t:i&&r===t||!e._initted&&2*u>r-t?u:(r+=e.totalDuration()/e._timeScale/s)>t+u?0:r-t-u};s._init=function(){var e,t,i,n,s=this.vars,r=this._overwrittenProps,o=this._duration,a=s.immediateRender,l=s.ease;if(s.startAt){if(this._startAt&&this._startAt.render(-1,!0),s.startAt.overwrite=0,s.startAt.immediateRender=!0,this._startAt=k.to(this.target,0,s.startAt),a)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(s.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else{i={};for(n in s)V[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",this._startAt=k.to(this.target,0,i),s.immediateRender){if(0===this._time)return}else this._startAt.render(-1,!0)}if(this._ease=l?l instanceof b?s.easeParams instanceof Array?l.config.apply(l,s.easeParams):l:"function"==typeof l?new b(l,s.easeParams):w[l]||k.defaultEase:k.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;--e>-1;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],r?r[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,r);if(t&&k._onPluginEvent("_onInitAllProps",this),r&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},s._initProps=function(t,i,n,s){var r,o,a,l,u,c;if(null==t)return!1;this.vars.css||t.style&&t!==e&&t.nodeType&&M.css&&this.vars.autoCSS!==!1&&O(this.vars,t);for(r in this.vars){if(c=this.vars[r],V[r])c&&(c instanceof Array||c.push&&p(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[r]=c=this._swapSelfInParams(c,this));else if(M[r]&&(l=new M[r])._onInitTween(t,this.vars[r],this)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:r,pg:!0,pr:l._priority},o=l._overwriteProps.length;--o>-1;)i[l._overwriteProps[o]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[r]=u={_next:this._firstPT,t:t,p:r,f:"function"==typeof t[r],n:r,pg:!1,pr:0},u.s=u.f?t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(t[r]),u.c="string"==typeof c&&"="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*Number(c.substr(2)):Number(c)-u.s||0;u&&u._next&&(u._next._prev=u)}return s&&this._kill(s,t)?this._initProps(t,i,n,s):this._overwrite>1&&this._firstPT&&n.length>1&&H(t,this,i,this._overwrite,n)?(this._kill(i,t),this._initProps(t,i,n,s)):a},s.render=function(e,t,i){var n,s,r,o,a=this._time,l=this._duration;if(e>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,s="onComplete"),0===l&&(o=this._rawPrevTime,this._startTime===this._timeline._duration&&(e=0),(0===e||0>o||o===u)&&o!==e&&(i=!0,o>u&&(s="onReverseComplete")),this._rawPrevTime=o=!t||e||this._rawPrevTime===e?e:u);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&this._rawPrevTime>0&&this._rawPrevTime!==u)&&(s="onReverseComplete",n=this._reversed),0>e?(this._active=!1,0===l&&(this._rawPrevTime>=0&&(i=!0),this._rawPrevTime=o=!t||e||this._rawPrevTime===e?e:u)):this._initted||(i=!0);else if(this._totalTime=this._time=e,this._easeType){var c=e/l,h=this._easeType,p=this._easePower;(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===p?c*=c:2===p?c*=c*c:3===p?c*=c*c*c:4===p&&(c*=c*c*c*c),this.ratio=1===h?1-c:2===h?c:.5>e/l?c/2:1-c/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==a&&e>=0&&(this._active=!0),0===a&&(this._startAt&&(e>=0?this._startAt.render(e,t,i):s||(s="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||y))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,t,i),t||(this._time!==a||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||y)),s&&(this._gc||(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,t,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this.vars[s].apply(this.vars[s+"Scope"]||this,this.vars[s+"Params"]||y),0===l&&this._rawPrevTime===u&&o!==u&&(this._rawPrevTime=0)))}},s._kill=function(e,t){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:k.selector(t)||t;var i,n,s,r,o,a,l,u;if((p(t)||R(t))&&"number"!=typeof t[0])for(i=t.length;--i>-1;)this._kill(e,t[i])&&(a=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(t===this._targets[i]){o=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;o=this._propLookup,n=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(o){l=e||o,u=e!==n&&"all"!==n&&e!==o&&("object"!=typeof e||!e._tempKill);for(s in l)(r=o[s])&&(r.pg&&r.t._kill(l)&&(a=!0),r.pg&&0!==r.t._overwriteProps.length||(r._prev?r._prev._next=r._next:r===this._firstPT&&(this._firstPT=r._next),r._next&&(r._next._prev=r._prev),r._next=r._prev=null),delete o[s]),u&&(n[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return a},s.invalidate=function(){return this._notifyPluginsOfEnabled&&k._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},s._enabled=function(e,t){if(o||r.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=F(n[i],this,!0);else this._siblings=F(this.target,this,!0)}return P.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT?k._onPluginEvent(e?"_onEnable":"_onDisable",this):!1},k.to=function(e,t,i){
return new k(e,t,i)},k.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new k(e,t,i)},k.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new k(e,t,n)},k.delayedCall=function(e,t,i,n,s){return new k(t,0,{delay:e,onComplete:t,onCompleteParams:i,onCompleteScope:n,onReverseComplete:t,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:s,overwrite:0})},k.set=function(e,t){return new k(e,0,t)},k.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:k.selector(e)||e;var i,n,s,r;if((p(e)||R(e))&&"number"!=typeof e[0]){for(i=e.length,n=[];--i>-1;)n=n.concat(k.getTweensOf(e[i],t));for(i=n.length;--i>-1;)for(r=n[i],s=i;--s>-1;)r===n[s]&&n.splice(i,1)}else for(n=F(e).concat(),i=n.length;--i>-1;)(n[i]._gc||t&&!n[i].isActive())&&n.splice(i,1);return n},k.killTweensOf=k.killDelayedCallsTo=function(e,t,i){"object"==typeof t&&(i=t,t=!1);for(var n=k.getTweensOf(e,t),s=n.length;--s>-1;)n[s]._kill(i,e)};var G=g("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=G.prototype},!0);if(s=G.prototype,G.version="1.10.1",G.API=2,s._firstPT=null,s._addTween=function(e,t,i,n,s,r){var o,a;return null!=n&&(o="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:e,p:t,s:i,c:o,f:"function"==typeof e[t],n:s||t,r:r},a._next&&(a._next._prev=a),a):void 0},s.setRatio=function(e){for(var t,i=this._firstPT,n=1e-6;i;)t=i.c*e+i.s,i.r?t=Math.round(t):n>t&&t>-n&&(t=0),i.f?i.t[i.p](t):i.t[i.p]=t,i=i._next},s._kill=function(e){var t,i=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;--t>-1;)null!=e[i[t]]&&i.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},s._roundProps=function(e,t){for(var i=this._firstPT;i;)(e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")])&&(i.r=t),i=i._next},k._onPluginEvent=function(e,t){var i,n,s,r,o,a=t._firstPT;if("_onInitAllProps"===e){for(;a;){for(o=a._next,n=s;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:r)?a._prev._next=a:s=a,(a._next=n)?n._prev=a:r=a,a=o}a=t._firstPT=s}for(;a;)a.pg&&"function"==typeof a.t[e]&&a.t[e]()&&(i=!0),a=a._next;return i},G.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===G.API&&(M[(new e[t])._propName]=e[t]);return!0},m.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,n=e.priority||0,s=e.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=g("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){G.call(this,i,n),this._overwriteProps=s||[]},e.global===!0),a=o.prototype=new G(i);a.constructor=o,o.API=e.API;for(t in r)"function"==typeof e[t]&&(a[r[t]]=e[t]);return o.version=e.version,G.activate([o]),o},i=e._gsQueue){for(n=0;i.length>n;n++)i[n]();for(s in d)d[s].func||e.console.log("GSAP encountered missing dependency: com.greensock."+s)}o=!1}}(window),define("tween-lite",function(e){return function(){var t;return t||e.TweenLite}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("easing.Back",["easing.Ease"],function(e){var t,i,n,s=window.GreenSockGlobals||window,r=s.com.greensock,o=2*Math.PI,a=Math.PI/2,l=r._class,u=function(t,i){var n=l("easing."+t,function(){},!0),s=n.prototype=new e;return s.constructor=n,s.getRatio=i,n},c=e.register||function(){},h=function(e,t,i,n){var s=l("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new n},!0);return c(s,e),s},p=function(e,t,i){this.t=e,this.v=t,i&&(this.next=i,i.prev=this,this.c=i.v-t,this.gap=i.t-e)},d=function(t,i){var n=l("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),s=n.prototype=new e;return s.constructor=n,s.getRatio=i,s.config=function(e){return new n(e)},n},f=h("Back",d("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),d("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),d("BackInOut",function(e){return 1>(e*=2)?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),m=l("easing.SlowMo",function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),g=m.prototype=new e;return g.constructor=m,g.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},m.ease=new m(.7,.7),g.config=m.config=function(e,t,i){return new m(e,t,i)},t=l("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),g=t.prototype=new e,g.constructor=t,g.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},g.config=t.config=function(e){return new t(e)},i=l("easing.RoughEase",function(t){t=t||{};for(var i,n,s,r,o,a,l=t.taper||"none",u=[],c=0,h=0|(t.points||20),d=h,f=t.randomize!==!1,m=t.clamp===!0,g=t.template instanceof e?t.template:null,v="number"==typeof t.strength?.4*t.strength:.4;--d>-1;)i=f?Math.random():1/h*d,n=g?g.getRatio(i):i,"none"===l?s=v:"out"===l?(r=1-i,s=r*r*v):"in"===l?s=i*i*v:.5>i?(r=2*i,s=.5*r*r*v):(r=2*(1-i),s=.5*r*r*v),f?n+=Math.random()*s-.5*s:d%2?n+=.5*s:n-=.5*s,m&&(n>1?n=1:0>n&&(n=0)),u[c++]={x:i,y:n};for(u.sort(function(e,t){return e.x-t.x}),a=new p(1,1,null),d=h;--d>-1;)o=u[d],a=new p(o.x,o.y,a);this._prev=new p(0,0,0!==a.t?a:a.next)},!0),g=i.prototype=new e,g.constructor=i,g.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&t.t>=e;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},g.config=function(e){return new i(e)},i.ease=new i,h("Bounce",u("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),u("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),u("BounceInOut",function(e){var t=.5>e;return e=t?1-2*e:2*e-1,e=1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),h("Circ",u("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),u("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),u("CircInOut",function(e){return 1>(e*=2)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),n=function(t,i,n){var s=l("easing."+t,function(e,t){this._p1=e||1,this._p2=t||n,this._p3=this._p2/o*(Math.asin(1/this._p1)||0)},!0),r=s.prototype=new e;return r.constructor=s,r.getRatio=i,r.config=function(e,t){return new s(e,t)},s},h("Elastic",n("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*o/this._p2)+1},.3),n("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*o/this._p2))},.3),n("ElasticInOut",function(e){return 1>(e*=2)?-.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*o/this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*o/this._p2)+1},.45)),h("Expo",u("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),u("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),u("ExpoInOut",function(e){return 1>(e*=2)?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),h("Sine",u("SineOut",function(e){return Math.sin(e*a)}),u("SineIn",function(e){return-Math.cos(e*a)+1}),u("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),l("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),c(s.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(t,"SteppedEase","ease,"),f},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("ease-pack",function(e){return function(){var t;return t||e.EasePack}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var i,n,s,r,o=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=o.prototype.setRatio},a={},l=o.prototype=new e("css");l.constructor=o,o.version="1.11.8",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",l="px",o.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var u,c,h,p,d,f,m=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/[^\d\-\.]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,w=/opacity *= *([^)]*)/,S=/opacity:([^;]*)/,x=/alpha\(opacity *=.+?\)/i,T=/^(rgb|hsl)/,E=/([A-Z])/g,C=/-([a-z])/gi,A=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,P=function(e,t){return t.toUpperCase()},_=/(?:Left|Right|Width)/i,I=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,k=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,R=/,(?=[^\)]*(?:\(|$))/gi,O=Math.PI/180,L=180/Math.PI,M={},D=document,N=D.createElement("div"),V=D.createElement("img"),B=o._internals={_specialProps:a},j=navigator.userAgent,U=function(){var e,t=j.indexOf("Android"),i=D.createElement("div");return h=-1!==j.indexOf("Safari")&&-1===j.indexOf("Chrome")&&(-1===t||Number(j.substr(t+8,1))>3),d=h&&6>Number(j.substr(j.indexOf("Version/")+8,1)),p=-1!==j.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(j)&&(f=parseFloat(RegExp.$1)),i.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",e=i.getElementsByTagName("a")[0],e?/^0.55/.test(e.style.opacity):!1}(),F=function(e){return w.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},H=function(e){window.console&&console.log(e)},q="",G="",W=function(e,t){t=t||N;var i,n,s=t.style;if(void 0!==s[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===s[i[n]+e];);return n>=0?(G=3===n?"ms":i[n],q="-"+G.toLowerCase()+"-",G+e):null},z=D.defaultView?D.defaultView.getComputedStyle:function(){},Y=o.getStyle=function(e,t,i,n,s){var r;return U||"opacity"!==t?(!n&&e.style[t]?r=e.style[t]:(i=i||z(e,null))?r=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(E,"-$1").toLowerCase()):e.currentStyle&&(r=e.currentStyle[t]),null==s||r&&"none"!==r&&"auto"!==r&&"auto auto"!==r?r:s):F(e)},X=B.convertToPixels=function(e,i,n,s,r){if("px"===s||!s)return n;if("auto"===s||!n)return 0;var a,l,u,c=_.test(i),h=e,p=N.style,d=0>n;if(d&&(n=-n),"%"===s&&-1!==i.indexOf("border"))a=n/100*(c?e.clientWidth:e.clientHeight);else{if(p.cssText="border:0 solid red;position:"+Y(e,"position")+";line-height:0;","%"!==s&&h.appendChild)p[c?"borderLeftWidth":"borderTopWidth"]=n+s;else{if(h=e.parentNode||D.body,l=h._gsCache,u=t.ticker.frame,l&&c&&l.time===u)return l.width*n/100;p[c?"width":"height"]=n+s}h.appendChild(N),a=parseFloat(N[c?"offsetWidth":"offsetHeight"]),h.removeChild(N),c&&"%"===s&&o.cacheWidths!==!1&&(l=h._gsCache=h._gsCache||{},l.time=u,l.width=100*(a/n)),0!==a||r||(a=X(e,i,n,s,!0))}return d?-a:a},Q=B.calculateOffset=function(e,t,i){if("absolute"!==Y(e,"position",i))return 0;var n="left"===t?"Left":"Top",s=Y(e,"margin"+n,i);return e["offset"+n]-(X(e,t,parseFloat(s),s.replace(b,""))||0)},K=function(e,t){var i,n,s={};if(t=t||z(e,null))if(i=t.length)for(;--i>-1;)s[t[i].replace(C,P)]=t.getPropertyValue(t[i]);else for(i in t)s[i]=t[i];else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===s[i]&&(s[i.replace(C,P)]=t[i]);return U||(s.opacity=F(e)),n=Ee(e,t,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,xe&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s},$=function(e,t,i,n,s){var r,o,a,l={},u=e.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(t[o]!==(r=i[o])||s&&s[o])&&-1===o.indexOf("Origin")&&("number"==typeof r||"string"==typeof r)&&(l[o]="auto"!==r||"left"!==o&&"top"!==o?""!==r&&"auto"!==r&&"none"!==r||"string"!=typeof t[o]||""===t[o].replace(y,"")?r:0:Q(e,o),void 0!==u[o]&&(a=new he(u,o,u[o],a)));if(n)for(o in n)"className"!==o&&(l[o]=n[o]);return{difs:l,firstMPT:a}},J={width:["Left","Right"],height:["Top","Bottom"]},Z=["marginLeft","marginRight","marginTop","marginBottom"],ee=function(e,t,i){var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),s=J[t],r=s.length;for(i=i||z(e,null);--r>-1;)n-=parseFloat(Y(e,"padding"+s[r],i,!0))||0,n-=parseFloat(Y(e,"border"+s[r]+"Width",i,!0))||0;return n},te=function(e,t){(null==e||""===e||"auto"===e||"auto auto"===e)&&(e="0 0");var i=e.split(" "),n=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":i[0],s=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":i[1];return null==s?s="0":"center"===s&&(s="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),t&&(t.oxp=-1!==n.indexOf("%"),t.oyp=-1!==s.indexOf("%"),t.oxr="="===n.charAt(1),t.oyr="="===s.charAt(1),t.ox=parseFloat(n.replace(y,"")),t.oy=parseFloat(s.replace(y,""))),n+" "+s+(i.length>2?" "+i[2]:"")},ie=function(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},ne=function(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*Number(e.substr(2))+t:parseFloat(e)},se=function(e,t,i,n){var s,r,o,a,l=1e-6;return null==e?a=t:"number"==typeof e?a=e:(s=360,r=e.split("_"),o=Number(r[0].replace(y,""))*(-1===e.indexOf("rad")?1:L)-("="===e.charAt(1)?0:t),r.length&&(n&&(n[i]=t+o),-1!==e.indexOf("short")&&(o%=s,o!==o%(s/2)&&(o=0>o?o+s:o-s)),-1!==e.indexOf("_cw")&&0>o?o=(o+9999999999*s)%s-(0|o/s)*s:-1!==e.indexOf("ccw")&&o>0&&(o=(o-9999999999*s)%s-(0|o/s)*s)),a=t+o),l>a&&a>-l&&(a=0),a},re={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},oe=function(e,t,i){return e=0>e?e+1:e>1?e-1:e,0|255*(1>6*e?t+6*(i-t)*e:.5>e?i:2>3*e?t+6*(i-t)*(2/3-e):t)+.5},ae=function(e){var t,i,n,s,r,o;return e&&""!==e?"number"==typeof e?[e>>16,255&e>>8,255&e]:(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),re[e]?re[e]:"#"===e.charAt(0)?(4===e.length&&(t=e.charAt(1),i=e.charAt(2),n=e.charAt(3),e="#"+t+t+i+i+n+n),e=parseInt(e.substr(1),16),[e>>16,255&e>>8,255&e]):"hsl"===e.substr(0,3)?(e=e.match(m),s=Number(e[0])%360/360,r=Number(e[1])/100,o=Number(e[2])/100,i=.5>=o?o*(r+1):o+r-o*r,t=2*o-i,e.length>3&&(e[3]=Number(e[3])),e[0]=oe(s+1/3,t,i),e[1]=oe(s,t,i),e[2]=oe(s-1/3,t,i),e):(e=e.match(m)||re.transparent,e[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),e.length>3&&(e[3]=Number(e[3])),e)):re.black},le="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in re)le+="|"+l+"\\b";le=RegExp(le+")","gi");var ue=function(e,t,i,n){if(null==e)return function(e){return e};var s,r=t?(e.match(le)||[""])[0]:"",o=e.split(r).join("").match(v)||[],a=e.substr(0,e.indexOf(o[0])),l=")"===e.charAt(e.length-1)?")":"",u=-1!==e.indexOf(" ")?" ":",",c=o.length,h=c>0?o[0].replace(m,""):"";return c?s=t?function(e){var t,p,d,f;if("number"==typeof e)e+=h;else if(n&&R.test(e)){for(f=e.replace(R,"|").split("|"),d=0;f.length>d;d++)f[d]=s(f[d]);return f.join(",")}if(t=(e.match(le)||[r])[0],p=e.split(t).join("").match(v)||[],d=p.length,c>d--)for(;c>++d;)p[d]=i?p[0|(d-1)/2]:o[d];return a+p.join(u)+u+t+l+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,r,p;if("number"==typeof e)e+=h;else if(n&&R.test(e)){for(r=e.replace(R,"|").split("|"),p=0;r.length>p;p++)r[p]=s(r[p]);return r.join(",")}if(t=e.match(v)||[],p=t.length,c>p--)for(;c>++p;)t[p]=i?t[0|(p-1)/2]:o[p];return a+t.join(u)+l}:function(e){return e}},ce=function(e){return e=e.split(","),function(t,i,n,s,r,o,a){var l,u=(i+"").split(" ");for(a={},l=0;4>l;l++)a[e[l]]=u[l]=u[l]||u[(l-1)/2>>0];return s.parse(t,a,r,o)}},he=(B._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,n,s,r=this.data,o=r.proxy,a=r.firstMPT,l=1e-6;a;)t=o[a.v],a.r?t=Math.round(t):l>t&&t>-l&&(t=0),a.t[a.p]=t,a=a._next;if(r.autoRotate&&(r.autoRotate.rotation=o.rotation),1===e)for(a=r.firstMPT;a;){if(i=a.t,i.type){if(1===i.type){for(s=i.xs0+i.s+i.xs1,n=1;i.l>n;n++)s+=i["xn"+n]+i["xs"+(n+1)];i.e=s}}else i.e=i.s+i.xs0;a=a._next}},function(e,t,i,n,s){this.t=e,this.p=t,this.v=i,this.r=s,n&&(n._prev=this,this._next=n)}),pe=(B._parseToProxy=function(e,t,i,n,s,r){var o,a,l,u,c,h=n,p={},d={},f=i._transform,m=M;for(i._transform=null,M=t,n=c=i.parse(e,t,n,s),M=m,r&&(i._transform=f,h&&(h._prev=null,h._prev&&(h._prev._next=null)));n&&n!==h;){if(1>=n.type&&(a=n.p,d[a]=n.s+n.c,p[a]=n.s,r||(u=new he(n,"s",a,u,n.r),n.c=0),1===n.type))for(o=n.l;--o>0;)l="xn"+o,a=n.p+"_"+l,d[a]=n.data[l],p[a]=n[l],r||(u=new he(n,l,a,u,n.rxp[l]));n=n._next}return{proxy:p,end:d,firstMPT:u,pt:c}},B.CSSPropTween=function(e,t,n,s,o,a,l,u,c,h,p){this.t=e,this.p=t,this.s=n,this.c=s,this.n=l||t,e instanceof pe||r.push(this.n),this.r=u,this.type=a||0,c&&(this.pr=c,i=!0),this.b=void 0===h?n:h,this.e=void 0===p?n+s:p,o&&(this._next=o,o._prev=this)}),de=o.parseComplex=function(e,t,i,n,s,r,o,a,l,c){i=i||r||"",o=new pe(e,t,0,0,o,c?2:1,null,!1,a,i,n),n+="";var h,p,d,f,v,y,b,w,S,x,E,C,A=i.split(", ").join(",").split(" "),P=n.split(", ").join(",").split(" "),_=A.length,I=u!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(A=A.join(" ").replace(R,", ").split(" "),P=P.join(" ").replace(R,", ").split(" "),_=A.length),_!==P.length&&(A=(r||"").split(" "),_=A.length),o.plugin=l,o.setRatio=c,h=0;_>h;h++)if(f=A[h],v=P[h],w=parseFloat(f),w||0===w)o.appendXtra("",w,ie(v,w),v.replace(g,""),I&&-1!==v.indexOf("px"),!0);else if(s&&("#"===f.charAt(0)||re[f]||T.test(f)))C=","===v.charAt(v.length-1)?"),":")",f=ae(f),v=ae(v),S=f.length+v.length>6,S&&!U&&0===v[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(P[h]).join("transparent")):(U||(S=!1),o.appendXtra(S?"rgba(":"rgb(",f[0],v[0]-f[0],",",!0,!0).appendXtra("",f[1],v[1]-f[1],",",!0).appendXtra("",f[2],v[2]-f[2],S?",":C,!0),S&&(f=4>f.length?1:f[3],o.appendXtra("",f,(4>v.length?1:v[3])-f,C,!1)));else if(y=f.match(m)){if(b=v.match(g),!b||b.length!==y.length)return o;for(d=0,p=0;y.length>p;p++)E=y[p],x=f.indexOf(E,d),o.appendXtra(f.substr(d,x-d),Number(E),ie(b[p],E),"",I&&"px"===f.substr(x+E.length,2),0===p),d=x+E.length;o["xs"+o.l]+=f.substr(d)}else o["xs"+o.l]+=o.l?" "+f:f;if(-1!==n.indexOf("=")&&o.data){for(C=o.xs0+o.data.s,h=1;o.l>h;h++)C+=o["xs"+h]+o.data["xn"+h];o.e=C+o["xs"+h]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},fe=9;for(l=pe.prototype,l.l=l.pr=0;--fe>0;)l["xn"+fe]=0,l["xs"+fe]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(e,t,i,n,s,r){var o=this,a=o.l;return o["xs"+a]+=r&&a?" "+e:e||"",i||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",a>0?(o.data["xn"+a]=t+i,o.rxp["xn"+a]=s,o["xn"+a]=t,o.plugin||(o.xfirst=new pe(o,"xn"+a,t,i,o.xfirst||o,0,o.n,s,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+i},o.rxp={},o.s=t,o.c=i,o.r=s,o)):(o["xs"+a]+=t+(n||""),o)};var me=function(e,t){t=t||{},this.p=t.prefix?W(e)||e:e,a[e]=a[this.p]=this,this.format=t.formatter||ue(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},ge=B._registerComplexSpecialProp=function(e,t,i){"object"!=typeof t&&(t={parser:i});var n,s,r=e.split(","),o=t.defaultValue;for(i=i||[o],n=0;r.length>n;n++)t.prefix=0===n&&t.prefix,t.defaultValue=i[n]||o,s=new me(r[n],t)},ve=function(e){if(!a[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";ge(e,{parser:function(e,i,n,s,r,o,l){var u=(window.GreenSockGlobals||window).com.greensock.plugins[t];return u?(u._cssRegister(),a[n].parse(e,i,n,s,r,o,l)):(H("Error: "+t+" js file not loaded."),r)}})}};l=me.prototype,l.parseComplex=function(e,t,i,n,s,r){var o,a,l,u,c,h,p=this.keyword;if(this.multi&&(R.test(i)||R.test(t)?(a=t.replace(R,"|").split("|"),l=i.replace(R,"|").split("|")):p&&(a=[t],l=[i])),l){for(u=l.length>a.length?l.length:a.length,o=0;u>o;o++)t=a[o]=a[o]||this.dflt,i=l[o]=l[o]||this.dflt,p&&(c=t.indexOf(p),h=i.indexOf(p),c!==h&&(i=-1===h?l:a,i[o]+=" "+p));t=a.join(", "),i=l.join(", ")}return de(e,this.p,t,i,this.clrs,this.dflt,n,this.pr,s,r)},l.parse=function(e,t,i,n,r,o){return this.parseComplex(e.style,this.format(Y(e,this.p,s,!1,this.dflt)),this.format(t),r,o)},o.registerSpecialProp=function(e,t,i){ge(e,{parser:function(e,n,s,r,o,a){var l=new pe(e,s,0,0,o,2,s,!1,i);return l.plugin=a,l.setRatio=t(e,n,r._tween,s),l},priority:i})};var ye="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective".split(","),be=W("transform"),we=q+"transform",Se=W("transformOrigin"),xe=null!==W("perspective"),Te=B.Transform=function(){this.skewY=0},Ee=B.getTransform=function(e,t,i,n){if(e._gsTransform&&i&&!n)return e._gsTransform;var s,r,a,l,u,c,h,p,d,f,m,g,v,y=i?e._gsTransform||new Te:new Te,b=0>y.scaleX,w=2e-5,S=1e5,x=179.99,T=x*O,E=xe?parseFloat(Y(e,Se,t,!1,"0 0 0").split(" ")[2])||y.zOrigin||0:0;for(be?s=Y(e,we,t,!0):e.currentStyle&&(s=e.currentStyle.filter.match(I),s=s&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),y.x||0,y.y||0].join(","):""),r=(s||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],a=r.length;--a>-1;)l=Number(r[a]),r[a]=(u=l-(l|=0))?(0|u*S+(0>u?-.5:.5))/S+l:l;if(16===r.length){var C=r[8],A=r[9],P=r[10],_=r[12],k=r[13],R=r[14];if(y.zOrigin&&(R=-y.zOrigin,_=C*R-r[12],k=A*R-r[13],R=P*R+y.zOrigin-r[14]),!i||n||null==y.rotationX){var M,D,N,V,B,j,U,F=r[0],H=r[1],q=r[2],G=r[3],W=r[4],z=r[5],X=r[6],Q=r[7],K=r[11],$=Math.atan2(X,P),J=-T>$||$>T;y.rotationX=$*L,$&&(V=Math.cos(-$),B=Math.sin(-$),M=W*V+C*B,D=z*V+A*B,N=X*V+P*B,C=W*-B+C*V,A=z*-B+A*V,P=X*-B+P*V,K=Q*-B+K*V,W=M,z=D,X=N),$=Math.atan2(C,F),y.rotationY=$*L,$&&(j=-T>$||$>T,V=Math.cos(-$),B=Math.sin(-$),M=F*V-C*B,D=H*V-A*B,N=q*V-P*B,A=H*B+A*V,P=q*B+P*V,K=G*B+K*V,F=M,H=D,q=N),$=Math.atan2(H,z),y.rotation=$*L,$&&(U=-T>$||$>T,V=Math.cos(-$),B=Math.sin(-$),F=F*V+W*B,D=H*V+z*B,z=H*-B+z*V,X=q*-B+X*V,H=D),U&&J?y.rotation=y.rotationX=0:U&&j?y.rotation=y.rotationY=0:j&&J&&(y.rotationY=y.rotationX=0),y.scaleX=(0|Math.sqrt(F*F+H*H)*S+.5)/S,y.scaleY=(0|Math.sqrt(z*z+A*A)*S+.5)/S,y.scaleZ=(0|Math.sqrt(X*X+P*P)*S+.5)/S,y.skewX=0,y.perspective=K?1/(0>K?-K:K):0,y.x=_,y.y=k,y.z=R}}else if(!(xe&&!n&&r.length&&y.x===r[4]&&y.y===r[5]&&(y.rotationX||y.rotationY)||void 0!==y.x&&"none"===Y(e,"display",t))){var Z=r.length>=6,ee=Z?r[0]:1,te=r[1]||0,ie=r[2]||0,ne=Z?r[3]:1;y.x=r[4]||0,y.y=r[5]||0,c=Math.sqrt(ee*ee+te*te),h=Math.sqrt(ne*ne+ie*ie),p=ee||te?Math.atan2(te,ee)*L:y.rotation||0,d=ie||ne?Math.atan2(ie,ne)*L+p:y.skewX||0,f=c-Math.abs(y.scaleX||0),m=h-Math.abs(y.scaleY||0),Math.abs(d)>90&&270>Math.abs(d)&&(b?(c*=-1,d+=0>=p?180:-180,p+=0>=p?180:-180):(h*=-1,d+=0>=d?180:-180)),g=(p-y.rotation)%180,v=(d-y.skewX)%180,(void 0===y.skewX||f>w||-w>f||m>w||-w>m||g>-x&&x>g&&!1|g*S||v>-x&&x>v&&!1|v*S)&&(y.scaleX=c,y.scaleY=h,y.rotation=p,y.skewX=d),xe&&(y.rotationX=y.rotationY=y.z=0,y.perspective=parseFloat(o.defaultTransformPerspective)||0,y.scaleZ=1)}y.zOrigin=E;for(a in y)w>y[a]&&y[a]>-w&&(y[a]=0);return i&&(e._gsTransform=y),y},Ce=function(e){var t,i,n=this.data,s=-n.rotation*O,r=s+n.skewX*O,o=1e5,a=(0|Math.cos(s)*n.scaleX*o)/o,l=(0|Math.sin(s)*n.scaleX*o)/o,u=(0|Math.sin(r)*-n.scaleY*o)/o,c=(0|Math.cos(r)*n.scaleY*o)/o,h=this.t.style,p=this.t.currentStyle;if(p){i=l,l=-u,u=-i,t=p.filter,h.filter="";var d,m,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==p.position,S="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+u+", M22="+c,x=n.x,T=n.y;if(null!=n.ox&&(d=(n.oxp?.01*g*n.ox:n.ox)-g/2,m=(n.oyp?.01*v*n.oy:n.oy)-v/2,x+=d-(d*a+m*l),T+=m-(d*u+m*c)),y?(d=g/2,m=v/2,S+=", Dx="+(d-(d*a+m*l)+x)+", Dy="+(m-(d*u+m*c)+T)+")"):S+=", sizingMethod='auto expand')",h.filter=-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?t.replace(k,S):S+" "+t,(0===e||1===e)&&1===a&&0===l&&0===u&&1===c&&(y&&-1===S.indexOf("Dx=0, Dy=0")||w.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&h.removeAttribute("filter")),!y){var E,C,A,P=8>f?1:-1;for(d=n.ieOffsetX||0,m=n.ieOffsetY||0,n.ieOffsetX=Math.round((g-((0>a?-a:a)*g+(0>l?-l:l)*v))/2+x),n.ieOffsetY=Math.round((v-((0>c?-c:c)*v+(0>u?-u:u)*g))/2+T),fe=0;4>fe;fe++)C=Z[fe],E=p[C],i=-1!==E.indexOf("px")?parseFloat(E):X(this.t,C,parseFloat(E),E.replace(b,""))||0,A=i!==n[C]?2>fe?-n.ieOffsetX:-n.ieOffsetY:2>fe?d-n.ieOffsetX:m-n.ieOffsetY,h[C]=(n[C]=Math.round(i-A*(0===fe||2===fe?1:P)))+"px"}}},Ae=B.set3DTransformRatio=function(){var e,t,i,n,s,r,o,a,l,u,c,h,d,f,m,g,v,y,b,w,S,x,T,E=this.data,C=this.t.style,A=E.rotation*O,P=E.scaleX,_=E.scaleY,I=E.scaleZ,k=E.perspective;if(p){var R=1e-4;R>P&&P>-R&&(P=I=2e-5),R>_&&_>-R&&(_=I=2e-5),!k||E.z||E.rotationX||E.rotationY||(k=0)}if(A||E.skewX)y=Math.cos(A),b=Math.sin(A),e=y,s=b,E.skewX&&(A-=E.skewX*O,y=Math.cos(A),b=Math.sin(A),"simple"===E.skewType&&(w=Math.tan(E.skewX*O),w=Math.sqrt(1+w*w),y*=w,b*=w)),t=-b,r=y;else{if(!(E.rotationY||E.rotationX||1!==I||k))return void(C[be]="translate3d("+E.x+"px,"+E.y+"px,"+E.z+"px)"+(1!==P||1!==_?" scale("+P+","+_+")":""));e=r=1,t=s=0}c=1,i=n=o=a=l=u=h=d=f=0,m=k?-1/k:0,g=E.zOrigin,v=1e5,A=E.rotationY*O,A&&(y=Math.cos(A),b=Math.sin(A),l=c*-b,d=m*-b,i=e*b,o=s*b,c*=y,m*=y,e*=y,s*=y),A=E.rotationX*O,A&&(y=Math.cos(A),b=Math.sin(A),w=t*y+i*b,S=r*y+o*b,x=u*y+c*b,T=f*y+m*b,i=t*-b+i*y,o=r*-b+o*y,c=u*-b+c*y,m=f*-b+m*y,t=w,r=S,u=x,f=T),1!==I&&(i*=I,o*=I,c*=I,m*=I),1!==_&&(t*=_,r*=_,u*=_,f*=_),1!==P&&(e*=P,s*=P,l*=P,d*=P),g&&(h-=g,n=i*h,a=o*h,h=c*h+g),n=(w=(n+=E.x)-(n|=0))?(0|w*v+(0>w?-.5:.5))/v+n:n,a=(w=(a+=E.y)-(a|=0))?(0|w*v+(0>w?-.5:.5))/v+a:a,h=(w=(h+=E.z)-(h|=0))?(0|w*v+(0>w?-.5:.5))/v+h:h,C[be]="matrix3d("+[(0|e*v)/v,(0|s*v)/v,(0|l*v)/v,(0|d*v)/v,(0|t*v)/v,(0|r*v)/v,(0|u*v)/v,(0|f*v)/v,(0|i*v)/v,(0|o*v)/v,(0|c*v)/v,(0|m*v)/v,n,a,h,k?1+-h/k:1].join(",")+")"},Pe=B.set2DTransformRatio=function(e){var t,i,n,s,r,o=this.data,a=this.t,l=a.style;return o.rotationX||o.rotationY||o.z||o.force3D?(this.setRatio=Ae,void Ae.call(this,e)):void(o.rotation||o.skewX?(t=o.rotation*O,i=t-o.skewX*O,n=1e5,s=o.scaleX*n,r=o.scaleY*n,l[be]="matrix("+(0|Math.cos(t)*s)/n+","+(0|Math.sin(t)*s)/n+","+(0|Math.sin(i)*-r)/n+","+(0|Math.cos(i)*r)/n+","+o.x+","+o.y+")"):l[be]="matrix("+o.scaleX+",0,0,"+o.scaleY+","+o.x+","+o.y+")")};ge("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType",{parser:function(e,t,i,n,r,a,l){if(n._transform)return r;var u,c,h,p,d,f,m,g=n._transform=Ee(e,s,!0,l.parseTransform),v=e.style,y=1e-6,b=ye.length,w=l,S={};if("string"==typeof w.transform&&be)h=v.cssText,v[be]=w.transform,v.display="block",u=Ee(e,null,!1),v.cssText=h;else if("object"==typeof w){if(u={scaleX:ne(null!=w.scaleX?w.scaleX:w.scale,g.scaleX),scaleY:ne(null!=w.scaleY?w.scaleY:w.scale,g.scaleY),scaleZ:ne(w.scaleZ,g.scaleZ),x:ne(w.x,g.x),y:ne(w.y,g.y),z:ne(w.z,g.z),perspective:ne(w.transformPerspective,g.perspective)},m=w.directionalRotation,null!=m)if("object"==typeof m)for(h in m)w[h]=m[h];else w.rotation=m;u.rotation=se("rotation"in w?w.rotation:"shortRotation"in w?w.shortRotation+"_short":"rotationZ"in w?w.rotationZ:g.rotation,g.rotation,"rotation",S),xe&&(u.rotationX=se("rotationX"in w?w.rotationX:"shortRotationX"in w?w.shortRotationX+"_short":g.rotationX||0,g.rotationX,"rotationX",S),u.rotationY=se("rotationY"in w?w.rotationY:"shortRotationY"in w?w.shortRotationY+"_short":g.rotationY||0,g.rotationY,"rotationY",S)),u.skewX=null==w.skewX?g.skewX:se(w.skewX,g.skewX),u.skewY=null==w.skewY?g.skewY:se(w.skewY,g.skewY),(c=u.skewY-g.skewY)&&(u.skewX+=c,u.rotation+=c)}for(xe&&null!=w.force3D&&(g.force3D=w.force3D,f=!0),g.skewType=w.skewType||g.skewType||o.defaultSkewType,d=g.force3D||g.z||g.rotationX||g.rotationY||u.z||u.rotationX||u.rotationY||u.perspective,d||null==w.scale||(u.scaleZ=1);--b>-1;)i=ye[b],p=u[i]-g[i],(p>y||-y>p||null!=M[i])&&(f=!0,r=new pe(g,i,g[i],p,r),i in S&&(r.e=S[i]),r.xs0=0,r.plugin=a,n._overwriteProps.push(r.n));return p=w.transformOrigin,(p||xe&&d&&g.zOrigin)&&(be?(f=!0,i=Se,p=(p||Y(e,i,s,!1,"50% 50%"))+"",r=new pe(v,i,0,0,r,-1,"transformOrigin"),r.b=v[i],r.plugin=a,xe?(h=g.zOrigin,p=p.split(" "),g.zOrigin=(p.length>2&&(0===h||"0px"!==p[2])?parseFloat(p[2]):h)||0,r.xs0=r.e=v[i]=p[0]+" "+(p[1]||"50%")+" 0px",r=new pe(g,"zOrigin",0,0,r,-1,r.n),r.b=h,r.xs0=r.e=g.zOrigin):r.xs0=r.e=v[i]=p):te(p+"",g)),f&&(n._transformType=d||3===this._transformType?3:2),r},prefix:!0}),ge("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ge("borderRadius",{defaultValue:"0px",parser:function(e,t,i,r,o){t=this.format(t);var a,l,u,c,h,p,d,f,m,g,v,y,b,w,S,x,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=e.style;for(m=parseFloat(e.offsetWidth),g=parseFloat(e.offsetHeight),a=t.split(" "),l=0;T.length>l;l++)this.p.indexOf("border")&&(T[l]=W(T[l])),h=c=Y(e,T[l],s,!1,"0px"),-1!==h.indexOf(" ")&&(c=h.split(" "),h=c[0],c=c[1]),p=u=a[l],d=parseFloat(h),y=h.substr((d+"").length),b="="===p.charAt(1),b?(f=parseInt(p.charAt(0)+"1",10),p=p.substr(2),f*=parseFloat(p),v=p.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(p),v=p.substr((f+"").length)),""===v&&(v=n[i]||y),v!==y&&(w=X(e,"borderLeft",d,y),S=X(e,"borderTop",d,y),"%"===v?(h=100*(w/m)+"%",c=100*(S/g)+"%"):"em"===v?(x=X(e,"borderLeft",1,"em"),h=w/x+"em",c=S/x+"em"):(h=w+"px",c=S+"px"),b&&(p=parseFloat(h)+f+v,u=parseFloat(c)+f+v)),o=de(E,T[l],h+" "+c,p+" "+u,!1,"0px",o);return o},prefix:!0,formatter:ue("0px 0px 0px 0px",!1,!0)}),ge("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,n,r,o){var a,l,u,c,h,p,d="background-position",m=s||z(e,null),g=this.format((m?f?m.getPropertyValue(d+"-x")+" "+m.getPropertyValue(d+"-y"):m.getPropertyValue(d):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),v=this.format(t);if(-1!==g.indexOf("%")!=(-1!==v.indexOf("%"))&&(p=Y(e,"backgroundImage").replace(A,""),p&&"none"!==p)){for(a=g.split(" "),l=v.split(" "),V.setAttribute("src",p),u=2;--u>-1;)g=a[u],c=-1!==g.indexOf("%"),c!==(-1!==l[u].indexOf("%"))&&(h=0===u?e.offsetWidth-V.width:e.offsetHeight-V.height,a[u]=c?parseFloat(g)/100*h+"px":100*(parseFloat(g)/h)+"%");g=a.join(" ")}return this.parseComplex(e.style,g,v,r,o)},formatter:te}),ge("backgroundSize",{defaultValue:"0 0",formatter:te}),ge("perspective",{defaultValue:"0px",prefix:!0}),ge("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ge("transformStyle",{prefix:!0}),ge("backfaceVisibility",{prefix:!0}),ge("userSelect",{prefix:!0}),ge("margin",{parser:ce("marginTop,marginRight,marginBottom,marginLeft")}),ge("padding",{parser:ce("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ge("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,n,r,o){var a,l,u;return 9>f?(l=e.currentStyle,u=8>f?" ":",",a="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",t=this.format(t).split(",").join(u)):(a=this.format(Y(e,this.p,s,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,a,t,r,o)}}),ge("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ge("autoRound,strictUnits",{parser:function(e,t,i,n,s){return s}}),ge("border",{defaultValue:"0px solid #000",parser:function(e,t,i,n,r,o){return this.parseComplex(e.style,this.format(Y(e,"borderTopWidth",s,!1,"0px")+" "+Y(e,"borderTopStyle",s,!1,"solid")+" "+Y(e,"borderTopColor",s,!1,"#000")),this.format(t),r,o);
},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(le)||["#000"])[0]}}),ge("borderWidth",{parser:ce("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ge("float,cssFloat,styleFloat",{parser:function(e,t,i,n,s){var r=e.style,o="cssFloat"in r?"cssFloat":"styleFloat";return new pe(r,o,0,0,s,-1,i,!1,0,r[o],t)}});var _e=function(e){var t,i=this.t,n=i.filter||Y(this.data,"filter"),s=0|this.s+this.c*e;100===s&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),t=!Y(this.data,"filter")):(i.filter=n.replace(x,""),t=!0)),t||(this.xn1&&(i.filter=n=n||"alpha(opacity="+s+")"),-1===n.indexOf("opacity")?0===s&&this.xn1||(i.filter=n+" alpha(opacity="+s+")"):i.filter=n.replace(w,"opacity="+s))};ge("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,n,r,o){var a=parseFloat(Y(e,"opacity",s,!1,"1")),l=e.style,u="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+a),u&&1===a&&"hidden"===Y(e,"visibility",s)&&0!==t&&(a=0),U?r=new pe(l,"opacity",a,t-a,r):(r=new pe(l,"opacity",100*a,100*(t-a),r),r.xn1=u?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=e,r.plugin=o,r.setRatio=_e),u&&(r=new pe(l,"visibility",0,0,r,-1,null,!1,0,0!==a?"inherit":"hidden",0===t?"hidden":"inherit"),r.xs0="inherit",n._overwriteProps.push(r.n),n._overwriteProps.push(i)),r}});var Ie=function(e,t){t&&(e.removeProperty?("ms"===t.substr(0,2)&&(t="M"+t.substr(1)),e.removeProperty(t.replace(E,"-$1").toLowerCase())):e.removeAttribute(t))},ke=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.className=0===e?this.b:this.e;for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:Ie(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};ge("className",{parser:function(e,t,n,r,o,a,l){var u,c,h,p,d,f=e.className,m=e.style.cssText;if(o=r._classNamePT=new pe(e,n,0,0,o,2),o.setRatio=ke,o.pr=-11,i=!0,o.b=f,c=K(e,s),h=e._gsClassPT){for(p={},d=h.data;d;)p[d.p]=1,d=d._next;h.setRatio(1)}return e._gsClassPT=o,o.e="="!==t.charAt(1)?t:f.replace(RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),r._tween._duration&&(e.className=o.e,u=$(e,c,K(e),l,p),e.className=f,o.data=u.firstMPT,e.style.cssText=m,o=o.xfirst=r.parse(e,u.difs,o,a)),o}});var Re=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,i,n,s,r=this.t.style,o=a.transform.parse;if("all"===this.e)r.cssText="",s=!0;else for(t=this.e.split(","),n=t.length;--n>-1;)i=t[n],a[i]&&(a[i].parse===o?s=!0:i="transformOrigin"===i?Se:a[i].p),Ie(r,i);s&&(Ie(r,be),this.t._gsTransform&&delete this.t._gsTransform)}};for(ge("clearProps",{parser:function(e,t,n,s,r){return r=new pe(e,n,0,0,r,2),r.setRatio=Re,r.e=t,r.pr=-10,r.data=s._tween,i=!0,r}}),l="bezier,throwProps,physicsProps,physics2D".split(","),fe=l.length;fe--;)ve(l[fe]);l=o.prototype,l._firstPT=null,l._onInitTween=function(e,t,a){if(!e.nodeType)return!1;this._target=e,this._tween=a,this._vars=t,u=t.autoRound,i=!1,n=t.suffixMap||o.suffixMap,s=z(e,""),r=this._overwriteProps;var l,p,f,m,g,v,y,b,w,x=e.style;if(c&&""===x.zIndex&&(l=Y(e,"zIndex",s),("auto"===l||""===l)&&(x.zIndex=0)),"string"==typeof t&&(m=x.cssText,l=K(e,s),x.cssText=m+";"+t,l=$(e,l,K(e)).difs,!U&&S.test(t)&&(l.opacity=parseFloat(RegExp.$1)),t=l,x.cssText=m),this._firstPT=p=this.parse(e,t,null),this._transformType){for(w=3===this._transformType,be?h&&(c=!0,""===x.zIndex&&(y=Y(e,"zIndex",s),("auto"===y||""===y)&&(x.zIndex=0)),d&&(x.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(w?"visible":"hidden"))):x.zoom=1,f=p;f&&f._next;)f=f._next;b=new pe(e,"transform",0,0,null,2),this._linkCSSP(b,null,f),b.setRatio=w&&xe?Ae:be?Pe:Ce,b.data=this._transform||Ee(e,s,!0),r.pop()}if(i){for(;p;){for(v=p._next,f=m;f&&f.pr>p.pr;)f=f._next;(p._prev=f?f._prev:g)?p._prev._next=p:m=p,(p._next=f)?f._prev=p:g=p,p=v}this._firstPT=m}return!0},l.parse=function(e,t,i,r){var o,l,c,h,p,d,f,m,g,v,y=e.style;for(o in t)d=t[o],l=a[o],l?i=l.parse(e,d,o,this,i,r,t):(p=Y(e,o,s)+"",g="string"==typeof d,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||g&&T.test(d)?(g||(d=ae(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),i=de(y,o,p,d,!0,"transparent",i,0,r)):!g||-1===d.indexOf(" ")&&-1===d.indexOf(",")?(c=parseFloat(p),f=c||0===c?p.substr((c+"").length):"",(""===p||"auto"===p)&&("width"===o||"height"===o?(c=ee(e,o,s),f="px"):"left"===o||"top"===o?(c=Q(e,o,s),f="px"):(c="opacity"!==o?0:1,f="")),v=g&&"="===d.charAt(1),v?(h=parseInt(d.charAt(0)+"1",10),d=d.substr(2),h*=parseFloat(d),m=d.replace(b,"")):(h=parseFloat(d),m=g?d.substr((h+"").length)||"":""),""===m&&(m=o in n?n[o]:f),d=h||0===h?(v?h+c:h)+m:t[o],f!==m&&""!==m&&(h||0===h)&&c&&(c=X(e,o,c,f),"%"===m?(c/=X(e,o,100,"%")/100,t.strictUnits!==!0&&(p=c+"%")):"em"===m?c/=X(e,o,1,"em"):"px"!==m&&(h=X(e,o,h,m),m="px"),v&&(h||0===h)&&(d=h+c+m)),v&&(h+=c),!c&&0!==c||!h&&0!==h?void 0!==y[o]&&(d||"NaN"!=d+""&&null!=d)?(i=new pe(y,o,h||c||0,0,i,-1,o,!1,0,p,d),i.xs0="none"!==d||"display"!==o&&-1===o.indexOf("Style")?d:p):H("invalid "+o+" tween value: "+t[o]):(i=new pe(y,o,c,h-c,i,0,o,u!==!1&&("px"===m||"zIndex"===o),0,p,d),i.xs0=m)):i=de(y,o,p,d,!0,null,i,0,r)),r&&i&&!i.plugin&&(i.plugin=r);return i},l.setRatio=function(e){var t,i,n,s=this._firstPT,r=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;s;){if(t=s.c*e+s.s,s.r?t=Math.round(t):r>t&&t>-r&&(t=0),s.type)if(1===s.type)if(n=s.l,2===n)s.t[s.p]=s.xs0+t+s.xs1+s.xn1+s.xs2;else if(3===n)s.t[s.p]=s.xs0+t+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3;else if(4===n)s.t[s.p]=s.xs0+t+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4;else if(5===n)s.t[s.p]=s.xs0+t+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4+s.xn4+s.xs5;else{for(i=s.xs0+t+s.xs1,n=1;s.l>n;n++)i+=s["xn"+n]+s["xs"+(n+1)];s.t[s.p]=i}else-1===s.type?s.t[s.p]=s.xs0:s.setRatio&&s.setRatio(e);else s.t[s.p]=t+s.xs0;s=s._next}else for(;s;)2!==s.type?s.t[s.p]=s.b:s.setRatio(e),s=s._next;else for(;s;)2!==s.type?s.t[s.p]=s.e:s.setRatio(e),s=s._next},l._enableTransforms=function(e){this._transformType=e||3===this._transformType?3:2,this._transform=this._transform||Ee(this._target,s,!0)},l._linkCSSP=function(e,t,i,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,n=!0),i?i._next=e:n||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=i),e},l._kill=function(t){var i,n,s,r=t;if(t.autoAlpha||t.alpha){r={};for(n in t)r[n]=t[n];r.opacity=1,r.autoAlpha&&(r.visibility=1)}return t.className&&(i=this._classNamePT)&&(s=i.xfirst,s&&s._prev?this._linkCSSP(s._prev,i._next,s._prev._prev):s===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,s._prev),this._classNamePT=null),e.prototype._kill.call(this,r)};var Oe=function(e,t,i){var n,s,r,o;if(e.slice)for(s=e.length;--s>-1;)Oe(e[s],t,i);else for(n=e.childNodes,s=n.length;--s>-1;)r=n[s],o=r.type,r.style&&(t.push(K(r)),i&&i.push(r)),1!==o&&9!==o&&11!==o||!r.childNodes.length||Oe(r,t,i)};return o.cascadeTo=function(e,i,n){var s,r,o,a=t.to(e,i,n),l=[a],u=[],c=[],h=[],p=t._internals.reservedProps;for(e=a._targets||a.target,Oe(e,u,h),a.render(i,!0),Oe(e,c),a.render(0,!0),a._enabled(!0),s=h.length;--s>-1;)if(r=$(h[s],u[s],c[s]),r.firstMPT){r=r.difs;for(o in n)p[o]&&(r[o]=n[o]);l.push(t.to(h[s],i,r))}return l},e.activate([o]),o},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("css-plugin",function(e){return function(){var t;return t||e.CSSPlugin}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var e=180/Math.PI,t=[],i=[],n=[],s={},r=function(e,t,i,n){this.a=e,this.b=t,this.c=i,this.d=n,this.da=n-e,this.ca=i-e,this.ba=t-e},o=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",a=function(e,t,i,n){var s={a:e},r={},o={},a={c:n},l=(e+t)/2,u=(t+i)/2,c=(i+n)/2,h=(l+u)/2,p=(u+c)/2,d=(p-h)/8;return s.b=l+(e-l)/4,r.b=h+d,s.c=r.a=(s.b+r.b)/2,r.c=o.a=(h+p)/2,o.b=p-d,a.b=c+(n-c)/4,o.c=a.a=(o.b+a.b)/2,[s,r,o,a]},l=function(e,s,r,o,l){var u,c,h,p,d,f,m,g,v,y,b,w,S,x=e.length-1,T=0,E=e[0].a;for(u=0;x>u;u++)d=e[T],c=d.a,h=d.d,p=e[T+1].d,l?(b=t[u],w=i[u],S=.25*(w+b)*s/(o?.5:n[u]||.5),f=h-(h-c)*(o?.5*s:0!==b?S/b:0),m=h+(p-h)*(o?.5*s:0!==w?S/w:0),g=h-(f+((m-f)*(3*b/(b+w)+.5)/4||0))):(f=h-.5*(h-c)*s,m=h+.5*(p-h)*s,g=h-(f+m)/2),f+=g,m+=g,d.c=v=f,d.b=0!==u?E:E=d.a+.6*(d.c-d.a),d.da=h-c,d.ca=v-c,d.ba=E-c,r?(y=a(c,E,v,h),e.splice(T,1,y[0],y[1],y[2],y[3]),T+=4):T++,E=m;d=e[T],d.b=E,d.c=E+.4*(d.d-E),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=E-d.a,r&&(y=a(d.a,E,d.c,d.d),e.splice(T,1,y[0],y[1],y[2],y[3]))},u=function(e,n,s,o){var a,l,u,c,h,p,d=[];if(o)for(e=[o].concat(e),l=e.length;--l>-1;)"string"==typeof(p=e[l][n])&&"="===p.charAt(1)&&(e[l][n]=o[n]+Number(p.charAt(0)+p.substr(2)));if(a=e.length-2,0>a)return d[0]=new r(e[0][n],0,0,e[-1>a?0:1][n]),d;for(l=0;a>l;l++)u=e[l][n],c=e[l+1][n],d[l]=new r(u,0,0,c),s&&(h=e[l+2][n],t[l]=(t[l]||0)+(c-u)*(c-u),i[l]=(i[l]||0)+(h-c)*(h-c));return d[l]=new r(e[l][n],0,0,e[l+1][n]),d},c=function(e,r,a,c,h,p){var d,f,m,g,v,y,b,w,S={},x=[],T=p||e[0];h="string"==typeof h?","+h+",":o,null==r&&(r=1);for(f in e[0])x.push(f);if(e.length>1){for(w=e[e.length-1],b=!0,d=x.length;--d>-1;)if(f=x[d],Math.abs(T[f]-w[f])>.05){b=!1;break}b&&(e=e.concat(),p&&e.unshift(p),e.push(e[1]),p=e[e.length-3])}for(t.length=i.length=n.length=0,d=x.length;--d>-1;)f=x[d],s[f]=-1!==h.indexOf(","+f+","),S[f]=u(e,f,s[f],p);for(d=t.length;--d>-1;)t[d]=Math.sqrt(t[d]),i[d]=Math.sqrt(i[d]);if(!c){for(d=x.length;--d>-1;)if(s[f])for(m=S[x[d]],y=m.length-1,g=0;y>g;g++)v=m[g+1].da/i[g]+m[g].da/t[g],n[g]=(n[g]||0)+v*v;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=x.length,g=a?4:1;--d>-1;)f=x[d],m=S[f],l(m,r,a,c,s[f]),b&&(m.splice(0,g),m.splice(m.length-g,g));return S},h=function(e,t,i){t=t||"soft";var n,s,o,a,l,u,c,h,p,d,f,m={},g="cubic"===t?3:2,v="soft"===t,y=[];if(v&&i&&(e=[i].concat(e)),null==e||g+1>e.length)throw"invalid Bezier data";for(p in e[0])y.push(p);for(u=y.length;--u>-1;){for(p=y[u],m[p]=l=[],d=0,h=e.length,c=0;h>c;c++)n=null==i?e[c][p]:"string"==typeof(f=e[c][p])&&"="===f.charAt(1)?i[p]+Number(f.charAt(0)+f.substr(2)):Number(f),v&&c>1&&h-1>c&&(l[d++]=(n+l[d-2])/2),l[d++]=n;for(h=d-g+1,d=0,c=0;h>c;c+=g)n=l[c],s=l[c+1],o=l[c+2],a=2===g?0:l[c+3],l[d++]=f=3===g?new r(n,s,o,a):new r(n,(2*s+n)/3,(2*s+o)/3,o);l.length=d}return m},p=function(e,t,i){for(var n,s,r,o,a,l,u,c,h,p,d,f=1/i,m=e.length;--m>-1;)for(p=e[m],r=p.a,o=p.d-r,a=p.c-r,l=p.b-r,n=s=0,c=1;i>=c;c++)u=f*c,h=1-u,n=s-(s=(u*u*o+3*h*(u*a+h*l))*u),d=m*i+c-1,t[d]=(t[d]||0)+n*n},d=function(e,t){t=t>>0||6;var i,n,s,r,o=[],a=[],l=0,u=0,c=t-1,h=[],d=[];for(i in e)p(e[i],o,t);for(s=o.length,n=0;s>n;n++)l+=Math.sqrt(o[n]),r=n%t,d[r]=l,r===c&&(u+=l,r=n/t>>0,h[r]=d,a[r]=u,l=0,d=[]);return{length:u,lengths:a,segments:h}},f=window._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.2",API:2,global:!0,init:function(e,t,i){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var n,s,r,o,a,l=t.values||[],u={},p=l[0],f=t.autoRotate||i.vars.orientToBezier;this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",f===!0?0:Number(f)||0]]:null;for(n in p)this._props.push(n);for(r=this._props.length;--r>-1;)n=this._props[r],this._overwriteProps.push(n),s=this._func[n]="function"==typeof e[n],u[n]=s?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),a||u[n]!==l[0][n]&&(a=u);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?c(l,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,a):h(l,t.type,u),this._segCount=this._beziers[n].length,this._timeRes){var m=d(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(this._initialRotations=[],f[0]instanceof Array||(this._autoRotate=f=[f]),r=f.length;--r>-1;){for(o=0;3>o;o++)n=f[r][o],this._func[n]="function"==typeof e[n]?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]:!1;n=f[r][2],this._initialRotations[r]=this._func[n]?this._func[n].call(this._target):this._target[n]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var i,n,s,r,o,a,l,u,c,h,p=this._segCount,d=this._func,f=this._target,m=t!==this._startRatio;if(this._timeRes){if(c=this._lengths,h=this._curSeg,t*=this._length,s=this._li,t>this._l2&&p-1>s){for(u=p-1;u>s&&t>=(this._l2=c[++s]););this._l1=c[s-1],this._li=s,this._curSeg=h=this._segments[s],this._s2=h[this._s1=this._si=0]}else if(this._l1>t&&s>0){for(;s>0&&(this._l1=c[--s])>=t;);0===s&&this._l1>t?this._l1=0:s++,this._l2=c[s],this._li=s,this._curSeg=h=this._segments[s],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(i=s,t-=this._l1,s=this._si,t>this._s2&&h.length-1>s){for(u=h.length-1;u>s&&t>=(this._s2=h[++s]););this._s1=h[s-1],this._si=s}else if(this._s1>t&&s>0){for(;s>0&&(this._s1=h[--s])>=t;);0===s&&this._s1>t?this._s1=0:s++,this._s2=h[s],this._si=s}a=(s+(t-this._s1)/(this._s2-this._s1))*this._prec}else i=0>t?0:t>=1?p-1:p*t>>0,a=(t-i*(1/p))*p;for(n=1-a,s=this._props.length;--s>-1;)r=this._props[s],o=this._beziers[r][i],l=(a*a*o.da+3*n*(a*o.ca+n*o.ba))*a+o.a,this._round[r]&&(l=Math.round(l)),d[r]?f[r](l):f[r]=l;if(this._autoRotate){var g,v,y,b,w,S,x,T=this._autoRotate;for(s=T.length;--s>-1;)r=T[s][2],S=T[s][3]||0,x=T[s][4]===!0?1:e,o=this._beziers[T[s][0]],g=this._beziers[T[s][1]],o&&g&&(o=o[i],g=g[i],v=o.a+(o.b-o.a)*a,b=o.b+(o.c-o.b)*a,v+=(b-v)*a,b+=(o.c+(o.d-o.c)*a-b)*a,y=g.a+(g.b-g.a)*a,w=g.b+(g.c-g.b)*a,y+=(w-y)*a,w+=(g.c+(g.d-g.c)*a-w)*a,l=m?Math.atan2(w-y,b-v)*x+S:this._initialRotations[s],d[r]?f[r](l):f[r]=l)}}}),m=f.prototype;f.bezierThrough=c,f.cubicToQuadratic=a,f._autoCSS=!0,f.quadraticToCubic=function(e,t,i){return new r(e,(2*t+e)/3,(2*t+i)/3,i)},f._cssRegister=function(){var e=window._gsDefine.globals.CSSPlugin;if(e){var t=e._internals,i=t._parseToProxy,n=t._setPluginRatio,s=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,r,o,a,l){t instanceof Array&&(t={values:t}),l=new f;var u,c,h,p=t.values,d=p.length-1,m=[],g={};if(0>d)return a;for(u=0;d>=u;u++)h=i(e,p[u],o,a,l,d!==u),m[u]=h.end;for(c in t)g[c]=t[c];return g.values=m,a=new s(e,"bezier",0,0,h.pt,2),a.data=h,a.plugin=l,a.setRatio=n,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(u=g.autoRotate===!0?0:Number(g.autoRotate),g.autoRotate=null!=h.end.left?[["left","top","rotation",u,!1]]:null!=h.end.x?[["x","y","rotation",u,!1]]:!1),g.autoRotate&&(o._transform||o._enableTransforms(!1),h.autoRotate=o._target._gsTransform),l._onInitTween(h.proxy,g,o._tween),a}})}},m._roundProps=function(e,t){for(var i=this._overwriteProps,n=i.length;--n>-1;)(e[i[n]]||e.bezier||e.bezierThrough)&&(this._round[i[n]]=t)},m._kill=function(e){var t,i,n=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],i=n.length;--i>-1;)n[i]===t&&n.splice(i,1);return this._super._kill.call(this,e)}}),window._gsDefine&&window._gsQueue.pop()(),define("bezier-plugin",function(e){return function(){var t;return t||e.BezierPlugin}}(this)),define("helpers/GsapTweenLite",["require","tween-lite","ease-pack","css-plugin","bezier-plugin"],function(e){"use strict";var t=e("tween-lite");return e("ease-pack"),e("css-plugin"),e("bezier-plugin"),t.defaultOverwrite=!1,t}),define("helpers/external/ao",["require","lodash","external/superagent","polyfills/detection","helpers/utils","helpers/resolver","helpers/GsapTweenLite","helpers/vow","views/helpers/dom"],function(e){"use strict";var t,i,n=e("lodash"),s=e("external/superagent"),r=e("polyfills/detection"),o=e("helpers/utils"),a=(e("helpers/resolver"),e("helpers/GsapTweenLite")),l=e("helpers/vow"),u=e("views/helpers/dom"),c=0,h="SavePlayerData",p="SaveResume",d="GetResumeInfo",f="RefreshSession",m="GetSessionId",g="GetResumeInfoResponse",v="GetSessionIdResponse",y=["<soap:Envelope ",'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ','xmlns:xsd="http://www.w3.org/2001/XMLSchema" ','xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">',"<soap:Body>"].join(""),b="</soap:Body></soap:Envelope>",w=window.location.origin,S=n.first(window.location.toString().split("#")),x="http://articulate.com",T=function(e){var t=n.rest(arguments);return[e].concat(t).join("/")},E="",C={};C[d]="sendResumeReady",C[m]="onSessionId",C[f]="dontDoAnything",C[p]="dontDoAnything",C[h]="dontDoAnything";var A={queue:[],resumer:null,scoring:null,htmlUpdate:"",lastData:"",unloaded:!1,awaitingResponse:!1,initialize:function(e,t){return window.globals.aoSupport?(this.activityId=e,this.scoring=t||{},this.sessionId=Date.now().toString(),window.addEventListener("pagehide",this.onBeforeUnload.bind(this)),this):void 0},setTotalSlides:function(e){this.totalSlides=e},setResumer:function(e){this.resumer=e,this.queueRequest(m)},interactionAnswered:function(e,t){this.updateResults(),this.sendResultsData()},quizComplete:function(e){this.updateResults(),this.sendResultsData()},courseComplete:function(e){this.updateResults(),this.sendResultsData()},manualCourseComplete:function(e,t){this.updateCompleteOnly(),this.sendResultsData()},courseStarted:n.noop,reportStatus:n.noop,viewedComplete:n.noop,slideViewed:function(e){var t=[u.writeNode("viewdata",{total:this.totalSlides,viewed:this.resumer.getUniqueViewedSlides().length,viewedcomplete:this.resumer.getUniqueTotalSlides().length})];this.getViewedEls(this.resumer.viewedSlides).forEach(function(e){t.push(e)}),t.push(u.writeCloseNode("viewdata")),this.updateViewData(t.join("")),null!=this.scoring&&this.scoring.isView()&&(this.setViewedResults(),this.sendResultsData())},getViewedEls:function(e){return e.reduce(function(e,t){return e.push(u.writeNode("slide",{id:o.stripPlayer(t.absoluteId),viewgroupid:t.getViewGroupId()},!0)),e},[])},setViewedResults:function(){var e=[u.writeNode("results"),u.writeNode("summary",{slidesviewed:this.resumer.totalViewedSlides.length,slidestotal:this.totalSlides,duration:this.resumer.getCourseTime(),status:this.scoring.getViewedStatus()},!0),u.writeCloseNode("results")].join("");this.updateResultsData(e)},updateResults:function(){if(null!=this.scoring&&!this.scoring.isView()){var e=[u.writeNode("results"),u.writeNode("summary",this.getSummaryAttributes(),!0),u.writeNode("quizzes")];return null!=this.scoring.quiz&&e.push(this.scoring.quiz.getAoSoapXml()),e.push(u.writeCloseNode("quizzes"),u.writeCloseNode("results")),this.updateResultsData(e.join("")),this}},updateCompleteOnly:function(){return this.updateResultsData([u.writeNode("results"),u.writeNode("summary",{status:this.scoring.prop("Status")},!0),u.writeCloseNode("results")].join("")),this},getSummaryAttributes:function(e){return e={},null==this.scoring||this.scoring.isView()||(this.scoring.isType("quiz")&&(e.score=this.scoring.prop("PercentScore"),e.possibleScore=100),e.duration=this.resumer.getCourseTime(),e.status=this.scoring.prop("Status")),e},onSessionId:function(e){this.sessionId=e.querySelector(v).textContent,this.createRefreshInterval()},killRefreshInterval:function(){a.killDelayedCallsTo(this.onIntervalComplete)},createRefreshInterval:function(){a.delayedCall(60,this.onIntervalComplete,void 0,this)},onIntervalComplete:function(){this.queueRequest(f).createRefreshInterval()},dontDoAnything:n.noop,getItem:function(){return this.resumeDfd=new l.Deferred,this.queueRequest(d),this.resumeDfd.promise()},setItem:function(e,t){t!==this.lastData&&(this.lastData=t,this.updateResumeData(t))},sendResumeReady:function(e){var t=e.querySelector(g);this.resumeDfd.resolve(t.textContent)},getWrapperDiv:function(){return document.createElement("div")},updateResumeData:function(e){var i;t=["<resumeData>",e,"</resumeData>"].join(""),i=['<playerdata sessionid="',this.sessionId,'">',t,"</playerdata>"].join(""),this.killRefreshInterval(),this.queueRequest(p,i),this.createRefreshInterval(),this.prepareHtmlUpdate()},updateViewData:function(e){i=e,this.prepareHtmlUpdate()},updateResultsData:function(e){E=e,this.prepareHtmlUpdate()},getPlayerData:function(){return['<playerdata sessionid="',this.sessionId,'" ','sendcount="',c,'">',t,i,E,"</playerdata>"].join("")},sendResultsData:function(){var e=this.getPlayerData();c++,this.queueRequest(h,e,!0),this.scoring.markAttemptsSent()},prepareHtmlUpdate:function(){this.htmlUpdate=this.getPlayerData()},hasResultsData:function(){return/<(viewdata|results)/.test(this.htmlUpdate)},onBeforeUnload:function(e){var t;this.htmlUpdate.length&&null==this.hasEnded&&(this.hasEnded=!0,t=r.isIE()?"sendSyncRequest":"sendRequest",this[t]({command:this.hasResultsData()?h:p,xmlData:this.htmlUpdate}))},queueRequest:function(e,t,i){var n=i?"push":"unshift",s={command:e,xmlData:t};return 0===this.queue.length&&this.awaitingResponse===!1?this.sendRequest(s):this.queue[n](s),this},requestCallback:function(e,t,i){var n,s;this.awaitingResponse=!1,t||(n=new window.DOMParser,s=n.parseFromString(i.text,"application/xml")),this[e](s),this.popQueue()},popQueue:function(){this.queue.length>0&&this.sendRequest(this.queue.pop())},sendRequest:function(e,t){r.isIE()&&this.hasEnded&&this.sendSyncRequest(e);var i=this.createBaseUrl("services/content/api.asmx"),n=this.createActionUrl("KnowledgeFlash/Services/Content/Api",e.command),o=this.createSoapRequest(e),a=C[e.command];this.awaitingResponse=!0,s.post(i).set("Content-Type","text/xml").set("soapaction",n).send(o).end(this.requestCallback.bind(this,a))},createActionUrl:n.partial(T,x),createBaseUrl:n.partial(T,w),createSoapRequest:function(e){return[y,"<command ".replace("command",e.command),'xmlns="serverUrl/KnowledgeFlash/Services/Content/Api">'.replace("serverUrl",x),"<contentUrl>",window.escape(S),"</contentUrl>",null!=e.xmlData?e.xmlData:"","</command>".replace("command",e.command),b].join("")},sendSyncRequest:function(e){var t=this.createBaseUrl("services/content/api.asmx"),i=this.createActionUrl("KnowledgeFlash/Services/Content/Api",e.command),n=this.createSoapRequest(e),s=new window.XMLHttpRequest;s.open("POST",t,!1),s.setRequestHeader("SOAPAction",i),s.send(n)}};return window.handleBeforeUnload=A.onBeforeUnload.bind(A),A}),define("helpers/external/lmsInteractionMethods",["require","lodash","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/constants"),"_"),n="|#|",s=function(e){return null==e&&(e=""),window.CreateResponseIdentifier(e.substr(0,1),e)},r=function(e,t){return e.push(s(t)),e},o=function(e,t,i){var n=t.statement.lmstext||t.statement,s=t.choice.lmstext||t.choice,r=window.CreateResponseIdentifier(i.toString(),n),o=window.CreateResponseIdentifier(n.charAt(0),s);return e.push(new window.MatchingResponse(r,o)),e},a=function(e){return null==e.choice&&""===e?e=i:""===e.choice&&(e.choice=i),e},l={C:window.INTERACTION_RESULT_CORRECT,I:window.INTERACTION_RESULT_WRONG,W:window.INTERACTION_RESULT_WRONG,U:window.INTERACTION_RESULT_UNANTICIPATED,N:window.INTERACTION_RESULT_NEUTRAL},u=function(e){var i=t.first(e).toUpperCase();return l[i]||e},c=function(e){return null!=e?"true"===e.lmstext.toLowerCase():!1},h=function(e,t){var i,n=t,s=[t.prop("AttemptCount")-1,e.getAttempts()];do i=n.get("lmsId"),i&&s.push(i);while(n=n.parent);return s.reverse().join("_")},p={truefalse:function(e,i,n){window.RecordTrueFalseInteraction(h(e,i),c(t.first(i.getResponseValues())),u(i.prop("Status")),c(t.first(i.getCorrectValues())),i.get("lmstext"),e.prop("Weight"),n,e.get("lmstext"))},multiEtc:function(e,i,n,o){var l,c,p,d,f=n.isType("sequence");f?(c=function(e,t,i){return e.push(s(t.statement.lmstext),s(t.choice.lmstext)),e},p=n.getResponseValues().reduce(c,[]),d=a(n.getCorrectValues()).reduce(c,[])):(l=function(e){return t.isString(e)?e:null!=e.choice?e.choice.lmstext:e.lmstext},p=n.getResponseValues().map(l).reduce(r,[]),d=a(n.getCorrectValues().map(l)).reduce(r,[])),window[e](h(i,n),p,u(n.prop("Status")),d,n.get("lmstext"),i.prop("Weight"),o,i.get("lmstext"))},numeric:function(e,t,i,n){window.RecordFillInInteraction(h(e,t),t.getResponseValues(),u(t.prop("Status")),n||t.getCorrectValues(),t.get("lmstext"),e.prop("Weight"),i,e.get("lmstext"))},fillin:function(e,t,i){var s=t.getCorrectValues().map(function(e){return e.lmstext}).join(n);p.numeric(e,t,i,s)},matching:function(e,t,i){var n=t.getResponseValues().reduce(o,[]),s=t.getCorrectValues();s=a(s).reduce(o,[]),window.RecordMatchingInteraction(h(e,t),n,u(t.prop("Status")),s,t.get("lmstext"),e.prop("Weight"),i,e.get("lmstext"))},likert:function(e,i,s){var r=t.flatten(i.getResponseValues().map(function(e){return[e.statement.lmstext,e.choice.lmstext]})).join(n);window.RecordLikertInteraction(h(e,i),window.CreateResponseIdentifier(r.substr(0,1),r),u(i.prop("Status")),"",i.get("lmstext"),e.prop("Weight"),s,e.get("lmstext"))}};return p.wordbank=p.hotspot=p.multiplechoice=p.multipleresponse=t.partial(p.multiEtc,"RecordMultipleChoiceInteraction"),p.sequence=t.partial(p.multiEtc,"RecordSequencingInteraction"),p.essay=p.numeric,p}),define("helpers/external/lms",["require","lodash","helpers/external/lmsInteractionMethods","helpers/GsapTweenLite","helpers/vow","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/external/lmsInteractionMethods"),n=e("helpers/GsapTweenLite"),s=e("helpers/vow"),r=(e("helpers/utils"),{complete:function(e){e.api.SetReachedEnd()},incomplete:function(e){e.api.ResetStatus()},fail:function(e){e.api.SetFailed()},pass:function(e){e.api.SetPassed()}}),o={queue:[],resumer:null,scoring:null,api:null,lessonCompleted:!1,setTotalSlides:t.noop,courseStarted:t.noop,quizComplete:t.noop,slideViewed:t.noop,initialize:function(e,t){var i=this.startWindow();return i&&(window.lmsAPI=window.parent,this.scoring=t,this.courseId=e,window.addEventListener("pagehide",this.lmsUnload.bind(this)),this.initCommitTimeout()),i===!0?this:i},startWindow:function(){this.api=window;var e=t.isFunction(this.api.Start);return e&&this.api.Start(),e},setResumer:function(e){this.resumer=e},getItem:function(e){var t;return this.resumeDfd=this.resumeDfd||new s.Deferred,null!=this.api.IsLoaded&&this.api.IsLoaded()?(t=this.api.GetDataChunk(),this.resumeDfd.resolve(t),this.listenToResumer(),this.lessonCompleted=this.api.GetStatus()===this.api.LESSON_STATUS_COMPLETED):n.delayedCall(.5,this.getItem,void 0,this),null!=e?this.resumeDfd.promise():void 0},listenToResumer:function(){var e=this;this.resumer.resumeDfd.always(function(){"rejected"===this.state()&&(e.lastStatus="incomplete",r.incomplete(e))})},setItem:function(e,t){this.resumeData=t,this.sendDataCall||(this.sendDataCall=n.delayedCall(.5,this.sendData,void 0,this))},initCommitTimeout:function(){n.delayedCall(60,this.onCommitDelayComplete,void 0,this)},onCommitDelayComplete:function(){this.commit().initCommitTimeout()},sendData:function(){return this.sendDataCall=null,n.killDelayedCallsTo(this.sendData),this.api.SetDataChunk(this.resumeData),this},interactionAnswered:function(e,t){if(this.scoring){var n=i[t.type()];n(e,t,this.resumer.getCourseTime())}},reportStatus:function(){return this.updateScore(),this.updateStatus(),this},updateStatus:function(){var e=this.scoring.prop("Status"),i=r[e]||t.noop;return this.lastStatus&&this.lastStatus===e||(this.lastStatus=e,i(this)),this},updateScore:function(){if(!this.scoring.isView()&&!this.scoring.isAction()&&this.scoring.quiz.attempted()){var e=this.scoring.prop("PercentScore");this.lastScore!==e&&(this.lastScore=e,this.api.SetScore(e,100,0))}},viewedComplete:function(){return r.complete(this),this.resumer.savePresentationData(),this.commit(),this},forceCommit:function(){return this.resumer.savePresentationData(),this.sendData().commit(),this},lmsUnload:function(){null==this.unloaded&&(this.unloaded=!0,this.reportStatus(),null!=this.sendDataCall&&this.forceCommit(),this.api.ConcedeControl(),this.api.Unload())},commit:function(){return this.api.CommitData(),this},courseComplete:function(){return this.reportStatus().forceCommit(),this}};return o.manualCourseComplete=o.courseComplete,o}),define("helpers/resume/localStorageHelper",["require","lodash","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),n="path=/",s=4048,r=function(e){return e.split("=")},o=function(e){return e[0]},a=function(){var e=new Date(Date.now()+31536e7);return["expires",e.toGMTString()].join("=")},l={setCookie:function(e,t){var i=[e,t].join("=");return document.cookie=[i,a(),n].join("; "),this},getCookies:function(e){var t=document.cookie.split("; "),i=function(t){return 0===t[0].indexOf(e)};return t.map(r).filter(i)},getItem:function(e){var n=new i.Deferred,s=t(this.getCookies(e)).sortBy(o).reduce(function(e,t){return e+t[1]},"");return n.resolve(s),n.promise()},setItem:function(e,t){for(var i,n,r=0;t.length>0;)n=[e,r++].join("_"),i=t.slice(0,s),this.setCookie(n,i),t=t.slice(s);return this}},u={getItem:function(e){var t=new i.Deferred,n=window.localStorage.getItem(e);return t.resolve(n),t.promise()},setItem:function(e,t){var i;try{i=window.localStorage.setItem(e,t)}catch(n){console.warn(n)}return i}},c={setResumer:t.noop};return{hasStorage:function(){try{return null!=window.vInterfaceObject||!t.isUndefined(window.localStorage)}catch(e){return!1}},getStorage:function(){return t.extend(c,this.hasStorage()?u:l)}}}),define("helpers/resume/Chunk",["require","lodash","models/BaseModel"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=64,s=6,r="abcdefghijklmnopqrstuvwxyz",o=function(e){return e.toString()},a=t.union(t.range(10).map(o),r.split(""),r.toUpperCase().split(""),"_$".split("")),l=function(e){return a.indexOf(e)},u=/([^a-zA-Z0-9_$])/,c=i.extend({shorthand:["encodedLength","strLength","fullString","encodedString","strVal","remainder"],initialize:function(e){var t,i=1,n=0;"~"===this.fullString().charAt(0)&&(n=2,i=parseInt(this.fullString().charAt(1))),t=n+i,this.encodedLength(this.fullString().slice(n,t)),this.strLength(parseInt(c.fromUnsignedString64(this.encodedLength()))),this.encodedString(this.fullString().slice(t,t+this.strLength())),this.remainder(this.fullString().slice(t+this.strLength()))},getDecodedValue:function(e){var t=this.encodedString();return u.test(t)||(t=c[e](t)),t},reChunk:function(){return new c({fullString:this.remainder()})}}),h=c.prototype;return h.getSignedValue=t.partial(h.getDecodedValue,"fromSignedString64"),h.getUnsignedValue=t.partial(h.getDecodedValue,"fromUnsignedString64"),c.EMPTY_CHUNK=0,c.create=function(e){null==e&&(e="");var t="",i=e.toString().length,n=c.toUnsignedString64(i);return i>63&&(t+="~"+n.length),t+=n+e},c.packData=function(e){return[c.create(c.toUnsignedString64(e.length)),e].join("")},c.toUnsignedString64=function(e,i,r){var o="",l=!0,u=e,h=0;for(r=r||c.EMPTY_CHUNK;u>0||l;)l=!1,h=u&n-1,o+=a[h],u>>=s;return o+=t.times(i-o.length,t.partial(t.identity,r)).join("")},c.toSignedString64=function(e,t){var i,s=e,r=0>e,o=1,a=0;for(t=t||-1;Math.pow(n,o)/2<=Math.abs(e);)o++;if(i=Math.max(t,o),r){for(;-e>=Math.pow(n,a)/2;)a++;s=Math.pow(n,a)+e}return c.toUnsignedString64(s,i,r?"$":"0")},c.fromUnsignedString64=function(e){var t=e.toString().split(""),i=function(e,t,i){return e+=l(t)<<s*i};return t.reduce(i,0)},c.fromSignedString64=function(e){var t=c.fromUnsignedString64(e.toString()),i=Math.pow(n,e.length)/2;return t>=i&&(t-=2*i),t},c}),define("helpers/resume/courseStateHelper",["require","lodash","helpers/utils","helpers/vow","helpers/resume/Chunk"],function(e){"use strict";var t,i,n=e("lodash"),s=e("helpers/utils"),r=e("helpers/vow"),o=e("helpers/resume/Chunk"),a={
initialize:function(){var e,t,i={},s=window.vRestoreStateData;if(this.hasData=!n.isEmpty(s),this.hasData){for(e=new o({fullString:s}),this.resumeData=e.encodedString(),e=e.reChunk(),e=new o({fullString:e.encodedString()}),t=e.encodedString();t.length>0;)e=e.reChunk(),i[t]=e.encodedString(),e=e.reChunk(),t=e.encodedString();this.slideStateData=i}},setResumer:function(e){t=e},setWindowManager:function(e){i=e},getSlideStateData:function(e){return this.hasData?this.slideStateData[s.stripPlayer(e)]:void 0},clearSlideStateData:function(e){this.slideStateData[s.stripPlayer(e)]=null},getState:function(){return n.map([o.packData(t.collectResumeData()),this.getActiveSlideStates()],o.create).join("")},shouldShimLMS:function(){return window.autoSpider},getLMSShim:function(){return{getItem:function(){var e=new r.Deferred;return e.resolve(),e.promise()},setItem:n.noop,setResumer:n.noop}},getActiveSlideStates:function(){return i.windows.map(function(e){var t=e.getCurrentSlide();return null==t?"":(t.prepareResumeData({retainState:!0,force:!0,skipPostBuild:!0}),n.map([s.stripPlayer(t.absoluteId),t.getResumeData()],o.create).join(""))}).join("")}};return a.initialize(),a}),define("helpers/PostMessaging",["require","helpers/vow","helpers/errorManager"],function(e){"use strict";var t=e("helpers/vow"),i=e("helpers/errorManager"),n={},s="request",r="response",o="SUCCESS",a="ERROR",l=[s,r],u=function(e,t){return n[e]=t,function(){delete n[e]}},c=function(e){return null!=e&&null!=e.id&&null!=e.type&&-1!==l.indexOf(e.type)},h=function(e){var t,s=i.throwError("PostMessaging");if(null!=e.data){try{t=JSON.parse(e.data)}catch(r){return}c(t)&&(null!=n[t.connectionId]?n[t.connectionId](t,e):s("No listener exists for connectionId: ",t.connectionId))}};window.addEventListener("message",h,!1);var p=function(e,n){var l,c,h,p=i.throwError("PostMessaging"),d={},f=0,m=new t.Deferred,g=n,v=function(e){return null!=e&&"function"==typeof e.then},y=function(e,i,n,r,a){var l=++f,u=new t.Deferred,c={type:i,connectionId:g};return d[l]=u,i===s?(c.method=n,c.params=r,c.id=l):(c.id=n,c.data=r,c.status=null!=a?a:o),e.postMessage(JSON.stringify(c),"*"),u.always(function(){delete d[l]}).fail(function(e){delete d[l],p(e.message)}),u.promise()},b=function(e){l=function(t,i){return m.then(function(){return y(e,s,t,i)})},c=function(t,i,n){return m.then(function(){return y(e,r,t,i,n)})}},w=function(t,i){var n,l;if(t.type===s)if("connect"===t.method)b(i.source),y(i.source,r,t.id),m.resolve();else if(null!=e[t.method])try{l=e[t.method].apply(void 0,Array.isArray(t.params)?t.params:[t.params]),v(l)?l.then(function(e){c(t.id,e)}):c(t.id,l)}catch(u){c(t.id,u.message,a)}else c(t.id,["No handler for this method ",t.method].join(""),a);else{if(n=d[t.id],null!=n)return void(t.status===o?n.resolve(t.data,i):n.reject(t.data,i));c(t.id,["No pending requests for this response id ",t.id].join(""),a)}};h=u(g,w),this.ready=function(){return m},this.connect=function(e){return b(e),y(e,s,"connect").then(m.resolve),m},this.request=function(){return null!=l?l.apply(void 0,arguments):void p("request","A destination iframe needs to be connected before sending requests to it.  Try using `connect` first.")},this.tearDown=function(){h(),window.removeEventListener("message",w,!1)}};return p}),define("helpers/webObjectHelper",["require","lodash","polyfills/detection","helpers/utils","helpers/errorManager","helpers/events","helpers/pubSub","helpers/vow","helpers/PostMessaging"],function(e){"use strict";var t,i,n=e("lodash"),s=e("polyfills/detection"),r=e("helpers/utils"),o=e("helpers/errorManager"),a=e("helpers/events"),l=e("helpers/pubSub"),u=e("helpers/vow"),c=e("helpers/PostMessaging"),h=new u.Deferred,p=o.throwError("webObjectHelper"),d=!1;(new u.Deferred).reject().promise();l.once(a.data.INITIALIZED,function(){d=!0});var f=function(e){t=e,s.isWebObject?(i=new c(g,r.queryStringToObj().id),i.ready().then(h.resolve),i.connect(window.parent)):h.reject()},m=function(){null!=i&&i.tearDown()},g={setVolume:function(e){l.trigger(a.volume.CHANGED,e)},executeFilteredPlayerEvent:function(e){if(!d)throw new Error("data is not yet initialized");t.executeFilteredPlayerEvent(v(e),"onhostevent")}},v=function(e){return function(t){return t.eventname===e}},y=function(e){if(void 0===i)throw Error("triggerHostEvent - postMessaging has not been initialized");return i.request("triggerHostEvent",e)},b=function(){return h.then(function(){return i.request("getResumeData").then(function(e){return e}).fail(p.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))})},w=function(e){return i.request("setResumeData",e).fail(p.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))},S=function(e){return n.extend({},e,{getItem:b,setItem:function(t,i){return w(i),e.setItem.apply(e,arguments)}})};return{initialize:f,tearDown:m,triggerHostEvent:y,getResumer:S}}),define("helpers/resume/resumer",["require","lodash","helpers/appState","helpers/events","helpers/pubSub","helpers/external/tinCan","helpers/external/ao","helpers/external/lms","helpers/resume/localStorageHelper","helpers/resume/Chunk","helpers/vow","helpers/errorManager","polyfills/detection","helpers/resume/courseStateHelper","helpers/webObjectHelper"],function(e){"use strict";var t,i,n,s,r=e("lodash"),o=e("helpers/appState"),a=e("helpers/events"),l=e("helpers/pubSub"),u=e("helpers/external/tinCan"),c=e("helpers/external/ao"),h=e("helpers/external/lms"),p=e("helpers/resume/localStorageHelper"),d=e("helpers/resume/Chunk"),f=e("helpers/vow"),m=e("helpers/errorManager"),g=e("polyfills/detection"),v=e("helpers/resume/courseStateHelper"),y=e("helpers/webObjectHelper"),b="",w=(m.warn("resumer"),function(e){return e.remainder().length===e.getUnsignedValue()}),S=function(e){return e.match(/.{2}/g)},x=function(e){return e.getViewGroupId()},T={viewedSlides:[],totalViewedSlides:[],viewedActionLinks:{},courseStartTime:!1,hasOverlay:!1,initialize:function(e,n){return r.bindAll(this,"savePresentationData"),t=e,i=e.resume()||{},this.resumeDfd=new f.Deferred,this.hasOverlay=n,this.resumeDfd.fail(function(){this.setViewedSlidesFromString("")}.bind(this)),v.setResumer(this),this.setProperLms(),l.on(a.player.CLOSING,this.closePlayer.bind(this)),this.isResumable()?this.informExternals().setListeners().createSceneResumeArray().setResumeDataCallback().initResumeData():(this.lmsDfd=(new f.Deferred).resolve().promise(),this.setListeners().checkAndReject()),this.resumeDfd.promise()},isResumable:function(){return!!s},setProperLms:function(){var e=t.get("scoring"),n=t.get("courseId");return this.hasLms=!0,window.globals.tinCanPresent||g.isRise?s=u.initialize(n,t.get("tincanVersion"),e,t,g.isRise):window.globals.aoSupport?s=c.initialize(n,e):window.globals.lmsPresent?(s=h.initialize(n,e),this.hasLms=this.isResumable()):i.flashresume===!0?(this.hasLms=!1,s=p.getStorage()):v.shouldShimLMS()?(this.hasLms=!1,s=v.getLMSShim()):this.hasLms=!1,g.isWebObject&&(s=y.getResumer(s)),null==s||!this.hasLms||i.lmsresume&&!g.isRise||this.neverResumeLms(s),this},neverResumeLms:function(e){e.setItem=r.noop,e.getItem=function(){var e=new f.Deferred;return e.resolve(),e.promise()}},informExternals:function(){return s.setResumer(this),this},setListeners:function(){var e={};return e[a.slide.VIEWED]=this.slideViewed.bind(this),e[a.actionlink.EVENT]=this.onActionLink.bind(this),this.hasLms&&(e[a.interaction.EVALUATED]=this.onInteractionEvaluated,e[a.quiz.COMPLETED]=s.quizComplete.bind(s),e[a.course.COMPLETED]=s.courseComplete.bind(s),e[a.course.MANUALLY_COMPLETED]=s.manualCourseComplete.bind(s),e[a.course.VIEWED]=s.viewedComplete.bind(s),e[a.status.UPDATED]=s.reportStatus.bind(s)),l.on(e),this},onInteractionEvaluated:function(e,t){e.hasScoring()&&s.interactionAnswered(e,t)},closePlayer:function(){t.isPreview()?l.trigger(a.preview.NOTIFY,"PREVIEW_CLOSE_WND"):null!=s&&r.isFunction(s.lmsUnload)?s.lmsUnload():window.top.window.open("","_self","").close()},setWindowManager:function(e){n=e,v.setWindowManager(e),this.lmsDfd.done(this.checkQuickResume.bind(this))},createSceneResumeArray:function(){return this.sceneResume=t.scenes().map(function(e,t){return d.EMPTY_CHUNK}),this},callForLightboxClose:function(){return l.trigger(a.window.CLOSING,i.window),this},resolveDeferred:function(){return this.resumeDfd.resolve(),l.trigger(a.resume.SET_DATA,this.totalViewedSlides,Object.keys(this.viewedActionLinks)),this},rejectDeferred:function(){return this.resumeDfd.reject(),l.trigger(a.resume.SET_DATA),this},check:function(e){return this.hasOverlay||g.isClassic||!g.isDesktop||this.mobileStartAsPrompt?void(this.hasOverlay||g.isPhonePreview||g.isMobileAndNotPreview||!g.isClassic&&!t.isPreview()?o.getAppCompletePromise().done(function(){l.trigger(a.request.START,{rejectDeferred:e,mobileStartAsPrompt:this.mobileStartAsPrompt})}.bind(this)):e()):void e()},initResumeData:function(){this.lmsDfd=s.getItem(i.id).done(function(e){var t=!1;v.hasData&&(e=v.resumeData),null!=e&&e.length&&(t=this.processResumeData(e)),t?(l.trigger(a.request.START,function(){}),i.prompt&&!g.isClassic?(this.mobileStartAsPrompt=!0,this.checkAndResolve()):this.checkApplyResumeData()):this.checkAndReject()}.bind(this))},processResumeData:function(e){var t=!1,i=new d({fullString:e});return w(i)?(this.resumeData=i.reChunk(),t=!0):m.warn("processResumeData","the data is the incorrect length, resume not attempted"),t},checkApplyResumeData:function(){return i.prompt&&!v.hasData&&o.getAppCompletePromise().done(function(){l.trigger(a.request.NEXT_SLIDE,i.slideId,i.window)}),this},checkQuickResume:function(){null==this.resumeData||i.prompt&&!v.hasData||this.checkAndResolve()},applyResumeData:function(e){var t=e?"resolveDeferred":"rejectDeferred";this.callForLightboxClose(),this[t]()},slideViewed:function(e){e.get("trackViews")&&(this.addSlideToViewedList(e),this.hasLms&&s.slideViewed(e))},onActionLink:function(e){var i=r.findIndex(t.get("actionlinks"),{id:e});-1!==i&&(this.viewedActionLinks[e]=i)},addSlideToViewedList:function(e){this.viewedSlides.push(e),this.viewedSlides=r.uniq(this.viewedSlides),this.totalViewedSlides.push.apply(this.totalViewedSlides,this.viewedSlides),this.totalViewedSlides=r.uniq(this.totalViewedSlides)},getViewedSlidesString:function(){return this.totalViewedSlides.reduce(function(e,t){return e+d.toUnsignedString64(t.prop("Index")+1,2)},"")},setViewedSlidesFromString:function(e){if(e.length){var i=t.getFlatSlides(),n=t.get("scoring");this.totalViewedSlides=r(S(e)).map(d.fromUnsignedString64).map(function(e){var t=i[e-1];return null!=t&&n.incrementViewed(t),t}.bind(this)).compact().value()}this.hasLms&&t.getDrawPromise().done(function(){s.setTotalSlides(t.getUniqueSlides().length)})},getUniqueSlides:function(e){return r.uniq(this[e],x)},getViewedActionLinksString:function(){return r.reduce(this.viewedActionLinks,function(e,t){return e+d.toUnsignedString64(t,2)},"")},setViewedActionLinksFromString:function(e){if(e.length>0){var i=t.get("actionlinks");null!=i&&(this.viewedActionLinks=S(e).map(d.fromUnsignedString64).reduce(function(e,t){var n=i[t];return null!=n&&(e[n.id]=t),e},{}))}},collectResumeData:function(){return[d.create(this.getViewedSlidesString()),d.create(n.getResumeData()),t.variables().length>0?d.create(t.variables().getResumeDataOrReturn("")):"",this.sceneResume.join(""),t.quizzes().getResumeData(),t.timers().length>0?t.timers().getResumeData():"",d.create(this.getViewedActionLinksString())].join("")},savePresentationData:function(e){if(!this.isResumable()||f.isPending(this.resumeDfd))return this;var t=n.getCurrentWindowSlide();this.saveSceneData(e),null!=t&&(this.resumeData=this.collectResumeData(),s.setItem(i.id,d.packData(this.resumeData)))},saveSceneData:function(e){null!=e&&(this.sceneResume[e.index()]=d.create(e.getResumeData()))},setResumeDataCallback:function(){return this.resumeDfd.done(this.setResumeData.bind(this)),this},setResumeData:function(){var e,i,s,r=this.resumeData.encodedString(),o=t.variables().length>0,a=this.resumeData.reChunk(),l=o?a.reChunk():null,u=o?l.reChunk():a.reChunk();o&&t.variables().setResumeData(l.encodedString()),e=this.setSceneResumeData(u),i=t.quizzes().setResumeData(e),t.timers().length>0&&t.timers().setResumeData(i),s=i,t.createSlideIndices(),this.setViewedSlidesFromString(r),this.setViewedActionLinksFromString(s.encodedString()),n.setResumeData(a.encodedString())},setSceneResumeData:function(e){return this.sceneResume=t.scenes().map(function(t){var i=e.encodedString();return t.setResumeData(i),e=e.reChunk(),d.create(i)}),e},courseStarted:function(e){this.courseStartTime=Date.now(),this.hasLms&&s.courseStarted(e)},getCourseTime:function(){return Date.now()-this.courseStartTime},clearResumeData:function(){t.scenes().forEach(function(e){e.clearResumeData()}),t.getUniqueSlides().forEach(function(e){e.clearResumeData()}),n.setResumeData(b),this.viewedSlides=[],this.totalViewedSlides=[],this.isResumable()&&s.setItem(i.id,b)}};return T.getUniqueViewedSlides=r.partial(T.getUniqueSlides,"viewedSlides"),T.getUniqueTotalSlides=r.partial(T.getUniqueSlides,"totalViewedSlides"),T.checkAndReject=r.partial(T.check,T.rejectDeferred.bind(T)),T.checkAndResolve=r.partial(T.check,T.resolveDeferred.bind(T)),T}),define("helpers/slidesController",["require","lodash","backbone","mixins/subscribable","helpers/pubSub","helpers/resolver"],function(e){"use strict";var t,i=e("lodash"),n=e("backbone"),s=e("mixins/subscribable"),r=(e("helpers/pubSub"),e("helpers/resolver")),o=i.extend({initialize:function(e){t=e,this.addSubscriptions()},ensureSlideIsSlide:function(e){return e.isScene&&(e=this.getStartingSlide(e)),e.isSlideDraw&&(e=e.slides().first()),e},getSlide:function(e,i){var n=r.isRelativePath(e)?i:t,s=r.resolvePath(e,n,{optional:!0});return null!=s&&(s=this.ensureSlideIsSlide(s)),s},getRef:function(e){var i=t.slideMap().slideRefs();return i.get(e.fullId())||i.get(e.id)},getStartingSlide:function(e){return r.resolvePath(e.startingSlide(),t)},getEntrypoint:function(){return t.entryPoint()},loadSlide:function(e,n){var s=i.isString(e)?this.getSlide(e,n):e,r=s.load(this.getRef(s));return t.slideMap().setCurrentSlide(s.absoluteId),r},getSlideFromIndices:function(e,i){return t.scenes().at(e).slides().at(i)},getDrawFromIndices:function(e,i,n){return t.scenes().at(i).slidedraws().at(e).slides().at(n)}},n.Events,s);return o}),function(){"use strict";var e=10,t=16,i=4.5,n=1.5,s=[0,0,0,.5],r=!1,o={};window.captionator=o,o.CaptionatorCueStructure=function(e,t){var i=this;this.isTimeDependent=!1,this.cueSource=e,this.options=t,this.processedCue=null,this.toString=function n(s){if(t.processCueHTML!==!1){var n=function(e,t){if(null===i.processedCue){var r,o,a="";for(r in e)r.match(/^\d+$/)&&e.hasOwnProperty(r)&&(o=e[r],o instanceof Object&&o.children&&o.children.length?"v"===o.token?a+='<q data-voice="'+o.voice.replace(/[\"]/g,"")+"\" class='voice speaker-"+o.voice.replace(/[^a-z0-9]+/gi,"-").toLowerCase()+" webvtt-span' title=\""+o.voice.replace(/[\"]/g,"")+'">'+n(o.children,t+1)+"</q>":"c"===o.token?a+="<span class='webvtt-span webvtt-class-span "+o.classes.join(" ")+"'>"+n(o.children,t+1)+"</span>":o.timeIn>0?null===s||void 0===s||s>0&&s>=o.timeIn?a+="<span class='webvtt-span webvtt-timestamp-span' data-timestamp='"+o.token+"' data-timestamp-seconds='"+o.timeIn+"'>"+n(o.children,t+1)+"</span>":s<o.timeIn&&(a+="<span class='webvtt-span webvtt-timestamp-span webvtt-cue-future' aria-hidden='true' style='opacity: 0;' data-timestamp='"+o.token+"' data-timestamp-seconds='"+o.timeIn+"'>"+n(o.children,t+1)+"</span>"):a+=o.rawToken+n(o.children,t+1)+"</"+o.token+">":(o instanceof String||"string"==typeof o||"number"==typeof o)&&(a+=o));return!i.isTimeDependent&&0===t&&(i.processedCue=a),a}return i.processedCue};return n(this,0)}return e},this.getPlain=function(i){if(t.processCueHTML!==!1){var n=function(e,t){var s,r,o="";for(s in e)s.match(/^\d+$/)&&e.hasOwnProperty(s)&&(r=e[s],r instanceof Object&&r.children&&r.children.length?r.timeIn>0?(null===i||void 0===i||i>0&&i>=r.timeIn)&&(o+=n(r.children,t+1)):o+=n(r.children,t+1):(r instanceof String||"string"==typeof r||"number"==typeof r)&&(o+=r));return o};return n(this,0)}return e.replace(/<[^>]*>/gi,"")}},o.CaptionatorCueStructure.prototype=[],o.TextTrack=function(e,t,i,n,s,r){this.onload=function(){},this.onerror=function(){},this.oncuechange=function(){},this.id=e||"",this.internalMode=o.TextTrack.OFF,this.cues=new o.TextTrackCueList(this),this.activeCues=new o.ActiveTextTrackCueList(this.cues,this),this.kind=t||"subtitles",this.label=i||"",this.language=n||"",this.src=s||"",this.readyState=o.TextTrack.NONE,this.internalDefault=r||!1,this.getMode=function(){return this.internalMode},this.setMode=function(e){var t=[o.TextTrack.OFF,o.TextTrack.HIDDEN,o.TextTrack.SHOWING];if(-1===t.indexOf(e))throw new Error("Illegal mode value for track: "+e);e!==this.internalMode&&(this.internalMode=e,this.readyState===o.TextTrack.NONE&&this.src.length>0&&e>o.TextTrack.OFF&&this.loadTrack(this.src,null),this.videoNode._captionator_dirtyBit=!0,o.rebuildCaptions(this.videoNode),e===o.TextTrack.OFF&&(this.cues.length=0,this.readyState=o.TextTrack.NONE))},this.getDefault=function(){return this.internalDefault},Object.prototype.__defineGetter__?(this.__defineGetter__("mode",this.getMode),this.__defineSetter__("mode",this.setMode),this.__defineGetter__("default",this.getDefault)):Object.defineProperty&&(Object.defineProperty(this,"mode",{get:this.getMode,set:this.setMode}),Object.defineProperty(this,"default",{get:this.getDefault})),this.loadTrack=function(e,t){var i,n=new XMLHttpRequest;if(this.readyState===o.TextTrack.LOADED)t instanceof Function&&t(i);else{this.src=e,this.readyState=o.TextTrack.LOADING;var s=this;n.open("GET",e,!0),n.onreadystatechange=function(e){if(4===n.readyState)if(200===n.status){var r=s.videoNode._captionatorOptions||{};"metadata"===s.kind&&(r.processCueHTML=!1,r.sanitiseCueHTML=!1),i=o.parseCaptions(n.responseText,r),s.readyState=o.TextTrack.LOADED,s.cues.loadCues(i),s.activeCues.refreshCues.apply(s.activeCues),s.videoNode._captionator_dirtyBit=!0,o.rebuildCaptions(s.videoNode),s.onload.call(this),t instanceof Function&&t.call(s,i)}else s.readyState=o.TextTrack.ERROR,s.onerror()};try{n.send(null)}catch(r){s.readyState=o.TextTrack.ERROR,s.onerror(r)}}},this.addCue=function(e){if(!(e&&e instanceof o.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");this.cues.addCue(e)},this.removeCue=function(){}},o.TextTrack.NONE=0,o.TextTrack.LOADING=1,o.TextTrack.LOADED=2,o.TextTrack.ERROR=3,o.TextTrack.OFF=0,o.TextTrack.HIDDEN=1,o.TextTrack.SHOWING=2,o.TextTrackCue=function(e,t,i,n,s,r,a){if(this.id=e,this.track=a instanceof o.TextTrack?a:null,this.startTime=parseFloat(t),this.endTime=parseFloat(i)>=this.startTime?parseFloat(i):this.startTime,this.text="string"==typeof n||n instanceof o.CaptionatorCueStructure?n:"",this.settings="string"==typeof s?s:"",this.intSettings={},this.pauseOnExit=!!r,this.wasActive=!1,this.direction="horizontal",this.snapToLines=!0,this.linePosition="auto",this.textPosition=50,this.size=0,this.alignment="middle",this.settings.length){var l=this.intSettings,u=this;s=s.split(/\s+/).filter(function(e){return e.length>0}),s instanceof Array&&s.forEach(function(e){var t={D:"direction",L:"linePosition",T:"textPosition",A:"alignment",S:"size"};e=e.split(":"),t[e[0]]&&(l[t[e[0]]]=e[1]),t[e[0]]in u&&(u[t[e[0]]]=e[1])})}this.linePosition.match(/\%/)&&(this.snapToLines=!1),this.getCueAsSource=function(){return String(this.text)},this.getCueAsHTML=function(){var e=document.createDocumentFragment(),t=document.createElement("div");return t.innerHTML=String(this.text),Array.prototype.forEach.call(t.childNodes,function(t){e.appendChild(t.cloneNode(!0))}),e},this.isActive=function(){var e=0;if(this.track instanceof o.TextTrack&&(this.track.mode===o.TextTrack.SHOWING||this.track.mode===o.TextTrack.HIDDEN)&&this.track.readyState===o.TextTrack.LOADED)try{if(e=this.track.videoNode.currentTime,this.startTime<=e&&this.endTime>=e)return this.wasActive||(this.wasActive=!0,this.onenter()),!0}catch(t){return!1}return this.wasActive&&(this.wasActive=!1,this.onexit()),!1},Object.prototype.__defineGetter__?this.__defineGetter__("active",this.isActive):Object.defineProperty&&Object.defineProperty(this,"active",{get:this.isActive}),this.toString=function(){return"TextTrackCue:"+this.id+"\n"+String(this.text)},this.onenter=function(){},this.onexit=function(){}},o.TextTrackCueList=function(e){this.track=e instanceof o.TextTrack?e:null,this.getCueById=function(e){return this.filter(function(t){return t.id===e})[0]},this.loadCues=function(e){for(var t=0;t<e.length;t++)e[t].track=this.track,Array.prototype.push.call(this,e[t])},this.addCue=function(e){if(!(e&&e instanceof o.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");if(e.track!==this.track&&e.track)throw new Error("This cue is associated with a different track!");Array.prototype.push.call(this,e)},this.toString=function(){return"[TextTrackCueList]"}},o.TextTrackCueList.prototype=[],o.ActiveTextTrackCueList=function(e,t){this.refreshCues=function(){if(e.length){var i=this,n=!1,s=[].slice.call(this,0);if(this.length=0,e.forEach(function(e){e.active&&(i.push(e),i[i.length-1]!==s[i.length-1]&&(n=!0))}),n)try{t.oncuechange()}catch(r){}}},this.toString=function(){return"[ActiveTextTrackCueList]"},this.refreshCues()},o.ActiveTextTrackCueList.prototype=new o.TextTrackCueList(null);var a=function(e){this.targetObject=e,this.currentTime=0;var t=function(){};this.addEventListener=function(e,t,i){"timeupdate"===e&&t instanceof Function&&(this.timeupdateEventHandler=t)},this.attachEvent=function(e,t){"timeupdate"===e&&t instanceof Function&&(this.timeupdateEventHandler=t)},this.updateTime=function(e){isNaN(e)||(this.currentTime=e,t())}};o.rebuildCaptions=function(e){var t=e.textTracks||[],i=(e._captionatorOptions instanceof Object?e._captionatorOptions:{},e.currentTime),n=[],s=!1,r=[],a=[];if(t.forEach(function(e,t){e.mode===o.TextTrack.SHOWING&&e.readyState===o.TextTrack.LOADED&&(a=[].slice.call(e.activeCues,0),a=a.sort(function(e,t){return e.startTime>t.startTime?-1:1}),n=n.concat(a))}),r=n.map(function(e){return e.track.id+"."+e.id+":"+e.text.toString(i).length}),s=!o.compareArray(r,e._captionator_previousActiveCues),s||e._captionator_dirtyBit){e._captionator_dirtyBit=!1,e._captionator_availableCueArea=null,e._captionator_previousActiveCues=r,o.styleCueCanvas(e);var l=[].slice.call(e._descriptionContainerObject.getElementsByTagName("div"),0).concat([].slice.call(e._containerObject.getElementsByTagName("div"),0));l.forEach(function(e){e.cueObject&&!e.cueObject.active&&(e.cueObject.rendered=!1,e.cueObject.domNode=null,e.parentElement.removeChild(e))}),n.forEach(function(t){var n,s;"metadata"!==t.track.kind&&t.mode!==o.TextTrack.HIDDEN&&(t.rendered?(n=t.domNode,s=n.getElementsByClassName("captionator-cue-inner")[0],t.text.toString(i)!==n.currentText&&(n.currentText=t.text.toString(i),s.innerHTML=n.currentText,s.spanified=!1)):(n=document.createElement("div"),s=document.createElement("span"),s.className="captionator-cue-inner",n.id=String(t.id).length?t.id:o.generateID(),n.className="captionator-cue",n.appendChild(s),n.cueObject=t,t.domNode=n,n.setAttribute("lang",t.track.language),n.currentText=t.text.toString(i),s.innerHTML=n.currentText,t.rendered=!0,"descriptions"===t.track.kind?e._descriptionContainerObject.appendChild(n):e._containerObject.appendChild(n)),"descriptions"!==t.track.kind&&o.styleCue(n,t,e))})}},o.captionify=function(l,u,c){var h=[],p=0;if(c=c instanceof Object?c:{},c.minimumFontSize&&"number"==typeof c.minimumFontSize&&(e=c.minimumFontSize),c.minimumLineHeight&&"number"==typeof c.minimumLineHeight&&(t=c.minimumLineHeight),c.fontSizeVerticalPercentage&&"number"==typeof c.fontSizeVerticalPercentage&&(i=c.fontSizeVerticalPercentage),c.lineHeightRatio&&"number"!=typeof c.lineHeightRatio&&(n=c.lineHeightRatio),c.cueBackgroundColour&&c.cueBackgroundColour instanceof Array&&(s=c.cueBackgroundColour),HTMLVideoElement||l instanceof a||c.forceCaptionify){if("function"!=typeof document.createElement("video").addTextTrack&&"function"!=typeof document.createElement("video").addTrack||c.forceCaptionify){if(!r&&c.exportObjects&&(window.TextTrack=o.TextTrack,window.TextTrackCueList=o.TextTrackCueList,window.ActiveTextTrackCueList=o.ActiveTextTrackCueList,window.TextTrackCue=o.TextTrackCue,r=!0),l&&l!==!1&&void 0!==l&&null!==l)if(l instanceof Array)for(p=0;p<l.length;p++)"string"==typeof l[p]?h=h.concat([].slice.call(document.querySelectorAll(l[p]),0)):l[p].constructor===HTMLVideoElement&&h.push(l[p]);else"string"==typeof l?h=[].slice.call(document.querySelectorAll(l),0):l.constructor===HTMLVideoElement&&h.push(l);else h=[].slice.call(document.getElementsByTagName("video"),0);return h.length?(h.forEach(function(e){e.addTextTrack=function(t,i,n,s,r,a,l){var u,c=["subtitles","captions","descriptions","captions","metadata","chapters"];c.slice(0,7);if(t="string"==typeof t?t:"",n="string"==typeof n?n:"",s="string"==typeof s?s:"",l="boolean"==typeof l?l:!1,!c.filter(function(e){return i===e}).length)throw o.createDOMException(12,"DOMException 12: SYNTAX_ERR: You must use a valid kind when creating a TimedTextTrack.","SYNTAX_ERR");return u=new o.TextTrack(t,i,n,s,r,null),u?(e.textTracks instanceof Array||(e.textTracks=[]),e.textTracks.push(u),u):!1},o.processVideoElement(h[p],u,c)}),!0):!1}return!1}return!1},o.parseCaptions=function(e,t){t=t instanceof Object?t:{};var i="",n=[],s="",r=[],a=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\,(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,l=/^(\d+)?:?(\d{2}):(\d{2})\.(\d+)\,(\d+)?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,u=/^(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s*(.*)/,c=/(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)/,h=/^([\d\.]+)\s+\+([\d\.]+)\s*(.*)/,p=/^\[(\d{2})?:?(\d{2})\:(\d{2})\.(\d{2,3})\]\s*(.*?)$/,d=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,f=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,m=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g,g=/<tt\s+xml/gi,v=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)/;if(e){var y=function(e){var i,n,s,r,a,l=new o.CaptionatorCueStructure(e,t),u=[],h=[],p=0,d=function(e){return!!e.replace(/[^a-z0-9]+/gi,"").length};u=e.split(/(<\/?[^>]+>)/gi),s=l;for(i in u)if(u.hasOwnProperty(i))if(n=u[i],"<"===n.substr(0,1)){if("/"===n.substr(1,1)){var f=n.substr(2).split(/[\s>]+/g)[0];if(h.length>0){var m=0;for(p=h.length-1;p>=0;p--){var g=h[p][h[p].length-1];if(m=p,g.token===f)break}s=h[m],h=h.slice(0,m)}}else if(n.substr(1).match(c)||n.match(/^<v\s+[^>]+>/i)||n.match(/^<c[a-z0-9\-\_\.]+>/)||n.match(/^<(b|i|u|ruby|rt)>/)||t.sanitiseCueHTML!==!1){var v={token:n.replace(/[<\/>]+/gi,"").split(/[\s\.]+/)[0],rawToken:n,children:[]};"v"===v.token?v.voice=n.match(/^<v\s*([^>]+)>/i)[1]:"c"===v.token?v.classes=n.replace(/[<\/>\s]+/gi,"").split(/[\.]+/gi).slice(1).filter(d):!(r=v.rawToken.match(c))||(l.isTimeDependent=!0,a=r.slice(1),v.timeIn=parseInt(60*(a[0]||0)*60,10)+parseInt(60*(a[1]||0),10)+parseInt(a[2]||0,10)+parseFloat("0."+(a[3]||0))),s.push(v),h.push(s),s=v.children}}else t.sanitiseCueHTML!==!1&&(n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\&/g,"&amp;"),t.ignoreWhitespace||(n=n.replace(/\n+/g,"<br />"))),s.push(n);return l},b=function(e,n){var c,g,v,b,w,S,x,T,E,C,A="";if(T=d.exec(e))return r=T.slice(2).join(""),r=r.split(/\s+/g).filter(function(e){return e&&!!e.length}),null;if(T=f.exec(e))return s+=T[T.length-1],null;if(T=m.exec(e))return null;for(c="LRC"===i?[e.substr(0,e.indexOf("]")+1),e.substr(e.indexOf("]")+1)]:e.split(/\n/g);!c[0].replace(/\s+/gi,"").length&&c.length>0;)c.shift();for(x=c[0].match(/^\s*[a-z0-9\-]+\s*$/gi)?String(c.shift().replace(/\s*/gi,"")):n,S=0;S<c.length;S++){var P=c[S];(E=u.exec(P))||(E=a.exec(P))||(E=l.exec(P))?(w=E.slice(1),g=parseInt(60*(w[0]||0)*60,10)+parseInt(60*(w[1]||0),10)+parseInt(w[2]||0,10)+parseFloat("0."+(w[3]||0)),v=parseInt(60*(w[4]||0)*60,10)+parseInt(60*(w[5]||0),10)+parseInt(w[6]||0,10)+parseFloat("0."+(w[7]||0)),w[8]&&(A=w[8])):(E=h.exec(P))?(w=E.slice(1),g=parseFloat(w[0]),v=g+parseFloat(w[1]),w[2]&&(A=w[2])):!(E=p.exec(P))||(w=E.slice(1,E.length-1),g=parseInt(60*(w[0]||0)*60,10)+parseInt(60*(w[1]||0),10)+parseInt(w[2]||0,10)+parseFloat("0."+(w[3]||0)),v=g),c=c.slice(0,S).concat(c.slice(S+1));break}if(!g&&!v)return null;var _=r.reduce(function(e,t,i,n){return e[t.split(":")[0]]=t.split(":")[1],e},{});_=A.split(/\s+/g).filter(function(e){return e&&!!e.length}).reduce(function(e,t,i,n){return e[t.split(":")[0]]=t.split(":")[1],e},_),A="";for(var I in _)_.hasOwnProperty(I)&&(A+=A.length?" ":"",A+=I+":"+_[I]);return b=t.processCueHTML===!1?c.join("\n"):y(c.join("\n")),C=new o.TextTrackCue(x,g,v,b,A,!1,null),C.styleData=s,C},w=function(e){var t,i=0;return"string"!=typeof e?0:((t=v.exec(e))&&(t=t.slice(1),i=parseInt(60*(t[0]||0)*60,10)+parseInt(60*(t[1]||0),10)+parseInt(t[2]||0,10)+parseFloat("0."+(t[3]||0))),i)},S=function(e,i){var n,s=0,r=0,a=String(e.getAttribute("begin")),l=String(e.getAttribute("end")),u=e.getAttribute("id")||i;return s=w(a),r=w(l),n=t.processCueHTML===!1?e.innerHTML:y(e.innerHTML),new o.TextTrackCue(u,s,r,n,{},!1,null)};if(n=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),g.exec(e)){var x=document.createElement("ttml");x.innerHTML=e;var T=[].slice.call(x.querySelectorAll("[begin],[end]"),0),E=T.map(S);return E}return e.split(/\n+/g).reduce(function(e,t,i,n){return e||!!p.exec(t)},!1)?(n=n.split(/\n+/g),i="LRC"):n=n.split(/\n\n+/g),n=n.filter(function(e){return e.match(/^WEBVTT(\s*FILE)?/gi)?(i="WebVTT",!1):!!e.replace(/\s*/gi,"").length}).map(b).filter(function(e){return null!==e}),"LRC"===i&&(n.forEach(function(e,t){var i,s=0;t>0&&(s=e.startTime,i=n[--t],i.endTime<s&&(i.endTime=s))}),n=n.filter(function(e){return e.text.toString().replace(/\s*/,"").length>0})),n}throw new Error("Required parameter captionData not supplied.")},o.processVideoElement=function(e,t,i){var n=[],s=navigator.language||navigator.userLanguage;t||s.split("-")[0];if(i=i instanceof Object?i:{},!e.captioned){e._captionatorOptions=i,e.className+=(e.className.length?" ":"")+"captioned",e.captioned=!0,0===e.id.length&&(e.id=o.generateID());[].slice.call(e.querySelectorAll("track"),0).forEach(function(s){var r=null;r=s.querySelectorAll("source").length>0?s.querySelectorAll("source"):s.getAttribute("src");var a=e.addTextTrack(s.getAttribute("id")||o.generateID(),s.getAttribute("kind"),s.getAttribute("label"),s.getAttribute("srclang").split("-")[0],r,s.getAttribute("type"),s.hasAttribute("default"));s.track=a,a.trackNode=s,a.videoNode=e,n.push(a);var l=!1;("subtitles"===a.kind||"captions"===a.kind)&&t===a.language&&i.enableCaptionsByDefault&&(n.filter(function(e){return("captions"===e.kind||"subtitles"===e.kind)&&t===e.language&&e.mode===o.TextTrack.SHOWING}).length||(l=!0)),"chapters"===a.kind&&t===a.language&&(n.filter(function(e){return"chapters"===e.kind&&e.mode===o.TextTrack.SHOWING}).length||(l=!0)),"descriptions"===a.kind&&i.enableDescriptionsByDefault===!0&&t===a.language&&(n.filter(function(e){return"descriptions"===e.kind&&e.mode===o.TextTrack.SHOWING}).length||(l=!0)),l===!0&&n.forEach(function(e){e.trackNode.hasAttribute("default")&&e.mode===o.TextTrack.SHOWING&&(e.mode=o.TextTrack.HIDDEN)}),s.hasAttribute("default")&&(n.filter(function(e){return!(!e.trackNode.hasAttribute("default")||e.trackNode===s)}).length||(l=!0,a.internalDefault=!0)),l===!0&&(a.mode=o.TextTrack.SHOWING)}),e.addEventListener("timeupdate",function(e){var t=e.target;try{t.textTracks.forEach(function(e){e.activeCues.refreshCues.apply(e.activeCues)})}catch(n){}i.renderer instanceof Function?i.renderer.call(o,t):o.rebuildCaptions(t)},!1),window.addEventListener("resize",function(t){e._captionator_dirtyBit=!0,o.rebuildCaptions(e)},!1),i.enableHighResolution===!0&&window.setInterval(function(){try{e.textTracks.forEach(function(e){e.activeCues.refreshCues.apply(e.activeCues)})}catch(t){}i.renderer instanceof Function?i.renderer.call(o,e):o.rebuildCaptions(e);
},20)}return e},o.getNodeMetrics=function(e){var t=window.getComputedStyle(e,null),i=e,n=e.offsetTop,s=e.offsetLeft,r=e,o=0,a=0;for(r=parseInt(t.getPropertyValue("width"),10),o=parseInt(t.getPropertyValue("height"),10);i=i.offsetParent;)n+=i.offsetTop,s+=i.offsetLeft;if(e.hasAttribute("controls")){var l=navigator.userAgent.toLowerCase();-1!==l.indexOf("chrome")?a=32:-1!==l.indexOf("opera")?a=25:-1!==l.indexOf("firefox")?a=28:-1!==l.indexOf("ie 9")||-1!==l.indexOf("ipad")?a=44:-1!==l.indexOf("safari")&&(a=25)}else if(e._captionatorOptions){var u=e._captionatorOptions;u.controlHeight&&(a=parseInt(u.controlHeight,10))}return{left:s,top:n,width:r,height:o,controlHeight:a}},o.applyStyles=function(e,t){for(var i in t)({}).hasOwnProperty.call(t,i)&&(e.style[i]=t[i])},o.checkDirection=function(e){var t="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿",i="֑-߿יִ-﷽ﹰ-ﻼ",n=new RegExp("^[^"+i+"]*["+t+"]"),s=new RegExp("^[^"+t+"]*["+i+"]");return s.test(e)?"rtl":n.test(e)?"ltr":""},o.styleCue=function(r,a,l){var u,c,h,p,d,f,m,g,v,y,b,w,S,x,T=0,E=0,C=0,A=0,P=0,_=0,I=0,k=0,R=0,O=0,L=0,M=0,D=0,N=0,V=l._captionatorOptions||{},B=50,j=0,U=0,F=!0,H="",q=(a.track.language,function(e){if(e.spanified)return e.characterCount;var t,i,n,s,r=function(e){return!!e.length},a="<span class='captionator-cue-character'>",l=0,u=function(e){l++,o.applyStyles(e,{display:"block",lineHeight:"auto",height:p+"px",width:y+"px",textAlign:"center"})};for(t in e.childNodes)e.childNodes.hasOwnProperty(t)&&!e.childNodes[t].nospan&&(i=e.childNodes[t],3===i.nodeType?(s=document.createDocumentFragment(),n=i.nodeValue,s.appendChild(document.createElement("span")),s.childNodes[0].innerHTML=a+n.split(/(.)/).filter(r).join("</span>"+a)+"</span>",[].slice.call(s.querySelectorAll("span.captionator-cue-character"),0).forEach(u),i.parentNode.replaceChild(s,i)):1===e.childNodes[t].nodeType&&(l+=q(e.childNodes[t])));return e.characterCount=l,e.spanified=!0,l});if(S=o.getNodeMetrics(l),l._captionator_availableCueArea||(l._captionator_availableCueArea={bottom:S.height-S.controlHeight,right:S.width,top:0,left:0,height:S.height-S.controlHeight,width:S.width}),"horizontal"===a.direction&&(o.applyStyles(r,{width:"auto",position:"static",display:"inline-block",padding:"1em"}),j=parseInt(r.offsetWidth,10),U=Math.floor(j/l._captionator_availableCueArea.width*100),U=100>=U?U:100),h=S.height*(i/100)/96*72,h=h>=e?h:e,p=Math.floor(h/72*96),d=Math.floor(h*n),d=d>t?d:t,v=Math.ceil(d/72*96),y=v,v*Math.floor(S.height/v)<S.height&&(v=Math.floor(S.height/Math.floor(S.height/v)),d=Math.ceil(v/96*72)),v*Math.floor(S.width/v)<S.width&&(y=Math.ceil(S.width/Math.floor(S.width/v))),m=Math.floor(l._captionator_availableCueArea.height/v),g=Math.floor(l._captionator_availableCueArea.width/y),0===parseFloat(String(a.size).replace(/[^\d\.]/gi,""))?V.sizeCuesByTextBoundingBox===!0?u=U:(u=100,F=!1):(F=!1,u=parseFloat(String(a.size).replace(/[^\d\.]/gi,"")),u=100>=u?u:100),P="horizontal"===a.direction?Math.floor(.01*S.width):0,_="horizontal"===a.direction?0:Math.floor(.01*S.height),"auto"===a.linePosition?a.linePosition="horizontal"===a.direction?m:g:String(a.linePosition).match(/\%/)&&(a.snapToLines=!1,a.linePosition=parseFloat(String(a.linePosition).replace(/\%/gi,""))),"horizontal"===a.direction)A=v,"auto"!==a.textPosition&&F&&(B=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")),u-B>U?u-=B:u=U),C=a.snapToLines===!0?l._captionator_availableCueArea.width*(u/100):S.width*(u/100),"auto"===a.textPosition?T=(l._captionator_availableCueArea.right-C)/2+l._captionator_availableCueArea.left:(B=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")),T=(l._captionator_availableCueArea.right-C)*(B/100)+l._captionator_availableCueArea.left),a.snapToLines===!0?E=(m-1)*v+l._captionator_availableCueArea.top:(f=S.controlHeight+v+2*_,E=(S.height-f)*(a.linePosition/100));else{if(E=l._captionator_availableCueArea.top,T=l._captionator_availableCueArea.right-y,C=y,A=l._captionator_availableCueArea.height*(u/100),k=q(r),R=[].slice.call(r.querySelectorAll("span.captionator-cue-character"),0),I=Math.floor((A-2*_)/p),C=Math.ceil(k/I)*y,O=Math.ceil(k/I),L=k-I*(O-1),M=L*p,a.snapToLines===!0)T="vertical-lr"===a.direction?l._captionator_availableCueArea.left:l._captionator_availableCueArea.right-C;else{var G=C+2*P;T="vertical-lr"===a.direction?(S.width-G)*(a.linePosition/100):S.width-G-(S.width-G)*(a.linePosition/100)}"auto"===a.textPosition?E=(l._captionator_availableCueArea.bottom-A)/2+l._captionator_availableCueArea.top:(a.textPosition=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")),E=(l._captionator_availableCueArea.bottom-A)*(a.textPosition/100)+l._captionator_availableCueArea.top),D=0,N=0,b=0,w=0,R.forEach(function(e,t){b="vertical-lr"===a.direction?y*D:C-y*(D+1),"start"===a.alignment||"start"!==a.alignment&&O-1>D?w=N*p+_:"end"===a.alignment?w=N*p-p+(A+2*_-M):"middle"===a.alignment&&(w=(A-2*_-M)/2+N*p),e.setAttribute("aria-hidden","true"),o.applyStyles(e,{position:"absolute",top:w+"px",left:b+"px"}),N>=I-1?(N=0,D++):N++}),r.accessified||(H=a.text.getPlain(l.currentTime),x=document.createElement("div"),x.innerHTML=H,x.nospan=!0,r.appendChild(x),r.accessified=!0,o.applyStyles(x,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"}))}if("horizontal"===a.direction&&(c="rtl"===o.checkDirection(String(a.text))?{start:"right",middle:"center",end:"left"}[a.alignment]:{start:"left",middle:"center",end:"right"}[a.alignment]),o.applyStyles(r,{position:"absolute",overflow:"hidden",width:C+"px",height:A+"px",top:E+"px",left:T+"px",padding:_+"px "+P+"px",textAlign:c,backgroundColor:"rgba("+s.join(",")+")",direction:o.checkDirection(String(a.text)),lineHeight:d+"pt",boxSizing:"border-box"}),"vertical"===a.direction||"vertical-lr"===a.direction)T-l._captionator_availableCueArea.left-l._captionator_availableCueArea.left>=l._captionator_availableCueArea.right-(T+C)?l._captionator_availableCueArea.right=T:l._captionator_availableCueArea.left=T+C,l._captionator_availableCueArea.width=l._captionator_availableCueArea.right-l._captionator_availableCueArea.left;else{if(r.scrollHeight>1.2*r.offsetHeight)if(a.snapToLines){for(var W=0;r.scrollHeight>1.2*r.offsetHeight;)A+=v,r.style.height=A+"px",W++;E-=W*v,r.style.top=E+"px"}else{r.scrollHeight-A;A=r.scrollHeight+_,f=S.controlHeight+A+2*_,E=(S.height-f)*(a.linePosition/100),r.style.height=A+"px",r.style.top=E+"px"}E-l._captionator_availableCueArea.top-l._captionator_availableCueArea.top>=l._captionator_availableCueArea.bottom-(E+A)&&l._captionator_availableCueArea.bottom>E?l._captionator_availableCueArea.bottom=E:l._captionator_availableCueArea.top<E+A&&(l._captionator_availableCueArea.top=E+A),l._captionator_availableCueArea.height=l._captionator_availableCueArea.bottom-l._captionator_availableCueArea.top}},o.styleCueCanvas=function(s){var r,a,l,u,c,h,p=s._captionatorOptions instanceof Object?s._captionatorOptions:{};if(!(s instanceof HTMLVideoElement))throw new Error("Cannot style a cue canvas for a non-video node!");if(s._containerObject&&(l=s._containerObject,c=l.id),s._descriptionContainerObject&&(u=s._descriptionContainerObject,h=u.id),u?u.parentNode||document.body.appendChild(u):(u=document.createElement("div"),u.className="captionator-cue-descriptive-container",h=o.generateID(),u.id=h,s._descriptionContainerObject=u,u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),u.setAttribute("role","region"),document.body.appendChild(u),o.applyStyles(u,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"})),l)l.parentNode||document.body.appendChild(l);else{if(l=document.createElement("div"),l.className="captionator-cue-canvas",c=o.generateID(),l.id=c,p.appendCueCanvasTo){var d=null;if(p.appendCueCanvasTo instanceof HTMLElement)d=p.appendCueCanvasTo;else if("string"==typeof p.appendCueCanvasTo)try{var f=document.querySelectorAll(p.appendCueCanvasTo);if(!(f.length>0))throw null;d=f[0]}catch(m){d=document.body,p.appendCueCanvasTo=!1}else d=document.body,p.appendCueCanvasTo=!1;d.appendChild(l)}else document.body.appendChild(l);s._containerObject=l}var g=o.getNodeMetrics(s);r=g.height*(i/100)/96*72,r=r>=e?r:e,a=Math.floor(r*n),a=a>t?a:t,o.applyStyles(l,{position:"absolute",overflow:"hidden",zIndex:100,height:g.height-g.controlHeight+"px",width:g.width+"px",top:(p.appendCueCanvasTo?0:g.top)+"px",left:(p.appendCueCanvasTo?0:g.left)+"px",color:"white",fontFamily:"Verdana, Helvetica, Arial, sans-serif",fontSize:r+"pt",lineHeight:a+"pt",boxSizing:"border-box"})},o.createDOMException=function(e,t,i){try{document.querySelectorAll("div/[]")}catch(n){var s=function(e,t,i){this.code=e,this.message=t,this.name=i};return s.prototype=n,new s(e,t,i)}},o.compareArray=function(e,t){if(e instanceof Array&&t instanceof Array){if(e.length!==t.length)return!1;for(var i in e)if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;return!0}return!1},o.generateID=function(e){var t="";for(e=e?e:10;t.length<e;)t+=String.fromCharCode(65+Math.floor(26*Math.random()));return"captionator"+t}}(),define("captionator",function(e){return function(){var t;return t||e.captionator}}(this)),define("helpers/captionsManager",["require","helpers/backboneSync","helpers/events","helpers/pubSub","helpers/utils","polyfills/detection","captionator","lodash"],function(e){"use strict";var t,i,n,s=e("helpers/backboneSync"),r=e("helpers/events"),o=e("helpers/pubSub"),a=e("helpers/utils"),l=e("polyfills/detection"),u=e("captionator"),c=e("lodash"),h={},p=!0,d=!1,f=[],m='"Open Sans Full", Helvetica, Arial, sans-serif',g=[],v={},y=function(e){return null!=e.captions()},b=function(e,t){var i=h[t],n=[];return i&&i.forEach(function(t){e>=t.startTime&&e<=t.endTime&&n.push(t.getCueAsHTML())}),n},w=function(){o.trigger(r.captions.RENDER,[])},S=function(e){var t,i,s,r=e.isVideo(),o=r?e.props.playerProps.parent.get("isBaseLayer"):e.props.model.parent.get("isBaseLayer");return t=e.props.slideVisible&&(e.props.objectVisible||o),r?e.props.slideObjectModel.prop("HiddenByLayer")&&(t=!1):(i=n.getCurrentWindowSlide().slideLayers(),s=i.getTopMostLayer(),null!=s&&o===!0&&s.get("pauseParent")===!0&&(t=!1)),t},x=function(){var e=n.getCurrentWindowSlide(),t=!0;null==e||e.isMessageSlide()||(g=v[e.id]||[],d&&(t=g.filter(function(e){return S(e)}).length>0,g.length>0&&t?o.trigger(r.captions.SHOW_BUTTON):(o.trigger(r.captions.HIDE_BUTTON),w())))},T=function(e){return e.isVideo()&&(l.isIosPhoneBefore10()||void 0===e.state.hasEverPlayed)},E=function(){var e,t=g.reduce(function(t,i){return i.ended()||T(i)||!S(i)||-1!==f.indexOf(i.getAssetId())?t:(e=b(i.getCurrentTime(),i.getAssetId()),e.length>0?t.concat(e):t)},[]);o.trigger(r.captions.RENDER,t)},C=function(e){null!=i&&i.value()!==e?i.changeValue(e):(p=e,e?E():w(),o.trigger(r.captions.ENABLED,p))},A=function(e){C(e.value())},P=function(e){var t=e.getCueAsSource();return null!=t&&(t=t.trim()),!c.isEmpty(t)},_={initialize:function(e,l,c,f){var g=a.getPath(l,"controlOptions.controls.font");t=null!=g?['"',g,'", ',m].join(""):m,n=c,d=a.getPath(l,"controlOptions.controls.closed_captions"),null!=f?(i=f,p=i.value(),i.on("change:value",A)):p=!1,h={},e.filter(y).map(function(e){s.scriptSync("read",{id:"caption"},{url:e.captions(),success:function(t){null!=t&&(h[e.id]=u.parseCaptions(decodeURI(t.data)).filter(P))},error:function(e){console.error(e)}})}),o.on(r.slide.STARTED,x),o.on(r.media.CURRENT_TIME,E),o.on(r.captions.ENABLE,C)},isCaptionButtonToggled:function(){return p},canShowCaptionButton:function(){return d},mount:function(e,t){h[e.getAssetId()]&&(null==v[t]&&(v[t]=[]),v[t].push(e))},unmount:function(e,t){var i=c.findIndex(v[t],function(t){return t.getAssetId()===e.getAssetId()});-1!==i&&v[t].splice(i,1)},hasCaptions:function(e){return Array.isArray(e)||(e=[e]),e.some(function(e){return null!=h[e]})},getCaptions:function(e){return h[e]},getCaptionFont:function(){return t},reloadCaptions:x,excludeMedia:function(e){-1===f.indexOf(e)&&f.push(e)},includeMedia:function(e){var t=f.indexOf(e);-1!==t&&f.splice(t,1)}};return _}),define("views/presentation/mixins/slideWindow",["require","lodash","helpers/resume/Chunk","helpers/vow","helpers/constants","helpers/pubSub","helpers/events"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resume/Chunk"),n=e("helpers/vow"),s=e("helpers/constants"),r=(e("helpers/pubSub"),e("helpers/events"),{componentWillUpdate:function(e,t){this.state.currentSlide&&this.state.currentSlide!==t.currentSlide&&this.state.currentSlide.beforeSlideOut(),t.currentSlide&&t.currentSlide!==this.state.currentSlide&&!this.isShowingMovedSlide&&t.currentSlide.resetBeforeView()},componentDidMount:function(){this.slideContainer=this.findComponent("SlideContainer")},getId:function(){return this.isMainWindow?s.refs.FRAME:this.props.model.id},getInitialState:function(){return{history:[],currentSlide:this.getCurrentSlide()}},forceTransition:function(){this.getCurSlidePromise().done(function(e){e.forceTransition()})},getCurrentSlide:function(){return t.last(this.state?this.state.history:[])},getPrevSlide:function(){var e=this.state.history;return e.length>1&&e[e.length-2]},getPrevHistoryGroup:function(){var e=this.state.history,t=this.getPrevHistoryGroupIndex();return-1===t?null:e[t]},getPrevHistoryGroupIndex:function(){var e=this.getCurrentSlide(),i=this.state.history;return null==e?-1:t.findLastIndex(i,function(t){return e.get("historyGroupId")!==t.get("historyGroupId")})},canGoForward:function(e){return t.last(this.state.history)!==e},pushHistory:function(e){return this.canGoForward(e)&&this.refreshHistory(e),this},popHistory:function(){return this.getPrevSlide()&&this.refreshHistory(),this},popHistoryGroup:function(){var e=this.state.history,t=this.getPrevHistoryGroupIndex();return-1!==t&&(e=e.slice(0,t+1),this.updateHistoryState(e)),this},refreshHistory:function(e){var t=this.state.history.slice();return e?t.push(e):t.pop(),this.updateHistoryState(t),this},updateHistoryState:function(e){var i=t.last(e);i.prop("WindowId",this.isMainWindow?s.refs.FRAME:this.props.model.id),this.setState({history:e,currentSlide:i})},prepareToUpdateSlide:function(e){return this.isShowingMovedSlide=e,this.slideContainer.prepareToUpdateSlide(e),this},replaceSlideWith:function(e){return this.slideContainer.replaceSlideWith(e),this},rebuildCurSlide:function(){return this.slideContainer.rebuildCurSlide(),this},getCurSlide:function(){return this.slideContainer.curSlide},getCurSlidePromise:function(){return this.slideContainer.getCurSlidePromise()},getHistoryResumeData:function(){var e=function(e){return e.getWindowResumeRef()};return this.state.history.map(e).join("")},getResumeData:function(){var e=this.props.model,t=null==e?0:e.index()+1;return[i.create(i.toUnsignedString64(t)),this.getCurrentSlide().getWindowResumeRef(),i.create(this.getHistoryResumeData())].join("")},setPreviousHistory:function(e){var t=this.state.history;t.unshift.apply(t,e)},isWaitingForSlideLoad:function(){return n.isPending(this.slideLoadingPromise)},setSlideLoading:function(e){return this.slideLoadingPromise=e,this}});return r}),define("helpers/playerGlobals",["require"],function(e){"use strict";var t={presentation:null};return Object.seal(t),t}),define("views/presentation/LightBox",["require","lodash","react","react-dom","helpers/constants","views/mixins/baseView","helpers/appState","helpers/captionsManager","helpers/pubSub","views/presentation/mixins/slideWindow","polyfills/detection","helpers/events","helpers/utils","helpers/playerGlobals","helpers/scaler"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("react-dom"),s=e("helpers/constants"),r=e("views/mixins/baseView"),o=e("helpers/appState"),a=e("helpers/captionsManager"),l=e("helpers/pubSub"),u=e("views/presentation/mixins/slideWindow"),c=e("polyfills/detection"),h=e("helpers/events"),p=e("helpers/utils"),d=(e("helpers/playerGlobals"),e("helpers/scaler")),f=i.createClass({displayName:"LightBox",mixins:[r,u],subscriptions:function(){var e={};return e[h.slideContainer.POSITIONED]="onSlideContainerPositioned",e[h.slide.HAS_MOUNTED]="onSlideContainerPositioned",e}(),getInitialState:function(){return{caption:!1}},toggleCaptionButton:function(e){this.setState({caption:e})},hasCaption:function(){return!!this.state.caption},componentDidUpdate:function(){this.positionControls()},shouldPositionToPreso:function(){return!c.isMobile&&c.isClassic&&!d.isShowAll()},componentDidMount:function(){this.shouldPositionToPreso()&&l.on(h.app.PRESENTATION_POSITION,this.onPresentationPosition)},onPresentationPosition:function(e){var t=this.refs.lightBox;window.innerWidth<e.width||window.innerHeight<e.height?(t.style.left=p.pxify(e.left+e.width/2),t.style.top=p.pxify(e.top+e.height/2)):(t.style.left="",t.style.top="")},componentWillMount:function(){this.listenTo(o,h.layout.CHANGED,this.onLayoutChanged),this.onLayoutChanged(o,o.currentLayout()||{},this.props.model.id);var e=a.canShowCaptionButton();e===!1?this.setState({caption:!1}):(this.showCaptionButton=t.partial(this.toggleCaptionButton,!0),this.hideCaptionButton=t.partial(this.toggleCaptionButton,!1),l.on(h.captions.SHOW_BUTTON,this.showCaptionButton),l.on(h.captions.HIDE_BUTTON,this.hideCaptionButton))},componentWillUnmount:function(){l.off(h.captions.SHOW_BUTTON,this.showCaptionButton),l.off(h.captions.HIDE_BUTTON,this.hideCaptionButton),l.off(h.app.PRESENTATION_POSITION,this.onPresentationPosition)},actionKeyCallback:function(e){return e===this.refs.close&&this.close(),!0},getTabbableItems:function(){return this.refs.close.dsFocusController=this,[t.assign(this.refs.close,{idx:s.tabIndices.LIGHTBOX_CLOSE,indexGroupName:"SlideControlButton"})]},shouldUpdate:function(e,t){return this.state.currentSlide!==t.currentSlide||this.state.caption!==t.caption?(this.updateSizeCalculations(t.currentSlide),!0):this.state.showCloseBtn!==t.showCloseBtn},updateSizeCalculations:function(e){this.slideScale=this.calcSlideScale(e),this.slideWrapperHeight=this.calcSlideWrapperHeight(e)},getWrapperDimensions:function(){var e=this.refs.lightbox;return null==e?{width:0,height:0}:{width:e.offsetWidth,height:e.offsetHeight}},positionControlsDesktop:function(){return this},calcSlideWrapperHeight:function(e){return e.get("height")*this.slideScale},calcSlideScale:function(e){var t=e.get("width"),i=this.getAdjustedWindowWidth();return i/t},getAdjustedWindowWidth:function(){return this.props.model.get("width")-this.getWindowOffsetWidth()},getWindowOffsetWidth:function(){var e=window.getComputedStyle(this.find(".lightbox")),t=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth);return 2*(t+i)},close:function(e){l.trigger(h.window.CLOSING,this.getPath("props.model.id"))},stealFocus:function(e){var t=n.findDOMNode(e);t.focus(),t.classList.add("focused")},releaseFocus:function(e){var t=n.findDOMNode(e);t.blur(),t.classList.remove("focused")},onLayoutChanged:function(e,t,i){i===this.props.model.id&&this.setState({showCloseBtn:t.close_btn})},positionControlsMobile:function(){var e,i,s,r,o,a=this.refs.optionPane,l=this.refs.slideContainer.curSlide;return null!=a.offsetParent&&null!=l&&(e=a.getBoundingClientRect(),i=n.findDOMNode(l),s=i.getBoundingClientRect(),r=a.offsetParent.getBoundingClientRect(),o="landscape"===c.orientation&&c.isClassic?{top:p.pxify(Math.max(-r.top,s.top-r.top)),left:p.pxify(Math.min(r.right,s.right-r.left)),width:"",height:p.pxify(Math.min(window.innerHeight,s.height+t.min([0,s.top,document.body.clientHeight])))}:{top:p.pxify(Math.min(r.bottom,s.bottom-r.top)),left:p.pxify(Math.max(-r.left,s.left-r.left)),width:p.pxify(Math.min(window.innerWidth,s.width+t.min([0,s.left,document.body.clientWidth]))),height:""},o.opacity=1,t.extend(a.style,o)),this},onSlideContainerPositioned:function(){this.htmlReady(function(){this.positionControls()}.bind(this))}}),m=f.prototype;return m.positionControls=m[c.isMobile?"positionControlsMobile":"positionControlsDesktop"],f}),define("views/presentation/MessageWindow",["require","lodash","react","views/mixins/baseView","views/presentation/mixins/slideWindow","polyfills/detection","helpers/constants","helpers/stringTabler","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("views/presentation/mixins/slideWindow"),r=e("polyfills/detection"),o=e("helpers/constants"),a=e("helpers/stringTabler"),l=e("helpers/utils"),u=t.memoize(t.partial(l.quote,o.MOBILE_FONT)),c=i.createClass({displayName:"MessageWindow",mixins:[n,s],windowType:function(){return this.state.currentSlide?t.kebabCase(this.state.currentSlide.id).split("-").slice(0,3).join("-"):""},isScaleable:function(){return this.isResumeWin()},isResumeWin:function(){return"resume-prompt-slide"===this.windowType()},componentDidUpdate:function(){this.adjustForMobileLayout()},createResumeText:function(){var e=document.createElement("style");e.innerHTML=[".is-mobile .message-window.resume-prompt-slide .slide-object:nth-child(2) button::after {",' content: "',a.getString("continueresponsive"),'"; } ',".is-mobile .message-window.resume-prompt-slide .slide-object:nth-child(3) button::after {",' content: "',a.getString("restart"),'"; }'].join(""),document.body.appendChild(e)},getScrollAreaText:function(){return this.findAll('[aria-label]:not([aria-label=""]):not(.slide-object-button)').map(function(e){return e.getAttribute("aria-label")}).join(" ")},adjustForMobileLayout:function(){var e;r.isMobile&&(e=this.find(".message-window-heading"),t.union([e],e.querySelectorAll("*")).forEach(function(e){e.style.fontFamily=u()}),this.isResumeWin()?this.createResumeText():(document.body.classList.add("resume-shown"),this.htmlReady(function(){var e=this.getScrollAreaText();this.setState({mobileText:e})}.bind(this))))}});return c}),define("helpers/windowManager",["require","lodash","helpers/utils","helpers/constants","backbone","react","react-dom","helpers/resume/resumer","helpers/resume/Chunk","mixins/subscribable","helpers/events","helpers/pubSub","helpers/appState","helpers/slidesController","views/presentation/LightBox","helpers/keyManager","views/presentation/MessageWindow","helpers/errorManager"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/utils"),s=e("helpers/constants"),r=e("backbone"),o=e("react"),a=e("react-dom"),l=e("helpers/resume/resumer"),u=e("helpers/resume/Chunk"),c=e("mixins/subscribable"),h=e("helpers/events"),p=e("helpers/pubSub"),d=e("helpers/appState"),f=e("helpers/slidesController"),m=e("views/presentation/LightBox"),g=e("helpers/keyManager"),v=e("views/presentation/MessageWindow"),y=e("helpers/errorManager"),b=100,w=y.warn("windowManager"),S=function(e,t){return o.createElement(e,t)},x=function(e,t){return e.classList.add("opaque"),T(e),p.trigger(h.window.CREATED,t),a.render(t,e)},T=function(e){e.style.zIndex=b++},E=function(e,i,n){return x(document.querySelector("#overlay-container"+(e?"-controls":"")),S(m,{hasControls:e,state:d,model:t.windows().get(i),isRtl:document.documentElement.classList.contains("text-direction-rtl")}))},C=function(e,i){return x(document.querySelector("#overlay"),S(v,{model:t.windows().get(e)}))},A=function(e,t,i){var n,s={_ActTargetSlideId:t.absoluteId,_ActTargetSlideNavIndex:t.get("navIndex")};return e.executePlayerEvent("onbeforeslidejump",s),n=!s.cancel,n&&p.trigger(h.slide.WILL_CHANGE,e,t,i),n},P=function(e){return"MessageWnd"===e},_={LightboxControlsWnd:i.partial(E,!0),LightboxWnd:i.partial(E,!1),LightboxTab:i.partial(E,!0),MessageWnd:C},I="_current",k=i.extend({subscriptions:function(){var e={};return e[h.window.MAIN_CREATED]="onMainWindowCreated",e[h.window.CLOSING]="onCloseWindowById",e[h.request.NEXT_SLIDE]="onRequestingNextSlide",e[h.request.PREV_SLIDE]="onRequestingPrevSlide",e[h.request.NEXT_DRAW_SLIDE]="onRequestingNextDrawSlide",e[h.request.PREV_HISTORY_GROUP]="onRequestingPrevHistoryGroup",e}(),initialize:function(e){t=e,this.windows=[],this.addSubscriptions(),p.trigger(h.windowManager.CREATED,this)},getCurrentWindow:function(){return i.last(this.windows)},getCurrentWindowId:function(){var e=k.getCurrentWindow();return e.getId()},getMainWindow:function(){return i.first(this.windows)},getCurrentWindowSlide:function(){var e=this.getCurrentWindow();return e&&e.state.currentSlide},removeWindow:function(e){return this.windows=i.without(this.windows,e),this},removeAllButMainWindow:function(){this.windows.forEach(function(e){var t=e.getId();t!==s.refs.FRAME&&p.trigger(h.window.CLOSING,t)})},addWindow:function(e){return this.removeWindow(e),this.windows.push(e),this},getOrCreateWindow:function(e,t){var i,n=this.getCurrentWindow(),s=this.findWindowById(e);return s?(s!==n&&T(s.el.parentElement),s):(n&&(i=n.getCurrentSlide(),i&&i.currentTimeline().pause()),_[e.split("_")[0]](e,t))},findWindowById:function(e){return e===I||null==e?this.getCurrentWindow():i.find(this.windows,function(t){return t.getId()===e})},isLightBoxActive:function(){return this.getCurrentWindow()!==this.getMainWindow()},moveSlideToOtherWindow:function(e,t){var i=t.props.model.windowId;e.replaceSlideWith(t);var n=function(t){var s=this.findWindowById(i);t===e&&(null!=s&&s.rebuildCurSlide(),p.off(h.window.CLOSED,n))}.bind(this);return p.on(h.window.CLOSED,n),this},isMultiWindowSlide:function(e){return i.initial(this.windows).some(function(t){var i=t.getCurrentSlide()||{};return i.absoluteId===e.absoluteId})},onMainWindowCreated:function(e){this.addWindow(e),l.setWindowManager(this)},onCloseWindowById:function(e){var t,i,n=this.findWindowById(e);this.getMainWindow();n&&(n.el&&(t=n.el.parentNode)&&(t.classList.remove("opaque"),a.unmountComponentAtNode(t)),this.removeWindow(n),p.trigger(h.window.CLOSED,n),i=this.getCurrentWindowSlide(),null!=i&&(i.currentTimeline().play(),p.trigger(h.slide.STARTED,i.id)),l.savePresentationData())},loadSlide:function(e,t,s){var r=i.isString(e)?e:e.absoluteId,o=f.loadSlide(e,this.getCurrentWindowSlide()).done(t.bind(this));return p.trigger(h.slide.HAS_CHANGED,n.stripPlayer(r),s),o},onRequestingPrevSlide:function(){var e,t=this.getCurrentWindow(),i=this.getCurrentWindowSlide(),n=t.getPrevSlide(),s=function(e){this.updateWindowHistory(t)};if(n){if(null!=i){if(!A(i,n))return;t.forceTransition()}e=this.loadSlide(n.absoluteId,s),t.setSlideLoading(e)}},onRequestingPrevHistoryGroup:function(){var e,t=this.getCurrentWindow(),i=t.getPrevHistoryGroup(),n=function(e){this.updateWindowHistory(t,null,!0)};null!=i&&(null!=t.getCurrentSlide()&&t.forceTransition(),e=this.loadSlide(i.absoluteId,n),t.setSlideLoading(e))},isNewLightBox:function(e,t){return!(P(e)||!_[e]||e===t.displayName)},onRequestingNextSlide:function(e,i){var n,s,r,o,a=this.getCurrentWindowSlide(),u=this.getCurrentWindow(),c=this.isNewLightBox(i,u);if(g.clearCurrentItem(),g.currentIndex=-1,a?u.forceTransition():e=e||f.getEntrypoint(),e){if(o=f.getSlide(e,this.getCurrentWindowSlide()),null==o){if(t.parent.isPreview())return void p.trigger(h.preview.NOTIFY,"PREVIEW_SLIDE_MISSING");w("onRequestingNextSlide","could not resolve slide",y.backtick(e),"so defaulting to entry point"),o=f.getSlide(f.getEntrypoint())}if(r=null!=a&&a.absoluteId===o.absoluteId,r&&!c)a.restart();else{if(null!=a&&!A(a,o,c||P(i)))return;n=this.getOrCreateWindow(i),this.addWindow(n),s=this.loadSlide(o,function(e){this.updateWindowHistory(n,e)}),r&&c&&p.trigger(h.loader.HIDE),n.setSlideLoading(s),null!=a&&n!==u&&s.done(function(){l.savePresentationData()})}}else a.executePlayerEvent("onnextslide")},onRequestingNextDrawSlide:function(){var e,t=this.getCurrentWindowSlide(),i=t.getSlideDraw();i&&(e=i.getNextSlideId(t),e?this.onRequestingNextSlide(e):i.performExitAction())},updateWindowHistory:function(e,t,i){var n,s=!!t;t=t||e[i?"getPrevHistoryGroup":"getPrevSlide"](),n=null!=t&&this.isMultiWindowSlide(t)&&null!==t.currView,e.prepareToUpdateSlide(n),s?e.pushHistory(t):e[i?"popHistoryGroup":"popHistory"](),n&&(t.currentTimeline().play(),this.moveSlideToOtherWindow(e,t.currView))},getResumeData:function(){return this.windows.reduce(function(e,t){return e+u.create(t.getResumeData())},"")},setResumeData:function(e){var t=new u({fullString:e}),i=t.encodedString();for(this.resumeWindowQueue=[];i.length;)this.setWindowAndHistory(i),t=t.reChunk(),i=t.encodedString()},setWindowAndHistory:function(e){var t=new u({fullString:e}),i=t.getUnsignedValue(),n=this.resolveSlideFromResumeData(t.remainder()),s=new u({fullString:n.data}),r=this.createSlideHistoryArray(s.encodedString());0===r.length&&r.push(n.slide),this.restoreOrQueueWindow(i,r)},restoreOrQueueWindow:function(e,t){this.restoringWindow?this.resumeWindowQueue.push({idx:e,history:t}):(this.restoringWindow=!0,this.setLoadedWindow(e,t))},setLoadedWindow:function(e,t){var i=this.getWindowFromIndex(e,t),n=t.pop(),s=this.loadSlide(n.absoluteId,function(e){var n;i.setPreviousHistory(t),this.updateWindowHistory(i,e),this.restoringWindow=this.resumeWindowQueue.length>0,this.restoringWindow&&(e.pauseForResume=!0,n=this.resumeWindowQueue.shift(),this.setLoadedWindow(n.idx,n.history))});i.setSlideLoading(s)},getWindowFromIndex:function(e,i){var n,s;return 0===e?n=this.getMainWindow():(s=t.windows().at(e-1).id,n=this.getOrCreateWindow(s),this.addWindow(n)),n},createSlideHistoryArray:function(e){for(var t,i=[];e.length;)t=this.resolveSlideFromResumeData(e),i.push(t.slide),e=t.data;return i},resolveSlideFromResumeData:function(e){var t="1"===e.charAt(0)?"getDrawFromResumeData":"getSlideFromResumeData";return this[t](e.slice(1))},getSlideFromResumeData:function(e){var t=new u({fullString:e}),i=t.reChunk(),n=t.getUnsignedValue(),s=i.getUnsignedValue();return{slide:f.getSlideFromIndices(s,n),data:i.remainder()}},getDrawFromResumeData:function(e){var t=new u({fullString:e}),i=t.reChunk(),n=i.reChunk(),s=t.getUnsignedValue(),r=i.getUnsignedValue(),o=n.getUnsignedValue();return{slide:f.getDrawFromIndices(o,r,s),data:n.remainder()}}},r.Events,c);return d.windowManager=k,k}),define("views/player/mixins/appStateable",["require","lodash","views/helpers/dom","helpers/events","helpers/appState","backbone","helpers/utils","helpers/constants","helpers/windowManager","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("views/helpers/dom"),n=e("helpers/events"),s=e("helpers/appState"),r=(e("backbone"),e("helpers/utils"),e("helpers/constants")),o=(e("helpers/windowManager"),e("helpers/vow")),a={componentDidMount:function(){this.layoutProps=[],this.liveCallbacks={};var e=t.isFunction(this.stateableValues)?this.stateableValues():this.stateableValues,o=i.closest(this.el,function(e){return!!e.getAttribute("data-window-id")});t.forOwn(e,function(e,t){e&&(this.liveCallbacks[t]=e),this.layoutProps.push(t)}.bind(this)),this.windowId=null!=o?o.getAttribute("data-window-id"):r.refs.FRAME,this.listenTo(s,n.layout.CHANGED,this.onLayoutChanged),this.onLayoutChanged(s,s.currentLayout()||{},this.windowId)},componentWillUnmount:function(){this.stopListening()},onLayoutChanged:function(e,i,n){var s=[];n===this.windowId&&this.isMounted()&&(null!=this.beforeStateableValuesUpdated&&this.beforeStateableValuesUpdated(i),this.layoutProps.forEach(function(e){var n=this.getLayoutPropVal(i,e);if(null!=n){var r,a,l,u={},c=this.liveCallbacks[e],h=!!(n&&null!=n.enabled?n.enabled:n);null!=c?c(h):(r=e.split("."),a=r.length>1?t.last(r):t.first(r),u["stateable_"+a]=h,l=new o.Deferred,s.push(l.promise()),this.setState(u,l.resolve))}}.bind(this)),this.stateableValuesUpdated&&o.after.apply(o,s).then(t.partial(this.stateableValuesUpdated,i)))},getLayoutPropVal:function(e,i){return t.reduce(i.split("."),function(e,t){return e[t]},e)}};return a}),define("views/player/Topbar",["require","lodash","views/helpers/dom","react","views/player/mixins/appStateable","views/mixins/baseView","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("views/helpers/dom")),i=e("react"),n=e("views/player/mixins/appStateable"),s=e("views/mixins/baseView"),r=e("helpers/utils"),o=i.createClass({displayName:"Topbar",mixins:[s,n],componentDidMount:function(){this.afterHtmlReady(this.adjustLayout)},componentDidUpdate:function(){this.adjustLayout()},stateableValuesUpdated:function(e){this.htmlReady(this.adjustLayout);
},hasLinkLeft:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.tabs.linkLeft")},hasLinkRight:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.tabs.linkRight")},hasTitle:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.titleEnabled")},hasTimer:function(){return this.getPath("props.timers").length>0},hasElapsedAndTotalTime:function(){return!!this.getPath("props.model.controlOptions.controls.elapsedandtotaltime")},adjustLayout:function(){if(this.hasLinkRight()||this.hasLinkLeft()){var e=".topmenu-item:not(.hidden) .topmenu-tab",i=this.find(".presentation-title"),n=this.hasElapsedAndTotalTime(),s=this.find(".top-tabs"),r=this.findAll(".top-tabs-right "+e),o=this.findAll(".top-tabs-left "+e),a=this.findAll(".top-tabs-left .topmenu-item .topmenu-tab, .top-tabs-right .topmenu-item .topmenu-tab"),l=i&&this.hasSpaceForTitle(i,o,r);this.el.classList[l?"add":"remove"]("centered-title"),this.el.classList[a.length&&(i||n)?"add":"remove"]("extended-height"),t.resizeToFit(s,a,void 0,-2)}},hasSpaceForTitle:function(e,t,i){return!t.length&&(!i.length||e.getBoundingClientRect().right<i[0].getBoundingClientRect().left)},onTimerShow:function(e){r.showTimer(this,e)}});return o}),define("views/player/StartOverlay",["require","lodash","react","views/mixins/baseView","polyfills/detection","helpers/pubSub","helpers/events"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("views/mixins/baseView"),n=(e("polyfills/detection"),e("helpers/pubSub")),s=e("helpers/events"),r=t.createClass({displayName:"StartOverlay",mixins:[i],subscriptions:function(){var e={};return e[s.request.START]="onStart",e}(),getInitialState:function(){return{visible:!1}},onStart:function(e){this.rejectDeferred=e,this.overlay=document.querySelector("#overlay-playbutton"),this.overlay.classList.add("opaque"),this.setState({visible:!0})},onClick:function(){n.trigger(s.loader.UNMUTE),n.once(s.slide.STARTED,function(){this.overlay.classList.remove("opaque")}.bind(this)),this.rejectDeferred(),this.setState({visible:!1})}});return r}),define("views/mixins/propertizable",["require","lodash","helpers/constants"],function(e){"use strict";var t=(e("lodash"),e("helpers/constants")),i=(t.PLAYER_PROPS_KEYPATH,{getInitialState:function(){return this.constructProps(),this.playerPropsModel.toJSON()},constructProps:function(){var e=this.props.model;return this.playerPropsModel={},e&&e.createPlayerProps&&(this.playerPropsModel=e.playerProps||e.createPlayerProps(),this.listenTo(this.playerPropsModel,"change",this.onUpdatePlayerProps)),this},onUpdatePlayerProps:function(){this.isMounted()&&this.setState(this.playerPropsModel.toJSON())},getPlayerProp:function(e){return this.state[e]},setPlayerProp:function(e,t){return this.props.model.prop(e,t)}});return i}),define("views/mixins/mouseable",["require","lodash","views/events/mouseEvents"],function(e){"use strict";var t=e("lodash"),i=e("views/events/mouseEvents"),n={componentWillMount:function(){this.offs=[]},registerEvent:function(e,t,n){n=n||this.el,this.offs.push(i[e](n,t,this))},componentWillUnmount:function(){t(this.offs).flatten().invoke("teardown").value(),this.offs=[]}};return n}),define("helpers/audio/AudioClipBase",["require","lodash","backbone","helpers/errorManager","helpers/events","helpers/pubSub","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/errorManager"),s=e("helpers/events"),r=e("helpers/pubSub"),o=e("helpers/vow"),a=s.detection,l=function(e){this.deferredOp=t.noop,this.dfd=o.Deferred(),this.dfd.done(function(){this.deferredOp(),this.deferredOp=t.noop}.bind(this)),this.dfd.fail(function(e){n.throwError("AudioClipBase","constructor",'could not load "',this.url,'" ',e)}.bind(this)),this.url=e,this.startAt=0,this.isPlaying=!1,this.isEnded=!1,this.onEndedDelegate=this.onEnded.bind(this),this.onTimeUpdateDelegate=this.onTimeUpdate.bind(this),t.bindAll(this,"onVisibilityHidden","onVisibilityShown"),this.initialize()};l.prepare=t.noop;var u=l.prototype;return t.extend(u,i.Events,{initialize:function(){this.detectionSubscriptions={},this.detectionSubscriptions[a.VISIBILITY_HIDDEN]=this.onVisibilityHidden,this.detectionSubscriptions[a.VISIBILITY_SHOWN]=this.onVisibilityShown,r.on(this.detectionSubscriptions)},onEnded:function(){this.isPlaying=!1,this.isEnded=!0,this.trigger(s.audioClip.ENDED)},onTimeUpdate:function(e){this.isPlaying&&this.trigger(s.audioClip.TIME_UPDATE,e)},onVisibilityHidden:function(){this.isPlaying&&(this.wasPlayingWhenVisible=!0,this.pause())},onVisibilityShown:function(){this.wasPlayingWhenVisible&&(this.wasPlayingWhenVisible=!1,this.play())},doDeferredOp:function(e){o.isResolved(this.dfd)?e():this.deferredOp=e},play:function(e){return null!=e&&(this.startAt=e),this.doDeferredOp(this.deferredPlay.bind(this)),this},pause:function(){return this.doDeferredOp(this.deferredPause.bind(this)),this},seek:function(e){return this.startAt=e,this.isPlaying&&this.play(),this},destroy:function(){return r.off(this.detectionSubscriptions),this}}),l}),define("polyfills/fills/rangeSliders",["require","lodash"],function(e){"use strict";var t=e("lodash"),i="allowTheChangeEventToPropagate",n=function(e,n){var s=document.createEvent("Event");s.initEvent("change",!0,!0),t.defaults(s,n),Object.defineProperty(s,i,{value:!0}),e.dispatchEvent(s),document.removeEventListener("mouseup",e.fireChangeEvent)},s={patchEvents:function(){document.addEventListener("change",function(e){var s,r;e[i]||"range"!==e.target.getAttribute("type")||(e.stopPropagation(),s=document.createEvent("Event"),s.initEvent("input",!0,!0),t.defaults(s,e),e.target.dispatchEvent(s),document.removeEventListener("mouseup",e.target.fireChangeEvent),r=t.partial(n,e.target),e.target.fireChangeEvent=r,document.addEventListener("mouseup",r))},!0)}};return s}),define("polyfills/vendorOverrides",["require","lodash","react","react-dom","polyfills/detection","helpers/events","helpers/svg/svgUtils","polyfills/fills/rangeSliders","tween-lite","helpers/windowManager","helpers/captionsManager","helpers/constants","helpers/stringTabler","helpers/vow","helpers/utils","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=(e("react-dom"),e("polyfills/detection")),s=e("helpers/events"),r=e("helpers/svg/svgUtils"),o=e("polyfills/fills/rangeSliders"),a=e("tween-lite"),l=(e("helpers/windowManager"),e("helpers/captionsManager")),u=e("helpers/constants"),c=e("helpers/stringTabler"),h=(e("helpers/vow"),e("helpers/utils")),p=e("helpers/pubSub"),d={},f=function(e){e.style.display="inline-block";e.offsetHeight;e.style.display=""},m=function(e,t){var i,n;null!=t&&t.length>0&&(i=e.addTextTrack("captions",c.getString("closed_captions"),""),i.mode=l.isCaptionButtonToggled()?"showing":"hidden",t.forEach(function(e){n=new window.VTTCue(e.startTime,e.endTime,e.text.cueSource),n.line=12,i.addCue(n)}))};return n.isWebKit()&&(d.forceSingleRepaint=function(e){f(e)},d.forceRepaint=function(e,t){return a.to(e,t,{onUpdate:function(){f(e)},onComplete:function(){f(e)}})},d.fixTspan=function(e,i){var n=e.y;return t.range(1,i.length).forEach(function(){e.y+=" "+n}),e},d.handleWillChange=function(e){e.willChange="opacity"}),n.isIE()&&(d.forceSingleRepaint=function(e){f(e)},o.patchEvents(),d.mouseOver=function(){return"mouseover"},d.elementsFromPoint=function(e,i,n){return t(document.msElementsFromPoint(e,i)).filter(n).value()},d.wrapTspan=function(e,t,n){var s,o,a,l,u=[],c=n.x.split(" "),p=n.y,d=h.getPath(n,"children[0]","").split("");return t.x=null,t.y=null,d.forEach(function(e,n){s=i.createElement("tspan",null,e),o=i.createElement("text",t,s),a=c[n]?c[n]:c[0],l=i.createElement("g",{transform:r.transformTranslate(a,p),key:n},o),u.push(l)}),i.createElement("g",{key:t.key},u)}),(n.isIE()||n.isEdge())&&(d.stopColorProps=function(e){return{stopColor:h.toRgba(e.rgb,e.alpha)}}),n.isMobile&&(d.positionCaptions=function(e){if("portrait"===n.orientation){var t=document.querySelector(".slide-container"),i=t.getBoundingClientRect(),s=window.innerHeight,r=(s-u.MOBILE_UI_SIZE-i.bottom)/2,o=i.bottom+r,a=Math.max(0,o+e.offsetHeight/2-s+u.MOBILE_UI_SIZE);e.style.top=h.pxify(o-a),e.classList.add("caption--centered")}else e.classList.remove("caption--centered"),e.style.top="auto"},p.on(s.detection.ORIENTATION_CHANGE,function(){var e=document.querySelector(".caption");null!=e&&d.positionCaptions(e)})),n.isAndroid&&(d.getAudioInitEvent=function(){return"click"}),n.isIOS()&&(d.destroyAudioContext=t.noop,d.detectVisibilityChange=function(){var e,t=2e3,i=500,n=900,r=(new Date).getTime(),o=!1,a=!1;setInterval(function(){var i=(new Date).getTime(),l=i-r,u=o;r=i,o=l>=n,!u&&o?e=i:u&&o&&!a&&i-e>=t?(a=!0,p.trigger(s.detection.VISIBILITY_HIDDEN)):u&&!o&&(a=!1,p.trigger(s.detection.VISIBILITY_SHOWN))},i)},d.onOpenWindow=function(e,t,i){var n=h.getPath(t,"eventType"),s=h.getPath(t,"context.currView.el");"onpress"===n&&null!=s?s.addEventListener("touchend",function r(){i(),s.removeEventListener("touchend",r)}):i()},d.handleWillChange=function(e){e.willChange="unset"},n.isUIWebView()&&(d.registerAudioInitEvent=function(e,t,i,n){if(n.props.model.isKind("button")){var s=e(t,"click",function(){return!0},i);return[{teardown:s}]}},d.getAudioInitEvent=function(){return"click"})),n.isIosPhoneBefore10()&&(d.buildCaptionTracks=function(e,t){l.hasCaptions(t)&&m(e,l.getCaptions(t))},d.onCaptionsEnabled=function(e){p.on(s.captions.ENABLE,e)},d.offCaptionsEnabled=function(e){p.off(s.captions.ENABLE,e)}),d.moveVarTextOutOfSvg=function(e){var i=[],n={nodeType:"variableText"},s=function(e){return t.remove(e.children,n)},o=function(e){return i=i.concat(s(e)),e},a=function(e){if(0===i.length)return e;var t={nodeType:"div",className:"textlib-wrapper"};return t.children=i.slice(),t.children.push(e),t};return o.afterFinish=a,r.transformNodeConfig(o,e)},d.unwrapForeignObjectVarText=function(e){var t=e.children[0];return t},d}),define("helpers/audio/AudioClipApi",["require","lodash","external/superagent","helpers/audio/AudioClipBase","polyfills/audioContext","helpers/vow","helpers/utils","polyfills/detection","polyfills/vendorOverrides"],function(e){"use strict";var t,i,n,s=e("lodash"),r=e("external/superagent"),o=e("helpers/audio/AudioClipBase"),a=e("polyfills/audioContext"),l=(e("helpers/vow"),e("helpers/utils")),u=e("polyfills/detection"),c=e("polyfills/vendorOverrides"),h=3e4,p=250,d=l.createSuper(o),f={},m={},g=function(){null==i&&(i=a&&new a,i.onstatechange=function(){null!=i&&"suspended"===i.state&&i.resume()}),null!=t&&(clearTimeout(t),t=null)},v=c.destroyAudioContext||function(){null!=t&&clearTimeout(t),t=setTimeout(function(){null!=i&&(i.close(),i=null)},h)},y=function(){o.apply(this,arguments)};s.extend(y,o,{context:function(){return g(),i},prepare:function(){this.playInaudibleBeep()},playInaudibleBeep:function(){var e=new b,t=function(){e.destroy(),this.prepareScratchBuffer()}.bind(this);return e.play(),u.isAndroid?setTimeout(t,30):t(),this},prepareScratchBuffer:function(){var e=this.context();n=e.createBuffer(1,1,22050)}}),y.prototype=new o,s.extend(y.prototype,{constructor:y,initialize:function(){d("initialize").apply(this,arguments),this.contextStartTime=0,this.dfd.fail(function(){y.wipeFromBuffer(this.url)}.bind(this))},load:function(){return null!=f[this.url]?(this.buffer=f[this.url],this.dfd.resolve()):r.get(this.url).on("request",function(){this.xhr.responseType="arraybuffer"}).end(function(e,t){return e?void this.dfd.reject(e):void this.decode(t.xhr.response)}.bind(this)),this},decode:function(e){y.context().decodeAudioData(e,this.onDecodeSuccess.bind(this),this.dfd.reject)},onDecodeSuccess:function(e){e?(f[this.url]=this.buffer=e,this.dfd.resolve()):this.dfd.reject("Could not load audio buffer from "+this.url)},onEnded:function(){this.destroySource(),this.destroyGain(),this.unmarkAsPlaying(),d("onEnded").apply(this,arguments)},createGain:function(){var e=y.context();this.gainNode=e.createGain(),this.gainNode.connect(e.destination),this.gainNode.gain.value=this.volume},destroyGain:function(){null!=this.gainNode&&(this.gainNode.disconnect(),this.gainNode=null)},createSource:function(){var e=y.context();this.source=e.createBufferSource(),this.source.buffer=this.buffer,this.bindSourceOnEnded(),this.source.connect(this.gainNode)},destroySource:function(){if(null!=this.source){this.unbindSourceOnEnded();try{this.source.stop(0)}catch(e){}this.source.disconnect();try{this.source.buffer=n}catch(e){}this.source=null}},clearTimeUpdateInterval:function(){clearInterval(this.timeUpdateTimeoutHandle)},startTimeUpdateInterval:function(){this.clearTimeUpdateInterval(),this.timeUpdateTimeoutHandle=setInterval(function(){this.onTimeUpdateDelegate(this.getCurrentTime())}.bind(this),p)},deferredPlay:function(){var e=y.context();this.destroySource(),this.destroyGain(),this.startAt<this.getDuration()?(this.createGain(),this.createSource(),this.contextStartTime=e.currentTime,this.source.start(this.contextStartTime+Math.max(0,-this.startAt),Math.max(0,this.startAt)),this.startTimeUpdateInterval(),this.isPlaying=!0,this.markAsPlaying()):this.onEnded()},deferredPause:function(){this.isPlaying&&(this.startAt=this.getCurrentTime(),this.destroySource(),this.destroyGain(),this.isPlaying=!1,this.unmarkAsPlaying(),this.clearTimeUpdateInterval())},getCurrentTime:function(){if(!this.isPlaying)return this.startAt;var e=y.context().currentTime-this.contextStartTime+this.startAt;return e||0},getDuration:function(){return l.getPath(this.buffer,"duration")},setVolume:function(e){return this.volume=e,null!=this.gainNode&&(this.gainNode.gain.value=e),this},destroy:function(e){return null==e&&(e=!u.isMobile),this.destroySource(),this.destroyGain(),this.unmarkAsPlaying(),this.clearTimeUpdateInterval(),e||y.wipeFromBuffer(this.url),d("destroy").apply(this,arguments),this},bindSourceOnEnded:function(){this.onEndedOnceDelegate=s.once(this.onEndedDelegate),this.source.onended=this.onEndedOnceDelegate,this.source.addEventListener("ended",this.onEndedOnceDelegate)},unbindSourceOnEnded:function(){this.source.onended=null,this.source.removeEventListener("ended",this.onEndedOnceDelegate),this.onEndedOnceDelegate=null},markAsPlaying:function(){m[this.url]=!0},unmarkAsPlaying:function(){m[this.url]=null,s.every(m,s.isNull)&&(m={},v())}}),y.wipeFromBuffer=function(e){f[e]=null};var b=function(){y.apply(this,arguments),this.url="#inaudible",this.volume=0,this.dfd.resolve()};return b.prototype=new y,s.extend(b.prototype,{constructor:b,createSource:function(){var e=y.context();this.source=e.createOscillator(),this.source.type="sine",this.source.frequency.value=22e3,this.source.connect(this.gainNode)},getDuration:function(){return 1/0}}),y}),define("helpers/assetManager",["require","lodash","helpers/errorManager","helpers/vow","helpers/audio/AudioClipApi"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/errorManager"),s=e("helpers/vow"),r=e("helpers/audio/AudioClipApi"),o=n.throwError("assetManager"),a=n.backtick,l="No asset with id of",u="Must pass in an array of asset ids",c={audio:1,video:2},h={initialize:function(e){return t=e,this},getAsset:function(e){var i=t.get(e);return i||o("getAsset",l,a(e)),i},getAssetUrl:function(e){return this.getAsset(e).url()},offloadAssets:function(e){e.forEach(function(e){var t=this.getAsset(e);"audio"===t.type()&&r.wipeFromBuffer(t.url())}.bind(this))},prioritizeAssets:function(e){var t=e.map(this.getAsset.bind(this));return i.sortBy(t,function(e){return c[e.type()]||0})},loadAssets:function(e,t){i.isArray(e)||o("loadAssets",u);var n=i.invoke(this.prioritizeAssets(e),"load",t),r=s.after.apply(null,n);return r.dfds=i.pluck(n,"dfd"),r}};return h}),define("views/helpers/bitmaskHelper",["require"],function(e){"use strict";var t=/([XO])/g,i=function(e,t){var i=document.createElement("canvas");return i.width=e,i.height=t,i},n=function(e){var t=r(e);return{getBounds:function(e){var i,n=t.length,s=e.transformPoint(t[0].x,t[0].y),r=s.x,o=r,a=s.y,l=a;for(i=1;n>i;i++)s=e.transformPoint(t[i].x,t[i].y),s.x<r?r=s.x:s.x>o&&(o=s.x),s.y<a?a=s.y:s.y>l&&(l=s.y);return[r,a,o,l]}}},s=function(e,t,i){return(e.x-i.x)*(t.y-i.y)-(e.y-i.y)*(t.x-i.x)},r=function(e){var t,i,n=e.length,r=[],o=[];for(e.sort(function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x}),t=0;n>t;t++){for(;r.length>=2&&s(r[r.length-2],r[r.length-1],e[t])<=0;)r.pop();for(r.push(e[t]),i=n-(t+1);o.length>=2&&s(o[o.length-2],o[o.length-1],e[i])<=0;)o.pop();o.push(e[i])}return o.pop(),r.pop(),r.concat(o)},o={buildImage:function(e,s,r,o,a){var l,u,c,h,p=0,d=i(o,a),f=d.getContext("2d"),m=f.createImageData(o,a),g=e.split(t),v=g.length,y=0,b="O",w=-1,S=!1,x=[];for(l=0;v>l;l+=2)for(c=parseInt(g[l],16),h="X"===g[l+1]?255:0,w+=c+1,h!==b&&(255===h?(S=!0,x.push({x:(y+1)%o+s,y:Math.floor((y+1)/o)+r})):S&&x.push({x:y%o+s,y:Math.floor(y/o)+r})),y=w,b=h,u=0;c>=u;u++)m.data[p]=h,m.data[p+3]=h,p+=4;return f.putImageData(m,0,0),{canvas:d,bb:n(x)}}};return o}),define("helpers/TransMatrix",["require","lodash","helpers/svg/svgUtils","helpers/utils","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/utils"),s=e("helpers/constants"),r=6,o=1e-12,a=s.math.TO_RADIANS,l=function(e){return Math.abs(e)<=o},u=function(){this.reset()};return t.extend(u.prototype,{adjustByViewProps:function(e){return this.translate(e.RawXPos,e.RawYPos).scale(e.ScaleX,e.ScaleY,e.rotateXPos,e.rotateYPos).rotate(e.Rotation,e.rotateXPos,e.rotateYPos),this},reset:function(){return this.a=this.d=1,this.c=this.b=this.tx=this.ty=0,this},translate:function(e,t){return this.tx+=e*this.a+t*this.b,this.ty+=e*this.c+t*this.d,this},scale:function(e,t,i,n){var s=i||n;return s&&this.translate(i,n),this.a*=e,this.c*=e,this.b*=t,this.d*=t,s&&this.translate(-i,-n),this},rotate:function(e,t,i){e*=a;var n=Math.cos(e),s=Math.sin(e),r=t-t*n+i*s,o=i-t*s-i*n,l=this.a,u=this.b,c=this.c,h=this.d;return this.a=n*l+s*u,this.b=-s*l+n*u,this.c=n*c+s*h,this.d=-s*c+n*h,this.tx+=r*l+o*u,this.ty+=r*c+o*h,this},skew:function(e,t,i,n){var s=i||n,r=this.a,o=this.c;return e=Math.tan(e*a),t=Math.tan(t*a),s&&this.translate(i,n),this.a+=t*this.b,this.c+=t*this.d,this.b+=e*r,this.d+=e*o,s&&this.translate(-i,-n),this},transform:function(e,t){return{x:e*this.a+t*this.b+this.tx,y:e*this.c+t*this.d+this.ty}},copy:function(){var e=new u;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},invert:function(){var e=1/(this.a*this.d-this.b*this.c),t=this.d*e,i=-this.b*e,n=-this.c*e,s=this.a*e,r=e*(this.b*this.ty-this.d*this.tx),o=e*(this.c*this.tx-this.a*this.ty);return this.a=t,this.b=i,this.c=n,this.d=s,this.tx=r,this.ty=o,this},toCssTransform:function(){var e=n.fix(this.a,r),t=n.fix(this.b,r),s=n.fix(this.c,r),o=n.fix(this.d,r),a=n.fix(this.tx,r),l=n.fix(this.ty,r);return i.buildTransformFn("matrix",e,s,t,o,a,l)},getScale:function(){var e=n.hypot(this.a,this.c),t=n.hypot(this.b,this.d);return{x:e,y:t}},transformPoint:function(e,t){return{x:e*this.a+t*this.b+this.tx,y:e*this.c+t*this.d+this.ty}},unTransformPoint:function(e,t){return this.copy().invert().transformPoint(e,t)},decompose:function(){var e,t,i=this.a,n=this.b,s=this.c,r=this.d;return l(i*r-n*s)?null:(e=Math.sqrt(i*i+n*n),i/=e,n/=e,t=Math.sqrt(s*s+r*r),s/=t,r/=t,n*s>i*r&&(i=-i,n=-n,e=-e),{scaling:{x:e,y:t},rotation:180*-Math.atan2(n,i)/Math.PI})},append:function(e){var t=this.a,i=this.b,n=this.c,s=this.d,r=e.a,o=e.b,a=e.c,l=e.d,u=e.tx,c=e.ty;return this.a=r*t+a*i,this.b=o*t+l*i,this.c=r*n+a*s,this.d=o*n+l*s,this.tx+=u*t+c*i,this.ty+=u*n+c*s,this},isEqual:function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},isOnlyTranslated:function(e){return this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d}}),u}),define("views/helpers/transformHelper",["require","lodash","helpers/utils","helpers/TransMatrix"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils"),e("helpers/TransMatrix")),i=function(e,t){var i,n,s,r=e.state,o=r.rotateXPos,a=r.rotateYPos,l=null!=e.decorators&&null!=e.decorators.rotatable;return null!=e.tweenedConfig&&null!=e.tweenedConfig.props&&(r=e.tweenedConfig.props),e.dragging?(s=e.decorators.draggable.getDraggingPosition(),i=s.x,n=s.y):(i=r.RawXPos,n=r.RawYPos),t.translate(i,n),100!==r.ScaleX&&100!==r.ScaleY&&t.scale(r.ScaleX/100,r.ScaleY/100,o,a),0!==r.Rotation&&t.rotate(r.Rotation,o,a),l&&l.lastSetRotation&&t.rotate(l.lastSetRotation,l.rotateXPos,l.rotateYPos),t},n=function(e,n,s){for(var r,o,a,l,u,c,h=[],p=e,d=null!=s?s.copy():new t;p!==n;)p.props.isInnard||h.push(p),u=p.reparentedContainer,null!=u?(c=u.props.model,p=c.isSlideLayer||c.isSlide?void 0:u):p=p.props.parent;for(o=h.length-1,r=o;r>=0;r--)p=h[r],d=i(p,d),l=p.props.model,r>0&&l.isKind("scrollarea")&&(a=p.getPlayerProp("Position"),a&&d.translate(0,-a));return d},s=function(e){var t=e.props.model;return t.isSlide?t.getBaseLayer().currView:t.isSlideLayer?t.currView:t.getLayer().currView},r={setMatrixDirty:function(e){var t,i,n=e.props.model;if(n.transformDirty=!0,null!=e.allRefs)for(t=e.allRefs.length,i=0;t>i;i++)e.allRefs[i].transformDirty=!0},getMatrix:function(e){var t=e.props.model;return t.transformDirty===!1?t.currTransform:(t.transformDirty=!1,t.currTransform=n(e))},getRelativeMatrix:function(e,t,i){return n(e,t,i)},localPtToGlobal:function(e,t,i,n){n=n||this.getSlideMetrics(e);var s=e.props.model,r=s.isSlideObject?this.localPtToSlide(e,t,i):{x:t,y:i};return{x:n.left+r.x*n.scaleX,y:n.top+r.y*n.scaleY}},globalPtToLocal:function(e,t,i,n){var s=e.props.model;return s.isSlide&&(s=s.getBaseLayer()),s.isSlideLayer?this.globalPtToLayer(s.currView,t,i,n):this.globalPtToSlideObject(e,t,i,n)},globalPtToLayer:function(e,t,i,n){n=n||this.getSlideMetrics(e);var s=(t-n.left)/n.scaleX,r=(i-n.top)/n.scaleY;return{x:Math.floor(s),y:Math.floor(r)}},globalPtToSlideObject:function(e,t,i,n){var s=e.props.model,r=s.getLayer().currView,o=this.globalPtToLayer(r,t,i,n),a=this.getMatrix(e).copy().invert(),l=a.transformPoint(o.x,o.y);return{x:Math.floor(l.x),y:Math.floor(l.y)}},localPtToSlide:function(e,t,i){return this.getMatrix(e).transformPoint(t,i)},localPtToLocal:function(e,t,i,n){var s=this.localPtToSlide(e,i,n);return this.slidePtToSlideObject(t,s.x,s.y)},slidePtToSlideObject:function(e,t,i){return r.getMatrix(e).copy().invert().transformPoint(t,i)},getSlideMetrics:function(e){var t=s(e),i=t.el.getBoundingClientRect(),n=i.width/t.props.width,r=i.height/t.props.height;return{scaleX:n,scaleY:r,left:i.left,top:i.top,right:i.right,bottom:i.bottom,width:i.right-i.left,height:i.bottom-i.top}}};return r}),define("views/helpers/canvg/globals",["require"],function(e){"use strict";var t={};return t}),define("views/helpers/canvg/SvgPoint",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=function(e,t){this.x=e,this.y=t};return t.extend(i.prototype,{angleTo:function(e){return Math.atan2(e.y-this.y,e.x-this.x)},applyTransform:function(e){var t=this.x*e[0]+this.y*e[2]+e[4],i=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=i}}),i}),define("views/helpers/canvg/SvgProperty",["require","lodash","./globals"],function(e){"use strict";var t=e("lodash"),i=e("./globals"),n=Math.PI/180,s=/px$/,r=/pt$/,o=/pc$/,a=/cm$/,l=/mm$/,u=/in$/,c=/%$/,h=/deg$/,p=/rad$/,d=/grad$/,f=/#([^\)'"]+)/,m=function(e,t){this.name=e,this.value=t};return t.extend(m.prototype,{getValue:function(){return this.value},hasValue:function(){return null!=this.value&&""!==this.value},numValue:function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(c)&&(e/=100),e},valueOrDefault:function(e){return this.hasValue()?this.value:e},numValueOrDefault:function(e){return this.hasValue()?this.numValue():e},getDefinition:function(){var e=this.value.match(f);return e&&(e=e[1]),e||(e=this.value),i.defs[e]},isUrlDefinition:function(){return 0===this.value.indexOf("url(")},getDPI:function(e){return 96},getUnits:function(){var e=this.value+"";return e.replace(/[0-9\.\-]/g,"")},toPixels:function(e,t){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(s))return this.numValue();if(n.match(r))return this.numValue()*this.getDPI(e)*(1/72);if(n.match(o))return 15*this.numValue();if(n.match(a))return this.numValue()*this.getDPI(e)/2.54;if(n.match(l))return this.numValue()*this.getDPI(e)/25.4;if(n.match(u))return this.numValue()*this.getDPI(e);if(n.match(c))return this.numValue()*i.viewPort.ComputeSize(e);var h=this.numValue();return t&&1>h?h*i.viewPort.ComputeSize(e):h},toRadians:function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(h)?this.numValue()*n:e.match(p)?this.numValue():e.match(d)?this.numValue()*(Math.PI/200):this.numValue()*n}}),m}),define("views/helpers/canvg/utils",["require","./SvgPoint","./SvgProperty"],function(e){"use strict";var t=e("./SvgPoint"),i=e("./SvgProperty"),n=/-?(\d+(\.\d+)?|\.\d+)(?=\D|$)/gm,s=/[\s\r\t\n]+/gm,r=/^\s+|\s+$/g,o=/^xMid/,a=/YMid$/,l=/^xMax/,u=/YMax$/,c={kappa:4*((Math.sqrt(2)-1)/3),trim:function(e){return e.replace(r,"")},compressSpaces:function(e){return e.replace(s," ")},ToNumberArray:function(e){for(var t=(e||"").match(n)||[],i=0;i<t.length;i++)t[i]=parseFloat(t[i]);return t},CreatePoint:function(e){var i=this.ToNumberArray(e);return new t(i[0],i[1])},CreatePath:function(e){for(var i=this.ToNumberArray(e),n=[],s=0;s<i.length;s+=2)n.push(new t(i[s],i[s+1]));return n},parseXml:function(e){var t;if(window.DOMParser){var i=new window.DOMParser;return i.parseFromString(e,"text/xml")}return e=e.replace(/<!DOCTYPE svg[^>]*>/,""),t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e),t},aspectRatio:function(e,t,n,s,r,h,p,d,f,m){t=c.compressSpaces(t),t=t.replace(/^defer\s/,"");var g=t.split(" ")[0]||"xMidYMid",v=t.split(" ")[1]||"meet",y=n/s,b=r/h,w=Math.min(y,b),S=Math.max(y,b);"meet"===v&&(s*=w,h*=w),"slice"===v&&(s*=S,h*=S),f=new i("refX",f),m=new i("refY",m),f.hasValue()&&m.hasValue()?e.translate(-w*f.toPixels("x"),-w*m.toPixels("y")):(g.match(o)&&("meet"===v&&w===b||"slice"===v&&S===b)&&e.translate(n/2-s/2,0),g.match(a)&&("meet"===v&&w===y||"slice"===v&&S===y)&&e.translate(0,r/2-h/2),g.match(l)&&("meet"===v&&w===b||"slice"===v&&S===b)&&e.translate(n-s,0),g.match(u)&&("meet"===v&&w===y||"slice"===v&&S===y)&&e.translate(0,r-h)),"none"===g?e.scale(y,b):"meet"===v?e.scale(w,w):"slice"===v&&e.scale(S,S),e.translate(null==p?0:-p,null==d?0:-d)}};return c}),define("views/helpers/canvg/SvgViewPort",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=function(){this.viewPorts=[]};return t.extend(i.prototype,{Clear:function(){this.viewPorts=[]},SetCurrent:function(e,t){this.viewPorts.push({width:e,height:t})},RemoveCurrent:function(){this.viewPorts.pop()},Current:function(){return this.viewPorts[this.viewPorts.length-1]},width:function(){return this.Current().width},height:function(){return this.Current().height},ComputeSize:function(e){return null!=e&&"number"==typeof e?e:"x"===e?this.width():"y"===e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}),i}),define("views/helpers/canvg/BoundingBox",["require","lodash","./SvgPoint","helpers/TransMatrix"],function(e){"use strict";var t=e("lodash"),i=e("./SvgPoint"),n=e("helpers/TransMatrix"),s=0,r=1,o=2,a=3,l=new n,u={left:function(){return this.update(),this.bounds[s]},top:function(){return this.update(),this.bounds[r]},width:function(){return this.update(),this.bounds[o]-this.bounds[s]},height:function(){return this.update(),this.bounds[a]-this.bounds[r]},applyTransform:function(e){var t,n,s,r=this.points.length;for(t=0;r>t;t++)n=this.points[t],s=new i(n[0],n[1]),e.applyToPoint(s),this.points[t]=[s.x,s.y]},getBounds:function(e){return this.update(e),this.bounds.slice()},addPoint:function(e,t){this.dirty=!0,this.points.push([e,t])},addBezierCurve:function(e,t,i,n,s,r,o,a){this.dirty=!0,this.beziers.push([e,t,i,n,s,r,o,a])},addQuadraticCurve:function(e,t,i,n,s,r){var o=e+2/3*(i-e),a=t+2/3*(n-t),l=o+1/3*(s-e),u=a+1/3*(r-t);this.addBezierCurve(e,t,o,a,l,u,s,r)},addChildBoundingBox:function(e){null!=e&&this.children.push(e)},hasMatrixChanged:function(e){return!e.isEqual(this.lastMatrix)},update:function(e){e=e||l,this.dirty?this.calculateBounds(e):this.hasMatrixChanged(e)&&(e.isOnlyTranslated(this.lastMatrix)?this.translateLastBounds(e):this.calculateBounds(e))},translateLastBounds:function(e){var t=e.tx-this.lastMatrix.tx,i=e.ty-this.lastMatrix.ty;this.lastMatrix=e.copy(),this.bounds[s]+=t,this.bounds[r]+=i,this.bounds[o]+=t,this.bounds[a]+=i},getPointBounds:function(e){var t,i,n,s,r,o,a,l=e.length;if(l>0)for(t=n=e[0][0],i=s=e[0][1],a=1;l>a;a++)r=e[a][0],o=e[a][1],t>r?t=r:r>n&&(n=r),i>o?i=o:o>s&&(s=o);return[t,i,n,s]},addBezierBounds:function(e,t){var i,n,l=e.length;if(l>0)for(null==t[s]&&(t[s]=t[o]=e[0][0],t[r]=t[a]=e[0][1]),i=0;l>i;i++)n=e[i],this.addBezierBoundingPoints(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],t);return t},addChildBounds:function(e,t){var i,n,l,u=this.children.length;for(i=0;u>i;i++)n=this.children[i],l=n.getBounds(t),null!=l[0]&&(null==e[0]?e=l:(l[s]<e[s]?e[s]=l[s]:l[o]>e[o]&&(e[o]=l[o]),l[r]<e[r]?e[r]=l[r]:l[a]>e[a]&&(e[a]=l[a])));return e},transformPoints:function(e,t){var i,n,s=[],r=e.length;for(s.length=r,n=0;r>n;n++)i=t.transformPoint(e[n][0],e[n][1]),s[n]=[i.x,i.y];return s},transformBeziers:function(e,t){var i,n,s,r,o,a,l=[],u=e.length;for(l.length=u,i=0;u>i;i++)n=e[i],s=t.transformPoint(n[0],n[1]),r=t.transformPoint(n[2],n[3]),o=t.transformPoint(n[4],n[5]),a=t.transformPoint(n[6],n[7]),l[i]=[s.x,s.y,r.x,r.y,o.x,o.y,a.x,a.y];return l},calculateBounds:function(e){var t,i=this.points,n=this.beziers;e.isEqual(l)||(i=this.transformPoints(i,e),n=this.transformBeziers(n,e)),t=this.getPointBounds(i),t=this.addBezierBounds(n,t),t=this.addChildBounds(t,e),this.dirty=!1,this.bounds=t,this.lastMatrix=e.copy()},addBezierBoundingPoints:function(e,t,i,n,l,u,c,h,p){var d,f,m,g,v,y,b,w=[e,t],S=[i,n],x=[l,u],T=[c,h],E=function(e,t){if(e>0&&1>e){var i=1-e,n=i*i,l=e*e,u=i*n*w[t]+3*n*e*S[t]+3*i*l*x[t]+e*l*T[t];0===t?u<p[s]?p[s]=u:u>p[o]&&(p[o]=u):u<p[r]?p[r]=u:u>p[a]&&(p[a]=u)}},C=function(e){e[0]<p[s]?p[s]=e[0]:e[0]>p[o]&&(p[o]=e[0]),e[1]<p[r]?p[r]=e[1]:e[1]>p[a]&&(p[a]=e[1])};for(C(w),C(T),b=0;1>=b;b++)d=-3*w[b]+9*S[b]-9*x[b]+3*T[b],f=6*w[b]-12*S[b]+6*x[b],m=3*S[b]-3*w[b],0===d?0!==f&&E(-m/f,b):(g=f*f-4*m*d,g>=0&&(v=Math.sqrt(g),y=2*d,E((-f+v)/y,b),E((-f-v)/y,b)))}},c=function(){this.points=[],this.beziers=[],this.children=[],this.dirty=!0,this.lastMatrix=l,t.assign(this,u)};return c}),define("views/helpers/canvg/SvgElementBase",["require","lodash","./globals","./utils","./SvgProperty","./BoundingBox"],function(e){"use strict";var t=e("lodash"),i=e("./globals"),n=e("./utils"),s=e("./SvgProperty"),r=e("./BoundingBox"),o={attribute:function(e,t){var n=this.attributes[e];return null!=n?n:(t&&(n=new s(e,""),this.attributes[e]=n),n||i.emptyProperty)},getHrefAttribute:function(){for(var e in this.attributes)if("href"===e||e.match(/:href$/))return this.attributes[e];return i.emptyProperty},style:function(e,t,n){var r=this.styles[e];if(null!=r)return r;var o=this.attribute(e);if(null!=o&&o.hasValue())return this.styles[e]=o,o;if(n){var a=this.parent;if(null!=a){var l=a.style(e);if(null!=l&&l.hasValue())return l}}return t&&(r=new s(e,""),this.styles[e]=r),r||i.emptyProperty},render:function(e){if("none"!==this.style("display").value&&"hidden"!==this.style("visibility").value){if(e.save(),this.style("mask").hasValue()){var t=this.style("mask").getDefinition();null!=t&&t.apply(e,this)}else if(this.style("filter").hasValue()){var i=this.style("filter").getDefinition();null!=i&&i.apply(e,this)}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}},setContext:t.noop,clearContext:t.noop,renderChildren:function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},addChild:function(e,t){var n=e;t&&(n=i.createElement(e)),n.parent=this,"title"!==n.type&&this.children.push(n)},flattenBoundingBox:function(e){var t,i,n;if(null!=this.updateBoundingBox&&this.updateBoundingBox(),null!=this.bb&&(this.bb.points.length>0&&e.points.push.apply(e.points,this.bb.points),
this.bb.beziers.length>0&&e.beziers.push.apply(e.beziers,this.bb.beziers)),null!=this.children)for(n=this.children.length,t=0;n>t;t++)i=this.children[t],null!=i.flattenBoundingBox&&i.flattenBoundingBox(e);return e},getBoundingBox:function(){var e,t,i,n=new r;if(null!=this.bb&&n.addChildBoundingBox(this.bb),null!=this.children)for(i=this.children.length,e=0;i>e;e++)t=this.children[e],null!=t.getBoundingBox&&n.addChildBoundingBox(t.getBoundingBox());return n}},a=function(e){var r,a;if(this.attributes={},this.styles={},this.children=[],t.assign(this,o),null!=e&&1===e.nodeType){for(a=e.attributes.length,r=0;a>r;r++){var l=e.attributes[r],u=l.nodeName;this.attributes[u]=new s(u,l.value)}if(this.attribute("style").hasValue()){var c=this.attribute("style").value.split(";");for(r=0;r<c.length;r++)if(""!==n.trim(c[r])){var h=c[r].split(":"),p=n.trim(h[0]),d=n.trim(h[1]);this.styles[p]=new s(p,d)}}for(this.attribute("id").hasValue()&&null==i.defs[this.attribute("id").value]&&(i.defs[this.attribute("id").value]=this),r=0;r<e.childNodes.length;r++){var f=e.childNodes[r];1===f.nodeType&&this.addChild(f,!0)}}};return a}),define("views/helpers/canvg/SvgTransform",["require","./utils","./SvgProperty"],function(e){"use strict";var t=e("./utils"),i=e("./SvgProperty"),n=/\)([a-zA-Z])/g,s=/\)(\s?,\s?)/g,r=/\s(?=[a-z])/,o=function(e){var o=this;this.Type={},this.Type.translate=function(e){this.p=t.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.unapply=function(e){e.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var n=t.ToNumberArray(e);this.angle=new i("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.unapply=function(e){e.translate(this.cx,this.cy),e.rotate(-1*this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=t.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(e){e.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=t.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(e){var t=this.m[0],i=this.m[2],n=this.m[4],s=this.m[1],r=this.m[3],o=this.m[5],a=0,l=0,u=1,c=1/(t*(r*u-o*l)-i*(s*u-o*a)+n*(s*l-r*a));e.transform(c*(r*u-o*l),c*(o*a-s*u),c*(n*l-i*u),c*(t*u-n*a),c*(i*o-n*r),c*(n*s-t*o))},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=o.Type.matrix,this.base(e),this.angle=new i("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=o.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=o.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.unapply=function(e){for(var t=this.transforms.length-1;t>=0;t--)this.transforms[t].unapply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var a=t.trim(t.compressSpaces(e)).replace(n,") $1").replace(s,") ").split(r),l=a.length,u=0;l>u;u++){var c=a[u].split("("),h=t.trim(c[0]),p=c[1].replace(")","");this.transforms.push(new this.Type[h](p))}};return o}),define("views/helpers/canvg/RenderedElementBase",["require","./utils","./globals","./SvgTransform","./SvgElementBase","./BoundingBox"],function(e){"use strict";var t=(e("./utils"),e("./globals")),i=e("./SvgTransform"),n=e("./SvgElementBase"),s=(e("./BoundingBox"),function(e){this.base=n,this.base(e),this.setStrokeStyles=function(e){if(e.strokeStyle=t.options.col||"blue",this.style("stroke-width").hasValue()){var i=this.style("stroke-width").toPixels();e.lineWidth=0===i?.001:i}this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value)},this.setContext=function(e){var n=this.style("fill"),s=this.style("stroke"),r=s.hasValue()&&"none"!==s.value;if(n.hasValue()&&"none"!==n.value?e.fillStyle=t.options.col||"red":e.fillStyle="rgba(0,0,0,0)",r?this.setStrokeStyles(e):e.strokeStyle="",this.style("transform",!1,!0).hasValue()){var o=new i(this.style("transform",!1,!0).value);o.apply(e)}if(this.style("clip-path",!1,!0).hasValue()){var a=this.style("clip-path",!1,!0).getDefinition();null!=a&&a.apply(e)}}});return s.prototype=new n,s}),define("views/helpers/canvg/PathElementBase",["require","./utils","./BoundingBox","./globals","./RenderedElementBase"],function(e){"use strict";var t=(e("./utils"),e("./BoundingBox"),e("./globals")),i=e("./RenderedElementBase"),n=function(e){this.base=i,this.base(e),this.path=function(e){null!=e&&e.beginPath()},this.renderChildren=function(e){this.path(e),""!==e.fillStyle&&("inherit"!==this.style("fill-rule").valueOrDefault("inherit")?e.fill(this.style("fill-rule").value):e.fill()),""!==e.strokeStyle&&(e.lineWidth>t.maxStroke&&(t.maxStroke=e.lineWidth),e.stroke())}};return n.prototype=new i,n}),define("views/helpers/canvg/SvgMissing",["require","./globals","./utils","./SvgElementBase"],function(e){"use strict";var t=(e("./globals"),e("./utils"),e("./SvgElementBase")),i=function(e){};return i.prototype=new t,i}),define("views/helpers/canvg/SvgRect",["require","./globals","./utils","./BoundingBox","./PathElementBase"],function(e){"use strict";var t=(e("./globals"),e("./utils"),e("./BoundingBox")),i=e("./PathElementBase"),n=function(e){this.base=i,this.base(e);var n,s,r,o,a,l,u,c,h,p;null!=e&&(n=this.attribute("x").toPixels("x"),s=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y"),a=n+r,l=s+o,u=this.attribute("rx").toPixels("x"),c=this.attribute("ry").toPixels("y"),h=this.attribute("rx").hasValue(),p=this.attribute("ry").hasValue(),h&&!p?c=u:!h&&p&&(u=c),u=Math.min(u,r/2),c=Math.min(c,o/2),this.bb=new t,u>0||c>0?(this.bb.addQuadraticCurve(a-u,s,a,s,a,s+c),this.bb.addQuadraticCurve(a,l-c,a,l,a-u,l),this.bb.addQuadraticCurve(n+u,l,n,l,n,l-c),this.bb.addQuadraticCurve(n,s+c,n,s,n+u,s)):(this.bb.addPoint(n,s),this.bb.addPoint(a,s),this.bb.addPoint(a,l),this.bb.addPoint(n,l))),this.path=function(e){null!=e&&(e.beginPath(),e.moveTo(n+u,s),e.lineTo(a-u,s),e.quadraticCurveTo(a,s,a,s+c),e.lineTo(a,l-c),e.quadraticCurveTo(a,l,a-u,l),e.lineTo(n+u,l),e.quadraticCurveTo(n,l,n,l-c),e.lineTo(n,s+c),e.quadraticCurveTo(n,s,n+u,s),e.closePath())}};return n.prototype=new i,n}),define("views/helpers/canvg/SvgCircle",["require","./globals","./utils","./BoundingBox","./PathElementBase"],function(e){"use strict";var t=(e("./globals"),e("./utils")),i=e("./BoundingBox"),n=e("./PathElementBase"),s=t.kappa,r=function(e){this.base=n,this.base(e);var t,r,o,a;null!=e&&(t=this.attribute("cx").toPixels("x"),r=this.attribute("cy").toPixels("y"),o=this.attribute("r").toPixels(),a=s*o,this.bb=new i,this.bb.addBezierCurve(t,r-o,t+a,r-o,t+o,r-a,t+o,r),this.bb.addBezierCurve(t+o,r,t+o,r+a,t+a,r+o,t,r+o),this.bb.addBezierCurve(t,r+o,t-a,r+o,t-o,r+a,t-o,r),this.bb.addBezierCurve(t-o,r,t-o,r-a,t-a,r-o,t,r-o)),this.path=function(e){null!=e&&(e.beginPath(),e.arc(t,r,o,0,2*Math.PI,!0),e.closePath())}};return r.prototype=new n,r}),define("views/helpers/canvg/SvgEllipse",["require","./globals","./utils","./BoundingBox","./PathElementBase"],function(e){"use strict";var t=(e("./globals"),e("./utils")),i=e("./BoundingBox"),n=e("./PathElementBase"),s=t.kappa,r=function(e){this.base=n,this.base(e);var t,r,o,a,l,u,c,h,p,d,f;if(null!=e)for(t=this.attribute("rx").toPixels("x"),r=this.attribute("ry").toPixels("y"),o=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y"),d=s*t,f=s*r,l=[[o+d,a-r,o+t,a-f,o+t,a],[o+t,a+f,o+d,a+r,o,a+r],[o-d,a+r,o-t,a+f,o-t,a],[o-t,a-f,o-d,a-r,o,a-r]],this.bb=new i,h=o,p=a,c=0;4>c;c++)u=l[c],this.bb.addBezierCurve(h,p,u[0],u[1],u[2],u[3],u[4],u[5]),h=u[4],p=u[5];this.path=function(e){if(null!=e){for(e.beginPath(),e.moveTo(o,a-r),c=0;4>c;c++)u=l[c],e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);e.closePath()}}};return r.prototype=new n,r}),define("views/helpers/canvg/SvgLine",["require","./globals","./utils","./SvgPoint","./BoundingBox","./PathElementBase"],function(e){"use strict";var t=(e("./globals"),e("./utils"),e("./SvgPoint"),e("./BoundingBox")),i=e("./PathElementBase"),n=function(e){this.base=i,this.base(e);var n,s,r,o;null!=e&&(n=this.attribute("x1").toPixels("x"),s=this.attribute("y1").toPixels("y"),r=this.attribute("x2").toPixels("x"),o=this.attribute("y2").toPixels("y"),this.bb=new t,this.bb.addPoint(n,s),this.bb.addPoint(r,o)),this.path=function(e){null!=e&&(e.beginPath(),e.moveTo(n,s),e.lineTo(r,o))}};return n.prototype=new i,n}),define("views/helpers/canvg/SvgPolyline",["require","./globals","./utils","./BoundingBox","./PathElementBase"],function(e){"use strict";var t=(e("./globals"),e("./utils")),i=e("./BoundingBox"),n=e("./PathElementBase"),s=function(e){if(this.base=n,this.base(e),null!=e){this.points=t.CreatePath(this.attribute("points").value);var s,r=this.points.length;for(this.bb=new i,s=0;r>s;s++)this.bb.addPoint(this.points[s].x,this.points[s].y)}this.path=function(e){if(null!=e){e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y);for(var t=1;t<this.points.length;t++)e.lineTo(this.points[t].x,this.points[t].y)}}};return s.prototype=new n,s}),define("views/helpers/canvg/SvgPolygon",["require","./globals","./utils","./SvgPolyline"],function(e){"use strict";var t=(e("./globals"),e("./utils"),e("./SvgPolyline")),i=function(e){this.base=t,this.base(e),this.basePath=this.path,this.path=function(e){null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath())}};return i.prototype=new t,i}),define("views/helpers/canvg/PathParser",["require","lodash","./globals","./utils","./SvgPoint"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./utils"),e("./SvgPoint")),n=/^[A-Za-z]$/,s=function(e){this.tokens=e.split(" ")};return t.assign(s.prototype,{reset:function(){this.i=-1,this.command="",this.previousCommand="",this.start=new i(0,0),this.control=new i(0,0),this.current=new i(0,0)},isEnd:function(){return this.i>=this.tokens.length-1},isCommandOrEnd:function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(n)},isRelativeCommand:function(){return this.command===this.command.toLowerCase()},getToken:function(){return this.tokens[++this.i]},getScalar:function(){return parseFloat(this.getToken())},nextCommand:function(){this.previousCommand=this.command,this.command=this.getToken()},getPoint:function(){var e=new i(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},getAsControlPoint:function(){return this.control=this.getPoint()},getAsCurrentPoint:function(){return this.current=this.getPoint()},getReflectedControlPoint:function(){var e=this.previousCommand.toLowerCase();return"c"!==e&&"s"!==e&&"q"!==e&&"t"!==e?this.current:new i(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},makeAbsolute:function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e}}),s}),define("views/helpers/canvg/SvgPath",["require","helpers/constants","helpers/TransMatrix","./globals","./utils","./SvgPoint","./BoundingBox","./PathParser","./PathElementBase"],function(e){"use strict";var t=e("helpers/constants"),i=e("helpers/TransMatrix"),n=(e("./globals"),e("./utils")),s=e("./SvgPoint"),r=e("./BoundingBox"),o=e("./PathParser"),a=e("./PathElementBase"),l=/,/gm,u=/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,c=/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,h=/([0-9])([+\-])/gm,p=/(\.[0-9]*)(\.)/gm,d=/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,f=t.math.TO_DEGREES,m=t.math.TO_RADIANS,g=function(e,t){var i=Math.sqrt(e.x*e.x+e.y*e.y),n=Math.sqrt(t.x*t.x+t.y*t.y);return(e.x*t.x+e.y*t.y)/(i*n)},v=function(e,t,i){return i=i||g(e,t),(e.x*t.y<e.y*t.x?-1:1)*Math.acos(i)},y=function(e,n,s,r,o,a,l,u){u&&(l=-l);var c,h=Math.ceil(Math.abs(l)/t.math.QUARTER_PI),p=l/h,d=p/2,m=Math.cos(d),g=t.math.HALF_PI+a,v=[],y=0!==s?(new i).rotate(s*f,e,n):{transformPoint:function(e,t){return{x:e,y:t}}};for(c=0;h>c;c++)g+=p,v.push([y.transformPoint(e+Math.sin(g-d)*(r/m),n-Math.cos(g-d)*(o/m)),y.transformPoint(e+Math.sin(g)*r,n-Math.cos(g)*o)]);return v},b={m:function(e,t,i){var n=e.getAsCurrentPoint();for(t.addPoint(n.x,n.y),null!=i&&i.moveTo(n.x,n.y),e.start=e.current;!e.isCommandOrEnd();)n=e.getAsCurrentPoint(),t.addPoint(n.x,n.y),null!=i&&i.lineTo(n.x,n.y)},z:function(e,t,i){null!=i&&i.closePath(),e.current=e.start},l:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.getAsCurrentPoint();t.addPoint(n.x,n.y),null!=i&&i.lineTo(n.x,n.y)}},h:function(e,t,i){for(;!e.isCommandOrEnd();){var n=new s((e.isRelativeCommand()?e.current.x:0)+e.getScalar(),e.current.y);e.current=n,t.addPoint(e.current.x,e.current.y),null!=i&&i.lineTo(e.current.x,e.current.y)}},v:function(e,t,i){for(;!e.isCommandOrEnd();){var n=new s(e.current.x,(e.isRelativeCommand()?e.current.y:0)+e.getScalar());e.current=n,t.addPoint(e.current.x,e.current.y),null!=i&&i.lineTo(e.current.x,e.current.y)}},c:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.current,s=e.getPoint(),r=e.getAsControlPoint(),o=e.getAsCurrentPoint();t.addBezierCurve(n.x,n.y,s.x,s.y,r.x,r.y,o.x,o.y),null!=i&&i.bezierCurveTo(s.x,s.y,r.x,r.y,o.x,o.y)}},s:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.current,s=e.getReflectedControlPoint(),r=e.getAsControlPoint(),o=e.getAsCurrentPoint();t.addBezierCurve(n.x,n.y,s.x,s.y,r.x,r.y,o.x,o.y),null!=i&&i.bezierCurveTo(s.x,s.y,r.x,r.y,o.x,o.y)}},q:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.current,s=e.getAsControlPoint(),r=e.getAsCurrentPoint();t.addQuadraticCurve(n.x,n.y,s.x,s.y,r.x,r.y),null!=i&&i.quadraticCurveTo(s.x,s.y,r.x,r.y)}},t:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.current,s=e.getReflectedControlPoint();e.control=s;var r=e.getAsCurrentPoint();t.addQuadraticCurve(n.x,n.y,s.x,s.y,r.x,r.y),null!=i&&i.quadraticCurveTo(s.x,s.y,r.x,r.y)}},a:function(e,t,i){for(;!e.isCommandOrEnd();){var n,s,r,o,a,l,u,c,h,p,d,f,b,w=e.current,S=e.getScalar(),x=e.getScalar(),T=e.getScalar()*m,E=Math.sin(T),C=Math.cos(T),A=e.getScalar(),P=e.getScalar(),_=e.getAsCurrentPoint(),I={x:C*(w.x-_.x)/2+E*(w.y-_.y)/2,y:-E*(w.x-_.x)/2+C*(w.y-_.y)/2},k=I.y*I.y,R=I.x*I.x,O=R/(S*S)+k/(x*x),L=0;for(O>1&&(n=Math.sqrt(O),S*=n,x*=n),s=S*S,r=x*x,o=(A===P?-1:1)*Math.sqrt((s*r-s*k-r*R)/(s*k+r*R)),isNaN(o)&&(o=0),a={x:o*S*I.y/x,y:o*-x*I.x/S},l={x:(w.x+_.x)/2+C*a.x-E*a.y,y:(w.y+_.y)/2+E*a.x+C*a.y},u={x:(I.x-a.x)/S,y:(I.y-a.y)/x},c={x:(-I.x-a.x)/S,y:(-I.y-a.y)/x},h=v({x:1,y:0},u),p=g(u,c),-1>=p?L=Math.PI:1>p&&(L=v(u,c,p)),d=y(l.x,l.y,T,S,x,h,L,1-P!==0),b=0;b<d.length;b++)f=d[b],t.addQuadraticCurve(w.x,w.y,f[0].x,f[0].y,f[1].x,f[1].y),null!=i&&i.quadraticCurveTo(f[0].x,f[0].y,f[1].x,f[1].y),w=f[1]}}},w=function(e){this.base=a,this.base(e);var t=this.attribute("d").value;t=t.replace(l," "),t=t.replace(u,"$1 $2").replace(u,"$1 $2"),t=t.replace(c,"$1 $2"),t=t.replace(h,"$1 $2"),t=t.replace(p,"$1 $2").replace(p,"$1 $2"),t=t.replace(d,"$1 $3 $4 "),t=n.compressSpaces(t),t=n.trim(t),this.PathParser=new o(t),this.path=function(e){var t=this.PathParser;for(t.reset(),this.bb=new r,null!=e&&e.beginPath();!t.isEnd();){t.nextCommand();var i=t.command.toLowerCase();b[i](t,this.bb,e)}},this.getBoundingBoxBase=this.getBoundingBox,this.getBoundingBox=function(){return null==this.bb&&this.path(),this.getBoundingBoxBase()},this.updateBoundingBox=function(){null==this.bb&&this.path()}};return w.prototype=new a,w}),define("views/helpers/canvg/SvgDefs",["require","lodash","./globals","./utils","./SvgElementBase"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./utils"),e("./SvgElementBase")),n=function(e){this.base=i,this.base(e),this.render=t.noop};return n.prototype=new i,n}),define("views/helpers/canvg/SvgImage",["require","./globals","./utils","./SvgTransform","./SvgRect"],function(e){"use strict";var t=e("./globals"),i=(e("./utils"),e("./SvgTransform")),n=e("./SvgRect"),s=function(e){this.base=n,this.base(e),this.style("transform",!1,!0).hasValue()&&this.bb.applyTransform(new i(this.style("transform",!1,!0).value)),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),null!=e&&(e.fillStyle=t.options.col||"red",e.strokeStyle="")}};return s.prototype=new n,s}),define("views/helpers/canvg/SvgGNode",["require","./RenderedElementBase"],function(e){"use strict";var t=e("./RenderedElementBase"),i=function(e){this.base=t,this.base(e)};return i.prototype=new t,i}),define("views/helpers/canvg/SvgSymbol",["require","lodash","./globals","./utils","./RenderedElementBase"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./utils"),e("./RenderedElementBase")),n=function(e){this.base=i,this.base(e),this.render=t.noop};return n.prototype=new i,n}),define("views/helpers/canvg/SvgSvg",["require","./globals","./utils","./RenderedElementBase"],function(e){"use strict";var t=e("./globals"),i=e("./utils"),n=e("./RenderedElementBase"),s=function(e){this.base=n,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),t.viewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,"undefined"!=typeof e.font&&"undefined"!=typeof window.getComputedStyle&&(e.font=window.getComputedStyle(e.canvas).getPropertyValue("font")),this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=t.viewPort.width(),s=t.viewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){n=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");var r=0,o=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(r=-this.attribute("refX").toPixels("x"),o=-this.attribute("refY").toPixels("y")),"visible"!==this.attribute("overflow").valueOrDefault("hidden")&&(e.beginPath(),e.moveTo(r,o),e.lineTo(n,o),e.lineTo(n,s),e.lineTo(r,s),e.closePath(),e.clip())}if(t.viewPort.SetCurrent(n,s),this.attribute("viewBox").hasValue()){var a=i.ToNumberArray(this.attribute("viewBox").value),l=a[0],u=a[1];n=a[2]+(this.root?1:0),s=a[3]+(this.root?1:0),i.aspectRatio(e,this.attribute("preserveAspectRatio").value,t.viewPort.width(),n,t.viewPort.height(),s,l,u,this.attribute("refX").value,this.attribute("refY").value),t.viewPort.RemoveCurrent(),t.viewPort.SetCurrent(a[2],a[3])}}};return s.prototype=new n,s}),define("views/helpers/canvg/SvgUse",["require","./globals","./utils","./BoundingBox","./SvgSvg","./SvgProperty","./RenderedElementBase"],function(e){"use strict";var t=(e("./globals"),e("./utils"),e("./BoundingBox"),e("./SvgSvg")),i=e("./SvgProperty"),n=e("./RenderedElementBase"),s=function(e){this.base=n,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))};var s=this.getHrefAttribute().getDefinition();this.path=function(e){null!=s&&s.path(e)},this.getBoundingBox=function(){return null!=s?s.getBoundingBox():void 0},this.updateBoundingBox=function(){null!=s&&s.getBoundingBox()},this.renderChildren=function(e){if(null!=s){var n=s;"symbol"===s.type&&(n=new t,n.type="svg",n.attributes.viewBox=new i("viewBox",s.attribute("viewBox").value),n.attributes.preserveAspectRatio=new i("preserveAspectRatio",s.attribute("preserveAspectRatio").value),n.attributes.overflow=new i("overflow",s.attribute("overflow").value),n.children=s.children),"svg"===n.type&&(this.attribute("width").hasValue()&&(n.attributes.width=new i("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(n.attributes.height=new i("height",this.attribute("height").value)));var r=n.parent;n.parent=null,n.render(e),n.parent=r}}};return s.prototype=new n,s}),define("views/helpers/canvg/SvgMask",["require","lodash","./globals","./utils","./BoundingBox","./SvgElementBase"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./utils"),e("./BoundingBox"),e("./SvgElementBase")),n=function(e){this.base=i,this.base(e),this.apply=function(e,t){var i=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),s=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");if(0===s&&0===r){var o=this.getBoundingBox();i=Math.floor(o.left()),n=Math.floor(o.top()),s=Math.floor(o.width()),r=Math.floor(o.height())}var a=t.attribute("mask").value;t.attribute("mask").value="";var l=document.createElement("canvas");l.width=i+s,l.height=n+r;var u=l.getContext("2d");this.renderChildren(u);var c=document.createElement("canvas");c.width=i+s,c.height=n+r;var h=c.getContext("2d");t.render(h),h.globalCompositeOperation="destination-in",c.width>0&&(h.fillStyle=u.createPattern(l,"no-repeat"),h.fillRect(0,0,i+s,n+r),e.fillStyle=h.createPattern(c,"no-repeat"),e.fillRect(0,0,i+s,n+r)),t.attribute("mask").value=a},this.render=t.noop};return n.prototype=new i,n}),define("views/helpers/canvg/SvgClipPath",["require","lodash","./globals","./SvgTransform","./SvgElementBase"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./SvgTransform")),n=e("./SvgElementBase"),s=function(e){this.base=n,this.base(e),this.apply=function(e){var n=window.CanvasRenderingContext2D,s=n.prototype.beginPath,r=n.prototype.closePath;n.prototype.beginPath=t.noop,n.prototype.closePath=t.noop,s.call(e);for(var o=0;o<this.children.length;o++){var a=this.children[o];if(null!=a.path){var l=null;a.style("transform",!1,!0).hasValue()&&(l=new i(a.style("transform",!1,!0).value),l.apply(e)),a.path(e),n.prototype.closePath=r,l&&l.unapply(e)}}r.call(e),e.clip(),n.prototype.beginPath=s,n.prototype.closePath=r},this.render=t.noop};return s.prototype=new n,s}),define("views/helpers/canvg/elementFactory",["require","./globals","./utils","./SvgMissing","./SvgProperty","./SvgRect","./SvgCircle","./SvgEllipse","./SvgLine","./SvgPolyline","./SvgPolygon","./SvgPath","./SvgDefs","./SvgImage","./SvgGNode","./SvgSymbol","./SvgSvg","./SvgUse","./SvgMask","./SvgClipPath"],function(e){"use strict";var t=(e("./globals"),e("./utils"),e("./SvgMissing")),i=(e("./SvgProperty"),e("./SvgRect")),n=e("./SvgCircle"),s=e("./SvgEllipse"),r=e("./SvgLine"),o=e("./SvgPolyline"),a=e("./SvgPolygon"),l=e("./SvgPath"),u=e("./SvgDefs"),c=e("./SvgImage"),h=e("./SvgGNode"),p=e("./SvgSymbol"),d=e("./SvgSvg"),f=e("./SvgUse"),m=e("./SvgMask"),g=e("./SvgClipPath"),v={rect:i,circle:n,ellipse:s,line:r,polyline:o,polygon:a,path:l,defs:u,image:c,g:h,symbol:p,use:f,mask:m,svg:d,clipPath:g},y=/^[^:]+:/,b=/\-/g,w={createElement:function(e){var i=e.nodeName.replace(y,"").replace(b,""),n=v[i]||t,s=new n(e);return s.type=e.nodeName,s}};return w}),define("views/helpers/canvg/fastCanvg",["require","./globals","./utils","./SvgViewPort","./SvgPoint","./SvgProperty","./SvgElementBase","./RenderedElementBase","./PathElementBase","./SvgTransform","./BoundingBox","./elementFactory"],function(e){"use strict";var t=e("./globals"),i=e("./utils"),n=e("./SvgViewPort"),s=(e("./SvgPoint"),e("./SvgProperty")),r=(e("./SvgElementBase"),e("./RenderedElementBase"),e("./PathElementBase"),e("./SvgTransform"),e("./BoundingBox")),o=e("./elementFactory"),a=function(e,i){var n=t.createElement(i.documentElement),s=e.getContext("2d");n.root=!0,t.viewPort.Clear(),e.parentNode&&t.viewPort.SetCurrent(e.parentNode.clientWidth,e.parentNode.clientHeight),n.style("width").hasValue()&&(e.width=n.style("width").toPixels("x")+1,e.style.width=e.width+"px"),n.style("height").hasValue()&&(e.height=n.style("height").toPixels("y")+1,e.style.height=e.height+"px");var r=e.clientWidth||e.width,o=e.clientHeight||e.height;return t.viewPort.SetCurrent(r,o),n.render(s),{bb:l(n),sw:t.maxStroke}},l=function(e){var t,i,n=e.flattenBoundingBox(new r);return 0===n.points.length&&0===n.beziers.length&&0===n.children.length&&(t=e.attribute("width"),i=e.attribute("height"),t.value&&i.value&&(t=t.toPixels("x"),i=i.toPixels("y"),n.points=[[0,0],[0,i],[t,i],[t,0]])),n},u=function(e,r,l){return e="string"==typeof e?document.getElementById(e):e,t.defs={},t.options=l,t.createElement=o.createElement,t.emptyProperty=new s("EMPTY",""),t.viewPort=new n,t.maxStroke=0,a(e,"undefined"!=typeof r.documentElement?r:i.parseXml(r.trim()))};return u}),define("views/helpers/bitmapHelper",["require","lodash","helpers/constants","views/helpers/bitmaskHelper","views/helpers/transformHelper","helpers/TransMatrix","views/helpers/canvg/fastCanvg"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("views/helpers/bitmaskHelper"),s=e("views/helpers/transformHelper"),r=e("helpers/TransMatrix"),o=e("views/helpers/canvg/fastCanvg"),a="#ff0000",l=/xlink\:href="(.*?)"/g,u=/data-reactid="(.*?)"/g,c=/&nbsp;/g,h={},p=function(e){return e.replace(l,"").replace(c," ").replace(u,"")},d=function(e){var t,i,s,r=e.props.model,l=(r.getCurrentStateData()||{}).html5data||{};return null!=l.mask?(i=n.buildImage(l.mask,l.xPos,l.yPos,l.width,l.height),{canvas:i.canvas,bb:i.bb,sw:0}):(t=document.createElement("canvas"),s=o(t,p(e.find("svg").parentNode.innerHTML),{col:a}),{canvas:t,bb:s.bb,sw:s.sw})},f=function(e){var t=e.props.model,i=t.getSlide(),n=i.id,s=t.absoluteId+e.state.ObjectState,r=(h[n]||{})[s];return null!=r?r:(null==h[n]&&(h[n]={}),h[n][s]=d(e),h[n][s])},m=function(e,t){var i=f(e),n=i.bb.getBounds(t),s=i.sw/2;return n[0]-=s,n[1]-=s,n[2]+=s,n[3]+=s,n},g=function(e){return null!=e.getClosestAncestorByKind("expandinglabel",!0)},v=function(e,i){var n=e.props.model,r=n.isStateGroupSlideObject&&n.getIsExpandingLabel();return t.reduce(e.allRefs,function(t,n){var o=n.currView,a=s.getRelativeMatrix(o,e,i),l=A.getBounds(o,a);return r&&g(n)||l.every(isNaN)?t:(t[0]=Math.min(t[0],l[0]),t[1]=Math.min(t[1],l[1]),t[2]=Math.max(t[2],l[2]),t[3]=Math.max(t[3],l[3]),t)},[1/0,1/0,-(1/0),-(1/0)])},y=function(e,t){var i=e.props.model.getCurrentStateMetrics(),n=i.xPos,s=i.yPos,r=n+i.width,o=s+i.height,a=[t.transformPoint(n,s),t.transformPoint(r,s),t.transformPoint(n,o),t.transformPoint(r,o)];return[Math.min(a[0].x,a[1].x,a[2].x,a[3].x),Math.min(a[0].y,a[1].y,a[2].y,a[3].y),Math.max(a[0].x,a[1].x,a[2].x,a[3].x),Math.max(a[0].y,a[1].y,a[2].y,a[3].y)]},b=function(e){return[0,0,e.props.model.get("width"),e.props.model.get("height")]},w={svgHit:m,groupHit:v,rectHit:y,slideHit:b},S=function(e){return f(e).canvas},x=function(e){var i=A.getLocalRotatedBounds(e,0),n=A.getBounds(e),s=Math.round(n[0]),r=Math.round(n[1]),o=Math.ceil(i[2]-i[0]),a=Math.ceil(i[3]-i[1]),l=document.createElement("canvas"),u=l.getContext("2d"),c=e.props.model,h=c.isStateGroupSlideObject&&c.getIsExpandingLabel();return l.width=o,l.height=a,u.translate(-s,-r),t.forEach(e.allRefs,function(e){h&&g(e)||!e.currView.trulyVisible||A.drawToTarget(e.currView,u)}),u.translate(s,r),l},T=function(e){var t=e.props.model.getCurrentStateMetrics(),i=document.createElement("canvas"),n=i.getContext("2d");return i.width=t.width,i.height=t.height,n.fillStyle="#ff0000",n.fillRect(0,0,i.width,i.height),i},E=function(e){return null},C={svgHit:S,groupHit:x,rectHit:T,slideHit:E},A={getBounds:function(e,t){return t=t||s.getMatrix(e),w[e.props.model.getHitType()](e,t)},getLocalRotatedBounds:function(e,t){var i=(new r).rotate(t,e.state.rotateXPos,e.state.rotateYPos);return w[e.props.model.getHitType()](e,i)},getCanvas:function(e){return C[e.props.model.getHitType()](e)},drawToTarget:function(e,t){var n,o=e.props.model,a=s.getMatrix(e)||new r,l=e.props.model.getHitType(),u=null!=o.getCurrentStateMetrics?o.getCurrentStateMetrics():{xPos:0,yPos:0},c=null==u.mask?u.strokewidth:0,h=u.xPos-c,p=u.yPos-c;t.save(),t.transform(a.a,a.c,a.b,a.d,a.tx,a.ty),l===i.SLIDE_HIT||l===i.RECT_HIT?(n=A.getLocalRotatedBounds(e,0),t.fillStyle="#ff0000",t.fillRect(n[0],n[1],n[2]-n[0],n[3]-n[1])):(l===i.GROUP_HIT&&(n=A.getLocalRotatedBounds(e,0),h=Math.round(n[0]),p=Math.round(n[1])),t.drawImage(A.getCanvas(e),h,p)),t.restore()},clearBitmapCache:function(){h={}},clearSlideCache:function(e){h[e]=null}};return A}),define("helpers/svg/masks/Mask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/TransMatrix","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("views/helpers/dom"),s=(e("helpers/TransMatrix"),e("helpers/utils"),function(e,t){this.maskProps=t,this.shapeProps=e,this.createSvg(e),this.setupAnimation(),this.getAnimateFn&&(this.animate=this.getAnimateFn())});return t.extend(s.prototype,{setupAnimation:t.noop,animate:t.noop,getDirection:function(){return this.maskProps.direction},isExit:function(){return this.maskProps.isExit},createSvg:function(e){return this.width=e.rotatedBounds.right-e.rotatedBounds.left+2,this.height=e.rotatedBounds.bottom-e.rotatedBounds.top+2,this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.maskId=t.uniqueId("mask-"),this.maskNode=i.createSvgNode(this.width,this.height),this.clipPath=i.createElement("clipPath"),this.clipPath.setAttribute("id",this.maskId),this.maskNode.appendChild(this.clipPath),this.clipShape=n.setAttributes(i.createElement("path"),{"clip-rule":"evenodd"}),this.transformSvg(e),this.clipPath.appendChild(this.clipShape),document.querySelector("#mask-library").appendChild(this.maskNode),this.direction=this.getDirection(),this.fullRect=i.rectPath(0,0,this.width,this.height),this.invertRect=this.isExit()?this.fullRect:"",this.inRect="in"===this.direction?this.fullRect:"",this},transformSvg:function(e){var t=i.transformRotate(-e.globalRotation.x,e.regPoint.x-e.rotatedBounds.left,e.regPoint.y-e.rotatedBounds.top),n=i.transformTranslate(e.rotatedBounds.left-e.maskableOffset.x,e.rotatedBounds.top-e.maskableOffset.y);this.clipShape.setAttribute("transform",[n,t].join(" "))},destroy:function(){this.maskNode.parentNode&&this.maskNode.parentNode.removeChild(this.maskNode)}}),s}),define("helpers/svg/masks/CheckerboardMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){var e,t,i,n,s,r,o="across"===this.direction,a=10,l=14,u=o?a/2:a,c=o?l:l/2,h=function(e){return this.isHorizontal?{x:-1*this.finalWidth/2,y:2*e*this.finalHeight+this.finalHeight}:{x:2*e*this.finalWidth+this.finalWidth,y:-1*this.finalHeight/2}}.bind(this);for(this.isHorizontal=o,this.finalWidth=this.width/u,this.finalHeight=this.height/c,this.points=[],e=a*l/2;e--;)t=e%a,i=t%u,n=Math.floor(e/u),this.isHorizontal?(s=u>t?0:this.finalWidth/2,r=0):(s=0,r=i%2?this.finalHeight/2:0),this.points[e]={x:i*this.finalWidth+s,y:n*this.finalHeight+r};for(e=this.isHorizontal?c:u;e--;)this.points.push(h(e))},animate:function(e){var t=this.isHorizontal?e:1,n=this.isHorizontal?1:e,s=this.points.map(function(e){
return i.rectPath(e.x,e.y,this.finalWidth*t,this.finalHeight*n)}.bind(this));this.clipShape.setAttribute("d",s.join(" "))}}),s}),define("helpers/svg/masks/CircleMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=e("helpers/utils"),r=function(e,t){n.call(this,e,t)};return t.extend(r.prototype,n.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width,this.finalScale=Math.sqrt(2*Math.pow(this.height,2))/this.height},drawCircle:function(e){e*=this.finalScale,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.ellipsePath(this.halfWidth,this.halfHeight,this.halfWidth*e,this.halfHeight*e)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawCircle:function(e){this.drawCircle(s.invertPercent(e))}}}),r}),define("helpers/svg/masks/BoxMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=e("helpers/utils"),r=function(e,t){n.call(this,e,t)};return t.extend(r.prototype,n.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width},drawBox:function(e){var t=this.halfWidth-this.halfWidth*e,n=this.halfHeight-this.halfHeight*e,s=this.width*e,r=this.height*e;this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.rectPath(t,n,s,r)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawBox:function(e){this.drawBox(s.invertPercent(e))}}}),r}),define("helpers/svg/masks/FullMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=(e("helpers/utils"),function(e,t){n.call(this,e,t)});return t.extend(s.prototype,n.prototype,{drawBox:function(e,t,n,s){(this.width-this.shapeProps.size.x)/2,(this.height-this.shapeProps.size.y)/2;this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.rectPath(-(n.x-t.x),-(n.y-t.y),this.width,this.height)].join(" "))},getAnimateFn:function(){return this.drawBox}}),s}),define("helpers/svg/masks/DiamondMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=e("helpers/utils"),r=function(e,t){n.call(this,e,t)};return t.extend(r.prototype,n.prototype,{drawDiamond:function(e){var t=s.invertPercent(e),n=this.width*t-this.halfWidth,r=this.height*t-this.halfHeight;e*=2,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.diamondPath(n,r,this.width*e,this.height*e)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawDiamond:function(e){this.drawDiamond(s.invertPercent(e))}}}),r}),define("helpers/svg/masks/BlindsMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){var e;this.numBlinds=6,e="horizontal"===this.direction?"height":"width",this.blindThickness=this[e]/this.numBlinds},animate:function(e){for(var t,n=[];n.length<this.numBlinds;)t=n.length*this.blindThickness,n.push("horizontal"===this.direction?i.rectPath(0,t,this.width,this.blindThickness*e):i.rectPath(t,0,this.blindThickness*e,this.height));this.clipShape.setAttribute("d",n.join(" "))}}),s}),define("helpers/svg/masks/RandomBarsMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/svg/svgUtils"),e("views/helpers/dom"),e("helpers/svg/masks/Mask")),n=e("helpers/utils"),s=1e3,r=1,o="M 0 0",a=function(e){return Math.max(r,Math.ceil(e)/s)},l=function(e,t){return Math.ceil(e/t)},u=function(e,t,i,n,s){return e?["M",0,s*t,"h",i,"v",t,"h",-i,"Z"].join(" "):["M",s*t,0,"v",n,"h",t,"v",-n,"Z"].join(" ")},c=function(e,t){i.call(this,e,t)};return t.extend(c.prototype,i.prototype,{getBarPaths:function(){if(this.barPaths)return this.barPaths;var e="horizontal"===this.direction,i=e?this.height:this.width,n=a(i),s=l(i,n),r=i/s,o=t.partial(u,e,r,this.width,this.height),c=t.range(s).map(o);return this.barPaths=t.shuffle(c),this.barPaths},animate:function(e){var t=Math.round(n.invertPercent(e)*this.getBarPaths().length),i=this.getBarPaths().slice(t).join(" ")||o;this.clipShape.setAttribute("d",this.invertRect+i)}}),c}),define("helpers/svg/masks/SplitMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=e("helpers/utils"),r=function(e,t){n.call(this,e,t)};return t.extend(r.prototype,n.prototype,{setupAnimation:function(){var e="verticalout"===this.direction||"horizontalout"===this.direction||"horizontal"===this.direction;this.isVertical="verticalout"===this.direction||"verticalin"===this.direction,this.isOut=this.isExit()?!e:e,this.adjustScale=this.isExit()?s.invertPercent:t.identity},getAnimateFn:function(){return this.isOut?function(e){var t,n=0,r=0;e=this.adjustScale(e),t=s.invertPercent(e),this.clipShape.setAttribute("d",this.isVertical?i.rectPath(t*this.halfWidth,r,this.width*e,this.height):i.rectPath(n,t*this.halfHeight,this.width,this.height*e))}:function(e){var t,n,s=[];e=this.adjustScale(e),this.isVertical?(t=e*this.halfWidth,n=this.height):(t=this.width,n=e*this.halfHeight),s.push(i.rectPath(0,0,t,n)),t*=-1,n*=-1,s.push(i.rectPath(this.width,this.height,t,n)),this.clipShape.setAttribute("d",s.join(" "))}}}),r}),define("helpers/svg/masks/WheelMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=e("helpers/utils"),r=function(e){var t=e.m,i=e.l,n=e.a;return["M",t.x,t.y,"L",i.x,i.y,"A",n.rx,n.ry,n.xRot,n.lgArc,n.sweep,n.x,n.y].join(" ")},o=function(e,t,i,n){var r=360*n-90;return t+e(s.degToRad(r))*i},a=function(e,t,i,n){var s=e+i,r=t+n;return["M",e,t,"L",s,t,s,r,e,r].join(" ")},l=t.partial(o,Math.cos),u=t.partial(o,Math.sin),c=t.partial(l,.5),h=t.partial(u,.5),p=function(e,t){n.call(this,e,t)};return t.extend(p.prototype,n.prototype,{setupAnimation:function(){var e=this.clipShape.getAttribute("transform");this.clipShape.setAttribute("transform",[e,"scale(",this.width,",",this.height,")"].join(" ")),this.calcArcPath=this.createArcAnimationFunc(),this.invertRect=this.isExit()?i.rectPath(0,0,1.1,1.1):""},animate:function(e){this.clipShape.setAttribute("d",1===e?a(0,0,this.width,this.height):this.invertRect+this.calcArcPath(e))},createArcAnimationFunc:function(){var e=this.width,i=this.height,n=this.direction,o=parseInt(this.maskProps.spokes,10),a=s.hypot(e,i),l=a/e/2,u=a/i/2,p=t.range(o).map(function(e){var t=e/o,i=Object.freeze({x:.5,y:.5}),s=Object.freeze({x:c(l,t),y:h(u,t)}),a=Object.defineProperties({},{rx:{value:l},ry:{value:u},xRot:{value:0},lgArc:{value:1},sweep:{value:"clockwise"===n?1:-1},x:{value:s.x,writable:!0},y:{value:s.y,writable:!0}});return{initRotDec:t,m:i,l:s,a:a,update:function(e){var t=e+this.initRotDec;return this.a.x=c(l,t),this.a.y=h(u,t),this},toPathCommands:function(){return r(this)}}});return function(e){return p.map(function(t){return t.update(e/o).toPathCommands()}).join(" ")}}}),p}),define("helpers/svg/masks/DissolveMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=e("helpers/utils"),r=255,o=9,a=function(e,t){var i=Math.ceil(e/r),n=Math.ceil(t/r);return{width:Math.max(o,i),height:Math.max(o,n)}},l=function(e,t){n.call(this,e,t)};return t.extend(l.prototype,n.prototype,{setupAnimation:function(){var e,n=a(this.width,this.height),s=Math.ceil(this.height/n.height),r=Math.ceil(this.width/n.width);for(this.grains=[],this.numGrains=s*r,e=this.numGrains;e--;){var o=e%r*n.width,l=Math.floor(e/r)*n.height;this.grains[e]=i.rectPath(o,l,n.width,n.height)}this.grains=t.shuffle(this.grains),this.pathData=""},animate:function(e){for(var t=s.invertPercent(e)*this.numGrains;this.grains.length>t;)this.pathData+=this.grains.pop();this.clipShape.setAttribute("d",this.pathData)}}),l}),define("helpers/svg/masks/PlusMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=e("helpers/utils"),r=function(e,t){n.call(this,e,t)};return t.extend(r.prototype,n.prototype,{drawPlus:function(e){var t=s.invertPercent(e),n={x:0,y:0,width:this.halfWidth,height:this.halfHeight},r={x:this.halfWidth,y:0,width:this.halfWidth,height:this.halfHeight},o={x:0,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight},a={x:this.halfWidth,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight};n.width=t*this.halfWidth,n.height=t*this.halfHeight,r.x=this.halfWidth+this.halfWidth*e,r.height=n.height,o.width=t*this.halfWidth,o.y=this.halfHeight+this.halfHeight*e,a.x=this.halfWidth+this.halfWidth*e,a.y=o.y,this.clipShape.setAttribute("d",[this.invertRect,i.rectPath(0,0,this.width,this.height),this.inRect,i.rectPath(n.x,n.y,n.width,n.height),i.rectPath(r.x,r.y,r.width,r.height),i.rectPath(o.x,o.y,o.width,o.height),i.rectPath(a.x,a.y,a.width,a.height)].join(" "))},getAnimateFn:function(e){return"out"===this.direction?this.drawPlus:function(e){this.drawPlus(s.invertPercent(e))}}}),r}),define("helpers/svg/masks/WipeMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=e("helpers/utils"),r=function(e,t){n.call(this,e,t)};return t.extend(r.prototype,n.prototype,{setupAnimation:function(){t.bindAll(this),this.adjustRect={frombottom:this.fromBottom,fromleft:this.fromLeft,fromright:this.fromRight,fromtop:this.fromTop,horizontal:this.fromLeft}},fromBottom:function(e,t){t.y=this.height*s.invertPercent(e)},fromTop:function(e,t){t.height=this.height*e},fromLeft:function(e,t){t.width=this.width*e},fromRight:function(e,t){t.x=this.width*s.invertPercent(e)},animate:function(e){var t={x:0,y:0,width:this.width,height:this.height};this.adjustRect[this.direction](e,t),this.clipShape.setAttribute("d",this.invertRect+i.rectPath(t.x,t.y,t.width,t.height))}}),r}),define("helpers/svg/masks/StripsMask",["require","lodash","helpers/svg/svgUtils","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/svg/masks/Mask"),s=e("helpers/utils"),r=20,o=10,a=30,l=function(e){return Math.max(o,Math.min(a,e,Math.ceil(e/r)))},u=function(e,t){n.call(this,e,t)};return t.extend(u.prototype,n.prototype,{setupAnimation:function(){var e=this.width,t=this.height,i=l(t),n=this.getDirection();this.fromTop="leftdown"===n||"rightdown"===n,this.fromLeft="rightdown"===n||"rightup"===n,this.boxSize=i,this.maxWidth=(Math.ceil(t/i)+Math.ceil(e/i))*i},animate:function(e){for(var t,n,r="",o=this.boxSize,a=this.fromTop?0:this.height,l=this.fromTop?o:-o,u=(this.isExit()?s.invertPercent(e):e)*this.maxWidth;u>0&&a>-o&&a<=this.height;)n=Math.min(u,this.width),t=this.fromLeft?0:this.width-n,r+=i.rectPath(t,a,n,o),a+=l,u-=o;this.clipShape.setAttribute("d",r)}}),u}),define("helpers/svg/masks/WedgeMask",["require","lodash","helpers/svg/svgUtils","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/svg/masks/Mask"),s=e("helpers/utils"),r=270,o=90,a=function(e,t){n.call(this,e,t)};return t.extend(a.prototype,n.prototype,{setupAnimation:function(){this.radius=Math.ceil(s.dist(0,0,this.halfWidth,this.halfHeight)),this.startingAngle=this.isExit()?o:r},animate:function(e){var t=180*(this.isExit()?s.invertPercent(e):e),n=180!==t?i.wheelPath(this.halfWidth,this.halfHeight,this.radius,this.startingAngle-t,this.startingAngle+t):i.rectPath(0,0,this.width,this.height);this.clipShape.setAttribute("d",n)}}),a}),define("views/helpers/TweenHelper",["require","lodash","helpers/utils","views/helpers/bitmapHelper","helpers/TransMatrix","views/helpers/dom","helpers/svg/svgUtils","polyfills/vendorOverrides","helpers/errorManager","helpers/svg/masks/CheckerboardMask","helpers/svg/masks/CircleMask","helpers/svg/masks/BoxMask","helpers/svg/masks/FullMask","helpers/svg/masks/DiamondMask","helpers/svg/masks/BlindsMask","helpers/svg/masks/RandomBarsMask","helpers/svg/masks/SplitMask","helpers/svg/masks/WheelMask","helpers/svg/masks/DissolveMask","helpers/svg/masks/PlusMask","helpers/svg/masks/WipeMask","helpers/svg/masks/StripsMask","helpers/svg/masks/WedgeMask","helpers/cssPrefix","polyfills/detection","backbone","tween-lite","ease-pack"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("views/helpers/bitmapHelper"),s=e("helpers/TransMatrix"),r=e("views/helpers/dom"),o=e("helpers/svg/svgUtils"),a=e("polyfills/vendorOverrides"),l=e("helpers/errorManager"),u=e("helpers/svg/masks/CheckerboardMask"),c=e("helpers/svg/masks/CircleMask"),h=e("helpers/svg/masks/BoxMask"),p=e("helpers/svg/masks/FullMask"),d=e("helpers/svg/masks/DiamondMask"),f=e("helpers/svg/masks/BlindsMask"),m=e("helpers/svg/masks/RandomBarsMask"),g=e("helpers/svg/masks/SplitMask"),v=e("helpers/svg/masks/WheelMask"),y=e("helpers/svg/masks/DissolveMask"),b=e("helpers/svg/masks/PlusMask"),w=e("helpers/svg/masks/WipeMask"),S=e("helpers/svg/masks/StripsMask"),x=e("helpers/svg/masks/WedgeMask"),T=e("helpers/cssPrefix"),E=e("polyfills/detection"),C=e("backbone");e("tween-lite"),e("ease-pack");var A=T.camelCase("transform"),P=["position","rotation","scale","skew","alpha","mask","colors"],_={position:"applyTranslation",scale:"applyScale",skew:"applySkew",rotation:"applyRotation",alpha:"applyAlpha",mask:"applyMask",colors:"applyColor"},I={checkerboard:u,circle:c,box:h,diamond:d,blinds:f,randombars:m,split:g,wheel:v,dissolve:y,plus:b,wipe:w,full:p,strips:S,wedge:x},k={right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1},up:{x:0,y:-1}},R={topleft:{x:0,y:0},topright:{x:1,y:0},bottomleft:{x:0,y:1},bottomright:{x:1,y:1}},O=["blinds","box","checkerboard","circle","clock","comb","diamond","dissolve","full","none","plus","randombars","split","strips","wedge","wheel","wipe","strips"],L=l.throwError("TweenHelper"),M=function(e,t,n){return t>=n?1:i.clamp(0,1,EaseLookup.find(e).getRatio(t/n))},D=a.forceSingleRepaint||t.noop,N=function(e,t,i,n){this.view=e,this.secondaryView=n,this.model=this.view.props.model,this.isReverse=t,this.config=i,this.duration=i.duration,this.startTime=0,this.tweens=i.tweens,this.listenTo(this.model,{moveTo:this.updateDefaultPosition}),this.initialize(),this.handleMobileVideo()};return t.extend(N.prototype,C.Events,{initialize:function(){this.defaults=this.getDefaults()},handleMobileVideo:function(){E.isMobile&&this.model.isKind("video")&&this.model.get("autoplay")&&(this.applyTweenedConfig=t.noop)},stepAnimation:function(e){this.isReverse&&(e=this.duration-e,0>e&&(e=0)),this.applyTweenedConfig(this.getTweenedConfig(e)),E.isIE()&&D(this.view.el)},totalTime:function(){return this.duration},delay:function(){return this.startTime},reset:function(){var e={matrix:new s,props:{},style:{}};e.props.ScaleX=this.defaults.scale.x,e.props.ScaleY=this.defaults.scale.y,e.props.RawXPos=this.defaults.position.x,e.props.RawYPos=this.defaults.position.y,e.props.Rotation=this.defaults.rotation.x,e.props.Alpha=this.defaults.alpha.x,e.matrix.translate(this.defaults.position.x,this.defaults.position.y),e.matrix.rotate(this.defaults.rotation.x,0,0),e.matrix.scale(i.pctToDec(this.defaults.scale.x),i.pctToDec(this.defaults.scale.y)),e.style.opacity=i.pctToDec(this.defaults.alpha.x),e.style[A]=e.matrix.toCssTransform(),this.applyTweenedConfig(e)},updateDefaultPosition:function(e,t){this.defaults.position.x=e,this.defaults.position.y=t},getDefaults:function(){return this.model.isSlideObject?this.getSlideObjectProps():this.getSlideOrLayerProps()},getSlideOrLayerProps:function(){var e,t,i=this.model.get("width"),n=this.model.get("height");return t={regPoint:{x:i/2,y:n/2},position:{x:0,y:0},scale:{x:100,y:100},rotation:{x:0},globalRotation:{x:0},size:{x:i,y:n},maskableOffset:{x:0,y:0},alpha:{x:100}},this.hasSecondary()&&(e=this.secondaryView.props.model,t.secondarySize={x:e.get("width"),y:e.get("height")}),t},hasSecondary:function(){return null!=this.secondaryView},getSlideObjectProps:function(){var e=this.model.playerProps,t=this.model.getCurrentStateMetrics();return{regPoint:{x:this.model.rotateXPos(),y:this.model.rotateYPos()},position:{x:e.get("RawXPos"),y:e.get("RawYPos")},scale:{x:e.get("ScaleX"),y:e.get("ScaleY")},rotation:{x:e.get("Rotation")},globalRotation:{x:this.view.getGlobalRotation()},size:{x:t.width-(2*t.xPos-1),y:t.height-(2*t.yPos-1)},alpha:{x:e.get("Alpha")},maskableOffset:{x:t.xPos-t.strokewidth,y:t.yPos-t.strokewidth}}},getTweenedConfig:function(e,i){var n={},r=0,o=this.tweens.length,a={matrix:new s,props:{Rotation:0},style:{}};for(i=i!==!1;o>r;)this.tweens[r].delay<=e&&t.extend(n,this.tweens[r].tweenAttrs),r++;return P.forEach(function(t){this[_[t]](e,n[t],a,i)}.bind(this)),a.style[A]=a.matrix.toCssTransform(),a},applyTweenedConfig:function(e){this.view.tweenedConfig=e,t.extend(this.view.el.style,e.style),this.hasSecondary()&&null!=this.config.pushDir&&this.tweenSecondary(e.props)},adjustRotateble:function(e){var t,i=this.defaults.regPoint;if(this.model.isRotatable&&this.model.isRotatable()){t=this.view.decorators.rotatable;var n=this.model.prop("Rotation");e.rotate(n,0,0),e.rotate(t.lastSetRotation,t.rotateXPos-i.x,t.rotateYPos-i.y),e.rotate(-n,0,0)}},applyTranslation:function(e,t,i,n){var s,r=this.getAttrPointAtTime(e,t,this.defaults.position,t?t.autoRotation:!1);i.props.RawXPos=r.x,i.props.RawYPos=r.y,i.matrix.translate(r.x,r.y),t&&t.autoRotation&&(null==this.initRotation&&(0===e?this.initRotation=r.angle:this.initRotation=this.getAttrPointAtTime(0,t,this.defaults.position,t.autoRotation).angle),s=e>=t.duration+t.delay&&t.closedPath?0:r.angle-this.initRotation,i.matrix.rotate(s,0,0),i.props.Rotation=s)},applyScale:function(e,t,n,s){var r=this.getAttrPointAtTime(e,t,this.defaults.scale),o=this.view.animationOverride&&this.view.animationOverride.scale;n.props.ScaleX=r.x,n.props.ScaleY=r.y,null!=o?o(n.props):(n.matrix.rotate(-this.defaults.globalRotation.x,0,0),n.matrix.scale(i.pctToDec(r.x),i.pctToDec(r.y)),n.matrix.rotate(this.defaults.globalRotation.x,0,0))},applyRotation:function(e,t,i,n){var s=this.getAttrPointAtTime(e,t,this.defaults.rotation).x;n&&this.adjustRotateble(i.matrix),i.matrix.rotate(s,0,0),i.props.Rotation+=s},applyAlpha:function(e,t,n,s){if(t){var r=this.getAttrPointAtTime(e,t,this.defaults.alpha).x;n.style.opacity=i.pctToDec(r),n.props.Alpha=r}},getAttrPointAtTime:function(e,t,i,n){if(null==t)return i;var s,r=e-t.delay;return s=0===t.duration&&(0>r||0===r&&this.isReverse)?0:M(t.ease,r,t.duration),t.getPointAtTime(s,n)},applySkew:function(e,t,n,s){if(null!=t){var r=this.getAttrPointAtTime(e,t,{x:0,y:0}),o=R[t.corner],a=t.useGlobalAxes?{x:this.defaults.size.x*o.x,y:this.defaults.size.y*o.y}:{x:t.regPoint.x,y:t.regPoint.y},l=t.useGlobalAxes?this.defaults.globalRotation.x:0,u=t.getSecondaryPoint();a.x-=this.defaults.regPoint.x,a.y-=this.defaults.regPoint.y,n.matrix.rotate(-l,0,0),n.matrix.scale(i.pctToDec(u.x),i.pctToDec(u.y),a.x,a.y),n.matrix.skew(-r.x,r.y,a.x,a.y),n.matrix.rotate(l,0,0)}},applyColor:function(e,t,n,s){var r;t&&this.model.isSlide&&s&&(null==this.overlay&&this.createColorOverlay(),r=this.getAttrPointAtTime(e,t,0).x,this.overlay.style.opacity=i.pctToDec(r))},applyMask:function(e,t,n,s){if(null!=t&&s&&!this.model.isKind("video")){var r;if(E.isMobile&&-1!==O.indexOf(t.maskType))return!this.isReverse&&t.maskProps.isExit&&(e=this.duration-e,this.isReverse=!0),r=i.decToPct(this.getAttrPointAtTime(e,t,this.isReverse?1:0).x),n.style.opacity=i.pctToDec(r),void(n.props.Alpha=r);var o,a=this.getAttrPointAtTime(e,t,0).x;null==this.mask&&(null==I[t.maskType]&&(L("The mask type ",t.maskType," does not exist"),t.maskType="split"),this.createMask(t)),"full"===t.maskType&&(o=this.getTweenedConfig(this.duration,!1),this.ptFinal=this.ptFinal||o.matrix.transformPoint(0,0)),this.mask.animate(a,this.ptFinal,n.matrix.transformPoint(0,0)),D(this.maskedEl),this.maskedEl.classList.contains("slide-object-stategroup")&&this.repaintStateGroup(this.maskedEl)}},repaintStateGroup:function(e){var i=e.getElementsByClassName("slideobject-maskable");if(!t.isEmpty(i))for(var n=0;n<i.length;n++)D(i[n])},createMask:function(e){var t,i=this.view.el.firstElementChild;this.marker=this.view.find(".marker-animation"),null!=this.marker&&this.marker.classList.add("hidden"),t=this.model.isSlideObject?n.getLocalRotatedBounds(this.view,this.defaults.globalRotation.x):[0,0,this.defaults.size.x,this.defaults.size.y],this.defaults.rotatedBounds={left:t[0],top:t[1],right:t[2],bottom:t[3]},this.mask=new I[e.maskType](this.defaults,e.maskProps),this.maskedEl=r.hasClass(i,"slideobject-maskable")?i:this.view.el,this.maskedEl.style.WebkitClipPath=o.buildUrl(this.mask.maskId),this.maskedEl.style.clipPath=o.buildUrl(this.mask.maskId),this.maskedEl.style.willChange="contents"},tweenSecondary:function(e){var t,n=this.defaults.secondarySize,s=k[this.config.pushDir];t=o.transformTranslate(i.pxify(s.x*(n.x+e.RawXPos*s.x)),i.pxify(s.y*(n.y+e.RawYPos*s.y))),this.secondaryView.el.style.transform=t},createColorOverlay:function(){this.overlay=r.setAttributes(document.createElement("div"),{"class":"slide-overlay"}),r.setStyles(this.overlay,{width:i.pxify(this.defaults.size.x),height:i.pxify(this.defaults.size.y)}),this.view.el.appendChild(this.overlay)},kill:function(){this.stopListening(),null!=this.maskedEl&&(this.maskedEl.style.WebkitClipPath="",this.maskedEl.style.clipPath="",this.maskedEl=null),null!=this.marker&&this.marker.classList.remove("hidden"),null!=this.mask&&(this.mask.destroy(),this.mask=null),null!=this.overlay&&this.overlay.parentNode&&(this.overlay.parentNode.removeChild(this.overlay),this.overlay=null)}}),N}),define("collections/BaseCollection",["require","backbone","lodash","models/BaseModel","mixins/subscribable","mixins/resolveable","mixins/ancestral","mixins/shortEventable","helpers/mixer"],function(e){"use strict";var t=e("backbone"),i=e("lodash"),n=e("models/BaseModel"),s=e("mixins/subscribable"),r=e("mixins/resolveable"),o=e("mixins/ancestral"),a=e("mixins/shortEventable"),l=e("helpers/mixer"),u=t.Collection.extend({mixins:[s,r,o,a],model:n,isCollection:!0,constructor:function(e,n){var s=this.initialize;this.initialize=i.noop,t.Collection.apply(this,arguments),this.createParentReference(n),l.initMixinsOf(this),this.initialize=s,this.initialize.apply(this,arguments),l.postInitMixinsOf(this)}});return u}),define("models/presentation/TextLibItem",["require","models/BaseModel","collections/BaseCollection"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/BaseCollection"),n=i.extend({model:t.extend({idAttribute:null})}),s=t.extend({shorthand:["type","vartext","xPos","yPos","width","height"],associations:{linkdata:n}});return s}),define("collections/presentation/TextLib",["require","collections/BaseCollection","models/presentation/TextLibItem"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/TextLibItem"),n=t.extend({model:i});return n}),define("helpers/curveHelper",["require","lodash","helpers/utils","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/constants"),s=10,r=.01,o=20,a=n.math.TO_DEGREES,l=function(e,t){return i.dist(e.x,e.y,t.x,t.y)},u=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*a},c=function(e,t){var i=1-e,n=e*e,s=i*i,r=s*i,o=3*e*s,a=3*n*i,l=n*e;return{x:r*t[0].x+o*t[1].x+a*t[2].x+l*t[3].x,y:r*t[0].y+o*t[1].y+a*t[2].y+l*t[3].y}},h=function(e,t){var i=1-e,n=i*i,s=2*i*e,r=e*e;return{x:n*t[0].x+s*t[1].x+r*t[2].x,y:n*t[0].y+s*t[1].y+r*t[2].y}},p=function(e,t){return{x:t[0].x+(t[1].x-t[0].x)*e,y:t[0].y+(t[1].y-t[0].y)*e}},d=[void 0,void 0,p,h,c],f={getDistance:function(e,i){return 2===e.length?l(e[0],e[1]):(t.isArray(i)||(i=this.getSamplePoints(e,i||s)),t.last(i).distance)},getSamplePoints:function(e,t){if(2===e.length)return null;t=t||s;for(var i,n,r=0,o=[],a=e[0],u=1/t,c=0;t>=c;c++)i=u*c,n=this.getPointAtTime(i,e),r+=l(a,n),o.push({time:i,distance:r}),a=n;return o},curveToLines:function(e,i){if(2===e.length)return t.clone(e,!0);var n,s,r,a,u,c,h,p,f=[],m=0,g=d[e.length];for(null==i&&(s=g(0,e),r=g(.25,e),a=g(.5,e),u=g(.75,e),c=g(1,e),p=l(s,r)+l(r,a)+l(a,u)+l(u,c),i=Math.min(parseInt(p/2),o)),h=1/i,n=0;i>n;n++)f.push(g(m,e)),m+=h;return f.push(g(1,e)),f},getPointAtTime:function(e,t){return d[t.length](e,t)},getNormalizedPointAtTime:function(e,i,n,o){var a,l,c,h,p,d,f,m;return 2===i.length?(l=this.getPointAtTime(e,i),o&&(l.angle=u(i[0],i[1])),l):(t.isArray(n)||(n=this.getSamplePoints(i,n||s)),p=0,d=1,h=this.getDistance(i,n)*e,a=t.sortedIndex(n,{distance:h},"distance"),(a>n.length-1||h!==n[a].distance)&&a--,f=n[a],m=n[a+1],a<n.length-1&&(d=f.time+((h-f.distance)/(m.distance-f.distance)||0)*(m.time-f.time)),l=this.getPointAtTime(d,i),o&&(d+=r,d>1&&(d-=2*r,p=-180),c=this.getPointAtTime(d,i),l.angle=u(l,c)+p),l)}};return f}),define("models/presentation/tweens/TweenAttribute",["require","lodash","helpers/utils","models/BaseModel","collections/presentation/TextLib","helpers/resolver","helpers/curveHelper"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("models/BaseModel"),s=(e("collections/presentation/TextLib"),e("helpers/resolver")),r=e("helpers/curveHelper"),o={exponetial:"Expo",bounce:"Bounce",circular:"Circ",cubic:"Cubic",linear:"Linear",quadratic:"Quad",quadradic:"Quad",quartic:"Quart",quintic:"Quint",sine:"Sine"},a={easein:"easeIn",easeout:"easeOut",easeinout:"easeInOut",none:"none"},l={QUAD:"quadratic",CUBIC:"cubic",LINE:"line"},u=t.partialRight(i.fix,2),c=/^[\/$#]/,h=n.extend({initialize:function(){t.bindAll(this,"getAttrConfig")},getAttrConfig:function(e){return this.hasDuration()?(null==this.points&&this.initPath(),this.buildConfig(e)):null},initPath:function(){this.segments=[],this.ptResolvers=[],this.segmentResolvers=[],t.forEach(this.get("path"),function(e,t){this.buildSegment(e,t)}.bind(this))},buildSegment:function(e,t){var i=e.type||l.LINE,n={points:[]},s=this.ptResolvers.length,o=function(){n.samples=r.getSamplePoints(n.points),n.distance=r.getDistance(n.points,n.samples)};this.buildSinglePoint(n,this.getSegmentPoint(e,"anchora")),i!==l.LINE&&this.buildSinglePoint(n,this.getSegmentPoint(e,"controla")),i===l.CUBIC&&this.buildSinglePoint(n,this.getSegmentPoint(e,"controlb")),this.buildSinglePoint(n,this.getSegmentPoint(e,"anchorb")),null!=this.extendSegmentConfig&&this.extendSegmentConfig(n,e),s===this.ptResolvers.length?o():this.segmentResolvers.push(o),this.segments.push(n)},getSegmentPoint:t.noop,extendConfig:t.identity,extendAfterUpdate:t.identity,buildSinglePoint:function(e,t){var i;this.isStaticPoint(t)?e.points.push(this.getAbsolutePoint(t)):(i=e.points.length,this.ptResolvers.push(function(){e.points[i]=this.getAbsolutePoint(t)}.bind(this)),e.points.push(null))},isStaticPoint:function(e){return this.isStaticValue(e.x)&&this.isStaticValue(e.dx)&&this.isStaticValue(e.y)&&this.isStaticValue(e.dy)},isStaticValue:function(e){return!t.isString(e)||!c.test(e)},getAbsolutePoint:function(e){return{x:u(this.getAbsoluteCoordinate(e.x,e.dx)),y:u(this.getAbsoluteCoordinate(e.y,e.dy))}},getAbsoluteCoordinate:function(e,t){return this.getValue(e)+this.getValue(t)},getValue:function(e){var n,r=this.getClosestThisRef();return i.isNumeric(e)?parseFloat(e):t.isString(e)?(n=s.resolvePath(e,r),parseFloat(n.isVar?n.value():n)):e},buildConfig:function(e){var t={delay:e,duration:this.getDuration(),ease:this.getEasing(),getPointAtTime:this.getPointAtTime.bind(this)};return t.update=this.updateConfig.bind(this,t),this.extendConfig(t)},hasDuration:function(){return null!=this.get("duration")},getDuration:function(){return this.get("duration")},getEasing:function(){return[o[this.get("easing")],a[this.get("easingdir")]].join(".")},updateConfig:function(e){var i=0;this.ptResolvers.forEach(function(e){e()}),this.segmentResolvers.forEach(function(e){e()}),this.segments.forEach(function(e){e.start=i,i+=e.distance}),this.totalDistance=i,this.getIsRelative()||(e.update=t.noop),this.extendAfterUpdate(e)},getIsRelative:function(){return!(!this.ptResolvers||!this.ptResolvers.length)},getPointAtTime:function(e,i){var n,s,o=this.totalDistance*e,a=t.sortedIndex(this.segments,{start:o},"start");return(a>this.segments.length-1||o!==this.segments[a].start)&&a--,n=this.segments[a],s=(e-(n.start/this.totalDistance||0))/(n.distance/this.totalDistance||1),this.lastSegmentInfo={index:a,adjustedTime:s},r.getNormalizedPointAtTime(s,n.points,n.samples,i)}});return h}),define("models/presentation/tweens/TweenAlpha",["require","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i={anchora:{x:"start",dx:"dstart"},anchorb:{x:"end",dx:"dend"}},n=t.extend({getSegmentPoint:function(e,t){var n=i[t];return{x:e[n.x],dx:e[n.dx],y:0,dy:0}}});return n}),define("models/presentation/tweens/TweenPosition",["require","lodash","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/tweens/TweenAttribute"),n=i.extend({extendConfig:function(e){return e.autoRotation=!!this.get("relativerotation"),e},extendAfterUpdate:function(e){e.autoRotation&&(e.closedPath=this.isClosedPath())},isClosedPath:function(){var e=this.segments[0].points[0],i=t.last(t.last(this.segments).points);return e.x===i.x&&e.y===i.y},getSegmentPoint:function(e,t){return e[t]}});return n}),define("models/presentation/tweens/TweenRotation",["require","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i={anchora:{x:"start",dx:"dstart"},anchorb:{x:"end",dx:"dend"}},n=t.extend({getSegmentPoint:function(e,t){var n=i[t];return{x:e[n.x],dx:e[n.dx],y:0,dy:0}}});return n}),define("models/presentation/tweens/TweenScale",["require","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i={anchora:{x:"startx",dx:"dsx",y:"starty",dy:"dsy"},anchorb:{x:"endx",dx:"dex",y:"endy",dy:"dey"}},n=t.extend({extendConfig:function(e){return e.useGlobalAxes=!!this.get("useglobalaxes"),e},getSegmentPoint:function(e,t){var n=i[t];return{x:e[n.x],dx:e[n.dx],y:e[n.y],dy:e[n.dy]}}});return n}),define("models/presentation/tweens/TweenSkew",["require","models/presentation/tweens/TweenAttribute","helpers/curveHelper"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i=e("helpers/curveHelper"),n={anchora:{x:"startx",dx:"dstartx",y:"starty",dy:"dstarty"},anchorb:{x:"endx",dx:"dendx",y:"endy",dy:"dendy"}},s={anchora:{x:"startstretchx",y:"startstretchy"},anchorb:{x:"endstretchx",y:"endstretchy"}},r=t.extend({extendConfig:function(e){var t=this.get("regpoint");return e.useGlobalAxes=!!this.get("useglobalaxes"),e.regPoint={x:parseFloat(t.x)+parseFloat(t.dx),y:parseFloat(t.y)+parseFloat(t.dy)},e.corner=this.get("corner")||"bottomright",
e.getSecondaryPoint=this.getSecondaryPoint.bind(this),e},getSegmentPoint:function(e,t){var i=n[t];return{x:e[i.x],dx:e[i.dx],y:e[i.y],dy:e[i.dy]}},getSecondarySegmentPoint:function(e,t){var i=s[t];return{x:e[i.x],dx:0,y:e[i.y],dy:0}},extendSegmentConfig:function(e,t){var i={points:[]};this.buildSinglePoint(i,this.getSecondarySegmentPoint(t,"anchora")),this.buildSinglePoint(i,this.getSecondarySegmentPoint(t,"anchorb")),e.secondaryPoints=i.points},getSecondaryPoint:function(){var e=this.lastSegmentInfo||{index:this.segments.length-1,adjustedTime:1};return i.getNormalizedPointAtTime(e.adjustedTime,this.segments[e.index].secondaryPoints)}});return r}),define("models/presentation/tweens/TweenMask",["require","lodash","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/tweens/TweenAttribute"),n=i.extend({extendConfig:function(e){return e.maskType=this.get("type"),e.maskProps=t.reduce(this.get("settings"),function(e,t){return e[t.name]=t.value,e},{}),e.maskProps.isExit="exit"===this.get("effecttype"),e},initPath:function(){this.ptResolvers=[],this.segmentResolvers=[],this.segments=[{distance:1,points:[{x:0,y:0},{x:1,y:0}]}]}});return n}),define("models/presentation/tweens/TweenColor",["require","lodash","helpers/utils","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("models/presentation/tweens/TweenAttribute"),s=n.extend({initialize:function(){var e=this.get("path")[0];this.startTintPercent=parseInt(e.starttintpercent),this.endTintPercent=parseInt(e.endtintpercent),this.startBrightness=parseInt(e.startbrightness),this.endBrightness=parseInt(e.endbrightness)},getAttrConfig:function(e){var i={delay:e,duration:this.getDuration(),ease:this.getEasing(),getPointAtTime:this.getPointAtTime.bind(this),update:t.noop};return i},getPointAtTime:function(e){return{x:i.clamp(0,100,this.startTintPercent+e*(this.endTintPercent-this.startTintPercent)+Math.abs(this.startBrightness+e*(this.endBrightness-this.startBrightness))),y:0}}});return s}),define("collections/presentation/TweenColors",["require","lodash","collections/BaseCollection","models/presentation/tweens/TweenColor"],function(e){"use strict";var t=(e("lodash"),e("collections/BaseCollection")),i=e("models/presentation/tweens/TweenColor"),n=t.extend({model:i,getAttrConfig:function(e){return 0===this.length?null:this.at(0).getAttrConfig(e)}});return n}),define("models/presentation/Tween",["require","lodash","helpers/utils","models/BaseModel","models/presentation/tweens/TweenAlpha","models/presentation/tweens/TweenPosition","models/presentation/tweens/TweenRotation","models/presentation/tweens/TweenScale","models/presentation/tweens/TweenSkew","models/presentation/tweens/TweenMask","collections/presentation/TweenColors"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/utils"),e("models/BaseModel")),n=e("models/presentation/tweens/TweenAlpha"),s=e("models/presentation/tweens/TweenPosition"),r=e("models/presentation/tweens/TweenRotation"),o=e("models/presentation/tweens/TweenScale"),a=e("models/presentation/tweens/TweenSkew"),l=e("models/presentation/tweens/TweenMask"),u=e("collections/presentation/TweenColors"),c=i.extend({associations:{scale:o,position:s,rotation:r,alpha:n,mask:l,colors:u,skew:a},initialize:function(){t.bindAll(this,"build"),this.delay=this.get("time")},build:function(){var e=t.reduce(this.associations,function(e,t,i){var n=this[i]().getAttrConfig(this.delay);return null!=n&&(e[i]=n),e},{},this);return{delay:this.delay,duration:this.get("duration"),tweenAttrs:e}}});return c}),define("collections/presentation/Tweens",["require","collections/BaseCollection","models/presentation/Tween"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Tween"),n=t.extend({model:i,buildTweens:function(){return this.invoke("build")}});return n}),define("models/presentation/Animation",["require","lodash","models/BaseModel","collections/presentation/Tweens"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("collections/presentation/Tweens"),s=i.extend({shorthand:["duration"],associations:{tweens:n},buildConfig:function(){var e={isWipe:!!this.get("wipetrans"),pushDir:this.get("pushdirection"),duration:this.get("duration"),tweens:this.tweens().buildTweens()};return e.updateConfig=function(){e.tweens.forEach(function(e){t.forOwn(e.tweenAttrs,function(e){e.update()})})},e},getConfig:function(){return this.config=this.config||this.buildConfig(),this.config.updateConfig(),this.config}});return s}),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var n=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,s=this.vars;for(n in s)i=s[n],o(i)&&-1!==i.join("").indexOf("{self}")&&(s[n]=this._swapSelfInParams(i));o(s.tweens)&&this.add(s.tweens,0,s.align,s.stagger)},s=1e-10,r=i._internals.isSelector,o=i._internals.isArray,a=[],l=window._gsDefine.globals,u=function(e){var t,i={};for(t in e)i[t]=e[t];return i},c=function(e,t,i,n){e._timeline.pause(e._startTime),t&&t.apply(n||e._timeline,i||a)},h=a.slice,p=n.prototype=new t;return n.version="1.11.8",p.constructor=n,p.kill()._gc=!1,p.to=function(e,t,n,s){var r=n.repeat&&l.TweenMax||i;return t?this.add(new r(e,t,n),s):this.set(e,n,s)},p.from=function(e,t,n,s){return this.add((n.repeat&&l.TweenMax||i).from(e,t,n),s)},p.fromTo=function(e,t,n,s,r){var o=s.repeat&&l.TweenMax||i;return t?this.add(o.fromTo(e,t,n,s),r):this.set(e,s,r)},p.staggerTo=function(e,t,s,o,a,l,c,p){var d,f=new n({onComplete:l,onCompleteParams:c,onCompleteScope:p,smoothChildTiming:this.smoothChildTiming});for("string"==typeof e&&(e=i.selector(e)||e),r(e)&&(e=h.call(e,0)),o=o||0,d=0;e.length>d;d++)s.startAt&&(s.startAt=u(s.startAt)),f.to(e[d],t,u(s),d*o);return this.add(f,a)},p.staggerFrom=function(e,t,i,n,s,r,o,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(e,t,i,n,s,r,o,a)},p.staggerFromTo=function(e,t,i,n,s,r,o,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(e,t,n,s,r,o,a,l)},p.call=function(e,t,n,s){return this.add(i.delayedCall(0,e,t,n),s)},p.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new i(e,0,t),n)},n.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var s,r,o=new n(e),a=o._timeline;for(null==t&&(t=!0),a._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=a._time,s=a._first;s;)r=s._next,t&&s instanceof i&&s.target===s.vars.onComplete||o.add(s,s._startTime-s._delay),s=r;return a.add(o,0),o},p.add=function(s,r,a,l){var u,c,h,p,d,f;if("number"!=typeof r&&(r=this._parseTimeOrLabel(r,0,!0,s)),!(s instanceof e)){if(s instanceof Array||s&&s.push&&o(s)){for(a=a||"normal",l=l||0,u=r,c=s.length,h=0;c>h;h++)o(p=s[h])&&(p=new n({tweens:p})),this.add(p,u),"string"!=typeof p&&"function"!=typeof p&&("sequence"===a?u=p._startTime+p.totalDuration()/p._timeScale:"start"===a&&(p._startTime-=p.delay())),u+=l;return this._uncache(!0)}if("string"==typeof s)return this.addLabel(s,r);if("function"!=typeof s)throw"Cannot add "+s+" into the timeline; it is not a tween, timeline, function, or string.";s=i.delayedCall(0,s)}if(t.prototype.add.call(this,s,r),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,f=d.rawTime()>s._startTime;d._timeline;)f&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},p.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array||t&&t.push&&o(t)){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},p._remove=function(e,i){t.prototype._remove.call(this,e,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},p.insert=p.insertMultiple=function(e,t,i,n){return this.add(e,t||0,i,n)},p.appendMultiple=function(e,t,i,n){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,n)},p.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},p.addPause=function(e,t,i,n){return this.call(c,["{self}",t,i,n],this,e)},p.removeLabel=function(e){return delete this._labels[e],this},p.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},p._parseTimeOrLabel=function(t,i,n,s){var r;if(s instanceof e&&s.timeline===this)this.remove(s);else if(s&&(s instanceof Array||s.push&&o(s)))for(r=s.length;--r>-1;)s[r]instanceof e&&s[r].timeline===this&&this.remove(s[r]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof t&&null==this._labels[i]?t-this.duration():0,n);if(i=i||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(r=t.indexOf("="),-1===r)return null==this._labels[t]?n?this._labels[t]=this.duration()+i:i:this._labels[t]+i;i=parseInt(t.charAt(r-1)+"1",10)*Number(t.substr(r+1)),t=r>1?this._parseTimeOrLabel(t.substr(0,r-1),0,n):this.duration()}return Number(t)+i},p.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(e,t){return this.play(e,t)},p.gotoAndStop=function(e,t){return this.pause(e,t)},p.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,r,o,l,u,c=this._dirty?this.totalDuration():this._totalDuration,h=this._time,p=this._startTime,d=this._timeScale,f=this._paused;if(e>=c?(this._totalTime=this._time=c,this._reversed||this._hasPausedChild()||(r=!0,l="onComplete",0===this._duration&&(0===e||0>this._rawPrevTime||this._rawPrevTime===s)&&this._rawPrevTime!==e&&this._first&&(u=!0,this._rawPrevTime>s&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:s,e=c+1e-4):1e-7>e?(this._totalTime=this._time=0,(0!==h||0===this._duration&&this._rawPrevTime!==s&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(l="onReverseComplete",r=this._reversed),0>e?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=e):(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:s,e=0,this._initted||(u=!0))):this._totalTime=this._time=this._rawPrevTime=e,this._time!==h&&this._first||i||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==h&&e>0&&(this._active=!0),0===h&&this.vars.onStart&&0!==this._time&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||a)),this._time>=h)for(n=this._first;n&&(o=n._next,!this._paused||f);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=o;else for(n=this._last;n&&(o=n._prev,!this._paused||f);)(n._active||h>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=o;this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||a)),l&&(this._gc||(p===this._startTime||d!==this._timeScale)&&(0===this._time||c>=this.totalDuration())&&(r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[l]&&this.vars[l].apply(this.vars[l+"Scope"]||this,this.vars[l+"Params"]||a)))}},p._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof n&&e._hasPausedChild())return!0;e=e._next}return!1},p.getChildren=function(e,t,n,s){s=s||-9999999999;for(var r=[],o=this._first,a=0;o;)s>o._startTime||(o instanceof i?t!==!1&&(r[a++]=o):(n!==!1&&(r[a++]=o),e!==!1&&(r=r.concat(o.getChildren(!0,t,n)),a=r.length))),o=o._next;return r},p.getTweensOf=function(e,t){for(var n=i.getTweensOf(e),s=n.length,r=[],o=0;--s>-1;)(n[s].timeline===this||t&&this._contains(n[s]))&&(r[o++]=n[s]);return r},p._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},p.shiftChildren=function(e,t,i){i=i||0;for(var n,s=this._first,r=this._labels;s;)s._startTime>=i&&(s._startTime+=e),s=s._next;if(t)for(n in r)r[n]>=i&&(r[n]+=e);return this._uncache(!0)},p._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var i=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),n=i.length,s=!1;--n>-1;)i[n]._kill(e,t)&&(s=!0);return s},p.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return this},p._enabled=function(e,i){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return t.prototype._enabled.call(this,e,i)},p.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,n=0,s=this._last,r=999999999999;s;)t=s._prev,s._dirty&&s.totalDuration(),s._startTime>r&&this._sortChildren&&!s._paused?this.add(s,s._startTime-s._delay):r=s._startTime,0>s._startTime&&!s._paused&&(n-=s._startTime,this._timeline.smoothChildTiming&&(this._startTime+=s._startTime/this._timeScale),this.shiftChildren(-s._startTime,!1,-9999999999),r=0),i=s._startTime+s._totalDuration/s._timeScale,i>n&&(n=i),s=t;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},p.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},p.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("timeline-lite",["tween-lite"],function(e){return function(){var t;return t||e.TimelineLite}}(this)),define("helpers/animationClock",["require","lodash","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("helpers/events"),n=e("helpers/pubSub"),s=132,r=33,o={callbacks:[],endFrameCallbacks:[],frameRequested:!1,staleFrameRequested:!1,timeStale:!0,staleTime:-1,lastCpuTime:Date.now(),lastEndFrameTime:0,currentTime:0,locks:[],locked:!1,waitingLock:!1,clockOverridden:!1,overrideClock:function(e){this.clockOverridden=!0,this.frameTimeMs=e},requestAnimationFrame:function(e,t){t?this.endFrameCallbacks.push(e):this.callbacks.push(e),this.frameRequested||(this.frameRequested=!0,this.staleFrameRequested||this.clockOverridden||window.requestAnimationFrame(this.tick.bind(this)),this.staleFrameRequested=!1)},lock:function(){var e=t.uniqueId("lock-");return this.locks.push(e),this.locked=!0,e},unlock:function(e){t.pull(this.locks,e),this.locked=this.locks.length>0,!this.locked&&this.waitingLock&&(this.waitingLock=!1,this.tick())},updateTime:function(){var e=Date.now(),t=e-this.lastCpuTime;return this.lastCpuTime=e,t>s&&(t=r),this.currentTime+=this.clockOverridden?this.frameTimeMs:t,this.currentTime},requestStaleFrame:function(){this.frameRequested||this.staleFrameRequested||this.clockOverridden||(this.staleFrameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},requestEndFrameTick:function(){this.frameRequested||this.clockOverridden||(this.frameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},time:function(){return this.timeStale&&(this.requestStaleFrame(),-1===this.staleTime&&(this.staleTime=this.updateTime()),this.frameTime=this.staleTime),this.frameTime},tick:function(){if(this.locked)return void(this.waitingLock=!0);var e=this.frameRequested;this.staleFrameRequested=!1,this.frameRequested=!1,this.frameTime=this.updateTime(),this.staleTime=-1,this.timeStale=!1,this.callbacks.length>0&&this.executeCallbacks(),this.endFrameCallbacks.length>0&&(this.currentTime-this.lastEndFrameTime>=r?(this.lastEndFrameTime=this.currentTime,this.executeCallbacks(!0)):this.requestEndFrameTick()),e?this.requestStaleFrame():this.timeStale=!0},executeCallbacks:function(e){var t,i;e?(t=this.endFrameCallbacks.slice(0),this.endFrameCallbacks=[]):(t=this.callbacks.slice(0),this.callbacks=[]),i=t.length;for(var n=0;i>n;n++)t[n](this.frameTime)}};return n.on([i.detection.VISIBILITY_SHOWN,i.detection.VISIBILITY_HIDDEN].join(" "),o.updateTime.bind(o)),o}),define("helpers/AnimationTimeline",["require","lodash","helpers/utils","helpers/GsapTweenLite","timeline-lite","helpers/animationClock"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/GsapTweenLite"),s=e("timeline-lite"),r=e("helpers/animationClock"),o=function(e,i){return t.findIndex(e,{id:i})},a=function(e){return e instanceof n||e instanceof s},l=function(e){var t=["onUpdate","onComplete"];this.playing=!1,this.currentTime=0,this.lastCallbackTime=-1,this.labels={},this.duration=0,this.callbacks=[],this.seekables=[],this.activeSeekables=[],null!=e&&(t.forEach(function(t){this[t]=e[t]}.bind(this)),e.tweens&&e.tweens.forEach(function(e){var t=e.delay();a(e)&&(this.wrapGsap(e),t=i.toMilliseconds(t)),this.addSeekable(e,t,!0)}.bind(this)))};return t.extend(l.prototype,{add:function(e,i,n){return t.isString(e)?void(this.labels[e]=i):(i=t.isString(i)?this.labels[i]:i||0,t.isFunction(e)?(this.insertCallback(this.wrapCallback(e,i)),void this.updateDuration(i)):(a(e)&&this.wrapGsap(e),void(t.isFunction(e.stepAnimation)&&this.addSeekable(e,i,n))))},remove:function(e){if(t.isString(e))return void(this.labels[e]=null);var i,n,s,r;null!=e.timelineData&&(i=e.timelineData.seekableId,n=o(this.callbacks,i),n>=0&&(this.callbacks.splice(n,1),s=o(this.seekables,i),s>=0&&(this.seekables.splice(s,1),r=o(this.activeSeekables,i),r>=0&&(this.activeMutated=!0,this.activeSeekables.splice(r,1)))),e.timelineData=null,this.mutated=!0)},updateDuration:function(e){e>this.duration&&(this.duration=e,null!=this.timelineData&&this.timelineData.parent.childDurationChanged(this))},childDurationChanged:function(e){this.updateDuration(e.timelineData.startTime+e.totalTime())},wrapGsap:function(e){e.pause(),e.totalTime=function(){return i.toMilliseconds(e.duration())},e.stepAnimation=function(t,n){var s=i.toSeconds(t);e.seek(s,!0),e.render(s,!!n,!0)}},addSeekable:function(e,t,n){var s=e.totalTime(),r=i.clamp(0,s,this.currentTime-t),o=this.wrapSeekable(e,t);this.seekables.push(o),this.insertCallback(o),!n&&this.currentTime>=t&&((this.executingCallbacks||s>=r)&&o.timelineCallback(),this.executingCallbacks||e.stepAnimation(r)),this.updateDuration(t+e.totalTime())},wrapCallback:function(e,i){return{startTime:i,id:t.uniqueId("wc"),timelineCallback:e}},wrapSeekable:function(e,i){var n=t.uniqueId("ws"),s={startTime:i,id:n,seekable:e};return s.timelineCallback=function(){s.seekable.killed||this.activeSeekables.push(s)}.bind(this),e.timelineData={parent:this,seekableId:n,startTime:i},s},insertCallback:function(e){return 0===this.callbacks.length||e.startTime>=t.last(this.callbacks).startTime?void this.callbacks.push(e):void this.callbacks.splice(t.sortedLastIndex(this.callbacks,e,"startTime"),0,e)},hasParentTimeline:function(){return null!=this.timelineData},pause:function(){this.playing&&!this.hasParentTimeline()&&(this.playing=!1,this.currentTime=this.executingCallbacks?this.lastCallbackTime:r.time()-this.startTime)},play:function(){this.playing||this.hasParentTimeline()||(this.playing=!0,this.startTime=r.time()-this.currentTime,r.requestAnimationFrame(this.tick.bind(this)))},seek:function(e,t){this.hasParentTimeline()||(e<=this.lastCallbackTime&&this.reset(),this.startTime=r.time()-e,this.currentTime=e,this.executingCallbacks&&!this.renderDirty||this.update(t))},reset:function(){this.killed||(this.renderDirty=!0,this.lastCallbackTime=-1,this.activeSeekables=[],this.seekables.forEach(function(e){null!=e.seekable.reset&&e.seekable.reset()}))},progress:function(e,t){return null==e?i.clamp(0,1,this.currentTime/(this.duration||1)):(this.seek(e*this.duration,t),this)},isActive:function(){return this.hasParentTimeline()?this.timelineData.parent.isActive():this.playing},time:function(){return i.clamp(0,this.duration,this.currentTime)},totalTime:function(e){return null==e?this.duration:void(this.duration=e)},tick:function(){var e;this.killed||(e=this.currentTime,this.currentTime=r.time()-this.startTime,this.playing&&(e<this.duration||this.activeSeekables.length>0)&&!this.hasParentTimeline()&&(this.update(),r.requestAnimationFrame(this.tick.bind(this))))},stepAnimation:function(e,t){this.currentTime;this.currentTime=i.clamp(0,this.duration,e),this.update(t)},update:function(e){this.renderDirty=!1,!this.silent&&this.executeCallbacks()&&(this.updateActiveSeekables(e),this.onUpdate&&this.onUpdate(),this.currentTime>=this.duration&&(this.playing=!1,e||null==this.onComplete||this.onComplete()))},executeCallbacks:function(){this.executingCallbacks=!0;var e=t.sortedLastIndex(this.callbacks,{startTime:this.lastCallbackTime},"startTime");if(e>=this.callbacks.length)return this.executingCallbacks=!1,!0;for(var i=this.callbacks.slice(e),n=i.length,s=0,r=this.currentTime;!this.killed&&n>s&&i[s].startTime<=r;){if(this.lastCallbackTime=i[s].startTime,i[s].timelineCallback(),r>this.currentTime)return this.executingCallbacks=!1,!1;r=this.currentTime,s++}return this.executingCallbacks=!1,!0},updateActiveSeekables:function(e){var t,i,n,s=this.activeSeekables.length-1;for(this.activeMutated=!1;s>=0&&!this.killed;)(!this.activeMutated||s<this.activeSeekables.length)&&(n=this.activeSeekables[s],t=n.seekable,i=n.startTime,t.stepAnimation(this.currentTime-i,e),this.currentTime>=i+t.totalTime()&&(!this.activeMutated||n===this.activeSeekables[s])&&this.activeSeekables.splice(s,1)),s--},kill:function(){this.killed||(this.killed=!0,null!=this.timelineData&&this.timelineData.parent.remove(this),this.timelineData=null,this.onUpdate=null,this.onComplete=null,this.labels=null,this.callbacks=null,this.activeSeekables=null,this.seekables.forEach(function(e){null!=e.seekable.kill&&e.seekable.kill()}),this.seekables=null)}}),l}),define("helpers/actions",["require"],function(e){"use strict";var t={ADD_CHOICE_RESPONSE:"action:addchoiceresponse",ADD_PAIR_RESPONSE:"action:addpairresponse",ADJUST_VAR:"action:adjustvar",BRING_TO_FRONT:"action:bringtofront",CANCEL_EVENT:"action:cancel_event",CLOSE_PLAYER:"action:close_player",CLOSEWNDGOTOSLIDE:"action:closewndgotoslide",CLOSE_WINDOW:"action:close_window",DEBUG_TRACE:"action:debug_trace",DEBUG_ERROR:"action:debug_error",EMAILTO:"action:emailto",ENABLE_FRAME_CONTROL:"action:enable_frame_control",ENABLE_WINDOW_CONTROL:"action:enable_window_control",EVAL_ALL_UNANSWERED:"action:eval_all_unanswered",EVAL_INTERACTION:"action:eval_interaction",EXE_ACTIONGROUP:"action:exe_actiongroup",EXE_ANIMATION:"action:exe_animation",EXE_JAVASCRIPT:"action:exe_javascript",FOREACH:"action:foreach",GET_MOUSE_POSITION:"action:get_mouse_position",GOTOPLAY:"action:gotoplay",HIDE:"action:hide",HIDE_SLIDELAYER:"action:hide_slidelayer",HIDE_TIMER:"action:hidetimer",HISTORY_PREV:"action:history_prev",HISTORY_PREV_GROUP:"action:history_prev_group",NEXTVIEWEDSLIDE:"action:nextviewedslide",IF_ACTION:"action:if_action",MEDIA_SEEK:"action:media_seek",MEDIA_PLAY:"action:media_play",MEDIA_PAUSE:"action:media_pause",MEDIA_TOGGLE:"action:media_toggle",MOVE_TO:"action:moveto",NEXT_VIEWED_SLIDE:"action:nextviewedslide",NOTIFYLINKSELECTED:"action:notifylinkselected",NOTIFY_PREVIEW:"action:notify_preview",OBJECT_ACTION:"action:object_action",OPEN_VIDEO:"action:open_video",OPEN_URL:"action:open_url",PAUSE_ANIMATIONS:"action:pause_animations",PAUSE_TIMELINE:"action:pause_timeline",PAUSE_TIMER:"action:pausetimer",PLAYNEXTDRAWSLIDE:"action:playnextdrawslide",PRINTRESULTS:"action:printresults",RESET_QUIZ:"action:resetquiz",RESET_TIMER:"action:resettimer",RESET_PLAYER:"action:reset_player",RESTORE_RESUME_STATE:"action:restore_resume_state",RESUME_PLAYER:"action:resume_player",RESUME_TIMELINE:"action:resume_timeline",SAVE_RESUME_DATA:"action:save_resume_data",SEEK_TIMELINE:"action:seek_timeline",SET_ACTIVE_TIMELINE:"action:setactivetimeline",SET_COURSE_STATUS:"action:set_course_status",SET_DRAW_REVIEW:"action:setdrawreview",SET_ENABLED:"action:set_enabled",SET_FOCUS:"action:setfocus",SET_FRAME_LAYOUT:"action:set_frame_layout",SET_FRAME_LAYOUT_TYPE:"action:set_frame_layout_type",SET_OBJ_STATE:"action:setobjstate",SET_QUIZ_COMPLETE:"action:setquizcomplete",SET_REVIEW:"action:set_review",SET_VOLUME:"action:set_volume",SHOW_SLIDELAYER:"action:show_slidelayer",SET_WINDOW_CONTROL_LAYOUT:"action:set_window_control_layout",SET_WINDOW_CONTROL_VISIBLE:"action:set_window_control_visible",SHOW:"action:show",SHOW_TIMER:"action:showtimer",START_TIMER:"action:starttimer",STORE_RESUME_DATA:"action:store_resume_data",TRIGGER_HOST_EVENT:"action:trigger_host_event",TRIGGER_NEXT_SLIDE:"action:trigger_next_slide",TRIGGER_PREV_SLIDE:"action:trigger_prev_slide",TRIGGER_SLIDE_FINISH:"action:trigger_slide_finish",TRIGGER_SUBMITALL_SLIDE:"action:trigger_submitall_slide",TRIGGER_SUBMIT_SLIDE:"action:trigger_submit_slide",TRIGGER_WEBOBJECT_CLIENT_EVENT:"action:trigger_webobject_client_event",UPDATE_SCROLL_POS:"action:updatescrollpos",UPDATE_SCROLL_HEIGHT:"action:updatescrollheight",ZOOMPAN:"action:zoompan"};return t}),define("mixins/actionable",["require","lodash","helpers/errorManager"],function(e){"use strict";var t=(e("lodash"),e("helpers/errorManager")),i=t.throwError("actionable"),n=(t.warn("actionable"),"Cannot execute action without `kind`"),s={triggerAction:function(e,t){var s=e&&e.kind;return s||i("triggerAction",n),this.trigger("action:"+s,e,t),this}};return s}),define("helpers/quizResultsHelper",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=", ",n={},s={};n.numeric=n.essay=t.identity,n.likert=n.sequence=n.matching=function(e){return[e.statement.lmstext,e.choice.lmstext].join(i)},n.multiplechoice=n.truefalse=n.hotspot=n.wordbank=n.fillin=n.multipleresponse=function(e){return e.lmstext},s.numeric=s.fillin=s.essay=function(e,t){return t},s.likert=s.sequence=s.matching=function(e,t){return[e.getStatementById(t.statementResponse).lmstext,e.getChoiceById(t.choiceResponse).lmstext].join(i)},s.multiplechoice=s.truefalse=s.hotspot=s.wordbank=s.multipleresponse=function(e,t){return e.getChoiceById(t).lmstext};var r=function(e){return e.prop("CorrectResponse").map(n[e.type()]).join(i)},o=function(e){var n=t.last(e.attempts);return null==n?"":n.responses.map(t.partial(s[e.type()],e)).join(i)},a={correctResponseToString:r,actualResponseToString:o};return a}),define("helpers/printer",["require","lodash","helpers/utils","helpers/quizResultsHelper","helpers/events","helpers/pubSub","helpers/constants","helpers/resolver"],function(e){"use strict";var t,i=(e("lodash"),e("helpers/utils")),n=e("helpers/quizResultsHelper"),s=e("helpers/events"),r=e("helpers/pubSub"),o=e("helpers/constants"),a=e("helpers/resolver"),l={qm:o.QUIZ_MAKER_URL,ap:o.PRESENTER_URL},u=function(e){return{strQuizId:e.id,strQuizName:e.get("lmstext"),nScore:e.prop("Score"),nPassingScore:e.prop("PassPercent"),nPtScore:e.prop("PercentScore"),dtmFinished:e.timeComplete,strStatus:e.prop("Status"),arrQuestions:e.flatInteractions.map(function(e,t){return{nQuestionNumber:t+1,strDescription:e.get("lmstext"),strCorrectResponse:n.correctResponseToString(e),strUserResponse:n.actualResponseToString(e),strStatus:e.prop("Status"),nPoints:e.prop("Score"),strLMSId:e.get("lmsId"),strType:e.get("type")}})}},c=function(e,n){var c,h,p,d,f,m=[];if(t.isPreview())return void r.trigger(s.preview.NOTIFY,"PREVIEW_PRINT_RESULTS");var g={type:e.quizidtype,value:e.quizid},v=a.resolvePath(a.getRef(g,n.context,n)),y=null==e.usernamevar||""===e.usernamevar?null:a.resolvePath(e.usernamevar),b=null==y?null:y.value();return c={strName:b||"",arrQuizzes:[v.id],strMainQuizId:v.id,bShowUserScore:e.showuserscore,bShowPassingScore:e.showpassingscore,bShowShowPassFail:e.showpassfail,bShowQuizReview:e.showquizreview,bSurvey:v.get("issurvey")},h={},h[v.id]=u(v),v.quizzes.length>0&&(v.quizzes.forEach(function(e){m.push(e.id),h[e.id]=u(e)}),c.arrQuizzes=m),p={dtmFinished:JSON.stringify(v.timeComplete||new Date)},d={g_oContentResults:p,g_oPrintOptions:c,g_listQuizzes:h},f=window.open(i.getPath(l,o.player.OUTPUT_TYPE,o.STORY_CONTENT_URL)+"report.html","_blank"),null!=f.postMessage&&window.addEventListener("message",function(e){"getQuizData"===e.data&&f.postMessage(JSON.stringify(d),"*")},!1),d},h=function(e){t=e},p={printQuizResults:c,initialize:h};return p}),define("helpers/actionator",["require","lodash","backbone","helpers/playerGlobals","helpers/constants","helpers/events","polyfills/detection","helpers/actions","helpers/pubSub","helpers/mixer","helpers/utils","helpers/errorManager","mixins/actionable","mixins/shortEventable","helpers/resolver","helpers/resume/resumer","helpers/windowManager","helpers/printer","helpers/webObjectHelper","helpers/slidesController"],function(e){"use strict";var t,i,n=e("lodash"),s=e("backbone"),r=e("helpers/playerGlobals"),o=e("helpers/constants"),a=e("helpers/events"),l=e("polyfills/detection"),u=e("helpers/actions"),c=e("helpers/pubSub"),h=e("helpers/mixer"),p=e("helpers/utils"),d=e("helpers/errorManager"),f=e("mixins/actionable"),m=e("mixins/shortEventable"),g=e("helpers/resolver"),v=e("helpers/resume/resumer"),y=e("helpers/windowManager"),b=e("helpers/printer"),w=e("helpers/webObjectHelper"),S=e("helpers/slidesController"),x=d.throwError("actionator"),T=function(){return y.getCurrentWindow().isWaitingForSlideLoad()},E={mixins:[f,m,s.Events],shortEvents:{self:function(){var e={};return e[u.SAVE_RESUME_DATA]="saveResume",e[u.NOTIFY_PREVIEW]="notifyPreview",e[u.ENABLE_FRAME_CONTROL]="enableFrameControl",e[u.SET_FRAME_LAYOUT_TYPE]="setFrameLayout",e[u.SET_WINDOW_CONTROL_LAYOUT]="setWindowControlLayout",e[u.SET_FRAME_LAYOUT]="setFrameLayoutFromLayout",e[u.SET_WINDOW_CONTROL_VISIBLE]="changeWindowControl",e[u.ENABLE_WINDOW_CONTROL]="changeWindowControl",e[u.GOTOPLAY]="changeSlide",e[u.TRIGGER_NEXT_SLIDE]="advanceSlide",e[u.TRIGGER_PREV_SLIDE]="triggerPrevSlideClicked",e[u.TRIGGER_SUBMITALL_SLIDE]="onSubmitAll",e[u.TRIGGER_SUBMIT_SLIDE]="onSubmitSlide",e[u.TRIGGER_SLIDE_FINISH]="onSlideFinish",e[u.HISTORY_PREV]="goBack",e[u.HISTORY_PREV_GROUP]="goBackHistoryGroup",e[u.CLOSE_WINDOW]="closeWindow",e[u.CLOSE_PLAYER]="closePlayer",e[u.OPEN_VIDEO]="openVideo",e[u.OPEN_URL]="openUrl",e[u.RESUME_PLAYER]="applyPlayerResumeData",e[u.PLAYNEXTDRAWSLIDE]="advanceSlideDrawSlide",e[u.GET_MOUSE_POSITION]="getMousePosition",e[u.ZOOMPAN]="zoomPan",e[u.CLOSEWNDGOTOSLIDE]="closeWndGotoSlide",e[u.NEXTVIEWEDSLIDE]="nextViewedSlide",e[u.EXE_JAVASCRIPT]="exeJavaScript",e[u.EMAILTO]="mailTo",e[u.RESET_PLAYER]="resetPlayer",e[u.PRINTRESULTS]="printQuizResults",e[u.NOTIFYLINKSELECTED]="notifyLinkSelected",e[u.CANCEL_EVENT]="cancelEvent",e[u.TRIGGER_HOST_EVENT]="triggerHostEvent",e[u.SET_COURSE_STATUS]="setCourseStatus",e}()},onSubmitAll:function(){var e=y.getCurrentWindowSlide();e.executePlayerEvent("onsubmitallslide")},onSubmitSlide:function(){var e=y.getCurrentWindowSlide();e.executePlayerEvent("onsubmitslide")},onSlideFinish:function(){var e=y.getCurrentWindowSlide();e.executePlayerEvent("onfinishslide")},saveResume:function(e,t){var i=g.getRef(e.slideref||e.slideRefs),n=g.resolvePath(i,t.context);n.prepareResumeData({retainState:!0})},notifyPreview:function(e,t){c.trigger(a.preview.NOTIFY,e.message,e.data);
},mailTo:function(e){var t,s="mailto:"+e.address;i.isPreview()?c.trigger(a.preview.NOTIFY,"PREVIEW_EMAILTO"):l.isMobileAndNotPreview?window.top.location.assign("mailto:"+e.address):(t=document.createElement("iframe"),t.src=s,n.extend(t.style,{height:"1px",width:"1px",border:"0"}),document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t),t=null},200))},execUserJs:window.ExecuteScript,exeJavaScript:function(e){if(i.isPreview())c.trigger(a.preview.NOTIFY,"PREVIEW_EXE_JAVASCRIPT");else try{this.execUserJs(e.id)}catch(t){x("exeJavaScript",t.message||"Unknown custom script error")}},openVideo:function(e,t){e.windowsize="custom",c.trigger(a.window.OPEN_EXTERNAL,e,t)},getMousePosition:function(e,t){p.applyMethod("triggerAction",t.context,e,t)},zoomPan:function(e,t){p.applyMethod("triggerAction",t.context,e,t)},closeWndGotoSlide:function(e,t){var i=e.objRef.value;c.trigger(a.window.CLOSING,e.closewindowid),c.trigger(a.request.NEXT_SLIDE,i)},nextViewedSlide:function(e,t){var i=g.resolvePath(g.getRef(e.quizRef),t.context);p.applyMethod("triggerAction",i,e,t)},openUrl:function(e,t){c.trigger(a.window.OPEN_EXTERNAL,e,t)},initialize:function(e,n){t=e,i=n},getControlLayout:function(e){return t.controlLayouts().get(e)},setWindowControlLayout:function(e,t){var i=this.getControlLayout(e.name),n=t.context.prop("WindowId")||y.getCurrentWindowId();null!=i&&c.trigger(a.controlLayout.CHANGED,i,n)},setFrameLayout:function(e,t){var i=this.getControlLayout(e.name);c.trigger(a.controlLayout.CHANGED,i,o.refs.FRAME)},setFrameLayoutFromLayout:function(e){var i=t.getLayout(e.name).controllayout;c.trigger(a.controlLayout.CHANGED,this.getControlLayout(i),o.refs.FRAME)},changeControls:function(e,t,i){var n=-1===t.name.indexOf("swipe")?"navcontrols":"swipe",s=[n+":changed",t];e&&s.push(i),c.trigger.apply(c,s)},changeSlide:function(e,t){if(!T()){var n=p.getPath(t,"actionTarget.absoluteId");null==n&&i.isPreview()?c.trigger(a.preview.NOTIFY,"PREVIEW_SLIDE_MISSING"):c.trigger(a.request.NEXT_SLIDE,n,e.window)}},triggerPrevSlideClicked:function(e){var t=y.getCurrentWindowSlide();t.executePlayerEvent("onprevslide")},goBack:function(e){T()||c.trigger(a.request.PREV_SLIDE)},goBackHistoryGroup:function(e,t){T()||c.trigger(a.request.PREV_HISTORY_GROUP)},advanceSlide:function(e){T()||c.trigger(a.request.NEXT_SLIDE)},advanceSlideDrawSlide:function(e){T()||c.trigger(a.request.NEXT_DRAW_SLIDE)},closeWindow:function(e){c.trigger(a.window.CLOSING,e.id)},closePlayer:function(){c.trigger(a.player.CLOSING)},applyPlayerResumeData:function(e){c.trigger(a.loader.UNMUTE),v.applyResumeData(e.resume)},resetPlayer:function(e,t){c.trigger(a.player.RESET);var i=y.getCurrentWindowSlide(),n=S.getSlide(e.startslideid,i),s=null!=i&&i.absoluteId===n.absoluteId;s?(v.clearResumeData(),i.reset()):(null!=p.getPath(i,"currView.killSlide")&&i.currView.killSlide(),v.clearResumeData(),this.changeSlide(e,t))},printQuizResults:function(e,t){b.printQuizResults(e,t)},notifyLinkSelected:function(e,t){c.trigger(a.actionlink.VIEWED,e.id)},cancelEvent:function(e,t){t.cancel=!0},triggerHostEvent:function(e){w.triggerHostEvent(e.eventName)},setCourseStatus:function(e){var t=r.presentation.scoring(),i="action"===t.type();i&&(t.prop("Status",t.get(e.status?"passStatus":"failStatus")),c.trigger(a.course.MANUALLY_COMPLETED,e.status,t))}};return n.extend(E,{changeWindowControl:n.partial(E.changeControls,!0),enableFrameControl:n.partial(E.changeControls,!1)}),h.mix(E),h.initMixinsOf(E),E}),define("models/presentation/helpers/collisionMap",["require","lodash","helpers/resolver","helpers/animationClock","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resolver"),n=e("helpers/animationClock"),s=e("helpers/windowManager"),r=/\./,o={},a=!1,l={},u=function(e){var t=e.getLayer(),i=t.parent;return{slideId:i.id,layerId:(t.isBaseLayer()?i:t).id}},c=function(e,t){var i=u(e),n=i.slideId,s=i.layerId,r=e.getRelativeId(),a=o[n]&&o[n][s];return t?(null==a&&(a={eventables:{},targets:{},relatives:{},lookup:{}},o[n]=o[n]||{},o[n][s]=a),null==a.eventables[r]&&(a.eventables[r]={sets:[],dirty:!1,eventStates:[]}),a):a},h=function(e,t,i){var n,s=function(t){t.isCollideable=!0;var n=t.getRelativeId(),s=e.relatives[n];null==s&&(s=e.relatives[n]={}),s=s||{},s[i]=i},o=function(e){var t,i,n=e.getChildren(),r=n.length;for(t=0;r>t;t++)i=n[t],s(i),i.isGroupingSlideObject&&o(i)};if(t.isGroupingSlideObject&&o(t),r.test(i))for(n=t.parent;null!=n&&!n.isKind("slidelayer");)s(n),n=n.parent},p=function(e){var t,n,s,r,o,a,l,u,p,d,f,m,g,v,y,b,w=e.events(),S=w.length,x={};for(o=0;S>o;o++)if(l=w[o],g=l.kind,"ononscreen"!==g&&"onoffscreen"!==g||(g="ononscreen"===g?"oncollisionstart":"oncollisionend",b=l.actions,l={kind:g,targets:["_currentSlide"],actions:b}),"oncollisionstart"===g||"oncollisionend"===g)for(null==n&&(t=e.getRelativeId(),n=c(e,!0),s=n.eventables[t].sets,r=n.eventables[t].eventStates,e.isCollideable=!0,h(n,e,t)),u={lastHit:!1,event:l,targets:[]},r.push(u),p=l.targets,d=p.length,a=0;d>a;a++)f=i.resolvePath(p[a],e),v=f.getRelativeId(),u.targets.push(f),null==x[v]&&(x[v]=!0,f.isCollideable=!0,h(n,f,v),m=n.targets[v],null==m&&(m=n.targets[v]={dirty:!1,sets:[]}),y={targetModel:f,eventableModel:e,lastCollision:!1,currCollision:!1},s.push(y),m.sets.push(y),null==n.lookup[t]&&(n.lookup[t]={}),n.lookup[t][v]=y)},d={registerCollisions:function(e){e.collisionsCached||(e.collisionsCached=!0,null!=e.events()&&p(e))},getCollisionSets:function(e){if(e.isCollideable&&null!=e.currView){var i,n,s,r,o,a,l=[],u=e.getRelativeId(),h=c(e),p=h.relatives[u],d=h.eventables[u],f=h.targets[u];if(null!=d&&(l=d.sets,d.dirty=!1),null!=h.targets[u]&&(l=l.concat(f.sets),f.dirty=!1),null!=p)for(i=Object.keys(p),s=i.length,r=0;s>r;r++)n=i[r],o=h.eventables[n],a=h.targets[n],null!=o&&(l=l.concat(o.sets),o.dirty=!1),null!=a&&(l=l.concat(a.sets),a.dirty=!1);return t.uniq(l)}},getDirtyCollisionSets:function(){var e=s.getCurrentWindowSlide().id,i=l[e],n=[];return l={},t.forEach(i,function(e){var t,i,s,r;for(t=Object.keys(e.eventables),s=t.length,i=0;s>i;i++)r=t[i],e.eventables[r].dirty&&(e.eventables[r].dirty=!1,n.push.apply(n,e.eventables[r].sets));for(t=Object.keys(e.targets),s=t.length,i=0;s>i;i++)r=t[i],e.targets[r].dirty&&(e.targets[r].dirty=!1,n.push.apply(n,e.targets[r].sets))}),t.uniq(n)},markCollisionsDirty:function(e,t){if(e.isCollideable&&null!=e.currView){var i,s,r,o,h,p,d=u(e),f=d.slideId,m=d.layerId,g=e.getRelativeId(),v=c(e),y=v.relatives[g];if(null!=v.eventables[g]&&(v.eventables[g].dirty=!0),null!=v.targets[g]&&(v.targets[g].dirty=!0),null!=y)for(i=Object.keys(y),r=i.length,o=0;r>o;o++)s=i[o],h=v.eventables[s],p=v.targets[s],null!=h&&(h.dirty=!0),null!=p&&(p.dirty=!0);l[f]=l[f]||{},l[f][m]=v,a||(a=!0,n.requestAnimationFrame(function(){a=!1,t()},!0))}},getEventableLookupAndStates:function(e){var t=e.getRelativeId(),i=c(e),n=i.eventables[t];return{lookup:i.lookup[t],eventStates:n.eventStates}},clearHitStates:function(e){var i=o[e];t.forEach(i,function(e){var t,i,n,s,r,o,a,l,u;for(t=Object.keys(e.eventables),i=t.length,r=0;i>r;r++){for(n=t[r],s=e.eventables[n].eventStates,a=s.length,o=0;a>o;o++)s[o].lastHit=!1;for(l=e.eventables[n].sets,u=l.length,o=0;u>o;o++)l[o].lastCollision=!1}})},clearMapCache:function(){o={},a=!1},clearSlideCache:function(e){o[e]=null,l[e]=null}};return d}),define("views/helpers/collisionHelper",["require","lodash","helpers/utils","helpers/events","helpers/constants","views/helpers/dom","views/helpers/bitmapHelper","helpers/resolver","views/helpers/transformHelper","helpers/pubSub","helpers/TransMatrix","models/presentation/helpers/collisionMap"],function(e){"use strict";var t,i,n,s,r=e("lodash"),o=e("helpers/utils"),a=e("helpers/events"),l=e("helpers/constants"),u=(e("views/helpers/dom"),e("views/helpers/bitmapHelper")),c=(e("helpers/resolver"),e("views/helpers/transformHelper")),h=e("helpers/pubSub"),p=(e("helpers/TransMatrix"),e("models/presentation/helpers/collisionMap")),d=l.RECT_HIT,f=l.GROUP_HIT,m=l.SLIDE_HIT,g=4,v=3,y=128,b=!1,w=function(){s=document.querySelector("#collision-library"),s&&(i=s.querySelector("canvas"),n=i.getContext("2d"),n.imageSmoothingEnabled=!1,i.width=720,i.height=540,s.appendChild(i),b=!0)},S=0,x=1,T=2,E=3,C=function(e,t){return e[S]<t[T]&&e[T]>t[S]&&e[x]<t[E]&&e[E]>t[x]},A=function(e,t){return[Math.max(e[S],t[S]),Math.max(e[x],t[x]),Math.min(e[T],t[T]),Math.min(e[E],t[E])]},P=function(e,t){var i=u.getBounds(t);return e[S]<=i[S]&&e[T]>=i[T]&&e[x]<=i[x]&&e[E]>=i[E]},_=function(e,t,i,s,r){var o,a,l,c,h,p=e.props.model.getHitType(),f=t.props.model.getHitType(),b=i.length,w=0,A=Math.floor(s[S]),_=Math.floor(s[x]),I=Math.ceil(s[T])-A,R=Math.ceil(s[E])-_,O=p===d||p===m,L=f===d||f===m;if(0===b&&(O&&L||L&&P(s,e)||O&&P(s,t)))return I*R;for(n.translate(-A,-_),n.clearRect(A,_,I,R),n.globalAlpha=.5,k(n,t),l=0;b>l;l++)h=i[l],c=u.getBounds(h),C(s,c)&&k(n,i[l],!0);for(k(n,e),o=n.getImageData(0,0,I,R).data,a=o.length,l=v;a>l&&(!(o[l]>y)||(w++,r));l+=g);return n.translate(A,_),w},I=function(e){var t=e.props.model,i=t.closestScrollAncestor;return null==i&&(i=t.closestScrollAncestor=t.getClosestAncestorByKind("scrollarea")||!1),i&&i.currView},k=function(e,t,i){var n,s,r,o,a,l,h,p=i||t.dragging?!1:I(t);p?(h=p.props.model,o=h.width(),a=h.height(),null==h.scrollCanvas?(s=h.scrollCanvas=document.createElement("canvas"),s.width=o,s.height=a):s=h.scrollCanvas,r=s.getContext("2d"),r.clearRect(0,0,o,a),r.save(),l=c.getMatrix(p),n=l.copy().invert(),r.transform(n.a,n.c,n.b,n.d,n.tx,n.ty),u.drawToTarget(t,r),r.restore(),e.save(),n=l,e.transform(n.a,n.c,n.b,n.d,n.tx,n.ty),e.drawImage(s,0,0),e.restore()):(e.save(),i&&(e.globalAlpha=1,e.globalCompositeOperation="destination-out"),u.drawToTarget(t,e),e.restore())},R=function(e,t,i){var n=e.props.model,s=u.getCanvas(e),r=s.getContext("2d"),o=n.getCurrentStateMetrics(),a=null==o.mask?o.strokewidth:0,l=o.xPos-a,c=o.yPos-a;return 0!==r.getImageData(t-l,i-c,1,1).data[0]},O=function(e){if(null!=e&&0!==e.length){var t,i,n,s,o,a,l,u=e.length,c=[];for(t=0;u>t;t++)i=e[t],n=i.lastCollision,s=i.eventableModel,o=i.targetModel,a=s.currView,l=o.currView,null!=a&&null!=l&&(i.currCollision=a.trulyVisible&&l.trulyVisible&&L(a,l),i.currCollision!==i.lastCollision&&(i.lastCollision=i.currCollision,c.push(s)));M(r.uniq(c))}},L=function(e,t){var i,n,s,r,o,a,l,c,h=e.props.model,p=t.props.model,d=h.getHitType(),m=p.getHitType(),g=d===f?e.allRefs:[h],v=m===f?t.allRefs:[p],y=g.length,b=v.length,w=[],S=[],x=[];for(w.length=y,S.length=b,r=0;y>r;r++)if(i=g[r],i.currView.trulyVisible)for(w[r]=u.getBounds(i.currView),o=0;b>o;o++)n=v[o],n.currView.trulyVisible&&(0===r&&(S[o]=u.getBounds(n.currView)),C(w[r],S[o])&&x.push([r,o]));for(s=x.length,r=0;s>r;r++)if(a=x[r][0],l=x[r][1],c=_(g[a].currView,v[l].currView,[],A(w[a],S[l]),!1),c>0)return!0;return!1},M=function(e){var i,n,s,r,o,a,l,u,c=e.length;for(n=0;c>n;n++)for(i=e[n],l=p.getEventableLookupAndStates(i),a=l.eventStates,u=l.lookup,s=a.length,o=0;s>o;o++)r=a[o],D(i,r,u)&&t.executeActions(r.event.actions,{context:i})},D=function(e,t,i){var n,s,r,o=t.event.kind,a=t.targets,l=a.length,u=!1,c=!1;for(s=0;l>s;s++)if(n=a[s],r=i[n.getRelativeId()],u=u||r.currCollision,u&&"oncollisionstart"===o)return c=t.lastHit!==u,t.lastHit=u,c;return u||"oncollisionend"!==o?(t.lastHit=u,!1):(c=t.lastHit!==u,t.lastHit=u,c)},N={initialize:function(e){t=e,h.on(a.app.COMPLETE,function(){w()}),h.on(a.slide.HAS_MOUNTED,function(e){var t=o.getPath(e,"props.model");null==t||e.props.isMessageWindow||(i.width=t.get("width"),i.height=t.get("height"))})},transformUpdated:function(e,t){var i=e.props.model;c.setMatrixDirty(e),i.isCollideable!==!1&&(t?O(p.getCollisionSets(i)):p.markCollisionsDirty(i,function(){O(p.getDirtyCollisionSets())}))},containsPoint:function(e,t,i){if(e.props.model.getHitType()===f){var n=c.localPtToSlide(e,t,i);return r.reduce(e.allRefs,function(e,t){var i=t.currView,s=c.slidePtToSlideObject(i,n.x,n.y);return e||R(i,s.x,s.y)},!1)}return R(e,t,i)},getOverlapArea:function(e,t,i,n){var s=u.getBounds(e),r=u.getBounds(t),o=0;return C(s,r)&&(o=_(e,t,i,A(s,r),n)),o}};return N}),define("helpers/conditioner",["require","lodash","helpers/errorManager","helpers/resolver","views/helpers/collisionHelper","views/helpers/transformHelper"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=e("helpers/resolver"),s=e("views/helpers/collisionHelper"),r=e("views/helpers/transformHelper"),o=i.throwError("conditioner"),a=i.backtick,l="Cannot evaluate unsupported operator",u="Correct Response",c={and:" and ",or:" or ",nand:" nand ",nor:" nor ",lt:" is less than ",gt:" is greater than ",lte:" is less than or equal to ",gte:" is greater than or equal to ",eq:" is equal to ",iceq:" is equal to ",noteq:" is not equal to ",icneq:" is not equal to "},h={andOr:function(e,t,i){return t.statements.map(function(e){return T.statementToString(e,i)}).join(e)},compare:function(e,t){return[p(e.valuea,e.typea,t),p(e.valueb,e.typeb,t)].join(c[e.operator])}};h.and=t.partial(h.andOr,c.and),h.or=t.partial(h.andOr,c.or),h.nand=t.partial(h.andOr,c.nand),h.nor=t.partial(h.andOr,c.nor);var p=function(e,t,i){return"property"===t?u:f({type:t,value:e},{context:i})},d=function(e,i){var n=t.isArray(e)?e:i,s=n===e?i:e;return{arr:n,item:s}},f=function(e,t){return n.getRef(e,t.context||t,t.context&&t)},m=function(e){return String(e).toLowerCase()},g=function(e,i){var n=i?m:t.identity;return i||t.isString(e)?n(e).replace(/‘|’|‚/g,"'").replace(/“|”/g,'"'):e},v=function(e,t){var i=e+"Response",n=e+"id";return t[i]===t[n]},y=t.partial(v,"statement"),b=t.partial(v,"choice"),w={and:t.every,or:t.some};w.nand=t.negate(w.and),w.nor=t.negate(w.or);var S={eq:function(e,t){return g(e)==g(t)},noteq:function(e,t){return g(e)!=g(t)},iceq:function(e,t){return g(e,!0)===g(t,!0)},icneq:function(e,t){return g(e,!0)!==g(t,!0)},gt:function(e,t){return g(e)>g(t)},lt:function(e,t){return g(e)<g(t)},gte:function(e,t){return g(e)>=g(t)},lte:function(e,t){return g(e)<=g(t)}};S.has=function(e,i){var n=d(e,i);return t.contains(n.arr,n.item)},S.ichas=function(e,t){var i=d(e,t);return S.has(i.arr.map(m),m(i.item))};var x={compare:"evaluateComparison",varexists:"checkExistence",actiongroupexists:"checkExistence",stateexists:"checkState",hittestpoint:"evaluateHitTest",pair:"evaluatePair",isdescendant:"evaluateIsDescendant",containstext:"evaluateContainsText"},T={evaluateAction:function(e,t){return this.evaluateStatement(e.condition.statement,t)},evaluateStatements:function(e,t,i){return e(t,function(e){return this.evaluateStatement(e,i)}.bind(this))},evaluateStatement:function(e,t){if(!e)return!1;var i=x[e.kind]||"evaluateGroup";return this[i](e,t)},evaluateHitTest:function(e,t){var i,o=n.resolvePath(e.objRef.value,t.context),a=f({type:e.xPos.type,value:e.xPos.value},t),l=f({type:e.yPos.type,value:e.yPos.value},t),u=o.currView;return null!=u?(i=r.slidePtToSlideObject(u,a,l),s.containsPoint(u,i.x,i.y)):!1},evaluatePair:function(e,t){return y(e)&&b(e)},evaluateComparison:function(e,t){var i,n,s=(t.context,e.operator);return s in S||o("evaluate",l,a(s)),i=f({type:e.typea,value:e.valuea},t),n=f({type:e.typeb,value:e.valueb},t),S[s](i,n)},evaluateIsDescendant:function(e,t){var i=f({type:e.typea,value:e.targeta},t),s=f({type:e.typeb,value:e.targetb},t),r=n.resolvePath(i,t),o=n.resolvePath(s,t);return-1!==r.absoluteId.indexOf(o.absoluteId)},evaluateContainsText:function(e,i){var n=e.casesensitive?t.identity:m,s=t.flow(f,n),r=s(e.targetref,i),o=s(e.searchref,i);return-1!==r.indexOf(o)},evaluateGroup:function(e,t){var i=w[e.kind],n=e.statements;return this.evaluateStatements(i,n,t)},checkExistence:function(e,t){var i=n.getRef(e,t.context,t);return!!n.resolvePath(i,t.context,{optional:!0})},checkState:function(e,i){var s=n.getRef(e.objRef,i.context,i),r=n.resolvePath(s,i.context,{optional:!0}),o=n.getRef(e.stateRef,i.context,i);return null!=r&&t.isFunction(r.getStateFromName)&&null!=r.getStateFromName(o)},statementToString:function(e,t){return h[e.kind](e,t)}};return T}),define("helpers/slideThumb",["require","helpers/windowManager","lodash"],function(e){"use strict";var t=e("helpers/windowManager"),i=e("lodash"),n=function(e,t){return'<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8" /> <link rel="stylesheet" href="html5/lib/stylesheets/main.min.css" /> <link rel="stylesheet" href="html5/data/css/output.min.css" /> <style>* { margin: 0; padding: 0; pointer-events: none !important; } .slide-thumb { position: absolute; left: 0; top: 0; width: '+e+"px; height: "+t+'px; } </style> </head> <body> <div class="slide-thumb">'},s=function(e,t){return'</div> <script> (function() { var slide = document.querySelector(".slide-thumb"), topLeft = "0 0", scaleValue; slide.style.WebkitTransformOrigin = topLeft; slide.style.MozTransformOrigin = topLeft; slide.style.MsTransformOrigin = topLeft; slide.style.transformOrigin = topLeft; var scale = function() { var winH = window.innerHeight, winW = window.innerWidth, slideH = '+t+", slideW = "+e+', xScale = winH / slideH, yScale = winW / slideW, nextScaleValue = Math.min(xScale, yScale); if (scaleValue !== nextScaleValue) { scaleValue = nextScaleValue; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.transform = "scale(" + scaleValue + ")"; } }; window.addEventListener("resize", scale); scale(); })(); </script> </body></html>'},r=/data-reactid="(.*?)"/g,o=/(-webkit-|-moz-|-ms-)?transform(-origin)?:\s*([^;]*);/g,a="-webkit-transform$2: $3; -moz-transform$2: $3; -ms-transform$2: $3; transform$2: $3;",l={createVideoThumb:function(e){var t=document.createElement("canvas"),i=t.getContext("2d");return t.width=parseFloat(e.parentNode.style.width),t.height=parseFloat(e.parentNode.style.height),i.drawImage(e,0,0,t.width,t.height),{uri:t.toDataURL("image/jpeg",.8),src:e.src}},addVideoImageThumbs:function(e,t){var n={};return i(e).map(this.createVideoThumb).forEach(function(e){n[e.src]=e.uri}).value(),t.replace(/<video(.*?)<\/video>/g,function(e){var t,i=document.createElement("div");return i.innerHTML=e,t=i.querySelector("video").src,['<img src="',n[t],'"/>'].join("")})},generate:function(){var e,i,l,u,c,h,p=t.getCurrentWindow().getCurSlide(),d="";return null!=p?(e=p.el.innerHTML,i=p.props.model.get("width"),l=p.props.model.get("height"),e=e.replace(r,"").replace(o,a),h=document.querySelectorAll("video"),h.length>0&&(e=this.addVideoImageThumbs(h,e)),u=document.getElementById("svg-library"),c=document.getElementById("mask-library"),null!=u&&(d+=u.outerHTML),null!=c&&(d+=c.outerHTML),{width:i,height:l,html:[n(i,l),e,d,s(i,l)].join("")}):{html:null}}};return l}),define("helpers/automation",["require","lodash","timeline-lite","helpers/AnimationTimeline","helpers/animationClock","helpers/resolver","helpers/events","helpers/pubSub","helpers/utils","helpers/actionator","polyfills/vendorOverrides","polyfills/detection","helpers/slideThumb","helpers/resume/courseStateHelper","helpers/windowManager"],function(e){"use strict";var t,i,n,s=e("lodash"),r=e("timeline-lite"),o=(e("helpers/AnimationTimeline"),e("helpers/animationClock")),a=e("helpers/resolver"),l=e("helpers/events"),u=e("helpers/pubSub"),c=e("helpers/utils"),h=(e("helpers/actionator"),e("polyfills/vendorOverrides"),e("polyfills/detection")),p=e("helpers/slideThumb"),d=e("helpers/resume/courseStateHelper"),f=e("helpers/windowManager"),m={},g=33.33,v=window.vInterfaceObject||window,y={mainWindow:null,updateTime:function(){var e=f.getCurrentWindowSlide();return null!=e&&o.tick(),this.getIsPlaying(e)||n},getIsPlaying:function(e){var t=e.getBaseLayer(),i=e.slideLayers(),n=i.activeLayers,s=!t.getIsTimelinePaused();return!s&&n.length>0&&(s=n.some(function(e){return!e.getIsTimelinePaused()})),s},nextSlide:function(){var e=t.shift();e&&u.trigger(l.request.NEXT_SLIDE,c.prefixWithPlayer(e))},pausePlayer:function(){u.trigger(l.detection.VISIBILITY_HIDDEN)},playPlayer:function(){u.trigger(l.detection.VISIBILITY_SHOWN)},updateVideoFrame:function(e,t){var i=a.resolvePath(c.prefixWithPlayer(e));i&&i.currView.refs.innard.forceUpdatePoster(t)}},b={silenceActions:{trigger_next_slide:!1},initialize:function(e,n){var a=c.parseParams();if("1"===a.automation&&(window.autoSpider=!0,this.silenceActions.trigger_next_slide=!0),window.autoSpider){i=a.frametimems?parseFloat(a.frametimems):g,document.body.addEventListener("mousedown",this.onPlayerClicked.bind(this)),document.body.addEventListener("touchstart",this.onPlayerClicked.bind(this)),window.g_nWidth=n.display().width(),window.g_nHeight=n.display().height(),"1"===a.overrideclock&&(r.prototype.play=s.noop,o.overrideClock(i),this.clockIsOverridden=!0,u.on(l.video.STATE_CHANGED,this.onVideoEvent.bind(this)));var f=function(e){return!/^MsgScene|^PromptScene/.test(e)};t=s(n.slideMap().slideRefs().where({type:"slide"})).pluck("id").filter(f).tap(function(t){t.forEach(function(t){var i=e.getSlide(c.prefixWithPlayer(t)),n=i.get("showAnimationId");null!=n&&(m[n]=t)})}).rest().value();var v={playerTime:0,type:"dark-spider",AdvanceFrame:function(){return y.updateTime()},AutoUpdateTime:function(){o.tick()},UpdateVideoFrame:function(e,t){y.updateVideoFrame(e,t)},UpdateAutomationTime:function(e){var t=o.frameTimeMs;o.frameTimeMs=e-o.currentTime,o.tick(),o.frameTimeMs=t},TriggerNextSlide:function(){y.nextSlide()},TriggerPause:function(){h.is360&&y.pausePlayer()},TriggerPlay:function(){h.is360&&y.playPlayer()},CaptureSlideImage:function(){return p.generate()},GetCourseStateData:function(){return d.getState()},GetTargetDuration:function(t){var i=m[t];return i?e.getSlide(c.prefixWithPlayer(i)).getTransitionAnimation().duration():e.getSlide(c.prefixWithPlayer(t)).getBaseLayer().timeline().duration()}};this.getPlayer=function(){return v},s.bindAll(this,"onSlideStarted","onSlideTransition","onNextSlideRequesting","onMainWindowCreated","onEnterFullscreen","onExitFullscreen","onLoaderShown","onLoaderHidden","onTincanStatement");var b={};b[l.slide.STARTED]=this.onSlideStarted,b[l.slide.TRANSITION_STARTED]=this.onSlideTransition,b[l.layer.TIMELINE_ACTIVATED]=this.onLayerTimelineActivated,b[l.loader.SHOW]=this.onLoaderShown,b[l.loader.HIDE]=this.onLoaderHidden,b[l.window.MAIN_CREATED]=this.onMainWindowCreated,b[l.request.NEXT_SLIDE]=this.onNextSlideRequesting,b[l.presentation.ENTER_FULLSCREEN]=this.onEnterFullscreen,b[l.presentation.EXIT_FULLSCREEN]=this.onExitFullscreen,h.isRise&&(b[l.tincan.STATEMENT]=this.onTincanStatement),u.on(b)}},onPlayerClicked:function(){this.callIfExists("OnPlayerClicked")},onEnterFullscreen:function(){this.callIfExists("OnEnterFullscreen")},onExitFullscreen:function(){this.callIfExists("OnExitFullscreen")},onMainWindowCreated:function(e){y.mainWindow=e,this.callIfExists("AutomationReady")},onSlideTransition:function(e,t,i){this.callIfExists("OnSlideTransition",e,t,i)},onSlideStarted:function(e){n=!1,this.callIfExists("OnSlideStarted",e)},onMediaStarted:function(e){this.callIfExists("OnMediaStarted",e)},onNextSlideRequesting:function(){n=!0,this.callIfExists("OnNextSlideRequesting")},onLoaderShown:function(){this.callIfExists("OnLoaderShown")},onLoaderHidden:function(){this.callIfExists("OnLoaderHidden")},onVideoEvent:function(e,t){this.callIfExists("OnVideoEvent",e,t)},onTincanStatement:function(e){this.callIfExists("LmsUpdate",e)},onLayerTimelineActivated:function(e){if(e.isBaseLayer()){var t=e.getClosestAncestorByKind("slide").absoluteId;b.onSlideStarted(c.stripPlayer(t))}},callIfExists:function(e){var t=v[e];"function"==typeof t&&t.apply(v,s.rest(arguments))}};return b}),define("helpers/Iterable",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=function(e){return function(){var t=e.length,i=0;return{next:function(){return i===t?{done:!0}:{value:e[i++],done:!1}}}}},n=function(e){t.isArray(e)?(this.iterator=i(e),this.arr=e):this.iterator=e};return n.empty=new n([]),t.extend(n.prototype,{toArray:function(){if(null!=this.arr)return this.arr;var e=[];return this.forEach(function(t){e.push(t)}),this.arr=e,e},forEach:function(e){for(var t,i,s=this.iterator(),r=0,o=[];!(t=s.next()).done&&i!==!1;)i=e(t.value,r++,this),o.push(t.value);return new n(o)},map:function(e){return new n(function(){var t=this.iterator(),i=0;return{next:function(){var n=t.next();return n.done?{done:!0}:{value:e(n.value,i++,this),done:!1}}.bind(this)}}.bind(this))},filter:function(e){return new n(function(){var t=this.iterator(),i=0;return{next:function n(){var s=t.next();return s.done?{done:!0}:e(s.value,i++,this)?{value:s.value,done:!1}:n.call(this)}.bind(this)}}.bind(this))},some:function(e){var t=!1;return this.forEach(function(i,n){return t=!!e(i,n,this),!t}.bind(this)),t},flatten:function(){return new n(function(){var e=this.iterator(),i=[];return{next:function s(){var r=e.next(),o=r.value;return r.done?(e=i.pop(),null==e?{done:!0}:s.call(this)):(t.isArray(o)&&(o=new n(o)),o instanceof n?(i.push(e),e=o.iterator(),s.call(this)):r)}.bind(this)}}.bind(this))}}),n}),define("helpers/actionManager",["require","lodash","backbone","helpers/utils","helpers/debug","helpers/errorManager","helpers/actions","helpers/pubSub","helpers/resolver","helpers/actionator","helpers/conditioner","helpers/mixer","mixins/shortEventable","mixins/actionable","helpers/automation","helpers/constants","helpers/Iterable","views/helpers/collisionHelper"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/utils"),s=e("helpers/debug"),r=e("helpers/errorManager"),o=e("helpers/actions"),a=(e("helpers/pubSub"),e("helpers/resolver")),l=e("helpers/actionator"),u=e("helpers/conditioner"),c=e("helpers/mixer"),h=e("mixins/shortEventable"),p=e("mixins/actionable"),d=e("helpers/automation"),f=e("helpers/constants"),m=e("helpers/Iterable"),g=e("views/helpers/collisionHelper"),v=r.throwError("actionManager"),y=r.warn("actionManager"),b=r.backtick,w="Cannot execute action without a context:",S=function(e){var i="action:",n=e.shortEvents,s=n&&n.self;return t.keys(s).filter(function(e){return 0===e.indexOf(i)}).map(function(e){return e.replace(i,"")})},x={global:null,meta:null},T=function(e,i){var n=x[e];return t.contains(n,i.kind)},E=t.partial(T,"global"),C=t.partial(T,"meta"),A=function(e){var i=["gotoplay","history_prev","playnextdrawslide","nextunansweredslide","nextunsubmittedslide","nextviewedslide","history_prev_scene","history_prev_group"];return t.contains(i,e.kind)},P=function(e,t){var i=t.context,n=k(e,t);return!!n&&a.resolvePath(n.replace(/^\./,""),i,{optional:!0})},_=function(e,i){return t.mapValues(e.params||{},function(e){return a.getRef(e,i.context,i)})},I=function(e,i,n){var s,r=e;return null!=i.scopeRef&&(t.isArray(e)?r=e.map(function(e){var t=a.getRef(i.scopeRef,e,n);return 0===i.id.indexOf(f.CHILDREN)&&t===f.CHILDREN?e:a.resolvePath(t,e)}):(s=a.getRef(i.scopeRef,n.context,n),r="_owner"===s?e:a.resolvePath(s,n.context))),r},k=function(){var e=["param","objRef","varRef","quizRef","variable","id","drawid","interactionId","value","startslideid","scrollref"],i=function(e,i,n){var s=e[i];return t.isPlainObject(s)?a.getRef(s,n.context,n):s};return function(n,s){var r;return t.find(e,function(e){return r=i(n,e,s)}),r}}(),R=function(e,i){var n=a.splitPath(e.id),s=t.last(n),r=a.joinPath(t.initial(n)),o=r?a.resolvePath(r,i.context):i.context,l=I(o,e,i),u=t.isArray(o)?o:[o],c=u.map(function(e){return a.resolvePath(s,e,{optional:"_children"===t.first(n)})}),h=t.isArray(l)?l:[l];return 1===c.length&&h.length>1&&h.forEach(function(e,t){u[t]=u[t]||u[0],c[t]=c[t]||c[0]}),new m(c).map(function(n,s){if(null!=n){var r=t.defaults({context:h[s]},i),o=t.defaults({context:u[s]},i);return r.params=_(e,o),{actions:n.actions,data:r}}}.bind(this)).filter(t.identity)},O=function(e,t){var i=u.evaluateAction(e,t),n=i?"thenActions":"elseActions",s=e[n];return s},L={exe_actiongroup:function(e,t){return R(e,t).map(function(e){return D.traceActions(e.actions,e.data)}).flatten()},if_action:function(e,t){return D.traceActions(O(e,t),t)}},M={};M[o.EXE_ACTIONGROUP]="executeActionGroup",M[o.IF_ACTION]="evaluateConditional",M[o.FOREACH]="executeLoop",M[o.DEBUG_TRACE]="logDebugMessage",M[o.DEBUG_ERROR]="logErrorMessage";var D={mixins:[p,h,i.Events],shortEvents:{self:M},executeActions:function(e,i){var n,s,r=0,o=e.length,a=!1;if(o>0)do n=e[r],a&&"close_window"!==n.kind?y("executeActions","skip action:",n.id):(this.slideJumpPerformed=!1,s=t.clone(i),this.executeAction(n,s),i.cancel=s.cancel,a=A(n)||a||this.slideJumpPerformed);while(++r<o);return this.slideJumpPerformed=a,this},executeAction:function(e,t){if(d.silenceActions[e.kind]!==!0){t&&t.context||v("executeAction",w,b(e.kind));var i,s,r;return"close_window"!==e.kind&&t.context.isAncestral&&(r=t.context.getClosestAncestorByKind("slide",!0),n.getPath(r,"destroyed"))?(y("executeActions","skip action:",e.id),this):(i=P(e,t),s=E(e)?l:C(e)?D:i,s||v("executeAction","the object",n.doubleQuote(k(e,t)),"does not exist in this scope:",n.doubleQuote(n.stripPlayer(t.context.absoluteId||"")),"to execute the action",b(e.kind)),t.actionTarget=i,n.applyMethod("triggerAction",s,e,t),this)}},executeActionGroup:function(e,t){return R(e,t).forEach(function(e){var i=e.actions,n=e.data;this.executeActions(i,n),n.cancel&&(t.cancel=n.cancel)}.bind(this)),this},evaluateConditional:function(e,t){var i=O(e,t);return i&&this.executeActions(i,t),this},executeLoop:function(e,i){e.iterables.forEach(function(n){var s=t.defaults({iterables:n.valueref},i);D.executeActions(e.actions,s)})},logMessage:function(e,t,i){if(s.debugMode){var n="debug"===e,r=n?"log":"error";console[r](e.toUpperCase()+":",t.message),n||s.throwError()}},traceActions:function(e,t){return null==e?m.empty:new m(e).map(function(e){var i=L[e.kind];return null!=i?i(e,t):[e]}).flatten()},isJumpAction:A};return D.logDebugMessage=t.partial(D.logMessage,"debug"),D.logErrorMessage=t.partial(D.logMessage,"error"),c.mix(D),c.initMixinsOf(D),x.global=S(l),x.meta=S(D),g.initialize(D),D}),define("models/presentation/Timeline",["require","lodash","helpers/AnimationTimeline","helpers/events","helpers/utils","helpers/actionManager","models/BaseModel","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("helpers/AnimationTimeline"),n=e("helpers/events"),s=e("helpers/utils"),r=e("helpers/actionManager"),o=e("models/BaseModel"),a=e("helpers/resume/Chunk"),l={},u=o.extend({shorthand:["duration","events"],shortEvents:{self:{"change:duration":"onChangeDuration"}},subscriptions:function(){var e={};return e[n.detection.VISIBILITY_SHOWN]="onVisibilityShown",e[n.detection.VISIBILITY_HIDDEN]="onVisibilityHidden",e}(),initialize:function(){t.bindAll(this,"update","triggerPlaybackStateChange","onComplete"),this.timeline=new i({onUpdate:this.update}),this.labels=[],this.silent=!1,this.setUpTimelineDuration().setUpClamp().setupEvents().setRenderDirty()},setUpTimelineDuration:function(){return this.timeline.totalTime(this.duration()),this},setUpClamp:function(){return this.clampTime=t.partial(s.clamp,0,this.duration()||0),this},elapsedTime:function(){return this.timeline.time()},hasFinished:function(){return 1===this.progress()},hasStarted:function(){return this.progress()>0},update:function(){var e=this.progress();return 1!==e||this.completed||(this.completed=!0,this.onComplete()),this.trigger(n.timeline.TICK,this.progress()),this},play:function(){return this.timeline.play(),this.render(),this.trigger(n.timeline.PLAYING),this},pause:function(e){return e||this.render(),this.timeline.pause(),this.trigger(n.timeline.PAUSED),this},render:function(){this.renderDirty&&(this.renderDirty=!1,this.seek(this.resetValue||0))},progress:function(e){return null==e?s.clamp(0,1,this.timeline.currentTime/this.duration()):void this.seek(Math.floor(e*this.duration()))},togglePlayback:function(){var e=this.isPlaying()&&!this.hasFinished()?"pause":"play";return this[e](),this},onSeekStart:function(){this.isSeeking||(this.trigger(n.timeline.SEEK_START,this.seekPlaybackState),this.seekPlaybackState=this.playbackState(),this.isSeeking=!0),this.pause(!0)},onSeekEnd:function(){this.trigger(n.timeline.SEEK_END,this.seekPlaybackState),
"playing"===this.seekPlaybackState?this.play():this.pause(),this.isSeeking=!1},seek:function(e){return e=this.clampTime(e),this.beforeSeekTime=this.elapsedTime(),this.trigger(n.timeline.BEFORE_SEEK_UPDATE),this.timeline.reset(),this.timeline.seek(e),this.update(),this.trigger(n.timeline.AFTER_SEEK_UPDATE,e),this.lastSeekTime=e,this.completed=!1,this},reset:function(){return this.trigger(n.timeline.RESET),this},silentReset:function(){return this.timeline.silent=!0,this.timeline.seek(0,!0),this.timeline.pause(),this.timeline.silent=!1,this},isPlaying:function(){return this.timeline.isActive()},setupEvents:function(){var e=this.events();return null!=e&&e.forEach(function(e){var i=t.uniqueId("timeline-"),n=e.time;this.timeline.add(i,n),this.timeline.add(function(){this.triggerTimelineEvent(e,i)}.bind(this),i),this.labels.push(i),l[i]=this}.bind(this)),this},triggerTimelineEvent:function(e,t){var i={context:this.getClosestThisRef(),timelineLabel:t,isSeekAction:this.isSeeking,beforeSeekTime:this.beforeSeekTime||0,time:e.time,currentTime:this.elapsedTime()};r.executeActions(e.actions,i)},playbackState:function(){return this.hasFinished()?"ended":this.isPlaying()?"playing":"paused"},onComplete:function(){this.trigger(n.timeline.ENDED),this.trigger(n.timeline.COMPLETE)},triggerPlaybackStateChange:function(){this.trigger(n.timeline[this.playbackState().toUpperCase()])},addChildTimeline:function(e,t){return this.timeline.add(e,t),this},removeChildTimeline:function(e){return null!=this.timeline&&this.timeline.remove(e),this},removeLabel:function(e){this.timeline.remove(e)},getResumeData:function(){return a.toSignedString64(this.elapsedTime())},resetResume:function(){this.resetValue=0,this.setRenderDirty()},setResumeData:function(e){this.resetValue=a.fromSignedString64(e),this.setRenderDirty().pause()},getResetValue:function(){return this.resetValue||0},clearResetValue:function(){return this.resetValue=0,this.setRenderDirty(),this},setRenderDirty:function(){return this.renderDirty=!0,this},onChangeDuration:function(){this.setUpTimelineDuration().setUpClamp()},destroy:function(){this.labels.forEach(function(e){l[e]=null})},onVisibilityShown:function(){this.wasPlaying&&(this.wasPlaying=!1,this.play())},onVisibilityHidden:function(){this.isPlaying()&&(this.wasPlaying=!0,this.pause())},killEverything:function(){this.resetSubscriptions().stopListening().off(),this.timeline.kill(),this.timeline=null}},{getTimelineFromLabel:function(e){return l[e]}});return u}),define("views/helpers/TweenableTimeline",["require","lodash","helpers/AnimationTimeline","backbone","models/presentation/Timeline","helpers/events","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/AnimationTimeline"),e("backbone")),n=e("models/presentation/Timeline"),s=e("helpers/events"),r=e("helpers/utils"),o=function(e,t,i,s){this.view=e,this.timeline=t,this.timelineLabel=i,this.timelineControlled=null!=this.timelineLabel,this.layerTimeline=this.timelineControlled?n.getTimelineFromLabel(i):this.view.props.model.getLayer().timeline(),this.isHide=!!s,this.initialize()};return t.extend(o.prototype,i.Events,{playOnSeekEnd:!0,initialize:function(){var e={};this.addChildTimeline(),this.timelineControlled||(e[s.timeline.PLAYING]=this.playTimeline,e[s.timeline.PAUSED]=this.pauseTimeline,e[s.timeline.SEEK_START]=this.onSeekStart,e[s.timeline.SEEK_END]=this.onSeekEnd,this.listenTo(this.layerTimeline,e))},addChildTimeline:function(){this.timelineControlled?this.layerTimeline.addChildTimeline(this.timeline,this.timelineLabel):(this.actionTimeline=this.timeline,this.actionTimeline.seek(0),this.actionTimeline.play())},removeChildTimeline:function(){this.timelineControlled?this.layerTimeline.removeChildTimeline(this.timeline):this.actionTimeline=null},pauseTimeline:function(){null!=this.actionTimeline&&this.actionTimeline.pause()},playTimeline:function(){null!=this.actionTimeline&&this.actionTimeline.play()},onSeekStart:function(){this.playOnSeekEnd=this.actionTimeline.isActive(),this.pauseTimeline()},onSeekEnd:function(){this.playOnSeekEnd&&this.playTimeline()},destroy:function(e){this.removeChildTimeline(),this.isHide?this.timeline.reset():e&&this.timeline.progress(1,!0),this.timeline.kill(),r.getPath(this.view,"updateFromTween"),this.stopListening()}}),o}),define("views/mixins/zoompanable",["require","lodash","helpers/svg/svgUtils","helpers/utils","helpers/assetManager","views/helpers/dom","views/helpers/TweenHelper","models/presentation/Animation","helpers/AnimationTimeline","views/helpers/TweenableTimeline"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/svg/svgUtils"),e("helpers/utils")),n=e("helpers/assetManager"),s=e("views/helpers/dom"),r=e("views/helpers/TweenHelper"),o=e("models/presentation/Animation"),a=e("helpers/AnimationTimeline"),l=e("views/helpers/TweenableTimeline"),u=function(e,t,i){return(i*e-i)/2-t*e},c={componentWillMount:function(){this.listenTo(this.props.model,"zoompan",this.zoomPan)},buildZoomAnimation:function(e){var t,n=e.action,s=this.props.model,r=s.get("width"),a=s.get("height"),l=n.duration,c=r/n.lastwidth,h=u(c,n.lastx,r),p=u(c,n.lasty,a),d=r/n.width,f=u(d,n.xPos,r),m=u(d,n.yPos,a);return c=i.decToPct(c),d=i.decToPct(d),t=new o({wipetrans:!1,duration:1e3,tweens:[{kind:"tween",time:0,duration:l,scale:{path:[{kind:"segment",startx:c,starty:c,endx:d,endy:d,dsx:0,dsy:0,dex:0,dey:0}],duration:l,easing:"cubic",easingdir:"easein"}},{kind:"tween",time:0,duration:l,position:{path:[{kind:"segment",type:"line",anchora:{x:h,y:p,dx:0,dy:0},anchorb:{x:f,y:m,dx:0,dy:0}}],duration:l,easing:"cubic",easingdir:"easein"}}]})},createAnimationTimeline:function(e){var o=e.action,l=o.staticimageassetid,u=this.buildZoomAnimation(e);return this.lastZoomBackground&&(this.lastZoomBackground.parentElement.removeChild(this.lastZoomBackground),this.lastZoomBackground=null),new a({tweens:[new r(this,!1,u.getConfig(),null)],onComplete:-1===l?t.noop:function(){var e=this.el.parentNode,t=e.querySelector(".zoom-bg-container"),r=this.lastZoomBackground=document.createElement("img");r.src=n.getAssetUrl(l),s.setStyles(r,{position:"absolute",left:i.pxify(o.xPos),top:i.pxify(o.yPos),width:i.pxify(o.width),height:i.pxify(o.height),visibility:"block"}),t.appendChild(r)}.bind(this)})},zoomPan:function(e){this.el&&(this.tweenableTimeline&&(this.tweenableTimeline.destroy(!0),this.tweenableTimeline=null),this.tweenableTimeline=new l(this,this.createAnimationTimeline(e),e.event.timelineLabel,!1))}};return c}),define("views/mixins/pinchzoomable",["require","lodash","tween-lite","helpers/events","polyfills/detection","helpers/TransMatrix","helpers/utils","helpers/cssPrefix","helpers/errorManager","helpers/slideObjectUtils","helpers/constants","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("tween-lite"),n=e("helpers/events"),s=e("polyfills/detection"),r=e("helpers/TransMatrix"),o=e("helpers/utils"),a=(e("helpers/cssPrefix"),e("helpers/errorManager"),e("helpers/slideObjectUtils")),l=e("helpers/constants"),u=e("helpers/pubSub"),c=6,h=250,p=function(e){return!e||e.length<2},d=function(e){return p(e)?1:o.dist(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY)},f={getPinchCenter:function(e){var t,i={x:0,y:0};this.props.model.parentTransform;return p(e)?i:(t=this.isLightboxDocked(),this.isInLightbox&&this.lightboxDockedState!==t?(i.x=(e[0].pageX+e[1].pageX+document.body.clientWidth/2)/3,i.y=(e[0].pageY+e[1].pageY)/4):(i.x=(e[0].pageX+e[1].pageX)/2,i.y=(e[0].pageY+e[1].pageY)/2,s.isTouchableTheme),i)},shouldInitPinchZoom:function(){return a.isMobileSlide(this)&&null==this.props.slideFrame},initPinch:function(){this.pinch={scale:1,matrix:new r,panning:!1,zooming:!1,width:document.body.clientWidth,height:document.body.clientHeight,disable:!1}},initPinchZoom:function(e){this.shouldInitPinchZoom()&&(this.pinchZoomSlideContainer=e||this.props.slideContainer,this.container=this.el.parentNode,this.isInLightbox=this.pinchZoomSlideContainer.props.lightboxed,this.hasLightboxControls=this.pinchZoomSlideContainer.props.hasControls,this.initPinch(),this.container.addEventListener("gesturestart",this.onPrevent),this.container.addEventListener("touchstart",this.onTouchStart,!0),this.container.addEventListener("touchmove",this.onTouchMove),this.container.addEventListener("touchend",this.onTouchEnd),this.isInLightbox&&u.on(n.detection.ORIENTATION_CHANGE,this.onOrientationChange),this.doubleTapCount=0,document.addEventListener("touchstart",this.onDoubleTap))},resetDoubleTap:function(){this.doubleTapCount=0},onDoubleTap:function(e){p(e.touches)&&this.pinch.scale>1&&!a.isDoubleClickRelated(e.target)?(clearTimeout(this.doubeTapTimeout),this.doubleTapCount++,this.doubeTapTimeout=setInterval(this.resetDoubleTap,h),2===this.doubleTapCount&&1!==this.pinch.scale&&this.zoomOut()):this.resetDoubleTap()},onOrientationChange:function(){this.initPinch(),this.pinch.currMatrix=new r,this.startTransition(0)},zoomOut:function(){this.pinch.matrix=new r,this.pinch.currMatrix=this.pinch.matrix.copy(),this.props.model.pinchZoomScale=this.pinch.scale=1,this.pinch.zoomingOut=!0,this.startTransition(200,function(){this.pinch.zoomingOut=!1}.bind(this))},transTouch:function(e){var i=this.props.model.parentTransform,n=this.props.slideContainer.el.getBoundingClientRect(),s=t(e).map(function(e){return{pageX:(e.pageX-n.left)/i.scale,pageY:(e.pageY-n.top)/i.scale}}).value();return s},updatePinchPan:function(e){var t=this.pinch.matrix.unTransformPoint(e[0].pageX,e[0].pageY);this.pinch.currMatrix=this.pinch.matrix.copy().translate(t.x-this.pinch.startCenter.x,t.y-this.pinch.startCenter.y),this.container.style[this.cssTransformOrigin]="0 0",this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform(),this.isInLightbox&&this.trigger("pinchzoom")},updatePinchZoom:function(e){var t=d(e),i=this.getPinchCenter(e),n=this.pinch.matrix.unTransformPoint(i.x,i.y),s=t/this.pinch.startDistance;s=Math.max(1/this.pinch.scale,Math.min(s,c/this.pinch.scale)),this.pinch.zoom=s,this.pinch.currMatrix=this.pinch.matrix.copy().translate(n.x,n.y).scale(s,s).translate(-this.pinch.startCenter.x,-this.pinch.startCenter.y),this.container.style[this.cssTransformOrigin]="0 0",this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform(),this.trigger("pinchzoom")},onPrevent:function(e){e.preventDefault()},isLightboxDocked:function(){var e=this.el.getBoundingClientRect(),t=0,i=0;return"portrait"===s.orientation?i=this.hasLightboxControls?l.MOBILE_UI_SIZE:0:t=l.MOBILE_UI_SIZE,e.left<=0&&e.top<=0&&e.right+t>=document.body.clientHeight&&e.bottom+i>=document.body.clientWidth},isLightboxScaledToScreen:function(){var e,t,i=this.pinch.scale;return this.pinch.width=this.props.model.get("width"),this.pinch.height=this.props.model.get("height"),"portrait"===s.orientation?(e=this.pinch.width*i,t=this.pinch.height*i):(t=this.pinch.width*i,e=this.pinch.height*i),e>=document.body.clientWidth&&t>=document.body.clientHeight},onTouchStart:function(e){var t,i=this.transTouch(e.touches);if(this.lightboxDockState=this.isLightboxDocked(),2===i.length){this.pinch.panning=!1,this.pinch.zooming=!0,t=this.getPinchCenter(i);this.props.model.parentTransform;this.pinch.startCenter=this.pinch.matrix.unTransformPoint(t.x,t.y),this.pinch.startDistance=d(i),this.pinch.disable=!1}else 1!==i.length||1===this.pinch.scale&&!this.isInLightbox||this.shouldDisablePan(e)?(this.pinch.panning=this.pinch.zooming=!1,this.pinch.disable=!0):(this.pinch.panning=!0,this.pinch.zooming=!1,this.pinch.startCenter=this.pinch.matrix.unTransformPoint(i[0].pageX,i[0].pageY),this.pinch.disable=!1);this.pinch.disable||this.endTransition(),this.pinch.totalTouches=e.touches.length},onTouchEnd:function(e){this.pinch.disable=!1,this.lightboxDockState=this.isLightboxDocked(),e.touches.length<2&&(this.pinch.panning=!1,this.pinch.zooming=!1,this.pinch.currMatrix&&!this.pinch.zoomingOut&&(this.pinch.scale=this.pinch.currMatrix.getScale().x,this.screenBounds(),this.pinch.matrix=this.pinch.currMatrix,this.props.model.pinchZoomScale=this.pinch.scale))},onTouchMove:function(e){if(!this.pinch.disable){var t=this.transTouch(e.touches);2===t.length?this.updatePinchZoom(t):1===t.length&&(1!==this.pinch.scale||this.isInLightbox)&&this.pinch.panning&&this.updatePinchPan(t)}},screenBounds:function(){var e,t,i,n,o,a,u,c,h,p,d,f,m=!1;return this.pinch.width=this.props.model.get("width"),this.pinch.height=this.props.model.get("height"),s.isMobileOrTouchableTheme&&(u="portrait"!==s.orientation||s.isTouchableTheme?0:l.DOUBLE_MOBILE_UI_SIZE,c="landscape"!==s.orientation||s.isTouchableTheme?0:l.DOUBLE_MOBILE_UI_SIZE,d=this.el.getBoundingClientRect(),f=d.width>=document.body.clientWidth-c&&d.height>=document.body.clientHeight-u,this.isInLightbox&&!f)?(this.pinch.currMatrix=new r,this.pinch.currMatrix.scale(this.pinch.scale,this.pinch.scale,this.pinch.width/2,this.pinch.height/2),void this.startTransition(400)):(e=this.pinch.currMatrix.transformPoint(0,0),t=this.pinch.currMatrix.transformPoint(this.pinch.width,this.pinch.height),f&&(i=this.props.model.parentTransform.scale,n=this.pinch.currMatrix.getScale().x,o=1/(i*n),a=this.pinchZoomSlideContainer.el.getBoundingClientRect(),h=a.left*o,p=a.top*o,e=this.pinch.currMatrix.transformPoint(h,p),t=this.pinch.currMatrix.transformPoint(this.pinch.width+-1*h,this.pinch.height+-1*p),this.isInLightbox&&"portrait"===s.orientation&&(t.y-=.75*l.DOUBLE_MOBILE_UI_SIZE)),e.x>0&&(m=!0,this.pinch.currMatrix.translate(-e.x/this.pinch.scale,0)),e.y>0&&(m=!0,this.pinch.currMatrix.translate(0,-e.y/this.pinch.scale)),t.x<this.pinch.width&&(m=!0,this.pinch.currMatrix.translate((this.pinch.width-t.x)/this.pinch.scale,0)),t.y<this.pinch.height&&(m=!0,this.pinch.currMatrix.translate(0,(this.pinch.height-t.y)/this.pinch.scale)),void(m&&this.startTransition(400)))},startTransition:function(e,n){n=n||t.noop,this.pinchZoomTransitionTween=i.to(this.container,e/1e3,{transform:this.pinch.currMatrix.toCssTransform(),parseTransform:!0,onUpdate:this.trigger.bind(this,"pinchzoom"),onComplete:function(){n(),this.endTransition()}.bind(this)}),this.pinchZoomTransitionTween.play()},endTransition:function(){null!=this.pinchZoomTransitionTween&&(this.pinchZoomTransitionTween.kill(),this.pinchZoomTransitionTween=null)},killPinchZoom:function(){this.shouldInitPinchZoom()&&(this.container.removeEventListener("gesturestart",this.onPrevent),this.container.removeEventListener("touchstart",this.onTouchStart),this.container.removeEventListener("touchmove",this.onTouchMove),this.container.removeEventListener("touchend",this.onTouchEnd),u.off(n.detection.ORIENTATION_CHANGE,this.onOrientationChange),document.removeEventListener("touchstart",this.onDoubleTap),this.container.style[this.cssTransform]="")},componentWillUnmount:function(){this.killPinchZoom()},shouldDisablePan:function(e){return 1===e.touches.length&&(a.isDraggableRelated(e.target)||a.isScrollRelated(e.target)||a.isRotatableRelated(e.target)||a.isSlideableRelated(e.target))}};return f}),define("views/mixins/swipeable",["require","lodash","helpers/cssPrefix","helpers/constants","helpers/events","polyfills/detection","views/helpers/dom","helpers/slideObjectUtils","helpers/utils","helpers/svg/svgUtils","helpers/pubSub","helpers/windowManager","helpers/GsapTweenLite","timeline-lite","helpers/actionManager","helpers/appState","ease-pack"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/cssPrefix"),e("helpers/constants")),n=e("helpers/events"),s=e("polyfills/detection"),r=e("views/helpers/dom"),o=e("helpers/slideObjectUtils"),a=e("helpers/utils"),l=e("helpers/svg/svgUtils"),u=e("helpers/pubSub"),c=e("helpers/windowManager"),h=e("helpers/GsapTweenLite"),p=e("timeline-lite"),d=e("helpers/actionManager"),f=e("helpers/appState");e("ease-pack");var m,g=300,v=100,y=.25,b=40,w=i.math.QUARTER_PI,S=i.math.THREE_QUARTER_PI,x=1,T=2,E=3,C=4,A="#212121",P={};P[C]="onprevslide",P[T]="onnextslide";var _=!1;u.once(n.player.MENU_OPTIONS,function(e){m=e.get("flow")});var I=function(e){return o.isMobileSlide(e)&&null==e.props.slideFrame&&!e.props.slideContainer.props.lightboxed},k=function(){var e=_;return _=!1,e},R={DIRECTION_UP:x,DIRECTION_RIGHT:T,DIRECTION_DOWN:E,DIRECTION_LEFT:C,componentWillMount:function(){u.on(n.swipe.CHANGED,this.onSwipeChanged),this.swipe={swiping:!1,wasSwiped:k,swipeBehavior:I}},componentDidMount:function(){var e=this.el;this.swipe.swipeBehavior(this)&&(s.isTouchableTheme&&(y=.15),this.calcCancelTolerance().hasPrevNextActions().getWidthHeight().getNextEl(),e.addEventListener("touchstart",this.onSwipeableTouchStart,!0),e.addEventListener("touchmove",this.onSwipeableTouchMove),e.addEventListener("touchend",this.onSwipeableTouchEnd),window.addEventListener("popstate",this.onPopState),this.listenTo(f,n.layout.CHANGED,this.hasPrevNextActions))},componentWillUnmount:function(){var e=this.el;u.off(n.swipe.CHANGED,this.onSwipeChanged),this.swipe.swipeBehavior(this)&&(e.removeEventListener("touchstart",this.onSwipeableTouchStart),e.removeEventListener("touchmove",this.onSwipeableTouchMove),e.removeEventListener("touchend",this.onSwipeableTouchEnd),window.removeEventListener("popstate",this.onPopState))},onSwipeChanged:function(e){this.swipe["swipeleft"===e.name?"canSwipeLeft":"canSwipeRight"]=e.enable},getWidthHeight:function(){return this.swipe.width=this.props.model.get("width"),this.swipe.height=this.props.model.get("height"),this},getNextEl:function(){var e=this.el.parentNode,t=e.parentNode;return null!=t&&(this.swipe.nextEl=t.querySelector(".swipe-transition-container")),this},onSwipeableTouchStart:function(e){var t,i=this.swipe;s.isTouchableTheme&&(this.swipe.slideLeft=this.el.getBoundingClientRect().left),this.shouldSwipe(e.target)&&1===e.touches.length&&(t=e.touches[0],i.startX=t.pageX,i.startY=t.pageY,i.startTime=(new Date).getTime(),i.duration=null,i.cancelled=!1,i.willJump=!1)},onSwipeableTouchMove:function(e){var t,i=this.swipe,n=i.direction;this.shouldSwipe(e.target)&&1===e.touches.length&&(t=e.touches[0],i.x=t.pageX,i.y=t.pageY,this.swipe.swiping=!0,i.direction=this.getSwipeDirection(),n!==i.direction&&this.determineSwipeActions(),i.direction===C?this.animateSwipe().followDir(!1,C):i.direction===T&&this.animateSwipe().followDir(!1,T))},determineSwipeActions:function(){var e=this.swipe,i=this.props.model.tracePlayerEvent(P[e.direction]),n=c.getCurrentWindow();return t.extend(e,{cancelled:!0,willJump:!0}),i.forEach(function(t){return e.willJump=d.isJumpAction(t)&&("gotoplay"!==t.kind||t.window===n.id||"_current"===t.window),e.cancelled=!e.willJump||!("history_prev"!==t.kind||n.getPrevSlide()),e.cancelled}),this},onPopState:function(){this.resetSwipe()},calcCancelTolerance:function(){return this.swipe.cancelTolerance=this.props.model.get("width")/2,this},hasPrevNextActions:function(){var e=f.currentLayout();return this.swipe.canSwipeLeft=e.swipeleft,this.swipe.canSwipeRight=e.swiperight,this},resetSwipe:function(){var e=this.el;e.style[this.cssTransform]="",t.toArray(document.querySelectorAll(".slide-transition-container")).forEach(function(e){e.style[this.cssTransform]=""}.bind(this)),this.onSwipeableTouchEnd(),this.killLoader()},restricted:function(){return this.swipe.cancelled||!this.swipe.canSwipeLeft&&this.swipe.direction===C||!this.swipe.canSwipeRight&&this.swipe.direction===T},forceShowNextLoader:function(){this.swipe.rampShow=!0,this.showNextLoader()},showNextLoader:function(e,t){var i;t&&!this.swipe.rampTimeout&&(this.swipe.rampTimeout=setTimeout(function(){this.swipe.rampShow=!0,this.swipe.rampTimeout=null}.bind(this),300)),i={visibility:"visible",display:"block",backgroundColor:"transparent",opacity:this.restricted()||!this.swipe.rampShow?0:1},i[this.cssTransform]=e,this.props.slideContainer.setLoaderStyle(i)},getPadding:function(){var e=this.props.model.parentTransform;return Math.max(2*e.xOff,b)},followDir:function(e,t){var i,n,o,u,c=this.props.model.parentTransform,h=this.swipe.width+this.getPadding(),p=t===C?-h:h;e&&(u=this.props.model.calculateTotalScale(),i=this.el.getBoundingClientRect(),this.swipe.currX=(i.left-c.xOff)*u,s.isTouchableTheme&&(this.swipe.currX-=(this.swipe.slideLeft-c.xOff)*u)),this.swipe.nextEl&&(this.swipe.lastDir=t,o=this.swipe.currX+p,n=l.transformTranslate(a.pxify(o),a.pxify(0)),this.restricted()||(r.setStyles(this.swipe.nextEl,{width:a.pxify(this.swipe.width),height:a.pxify(this.swipe.height)}),this.swipe.nextEl.style[this.cssTransform]=n,this.swipe.nextEl.style.background=s.isTouchableTheme?"#2e2e2e":A),this.showNextLoader(n,Math.abs(o)<this.swipe.width/2))},onSwipeableTouchEnd:function(){var e,t,i=this.swipe,n=i.direction;return i.duration=(new Date).getTime()-i.startTime,this.swipe.cancelled||!this.swipe.canSwipeLeft&&n===C||!this.swipe.canSwipeRight&&n===T?void this.endSwipe(n,!1):void(i.swiping&&(e=this.getSwipeLength(),t=this.speedSwipe(e),t||e>this.swipe.cancelTolerance?(this.endSwipe(n,!0),t&&this.forceShowNextLoader()):this.endSwipe()))},speedSwipe:function(e){var t=this.swipe.duration;return g>t&&e>v},doSwipe:function(e){var i={};return i[C]=this.swipe.canSwipeLeft?this.onSwipeLeft:t.noop,i[T]=this.swipe.canSwipeRight?this.onSwipeRight:t.noop,i.hasOwnProperty(e)&&i[e](),this},onSwipeRight:function(){this.props.model.executePlayerEvent(P[T]),_=!0,this.swipe.isNavigating=!0},onSwipeLeft:function(){this.props.model.executePlayerEvent(P[C]),_=!0,this.swipe.isNavigating=!0},shouldSwipe:function(e){var t=this.props.model.pinchZoomScale,i=null!=t&&1!==t;return!(o.isScrollRelated(e)||o.isDraggableRelated(e)||o.isRotatableRelated(e)||o.isSlideableRelated(e)||i)},endSwipe:function(e,t){this.swipe.swiping=!1,this.swipe.direction=null,this.animateSwipeEnd(e,t)},getSwipeLength:function(){var e=this.swipe,t=a.dist(e.startX,e.startY,e.x,e.y)*this.props.model.calculateTotalScale();return t},getSwipeDirection:function(){var e=this.swipe,t=Math.atan2(e.startY-e.y,e.startX-e.x),i=Math.abs(t);return w>=i?T:t>w&&S>=t?x:-w>t&&t>=-S?E:C},animateSwipe:function(e){var t=this.el,i=this.swipe,n=i.startX-i.x,s=0>n?-1:1,r=e||-(Math.abs(n)*s*this.props.model.calculateTotalScale());return this.restricted()&&(r*=i.willJump?.1:.5*Cubic.easeOut.getRatio(Math.abs(n)/document.body.clientWidth)),h.set(t,{x:r}),this.swipe.currX=r,this},killLoader:function(){var e={visibility:null,opacity:null,display:"none",backgroundColor:"rgba(0, 0, 0, 0.5)"};e[this.cssTransform]=null,this.props.slideContainer.setLoaderStyle(e)},swipeEndRight:function(){this.followDir(!0,T),this.swipe.updateNextSlide=window.requestAnimationFrame(this.swipeEndRight)},swipeEndLeft:function(){this.followDir(!0,C),this.swipe.updateNextSlide=window.requestAnimationFrame(this.swipeEndLeft)},animateSwipeEnd:function(e,t){var i,s,r,o=this.el,l=0;t?(r=this.getSuccessSwipeTween(e),s=e===T?this.swipeEndRight:this.swipeEndLeft):(s=this.swipe.lastDir===T?this.swipeEndRight:this.swipeEndLeft,r=this.getFailedSwipeTween(e)),i=a.toMilliseconds(r.duration()),this.swipe.updateNextSlide=window.requestAnimationFrame(s),r.play(),window.clearTimeout(this.swipe.resetTransform),this.swipe.resetTransform=window.setTimeout(function(){o.style[this.cssTransitionDuration]="0s",window.cancelAnimationFrame(this.swipe.updateNextSlide),this.doSwipe(e),t?(this.forceShowNextLoader(),u.once(n.loader.HIDE,function(){o.style[this.cssTransform]="",o.style.opacity=0,this.resetNextEl(),this.killLoader()}.bind(this))):this.resetNextEl()}.bind(this),i+l)},getSuccessSwipeTween:function(e){var t,i=this.swipe.width+this.getPadding(),n=new p;return e===T?t=-i:e===C&&(t=i),n.add(h.to(this.el,y,{x:t,ease:"Sine.easeOut"})),n},getFailedSwipeTween:function(e){var t,i,n=this.el,s=this.swipe,r=new p;return!s.willJump&&this.speedSwipe(this.getSwipeLength())?(i=Math.max(.2,a.toSeconds(s.duration)),t=Math.min(Math.abs(s.startX-s.x),s.width*(s.willJump?.1:.5)),r.add([h.to(n,i,{x:t*(e===T?-1:1),ease:"Cubic.easeOut"}),h.to(n,2*i,{x:0,ease:"Cubic.easeOut"})],0,"sequence")):r.add(h.to(n,.25,{x:0,ease:"Sine.easeOut"})),r},resetNextEl:function(){this.swipe.nextEl&&(this.swipe.nextEl.style[this.cssTransform]="",r.setStyles(this.swipe.nextEl,{width:null,height:null,background:null}))}};return R}),define("views/mixins/transitionableSlide",["require","lodash","react","react-dom","helpers/AnimationTimeline","views/helpers/TweenHelper","helpers/svg/svgUtils","polyfills/vendorOverrides","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=(e("react"),e("react-dom"),e("helpers/AnimationTimeline")),n=e("views/helpers/TweenHelper"),s=(e("helpers/svg/svgUtils"),e("polyfills/vendorOverrides"),e("helpers/events")),r=e("helpers/pubSub"),o=1e3,a={getInitialState:function(){return{transitionDepth:0}},setPrevSlide:function(e){var t=e.props.model;this.prevSlide=e,t.slideLayers().pauseAll(!0)},setTransparent:function(e){this.el.classList[e?"add":"remove"]("transparent")},componentDidMount:function(){this.transitionIsComplete=!1,this.completeHook=t.noop,this.setTransparent(!0)},publishTransitionStarted:function(){r.trigger(s.slide.TRANSITION_STARTED,this.state.Id,this.transition.id,this.transition.duration())},transitionIn:function(e,t){var s,r=this;return this.completeHook=e,this.setTransparent(!1),this.transition=this.props.model.getTransitionAnimation(),s=this.transition&&this.transition.get("wipeTrans"),t||null==this.transition||s&&!this.prevSlide?void this.transitionComplete():(this.publishTransitionStarted(),s&&(this.prevSlide.killPinchZoom(),r=this.prevSlide,this.prevSlide.setState({transitionDepth:++o})),this.transitionTimeline=new i({tweens:[new n(r,!1,this.transition.getConfig(),this.prevSlide)],onComplete:this.onTransitionComplete}),this.transitionTimeline.seek(0),void this.transitionTimeline.play())},seekTransition:function(e){this.transitionTimeline.seek(e,!1)},forceTransition:function(){!this.transitionIsComplete&&this.transition&&(this.transitionTimeline.progress(1,!0),this.transitionTimeline.kill(),this.transitionComplete())},killPrevSlide:function(){this.prevSlide&&(this.prevSlide.killSlide(),this.prevSlide=null)},transitionComplete:function(){null!=this.transitionTimeline&&this.transitionTimeline.kill(),this.transitionIsComplete=!0,this.killPrevSlide(),this.completeHook(),this.props.transitionComplete()},onTransitionComplete:function(){this.transitionComplete()},componentWillUnmount:function(){var e=this.previousHome;null!=e&&e.grandparent.appendChild(e.parent)}};return a}),define("views/presentation/mixins/slideObjectContainer",["require","lodash","views/helpers/transformHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/helpers/transformHelper"),n={componentWillMount:function(){this.props.isInnard&&t.extend(this.props.parent,{attachView:this.attachView})},componentWillUpdate:function(){t.forEach(this.getDetachedChildren(),function(e){this.attachView(e.child.currView)}.bind(this))},componentDidUpdate:function(){t.forEach(this.getDetachedChildren(),function(e){var t=e.newParent.currView,i=e.child.currView;null!=t&&null!=i&&t.attachView(i)}.bind(this))},attachView:function(e){e.reparentedContainer=this,null!=this.refs.bg&&this.refs.contentArea.contains(this.refs.bg.el)?this.refs.contentArea.insertBefore(e.el,this.refs.bg.el):this.refs.contentArea.appendChild(e.el),i.setMatrixDirty(e)},getDetachedChildren:function(){return this.props.model.detachedChildren||{}}};return n}),define("helpers/audio/AudioClipElement",["require","lodash","helpers/audio/AudioClipBase","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/audio/AudioClipBase"),n=e("helpers/utils"),s=n.createSuper(i),r=document.body,o={},a=function(){i.apply(this,arguments)};return t.extend(a,i),a.prototype=new i,t.extend(a.prototype,{constructor:a,initialize:function(){this.refCount=0,s("initialize").apply(this,arguments),this.dfd.fail(function(){o[this.url]=null}.bind(this)),this.playTimeout=null,this.updateTimeDelegate=this.updateTime.bind(this)},onEnded:function(){this.startTime=this.getDuration(),s("onEnded").call(this,arguments)},updateTime:function(e){this.onTimeUpdateDelegate(e.target.currentTime)},load:function(){return null==o[this.url]?(this.refCount=1,this.el=new window.Audio,this.el.setAttribute("preload","auto"),this.el.src=this.url,r.appendChild(this.el),this.el.load(),o[this.url]=this.el):(this.refCount++,this.el=o[this.url],this.el.readyState>=this.el.HAVE_ENOUGH_DATA&&this.dfd.resolve()),this.el.addEventListener("canplaythrough",this.dfd.resolve),this.el.addEventListener("error",this.dfd.reject),this.el.addEventListener("ended",this.onEndedDelegate),this.el.addEventListener("timeupdate",this.updateTimeDelegate),this},deferredPlay:function(){var e=this.el.play.bind(this.el);this.clearPlayTimeout(),this.startAt<this.getDuration()?(this.startAt<0?(this.negative=!0,this.el.pause(),this.setCurrentTime(0),this.playTimeout=setTimeout(e,n.toMilliseconds(-this.startAt))):(this.negative=!1,this.setCurrentTime(this.startAt),e()),this.performanceStartTime=(new Date).getTime(),this.isPlaying=!0):(this.pause(),this.onEnded())},deferredPause:function(){this.isPlaying&&(this.clearPlayTimeout(),0===this.el.currentTime&&this.negative?this.startAt=n.toSeconds((new Date).getTime()-this.performanceStartTime)+this.startAt:this.startAt=this.el.currentTime,this.el.pause(),this.isPlaying=!1)},getDuration:function(){return this.el.duration},setVolume:function(e){return this.el.volume=e,this},setCurrentTime:function(e){this.el.currentTime!==e&&(this.el.currentTime=e)},destroy:function(e){return this.refCount--,this.refCount>0?void 0:(this.clearPlayTimeout(),null!=this.el&&(this.el.removeEventListener("canplaythrough",this.dfd.resolve),this.el.removeEventListener("error",this.dfd.reject),this.el.removeEventListener("ended",this.onEndedDelegate),this.el.removeEventListener("timeupdate",this.updateTimeDelegate),e||(r.removeChild(this.el),o[this.url]=null)),s("destroy").apply(this,arguments),this)},clearPlayTimeout:function(){clearTimeout(this.playTimeout),this.playTimeout=null}}),a}),define("helpers/audio/audioManager",["require","helpers/audio/AudioClipApi","helpers/audio/AudioClipElement","polyfills/detection","helpers/pubSub"],function(e){"use strict";var t=e("helpers/audio/AudioClipApi"),i=e("helpers/audio/AudioClipElement"),n=e("polyfills/detection"),s=e("helpers/pubSub"),r=function(){return n.hasAudioApi()?t:i},o={};s.on("nextSlide:requesting",function(){o={}});var a={prepare:function(){var e=r();e.prepare()},loadUrl:function(e){if(null!=o[e])return o[e].load(),o[e];var t=r(),i=new t(e);return o[e]=i,i.load(),i}};return a}),define("helpers/MediaLoader",["require","lodash","helpers/vow","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),n=e("polyfills/detection"),s=(new i.Deferred).resolve().promise(),r=function(e){this.init(e)};return t.extend(r.prototype,{retries:1,retryTimeout:250,hasStartedLoading:!1,isMediaElement:!1,init:function(e){t.bindAll(this,"onLoad","onCanPlay","onError"),this.retries=null!=e.retries?e.retries:this.retries,this.retryTimeout=null!=e.retryTimeout?e.retryTimeout:this.retryTimeout,this.failuresCount=0,this.url=e.url,this.type=e.type,this.loadForView=!!e.loadForView,this.createDeferred().createElement(),this[this.loadForView?"batchLoad":"queueLoad"]()},createDeferred:function(){var e=new i.Deferred;return Object.defineProperties(this,{dfd:{value:e},promise:{value:e.promise()}}),this},createElement:function(){return this.setElement(document.createElement(this.type)),this},setElement:function(e){this.teardown(),this.el=e,this.el.addEventListener("load",this.onLoad),this.el.addEventListener("canplay",this.onCanPlay),this.el.addEventListener("error",this.onError)},queueLoad:function(){return s.always(this.load.bind(this)),s=this.promise,this.promise},batchLoad:function(){this[n.isIOS()&&this.isMediaElement?"queueLoad":"load"]()},load:function(){return null!=this.el?(this.hasStartedLoading||(this.hasStartedLoading=!0,this.el.src=this.url,this.isMediaElement&&this.loadMediaElement()),this.promise):void 0},loadMediaElement:function(){null!=this.el&&this.el.load()},retry:function(){return this.failuresCount++,setTimeout(function(){
return this.hasStartedLoading=!1,this.createElement().load()}.bind(this),this.retryTimeout),this},shouldRetry:function(){return this.failuresCount<this.retries},onLoad:function(e){this.isMediaElement||this.dfd.resolve()},onCanPlay:function(){this.dfd.resolve()},onError:function(e){this.shouldRetry()?this.retry():this.dfd.reject("Could not load media "+this.url)},teardown:function(){null!=this.el&&(this.el.src="",this.detachElement())},detachElement:function(){null!=this.el&&(this.el.removeEventListener("load",this.onLoad),this.el.removeEventListener("canplay",this.onCanPlay),this.el.removeEventListener("error",this.onError)),this.el=null}}),r}),define("helpers/AudioLoader",["require","lodash","helpers/audio/audioManager","helpers/MediaLoader"],function(e){"use strict";var t=e("lodash"),i=e("helpers/audio/audioManager"),n=e("helpers/MediaLoader"),s=function(e){this.init(e)};return t.assign(s.prototype,n.prototype,{isMediaElement:!0,createElement:function(){return this},load:function(){return this.hasStartedLoading||(this.hasStartedLoading=!0,this.audioClip=i.loadUrl(this.url),this.audioClip.dfd.promise().done(this.dfd.resolve).fail(this.dfd.reject)),this.promise},teardown:function(){null!=this.audioClip&&this.audioClip.destroy(!0),this.audioClip=null}}),s}),define("helpers/globalAudioManager",["require","helpers/assetManager","helpers/appState","helpers/events","helpers/pubSub","helpers/audio/audioManager","helpers/vow","lodash","helpers/AudioLoader"],function(e){"use strict";var t,i=e("helpers/assetManager"),n=e("helpers/appState"),s=e("helpers/events"),r=e("helpers/pubSub"),o=e("helpers/audio/audioManager"),a=e("helpers/vow"),l=e("lodash"),u=e("helpers/AudioLoader"),c={},h=function(e){var t=e.props.model;t.isMessageSlide()||(l.isEmpty(t.get("globalAudioId"))?v.stop():v.play(t.get("globalAudioId")))},p=function(e){t=e,r.on(s.slide.HAS_MOUNTED,h)},d=function(e,t){c.setVolume(t)},f=function(){null!=c.url&&(n.off(s.volume.CHANGE_CURRENT,d),c.destroy(),c={})},m=function(e){var r=t.find(function(t){return t.get("id")===e}),a=i.getAssetUrl(r.get("assetId"));a!==c.url&&(v.stop(),c=o.loadUrl(a),n.on(s.volume.CHANGE_CURRENT,d),c.setVolume(n.currentVolume()),c.play())},g=function(e){var n,s,r;return l.isEmpty(e)?(new a.Deferred).resolve().promise():(s=t.find(function(t){return t.get("id")===e}),r=i.getAssetUrl(s.get("assetId")),r!==c.url?(n=new u({type:"audio",url:r}),n.promise.always(n.teardown.bind(n))):void 0)},v={initialize:p,play:m,stop:f,load:g};return v}),define("views/presentation/Slide",["require","lodash","helpers/vow","helpers/pubSub","helpers/keyManager","react","views/mixins/propertizable","views/mixins/mouseable","views/mixins/zoompanable","views/mixins/pinchzoomable","views/mixins/swipeable","views/mixins/baseView","views/mixins/transitionableSlide","views/presentation/mixins/slideObjectContainer","helpers/resolver","helpers/utils","helpers/windowManager","helpers/globalAudioManager","helpers/events","polyfills/detection","views/helpers/transformHelper"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),n=e("helpers/pubSub"),s=e("helpers/keyManager"),r=e("react"),o=e("views/mixins/propertizable"),a=e("views/mixins/mouseable"),l=e("views/mixins/zoompanable"),u=e("views/mixins/pinchzoomable"),c=e("views/mixins/swipeable"),h=e("views/mixins/baseView"),p=e("views/mixins/transitionableSlide"),d=e("views/presentation/mixins/slideObjectContainer"),f=e("helpers/resolver"),m=e("helpers/utils"),g=e("helpers/windowManager"),v=(e("helpers/globalAudioManager"),e("helpers/events")),y=e("polyfills/detection"),b=e("views/helpers/transformHelper"),w=function(e,i,n){n.executeFilteredPlayerEvent(function(e){return t(e.objects).pluck("value").map(f.splitPath).map(t.last).intersection(i).isEmpty()},e)},S=r.createClass({displayName:"Slide",mixins:[h,o,a,p,l,u,c,d],getDefaultProps:function(){return{onSlideStarted:t.noop}},componentWillMount:function(){var e=this.props.model;e.destroyed=!1,e.getVariableChangeSubscriptions();var i=e.getSlideDraw(),n=g.getCurrentWindow();null!=i&&this.listenTo(i,v.draw.EXIT,this.onSlideDrawExit),null==this.props.slideFrame&&s.clearSlide(this,n.isMainWindow?null:n.props.model.absoluteId),this.mouseX=0,this.mouseY=0,e.executePlayerEvent("onbeforeslidein"),this.getSlideObjectViews=t.memoize(this.getSlideObjectViews),this.loadDfd=this.props.model.loadSlideAssets()},componentDidMount:function(){var e=this.props.model;e.applyResumeData(),s.onBuildComplete(),this.registerEvent("clickoutsideobjects",function(e){this.triggerClickOutside("on"+e.type,e.data)}.bind(this)),e.interactions().invoke("updateInitialAttemptCount"),e.setAsViewed(),i.isPending(this.loadDfd)?this.loadDfd.always(this.whenHtmlReady):this.htmlReady(this.whenHtmlReady),this.updateWindowId(),n.trigger(v.slide.HAS_MOUNTED,this)},shouldUpdate:function(e,t){return t.isVisible!==this.state.isVisible||t.transitionDepth!==this.state.transitionDepth},componentWillUpdate:function(e,t){t.isVisible&&!this.state.isVisible&&this.props.model.executePlayerEvent("onbeforeslidein")},whenHtmlReady:function(){var e=this.props.model,t=e.getBaseLayer(),i=this.swipe.wasSwiped();n.trigger(v.slide.READY),null!=this.prevSlide&&(this.prevSlide.trulyVisible=!1,this.prevSlide.props.model.executePlayerEvent("ontransitionout")),t.timeline().pause(),e.executePlayerEvent("ontransitionin"),n.trigger(v.slide.ON_TRANSITION_IN,this.props.model),this.trulyVisible=!0,this.transitionIn(function(){e.executePlayerEvent("ontransitionincomplete"),null==this.props.slideFrame&&t.isTimelineLayerPlayable()&&!e.pauseForResume&&t.resumeTimeline(),e.pauseForResume=!1,n.trigger(v.preview.NOTIFY,"PREVIEW_SLIDE_IN_COMPLETE",e.absoluteId),e.executePlayerEvent("onslidestart"),this.initPinchZoom(),this.publishSlideStarted()}.bind(this),i),y.isMobileOrTouchableTheme?setTimeout(function(){window.requestAnimationFrame(function(){n.trigger(v.loader.HIDE)})},60):n.trigger(v.loader.HIDE)},componentWillUnmount:function(){this.props.model.prepareResumeData(),g.isMultiWindowSlide(this.props.model)||this.props.model.resetModel()},updateWindowId:function(e){this.props.model.windowId=e||this.props.slideContainer&&this.props.slideContainer.props.windowId},triggerClickOutside:function(e,i){var n,s=this.props.model,r=s.slideLayers(),o=t.partial(w,e,i),a=r.activeLayers.slice(),l=r.prevLayers,u=!1;(null==l||t.isEqual(a,l))&&(n=a.reverse().reduce(function(e,t){return u||(u=!!t.modal(),e.push(t)),e},[]),u||o(s),n.forEach(o)),r.prevLayers=void 0},onStoreMouseLoc:function(e){var t=b.globalPtToLocal(this,e.pageX,e.pageY);this.mouseX=t.x,this.mouseY=t.y},calcMouseLoc:function(e,t){var i=this.el.getBoundingClientRect(),n=e-i.left,s=t-i.top,r=this.props.model.calculateTotalScale();return{x:n*r,y:s*r,slideRect:i,scale:r}},onStoreTouchLoc:function(e){1===e.touches.length&&this.onStoreMouseLoc(e.touches[0])},publishSlideStarted:function(){this.props.model.trigger("started"),n.trigger(v.slide.STARTED,m.stripPlayer(this.props.model.absoluteId)),this.props.onSlideStarted()},onCtxMenu:function(e){e.preventDefault()},getSlideObjectViews:function(e,t){e=e||"",t=t||0;var i,n;return i=this.refs["layer"+t],n=i.findAllComponents("SlideObject"),""!==e?n.filter(function(t){return t.props.model.kind()===e}):n},onSlideDrawExit:function(){this.props.model.storeInteractionResults()},killSlide:function(){null!=this.props.killSlide&&this.props.killSlide()}});return S}),define("views/presentation/SlideContainer",["require","lodash","react","react-dom","helpers/vow","views/mixins/baseView","views/presentation/Slide","views/helpers/dom","polyfills/detection","helpers/constants","helpers/events","helpers/utils","helpers/pubSub","helpers/keyManager","helpers/captionsManager","views/player/mixins/appStateable","helpers/slideObjectUtils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=(e("react-dom"),e("helpers/vow")),s=e("views/mixins/baseView"),r=(e("views/presentation/Slide"),e("views/helpers/dom"),e("polyfills/detection")),o=e("helpers/constants"),a=e("helpers/events"),l=e("helpers/utils"),u=e("helpers/pubSub"),c=(e("helpers/keyManager"),e("helpers/captionsManager"),e("views/player/mixins/appStateable")),h=e("helpers/slideObjectUtils"),p=function(e){var t=e[0],i=e[1];return t>i?"50%":l.pxify(l.fix((t+Math.max(0,i-t))/2,2))},d=i.createClass({displayName:"SlideContainer",mixins:[s,c],subscriptions:function(){var e={};return e[a.mobile.ENTER_THUMB_VIEW]="onEnterThumbView",e[a.mobile.EXIT_THUMB_VIEW]="onExitThumbView",e[a.sidebar.RESIZING]="onResize",e}(),getDefaultProps:function(){return{onPinchZoom:t.noop}},getInitialState:function(){return{slides:[],loadContainerStyleAttr:{}}},componentWillMount:function(){this.firstLoad=!0},componentDidMount:function(){this.thumbView=!1,window.addEventListener("resize",this.onResize)},onResize:function(){null!=this.curSlide&&this.positionSlide(this.curSlide)},onEnterThumbView:function(){this.thumbView=!0,this.positionSlide(this.curSlide)},onExitThumbView:function(){this.thumbView=!1,this.positionSlide(this.curSlide)},addSlideEvents:function(e){return e.on("pinchzoom",this.onPinchZoom),this},removeSlideEvents:function(e){return e.off("pinchzoom",this.onPinchZoom),this},componentWillUpdate:function(e){e.currentSlide===this.props.currentSlide||this.isShowingMovedSlide||(this.slideScale=e.scale,this.updateInnerSlides(e.currentSlide))},componentDidUpdate:function(e,i){var n,s=["xOff","yOff","scale"];if(t.isEqual(t.pick(i,s),t.pick(this.state,s))||u.trigger(a.slideContainer.POSITIONED),!t.isEqual(i.slides,this.state.slides)){if(t.intersection(Object.keys(this.refs),t.pluck(this.state.slides,"id")).length!==this.state.slides.length)return;n=0===this.state.slides.length?null:this.refs[t.last(this.state.slides).id],n!==this.curSlide&&(this.prevSlide=this.curSlide,this.curSlide=n,null!=this.curSlide&&(this.curSlide.slideScale=this.slideScale,this.addSlideEvents(this.curSlide),this.positionSlide(this.curSlide),null!=this.prevSlide&&(this.removeSlideEvents(this.prevSlide),this.curSlide.setPrevSlide(this.prevSlide)),this.curSlideDfd.resolve(this.curSlide)))}},stateableValuesUpdated:function(){this.htmlReady(this.onResize)},updateInnerSlides:function(e){return this.curSlideDfd=new n.Deferred,this.setState(function(i){return{slides:t(i.slides).without(e).push(e).value(),overflowHide:r.isMobileOrTouchableTheme}}),this},getCurSlidePromise:function(){return this.curSlideDfd=this.curSlideDfd||new n.Deferred,this.curSlideDfd.promise()},rebuildCurSlide:function(){return this.updateInnerSlides(this.props.currentSlide),this},transitionComplete:function(){this.setState({overflowHide:!1}),this.firstLoad&&(h.removeEngageBorder(),this.setLoaderStyle()),this.firstLoad=!1},killSlide:function(e){this.setState(function(i){return{slides:t.without(i.slides,e)}})},desktopPositionSlide:function(e){if(!r.isClassic&&this.props.lightboxed)return void this.mobilePositionSlide(e);var t,i,n,s,o,a,u,c=e.props&&e.props.model;if(null!=c&&!c.isMessageSlide()&&!this.props.lightboxed){t=this.el.parentNode,i=t.offsetWidth,n=t.offsetHeight,s=c.get("width"),o=c.get("height"),a=Math.min(i/s,n/o),u=Math.min(0,(i-s)/2);var h={yOff:0,xOff:l.fix(u,2),scale:l.fix(a,2),origin:[[i,s],[n,o]].map(p).join(" ")};this.setState(h),c.parentTransform=h}},mobilePositionSlide:function(e){if(!this.props.shouldScale||this.props.shouldScale()){var t,i,n,s,a,u,c,h,p,d,f,m,g=0,v=0,y=this.getWrapperDimensions(),b=y.width,w=y.height*r.heightScalar,S=this.props.windowType?this.props.windowType():null,x=this.props.hasUi&&!this.thumbView?o.MOBILE_UI_SIZE:0,T="resume-prompt-slide"===S?0:x;f=b>=w?T:0,m=w>b?T:0,t=b-f,i=w-m,a=e.props.model,n=a.get("width"),s=a.get("height"),u=t/n,c=i/s,p=n*u,d=s*u,d>i?(h=c,p=n*c):h=u,t>p&&(g=t/2-p/2),i>=d&&(v=i/2-d/2,g=0);var E={xOff:l.fix(g,2),yOff:l.fix(v,2),scale:l.fix(h,4)};this.setState(E),a.parentTransform=E}},onPinchZoom:function(){this.props.onPinchZoom()},getWrapperDimensions:function(){return null!=this.props.getWrapperDimensions?this.props.getWrapperDimensions():{width:document.body.clientWidth,height:document.body.clientHeight}},prepareToUpdateSlide:function(e){return this.isShowingMovedSlide=e,this},replaceSlideWith:function(e){return r.isMobileOrTouchableTheme&&(e.killPinchZoom(),e.initPinchZoom(this.props.lightboxed?this:null)),e.props.slideContainer.killSlide(e.props.model),this.updateInnerSlides(e.props.model),this.props.lightboxed&&this.props.lightbox.updateSizeCalculations(e.props.model),this},setLoaderStyle:function(e){e=e||{},null!=this.props.currentSlide&&(e.width=this.props.currentSlide.get("width")),this.setState({loadContainerStyleAttr:e})}}),f=d.prototype;return f.positionSlide=f[r.isMobile?"mobilePositionSlide":"desktopPositionSlide"],d}),define("views/presentation/MainWindow",["require","lodash","react","views/mixins/baseView","helpers/pubSub","views/presentation/mixins/slideWindow","helpers/events","views/player/mixins/appStateable","views/presentation/SlideContainer"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("views/mixins/baseView"),n=e("helpers/pubSub"),s=e("views/presentation/mixins/slideWindow"),r=e("helpers/events"),o=e("views/player/mixins/appStateable");e("views/presentation/SlideContainer");var a=t.createClass({displayName:"MainWindow",mixins:[i,s,o],isMainWindow:!0,stateableValues:{submitall:void 0,volume:void 0,seekbar:void 0,pauseplay:void 0,replay:void 0,previous:void 0,next:void 0,submit:void 0,finish:void 0},hasBottomBar:function(){return this.props.player.controlOptions().bottomBarOptions().get("bottomBarEnabled")&&(this.state.stateable_submitall||this.state.stateable_volume||this.state.stateable_seekbar||this.state.stateable_pauseplay||this.state.stateable_replay||this.state.stateable_previous||this.state.stateable_next||this.state.stateable_submit||this.state.stateable_finish||this.props.player.controlOptions().controls().get("closed_captions")===!0)},getBackground:function(){var e=this.state.currentSlide;return null==e?null:e.get("slidewindowbg")},componentWillMount:function(){n.trigger(r.window.MAIN_CREATED,this)},componentWillUpdate:function(e,t){t.currentSlide&&(n.trigger(r.loader.MUTE),n.trigger(r.window.MAIN_CHANGED,t.currentSlide))}});return a}),define("views/player/mixins/sidebar",["require","lodash","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("helpers/events"),n=e("helpers/pubSub"),s={componentWillMount:function(){this.listenTo(n,i.window.MAIN_CHANGED,this.onSlideChanged)},onSlideChanged:function(e){var t=e.get("presenterRef"),i=t&&t.videodata;null!=t&&"none"!==t.id?this.setState({presenterId:t.id,presenterVideo:i}):this.setState({presenterId:void 0,presenterVideo:i})},hasPresenter:function(){return this.props.model.get("presenters")&&this.props.model.get("presenters").length&&this.state.presenterId},hasVideo:function(){return this.state.presenterVideo},getSlidePresenter:function(){var e=this.props.model.get("presenters");return t.findWhere(e,{id:this.state.presenterId})},getSlidePresenterVideo:function(){return this.state.presenterVideo}};return s}),define("views/player/Sidebar",["require","lodash","helpers/utils","views/helpers/dom","helpers/constants","react","views/mixins/baseView","views/player/mixins/appStateable","views/player/mixins/sidebar","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("views/helpers/dom"),s=e("helpers/constants"),r=e("react"),o=e("views/mixins/baseView"),a=e("views/player/mixins/appStateable"),l=e("views/player/mixins/sidebar"),u=e("polyfills/vendorOverrides"),c=/\/$/,h=u.forceSingleRepaint||t.noop,p=function(e){return e.isLive=!1,e},d=s.tabIndices.SIDEBAR,f=r.createClass({displayName:"Sidebar",mixins:[o,a,l],isSidebar:!0,noActiveTabs:function(e){return!(e.outline.enabled||e.glossary||e.transcript||e.resources)},setActiveState:function(e,i){if(i){t.findWhere(this.state.tabs,{name:e});this.setFirstTab()}},stateableValues:function(){return{logo:void 0,outline:t.partial(this.setActiveState,"outline"),glossary:t.partial(this.setActiveState,"glossary"),transcript:t.partial(this.setActiveState,"transcript")}},stateableValuesUpdated:function(e){var i;this.noActiveTabs(e)?(this.setState({activeTab:null}),e.logo||document.body.classList.add("no-sidebar")):(this.state.activeTab&&(i=e[this.state.activeTab.name],(i&&i===!0||t.result(i,"enabled"))&&this.setActiveTab(this.state.activeTab,!0)),document.body.classList.remove("no-sidebar")),this.htmlReady(this.resizeTabs)},getTabbableItems:function(){var e,i,n=t.range(0,4),s=function(e,i,n){var s=this.refs[e+n];return null!=s&&i.push(t.assign(s,{idx:d++,indexGroupName:"SidebarTab"})),i},r=function(e,t,i){var n=this.refs[e+i];return null!=n&&n.focusObjects&&n.focusObjects.forEach(function(e){null!=e&&(e.indexGroupName="SidebarTab",t.push(e))}),t},o=s.bind(this,"sidebarTab");return i=n.reduce(o,[]),e=n.reduce(r.bind(this,"sidebarPanel"),[]),i.concat(e)},getInitialState:function(){return{activeTab:null,tabs:t.cloneDeep(this.props.model.getSidebar()).map(p)}},hasLogo:function(){return this.state.stateable_logo&&!c.test(this.logoUrl())},logoUrl:function(){return i.resolveAssetUrl(this.getPath("props.model.controlOptions.sidebarOptions.html5_logo_url"))},componentDidMount:function(){this.setFirstTab(),this.afterHtmlReady(this.resizeTabs)},componentDidUpdate:function(){this.resizeTabs()},componentWillUpdate:function(e,t){t.activeTab!==this.state.activeTab&&this.setFirstTab(),h(this.el)},setFirstTab:function(){this.hasLiveTab()||this.setActiveTab(t.findWhere(this.state.tabs,{isLive:!0}))},hasLiveTab:function(){return this.state.activeTab&&this.state.activeTab.isLive},setActiveTab:function(e){e&&(e.isLive=!0),this.setState({activeTab:e})},resizeTabs:function(){n.resizeToFit(this.find(".tabs-wrap"),this.findAll(".tabs > .tab:not(.hidden)"),2)}});return f}),define("views/player/SlideLoaderOverlay",["require","lodash","react","views/mixins/baseView","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("polyfills/detection"),r=200,o=0,a=s.isMobile?o:r,l=i.createClass({displayName:"SlideLoaderOverlay",mixins:[n],getInitialState:function(){return{showIndicator:!1}},componentWillMount:function(){this.spinnerTimeout=null},componentDidMount:function(){this.spinnerTimeout=setTimeout(t.partial(this.setState,{showIndicator:!0}).bind(this),a)},componentWillUnmount:function(){clearTimeout(this.spinnerTimeout)},onCtxMenu:function(e){e.preventDefault()}});return l}),define("views/presentation/PopupWindow",["require","react","lodash","helpers/pubSub","helpers/events","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("lodash"),n=e("helpers/pubSub"),s=e("helpers/events"),r=e("views/mixins/baseView"),o="B",a=t.createClass({displayName:"PopupWindow",subscriptions:function(){var e={};return e[s.popup.SHOW]="onPopupShow",e[s.popup.TOGGLE]="onPopupToggle",e[s.window.MAIN_CHANGED]="onSlideChanged",e[s.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",e}(),mixins:[r],getInitialState:function(){return{show:!1,presenter:{}}},onSlideChanged:function(e){var t=e.get("presenterRef");null!=t&&"none"!==t.id&&this.setState({presenter:i.findWhere(this.props.presenters,{id:t.id})})},onPopupShow:function(e){this.setState({show:!0})},onPopupToggle:function(){this.state.show?this.hidePopup():this.onPopupShow()},hidePopup:function(){n.trigger(s.popup.HIDE),this.setState({show:!1})},closePopup:function(e){e.preventDefault(),this.hidePopup()},sendEmail:function(e){e.preventDefault();var t=this.state.presenter.email;n.trigger(s.popup.EMAIL,t)},hasEmail:function(){return this.state.presenter.email},onFrameControlKey:function(e){e[o]&&n.trigger(s.popup.TOGGLE)}});return a}),define("views/presentation/SlideLockCursor",["require","react","views/mixins/baseView","views/helpers/dom","helpers/events","helpers/utils","helpers/svg/svgUtils","helpers/resolver","polyfills/detection"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("views/helpers/dom"),s=e("helpers/events"),r=e("helpers/utils"),o=e("helpers/svg/svgUtils"),a=(e("helpers/resolver"),e("polyfills/detection")),l=t.createClass({displayName:"SlideLockCursor",mixins:[i],subscriptions:function(){var e={};return e[s.slide.ON_TRANSITION_IN]="onSlideTransitionStarted",e}(),getInitialState:function(){return{show:!1}},componentWillMount:function(){a.isMobile||document.body.addEventListener("mousemove",this.onMouseMove)},componentWillUnmount:function(){a.isMobile||document.body.removeEventListener("mousemove",this.onMouseMove)},isLockable:function(e){return n.hasClass(e,"slide-lockable")},onSlideTransitionStarted:function(e){this.currSlideLocked=e.get("slideLock"),this.currSlideLocked?(document.body.classList.add("curr-slide-locked"),a.isMobile||(this.hideInterval=window.setInterval(function(){var e;this.state.show||(e=document.elementFromPoint(n.mouseX,n.mouseY),this.onMouseMove({target:e,pageX:n.mouseX,pageY:n.mouseY}))}.bind(this),60))):(this.setState({show:!1}),document.body.classList.remove("curr-slide-locked"))},onMouseMove:function(e){clearInterval(this.hideInterval),this.currSlideLocked&&(n.hasClass(e.target,"slide-lockable")?this.setState({show:!0}):null!=n.closest(e.target,this.isLockable)?this.setState({show:!0}):this.setState({show:!1}),this.state.show&&(this.el.style[this.cssTransform]=o.transformTranslate(r.pxify(e.pageX),r.pxify(e.pageY))))}});return l}),define("polyfills/mobileChromeKiller",["require","lodash","polyfills/detection","helpers/events","helpers/pubSub","helpers/utils","helpers/windowManager","helpers/slideObjectUtils","views/helpers/dom","helpers/GsapTweenLite","helpers/constants","helpers/svg/svgUtils","helpers/cssPrefix"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/detection"),n=(e("helpers/events"),e("helpers/pubSub"),e("helpers/utils")),s=(e("helpers/windowManager"),e("helpers/slideObjectUtils")),r=e("views/helpers/dom"),o=e("helpers/GsapTweenLite"),a=e("helpers/constants"),l=e("helpers/svg/svgUtils"),u=e("helpers/cssPrefix"),c=88,h=75,p=2*h,d=50,f=u.camelCase("transform"),m=function(e){e&&(window.innerHeight<=a.MOBILE_WIDTH_MIN?e.style.bottom="":e.style.bottom="0")},g={doFullScreen:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},styleIfExists:function(e,t,i){e&&(e.style[t]=i)},androidOrientation:function(){document.querySelector(".slide-controls"),document.querySelector(".option-pane");"portrait"===i.orientation?(this.styleIfExists(this.optionPane,"minHeight",null),this.styleIfExists(this.slideControls,"display","block")):(this.styleIfExists(this.optionPane,"minHeight",n.pxify(this.smallestSide)),this.styleIfExists(this.slideControls,"display","none"))},initMobilePreview:function(){setInterval(function(){m(document.querySelector(".relative-nav"))},100)},initAndroid:function(){this.doFullScreen(document.documentElement),this.smallestSide=Math.min(document.documentElement.clientHeight,document.documentElement.clientWidth),document.body.style.minHeight=i.smallestSide+"px",setInterval(function(){m(document.querySelector(".relative-nav"))},100)},initTouchableThemeAndPhone:function(){var e,t,s;document.body.style.height="120%",document.querySelector("#preso").style.position="fixed",i.heightScalar=100/120,i.iOSVersion()>=10&&setInterval(function(){var e=document.querySelector(".controls"),i=window.innerHeight,r=document.documentElement.clientHeight;r>i?(t=r-i,t!==s&&null!=e&&(e.style[f]=l.transformTranslate(n.pxify(0),n.pxify(-t)),s=t)):null!=e&&""!==e.style[f]&&(e.style[f]="")},100),window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){window.scrollTo(0,1)},30)})},initIOS:function(){var e,a,u,g,v,y,b=document.querySelector(".mobile-chrome-warning"),w=document.querySelector(".mobile-chrome-warning-bubble"),S=document.querySelector(".mobile-chrome-warning-btn"),x=document.querySelector("#preso"),T=0;document.body.style.height="120%",i.heightScalar=100/120,document.addEventListener("touchstart",function(){a=!0}),document.addEventListener("touchend",function(){a=!1}),b.addEventListener("touchstart",function(){o.killTweensOf(w),o.killTweensOf(S),o.to(S,.05,{opacity:1,scaleX:.6,scaleY:.6}),o.to(w,.1,{opacity:1}),o.to(w,.3,{opacity:0,delay:3})}),setInterval(function(){var e,s=document.activeElement,r=document.querySelector(".relative-nav"),c=window.innerHeight,h=document.documentElement.clientHeight,p=h>c,g=h-c;m(r),(!s||"INPUT"!==s.tagName&&"TEXTAREA"!==s.tagName)&&(p?("block"!==b.style.display&&"none"!==x.style.display&&(b.style.display="block",i.iOSVersion()>=10&&g!==y&&(g=Math.max(d,g),e=l.transformTranslate(n.pxify(0),n.pxify(-g)),b.style[f]=e,r.style[f]=e,y=g),t.extend(x.style,{position:"absolute",left:"0px",top:"0px",zIndex:0}),o.killTweensOf(w),o.killTweensOf(S),o.set(w,{opacity:0}),o.to(w,1,{opacity:1}),o.to(w,.8,{opacity:0,delay:3}),o.to(S,.35,{opacity:.85,delay:3.5,scaleX:.55,scaleY:.55,ease:"Back.easeOut"}),u=!0,T=Math.abs(window.innerHeight-document.body.clientHeight)),0===document.body.scrollTop||a||window.scrollTo(0,0)):(""!==r.style[f]&&(r.style[f]=""),"none"!==b.style.display&&"block"!==x.style.display&&(b.style.display="none",x.style.zIndex=null,u=!1)))},100),window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){window.scrollTo(0,1)},30)}),document.body.addEventListener("touchstart",function(e){1===e.touches.length&&(g=e.touches[0].clientY),u&&(T=Math.abs(window.innerHeight-document.body.clientHeight))});var E=function(){if(u&&a){var e=Math.abs(Math.abs(window.innerHeight-document.body.clientHeight)-T),t=e/c;b.style.opacity=1-t,b.style.height=n.pxify(h+p*t)}else a||(b.style.opacity=1,b.style.height="75px");window.requestAnimationFrame(E)};E(),document.body.addEventListener("touchmove",function(e){var i,n=!1,o=e.target,a=r.parentNodesOf(o,function(e){return s.isScrollable(e)});s.isScrollable(o)&&a.unshift(o),u||(1===e.touches.length&&null!=g?(i=e.touches[0].clientY,n=!t.isEmpty(a)&&a.every(function(e){var t=0===e.scrollTop&&i>g,n=e.scrollTop+e.offsetHeight===e.scrollHeight&&g>i;return t||n})):n=!0),n&&e.preventDefault()}),document.body.addEventListener("touchend",function(){g=null}),document.documentElement.addEventListener("touchstart",function(e){1===e.touches.length&&(v?e.preventDefault():(v=!0,setTimeout(function(){v=!1},500)))})}};return i.isInIframe?g.init=t.noop:i.isTablet?g.init=t.noop:i.isAndroid&&!i.is360?g.init=g.initAndroid:i.isIOS()&&i.isTouchableThemeAndPhone?g.init=g.initTouchableThemeAndPhone:i.isIOS()&&i.iOSVersion()>=8?g.init=g.initIOS:i.isMobilePreview?g.init=g.initMobilePreview:g.init=t.noop,g}),define("views/player/MobileStartOverlay",["require","lodash","react","views/mixins/baseView","polyfills/mobileChromeKiller","helpers/pubSub","helpers/events","polyfills/detection","polyfills/vendorOverrides","helpers/windowManager","helpers/actionManager","helpers/resolver","helpers/playerGlobals"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("polyfills/mobileChromeKiller"),r=e("helpers/pubSub"),o=e("helpers/events"),a=e("polyfills/detection"),l=e("polyfills/vendorOverrides"),u=e("helpers/windowManager"),c=e("helpers/actionManager"),h=e("helpers/resolver"),p=e("helpers/playerGlobals"),d=null!=l.getAudioInitEvent?l.getAudioInitEvent:t.constant("touchstart"),f=i.createClass({displayName:"MobileStartOverlay",mixins:[n],subscriptions:function(){var e={};return e[o.request.START]="onMobileStart",e[o.presentation.EXIT_FULLSCREEN]="onExitFullScreen",e[o.presentation.ENTER_FULLSCREEN]="onEnterFullScreen",e}(),componentDidMount:function(){this.refs.playIcon.addEventListener(d(),this.onStart)},getInitialState:function(){return{visible:!1}},onEnterFullScreen:function(){document.body.classList.add("is-fullscreen")},onExitFullScreen:function(){var e;document.body.classList.remove("is-fullscreen"),a.is360&&(a.isPhone||a.isPhonePreview)&&(r.trigger(o.mobile.ENTER_THUMB_VIEW),r.trigger(o.slide.PAUSE_TIMELINE),this.overlay=document.querySelector("#overlay-mobile"),this.uiMobile=document.querySelector(".option-pane"),null!=this.uiMobile&&(this.uiMobile.style.opacity=0),this.overlay.classList.add("opaque"),this.setState({visible:!0}),this.overlay.style.background="rgba(0, 0, 0, 0.5)",e=document.querySelector("body > .slide-loader"),null!=e&&e.parentNode.removeChild(e),this.restarted=!0)},resetPlayer:function(e){var i=(u.getCurrentWindow().getCurSlide(),{kind:"reset_player",resume:!0}),n=p.presentation.entryPoint(),s=h.resolvePath(n,null,{optional:!0});u.removeAllButMainWindow(),c.executeAction(t.defaults({startslideid:n},i),{context:p.presentation}),this.overlay.classList.remove("opaque"),this.setState({visible:!1}),r.trigger(o.resume.RESET_DATA,s),u.setResumeData("")},onMobileStart:function(e){var t;this.rejectDeferred=e.rejectDeferred,this.overlay=document.querySelector("#overlay-mobile"),this.overlay.classList.add("opaque"),t={visible:!0},e.mobileStartAsPrompt&&(t.isResumePrompt=!0),this.setState(t),a.isClassic||this.onStartUnified()},onStartClick:function(){if(!a.isDevicePreview||!a.isPhone&&!a.isTablet){var e=u.getCurrentWindow().getCurSlide();e&&e.props.model.currentTimeline().play(),this.overlay.classList.remove("opaque"),r.trigger(o.loader.HIDE),this.setState({visible:!1},function(){var e=document.querySelector("body > .slide-loader");this.overlay.classList.remove("opaque"),null!=e&&e.parentNode.removeChild(e)}),a.is360&&a.isPhone&&(r.trigger(o.presentation.ENTER_FULLSCREEN),r.trigger(o.slide.PLAY_TIMELINE),this.overlay.style.background="rgba(0, 0, 0, 1)")}},onStartUnified:function(){a.isPhonePreview||(r.once(o.slide.STARTED,function(){var e=u.getCurrentWindow().getCurSlide();e&&e.props.model.currentTimeline().pause()}.bind(this)),this.restarted?(r.trigger(o.mobile.EXIT_THUMB_VIEW),this.uiMobile=document.querySelector(".option-pane"),null!=this.uiMobile&&(this.uiMobile.style.opacity=1),window.requestAnimationFrame(function(){this.overlay.classList.remove("opaque")}.bind(this))):(this.rejectDeferred(),s.init()))},onStart:function(){a.isPhonePreview||(r.trigger(o.loader.UNMUTE),r.once(o.slide.STARTED,function(){this.overlay.classList.remove("opaque")}.bind(this)),this.restarted?(r.trigger(o.mobile.EXIT_THUMB_VIEW),this.uiMobile=document.querySelector(".option-pane"),null!=this.uiMobile&&(this.uiMobile.style.opacity=1),window.requestAnimationFrame(function(){this.overlay.classList.remove("opaque")}.bind(this))):(this.rejectDeferred(),s.init()),this.setState({visible:!1}),a.is360&&a.isPhone&&(r.trigger(o.presentation.ENTER_FULLSCREEN),r.trigger(o.slide.PLAY_TIMELINE),this.overlay.style.background="rgba(0, 0, 0, 1)"))}});return f}),define("views/player/MobileDisabledOrientation",["require","lodash","react","views/mixins/baseView","helpers/events","polyfills/detection"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("views/mixins/baseView"),n=e("helpers/events"),s=e("polyfills/detection"),r=t.createClass({displayName:"MobileDisabledOrientation",mixins:[i],subscriptions:function(){var e={};return e[n.detection.ORIENTATION_CHANGE]="onOrientationChange",e}(),stringTitles:{disabled_orientation:"disabled_orientation"},onOrientationChange:function(){this.setState({forceHide:s.forceHideOrientationWarning})}});return r}),define("views/player/mixins/fullScreenable",["require","polyfills/detection","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("polyfills/detection"),i=e("helpers/events"),n=e("helpers/pubSub"),s={componentDidMount:function(){t.is360&&(t.isTablet||t.isDevicePreview)&&(this.toggleFullScreen=t.data360.toggleFullScreen,this.bodyUpdate())},componentWillUpdate:function(){t.is360&&t.isTablet&&(this.toggleFullScreen=t.data360.toggleFullScreen)},bodyUpdate:function(){var e=t.data360.toggleFullScreen?"add":"remove";document.body.classList[e]("fullscreen-360")},handleFullScreen:function(){this.toggleFullScreen?n.trigger(i.presentation.ENTER_FULLSCREEN):n.trigger(i.presentation.EXIT_FULLSCREEN),
t.is360&&t.isTablet&&(this.toggleFullScreen=!this.toggleFullScreen,t.data360.toggleFullScreen=this.toggleFullScreen,this.bodyUpdate())}};return s}),define("views/player/PlaybackControls",["require","react","views/mixins/baseView","helpers/events","helpers/pubSub","helpers/windowManager","views/player/mixins/fullScreenable","views/player/mixins/appStateable"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/events"),s=e("helpers/pubSub"),r=e("helpers/windowManager"),o=e("views/player/mixins/fullScreenable"),a=e("views/player/mixins/appStateable"),l=t.createClass({displayName:"PlaybackControls",mixins:[i,o,a],stateableValues:{replay:void 0,pauseplay:void 0,seekbar:void 0},getInitialState:function(){return{timeline:this.props.slide&&this.props.slide.currentTimeline()}},componentWillMount:function(){this.listenTo(this.props.slide,"change:currentTimeline",this.onTimelineChanged),this.listenTo(s,n.timeline.CURRENT_TIMELINE,this.onTimelineForceChanged)},componentWillUpdate:function(e){e.slide!==this.props.slide&&(this.stopListening(this.props.slide),this.listenTo(e.slide,"change:currentTimeline",this.onTimelineChanged),this.onTimelineChanged(e.slide,e.slide.currentTimeline()))},changeTimeline:function(e){var t=r.getCurrentWindow();null!=t&&t.isMainWindow&&this.setState({timeline:e})},onTimelineChanged:function(e,t){this.changeTimeline(t)},onTimelineForceChanged:function(e){this.changeTimeline(e)}});return l}),define("views/player/VolumeControls",["require","react","react-dom","helpers/pubSub","helpers/constants","helpers/events","lodash","helpers/appState","views/mixins/baseView","views/mixins/mouseable","views/events/eventHelper"],function(e){"use strict";var t=e("react"),i=e("react-dom"),n=e("helpers/pubSub"),s=e("helpers/constants"),r=e("helpers/events"),o=e("lodash"),a=e("helpers/appState"),l=e("views/mixins/baseView"),u=e("views/mixins/mouseable"),c=e("views/events/eventHelper"),h=t.createClass({displayName:"VolumeControls",mixins:[l,u],getTabbableItems:function(){return[o.assign(this,{idx:s.tabIndices.VOLUME,indexGroupName:"PlayerControlButton"})]},componentDidMount:function(){var e=this.find(".volume");this.registerEvent("releaseoutside",this.onHide,e),this.registerEvent("clickoutside",this.onHide,e),n.on(r.volume.CHANGED,this.onChangeVol)},onChangeVol:function(e){this.setState({volumeStrength:e})},componentDidUpdate:function(e,t){var i=t.isOpen,n=this.state.isOpen;i!==n&&this.state.tabFocused&&this.stealFocus()},getInitialState:function(){return{isOpen:!1,volumeStrength:a.currentVolume()}},stringTitles:{volume:"acc_volume"},onHide:function(){this.hideSlider()},onClick:function(e){c.isSpacebarClick(e)||this.toggleSlider()},onInputChange:function(e){this.changeVolume(e.target.valueAsNumber)},showSlider:function(){this.setState({isOpen:!0})},hideSlider:function(){this.setState({isOpen:!1})},toggleSlider:function(){this.setState({isOpen:!this.state.isOpen})},changeVolume:function(e){n.trigger(r.volume.CHANGED,e)},stealFocus:function(){var e=this.state.isOpen;this.setState({tabFocused:!0}),this.focusedEl=this.find(e?"input":"button"),this.focusedEl.focus()},releaseFocus:function(){this.setState({tabFocused:!1,isOpen:!1}),this.focusedEl.blur(),this.focusedEl=null},treeKeyCallback:function(e,t){var n=t?"stepDown":"stepUp",s=i.findDOMNode(this.refs.volumeRange);if(this.state.isOpen){try{s[n]()}catch(r){}return this.changeVolume(s.valueAsNumber),!0}return!1},actionKeyCallback:function(){this.showSlider()}});return h}),define("views/player/SlideRelatedActions",["require","react","views/mixins/baseView","helpers/constants"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/constants"),s=t.createClass({displayName:"SlideRelatedActions",mixins:[i],getChildProps:function(){return{ref:"relativeNavControls",isRtl:this.props.isRtl,slide:this.props.slide,windowId:this.props.windowId||n.refs.FRAME,lightboxed:this.props.lightboxed}}});return s}),define("views/player/SubmitAllButton",["require","react","views/mixins/baseView","helpers/constants","helpers/events","lodash","views/helpers/dom","helpers/pubSub"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/constants"),s=e("helpers/events"),r=e("lodash"),o=e("views/helpers/dom"),a=e("helpers/pubSub"),l=t.createClass({displayName:"SubmitAllButton",mixins:[i],stringTitles:{submitall:"submitall"},onTouchStart:function(e){o.tappedClass(e.currentTarget)},triggerSubmitAll:function(){this.props.slide.storeInteractionResults(),a.trigger(s.presentation.ON_OBJECT_EVENT,"submitall_pressed")},getTabbableItems:function(){var e=this.refs.btn;return e.dsFocusController=this,[r.assign(e,{idx:n.tabIndices.SUBMIT_ALL,indexGroupName:"SlideControlButton"})]},stealFocus:function(){this.refs.btn.focus()},releaseFocus:function(){this.refs.btn.blur()}});return l}),define("views/player/CaptionBtn",["require","react","helpers/pubSub","helpers/constants","helpers/captionsManager","lodash","helpers/events","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("helpers/pubSub"),n=e("helpers/constants"),s=e("helpers/captionsManager"),r=e("lodash"),o=e("helpers/events"),a=e("views/mixins/baseView"),l=t.createClass({displayName:"CaptionBtn",mixins:[a],getInitialState:function(){return{enabled:s.isCaptionButtonToggled()}},componentWillMount:function(){i.on(o.captions.ENABLED,this.onCaptionsEnabled)},componentWillUnmount:function(){i.off(o.captions.ENABLED,this.onCaptionsEnabled)},onCaptionsEnabled:function(e){this.setState({enabled:e})},stringTitles:{caption:"acc_closed_captions"},getTabbableItems:function(){return[r.assign(this,{idx:n.tabIndices.CAPTIONS,indexGroupName:"PlayerControlButton"})]},toggleCaption:function(){i.trigger(o.captions.ENABLE,!this.state.enabled)},actionKeyCallback:function(){return this.toggleCaption(),!0}});return l}),define("views/player/FullscreenBtn",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"FullscreenBtn",mixins:[i]});return n}),define("views/player/MobileSearchButton",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"MobileSearchButton",mixins:[i]});return n}),define("views/presentation/VectorText",["require","lodash","react","helpers/svg/svgUtils","views/mixins/baseView","polyfills/vendorOverrides"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("helpers/svg/svgUtils"),n=e("views/mixins/baseView"),s=(e("polyfills/vendorOverrides"),t.createClass({displayName:"VectorText",mixins:[n],getInitialState:function(){var e=this.defaultCommandsetId=this.getPath("props.textLibItem.vectortext.pr.i"),t=this.defaultPathLib=this.getPath("props.textLibItem.vectortext.pr.l");return{defaultCommandsetId:e,curCommandsetId:e,defaultPathLib:t,curPathLib:t}},renderAs:function(e,t){var i=t||this.defaultCommandsetId,n=e||this.defaultPathLib;this.setState({curCommandsetId:i,curPathLib:n})},onClickCallback:function(e){return this.trigger("textHit",e),this},onOverCallback:function(e){return this.trigger("textOver",e),this},onOutCallback:function(e){return this.trigger("textOut",e),this},getTransform:function(){return[i.transformRotate(this.props.rotDeg,this.props.originX,this.props.originY),i.transformTranslate(this.props.originX,this.props.originY)].join(" ")}}));return s}),define("views/helpers/variableTextHelper",["require","lodash","helpers/resolver","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resolver"),n=e("helpers/utils"),s=/(%[^%^\^^\s]+%)/g,r=/\.\$/g,o=/^\$/,a=/%/g,l=/\s+$/g,u="\n",c=[{find:/\^%\^/g,replace:"%"},{find:/\^\^/g,replace:"^"}],h=function(e){return t.isNumber(e)?n.fix(e,2):e},p=function(e){var t=e.split(u);return t.map(function(e,i){return e.replace(l,"")+(i<t.length-1?u:"")}).join("")},d=function(e){return c.reduce(function(e,t){return e.replace(t.find,t.replace)},e)},f=function(e){var n=e.split("."),s=t.initial(n).join("."),r=t.last(n).replace(o,"");return function(e,t){var n=i.resolvePath(s,e).playerProps,o="change:"+r;return n.on(o,t),function(){n.off(o,t)}}},m=function(e){return function(t,i){return e.on("change",i),function(){e.off("change",i)}}},g=function(e,n){var s,o,l=e.replace(a,""),u=i.resolvePath(l,n,{optional:!0});return u||l.search(r)>-1?(i.isPropRef(l)?(s=function(e){return h(i.resolvePath(l,e))},o=f(l)):(s=function(){return h(u.value())},o=m(u)),{builder:s,on:o}):{builder:t.constant(e)}},v=function(e,i){if(null==e)return{updateString:t.constant(""),addListeners:t.noop};var n=e.split(s),r=[],o=[],a={};return n.forEach(function(e,n){var s,l;n%2===1?(s=g(e,i),l=s.on,r.push(s.builder),null!=l&&null==a[e]&&(a[e]=!0,o.push(l))):t.isEmpty(e)||r.push(t.constant(d(e)))}),{updateString:function(e){return p(r.map(function(t){return t(e)}).join(""))},addListeners:function(e,t){var i=o.map(function(i){return i(e,t)});return function(){i.forEach(function(e){e()})}}}},y={parseTemplate:v};return y}),define("views/presentation/VariableText",["require","lodash","helpers/utils","react","backbone","views/mixins/baseView","views/helpers/dom","helpers/resolver","helpers/svg/svgUtils","views/helpers/variableTextHelper","helpers/cssPrefix","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("react"),s=(e("backbone"),e("views/mixins/baseView")),r=e("views/helpers/dom"),o=(e("helpers/resolver"),e("helpers/svg/svgUtils")),a=e("views/helpers/variableTextHelper"),l=e("helpers/cssPrefix"),u=(e("polyfills/detection"),/<\/?html>/g),c=/font-family:(.*?);/g,h="font-family:$1, sans-serif;",p=30,d=9,f=10,m=(l.kebabCase("transform"),l.kebabCase("transform-origin"),{top:"align-flex-start",center:"align-flex-center",bottom:"align-flex-end"}),g=function(e){return m[e.get("valign")]},v=function(){var e=/^event:/;return function(t){return e.test((t.href||"").trim())}}(),y=function(e){return t.last((e||"").split(":"))},b=n.createClass({displayName:"VariableText",mixins:[s],initialVisibility:!1,getInitialState:function(){this.knownSize=this.props.model.height(),this.origTemplate=this.props.model.vartext();var e=a.parseTemplate(this.origTemplate);return this.listenToVarChanges=e.addListeners,this.updateVarText=e.updateString,{embeddedTemplate:this.getTemplate()}},componentDidMount:function(){this.setState({valignClass:g(this.props.model)}),this.setupValues().checkShouldFitText().show()},componentWillMount:function(){this.totalBigArea=0,this.areaInfo=[],this.observeVarChanges(),this.ancestors=[],this.props.model.forEachAncestor(function(e,i){(e.isSlideObject||e.isSlideLayer)&&this.listenTo(e,{shown:t.partial(this.onAncestorShown,i),hidden:t.partial(this.onAncestorHidden,i)})}.bind(this))},componentDidUpdate:function(){this.checkShouldFitText()},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges()},onAncestorShown:function(e){this.ancestors[e]=!0,this.checkShouldFitText()},onAncestorHidden:function(e){this.ancestors[e]=!1},setDefaultFont:function(e){return e.replace(c,h)},getTemplate:function(){return this.stripTags(this.parseVars())},setupValues:function(){return this.fonts=this.findAll("font"),this.fonts.forEach(function(e){e.setAttribute("data-original-size",e.style.fontSize),e.setAttribute("data-original-line-height",e.style.lineHeight),this.knownSize=e.style.fontSize}.bind(this)),this},stripTags:function(e){return e.replace(u,"")},parseVars:function(){return this.setDefaultFont(this.updateVarText(this.props.model))},possibleHit:function(e){e.preventDefault();var t=r.closest(e.target,v);t&&this.trigger("textHit",y(t.href))},observeVarChanges:function(){return this.stopListeningToVarChanges=this.listenToVarChanges(this.props.model,function(){this.setState({embeddedTemplate:this.parseVars()})}.bind(this)),this},checkShouldFitText:function(){return this.ancestors.every(t.identity)&&this.fitText(),this},fitText:function(){var e=this.refs.textLibContentWrap,n=this.findAll("font"),s=this.findAll("p"),r=this.props.model.height(),o=this.props.model.width(),a=0,l={};for(s.forEach(function(e){0===e.innerText.length&&(e.style.minHeight="1em"),t.toArray(e.children).forEach(function(e){e.style.maxWidth=i.pxify(o)})});p>a&&e.scrollHeight-r>f;)n.forEach(function(e,t){var n,s,r,o=parseFloat(e.getAttribute("data-original-size")||this.knownSize),u=parseFloat(e.getAttribute("data-original-line-height")||1.2*this.knownSize);null==l[t]&&(l[t]=o),n=i.clamp(2,5,o/d),l[t]-=n,s=i.pxify(l[t]),e.style.fontSize=s,r=l[t]/o*u,e.style.lineHeight=i.pxify(r),a++}.bind(this))},getInnerProps:function(){var e={};return e[this.cssTransformOrigin]=[i.pxify(this.props.originX),i.pxify(this.props.originY)].join(" "),e[this.cssTransform]=[o.transformRotate(this.props.rotDeg+"deg"),o.transformTranslate(i.pxify(this.props.originX),i.pxify(this.props.originY))].join(" "),e}});return b}),define("helpers/svg/svgBuilder",["require","lodash","helpers/svg/svgUtils","helpers/utils","react","polyfills/vendorOverrides","views/presentation/VectorText","views/presentation/VariableText"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/utils"),s=e("react"),r=e("polyfills/vendorOverrides"),o=e("views/presentation/VectorText"),a=e("views/presentation/VariableText"),l={vectorText:o,variableText:a},u=function(e){return e.join("")},c={"xlink:href":"xlinkHref"},h=("image rect ellipse path".split(" "),function(e){return e?t.isString(e)?e:e.map(i.buildTransformFromConfigFn).join(" "):""}),p={transform:h,gradientTransform:h,patternTransform:h},d=function(e){return b(e)},f=function(e){return t.isArray(e)?e.join(","):e},m=function(e){return e.nodeType!==!1},g=function(e,t){return"text"===e&&"tspan"===n.getPath(t,"children[0].nodeType")},v=function(e,t){return g(e,t)&&n.hasArabicCharacters(n.getPath(t,"children[0].children[0]"))},y=function(e,i,n){var o,a,l=[],c=i.children,h="tspan"===e,p=0,d=h?u:t.identity;return null!=r.wrapTspan&&v(e,i)?r.wrapTspan(i,n,i.children[0]):(c&&(o=t.pick(n,"data-accepts"),l=c.filter(m).map(function(e,i){return"defs"===e.nodeType&&(p=1),b(t.defaults(e,o),i-p)})),a=d(l),null!=r.fixTspan&&h&&a.length>1&&(n=r.fixTspan(n,a)),s.createElement(e,n,a))},b=function(e,i){if(!m(e))return"";if(null==e.nodeType)return e;var s,r=l[e.nodeType]||e.nodeType,o=t.omit(e,"children","nodeType");return s=t.transform(o,function(e,t,i){-1===i.indexOf("data-")&&/-/g.test(i)&&(i=n.camelCaseAttr(i));var s=p[i]||f,r=c[i]||i;e[r]=s(t)},{}),"tspan"===r&&(s["aria-hidden"]=!0),null!=i&&(s.key="defs"===e.nodeType||null!=l[e.nodeType]?t.uniqueId("r-"):i),t.isString(r)||(s.ref=s.ref||s.key),y(r,e,s)};return{createSvg:d}}),define("helpers/svg/imageHelper",["require","lodash","helpers/svg/svgUtils","../assetManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("../assetManager"),s="animatedgif",r={IMAGE:"data-original-image"},o={findImage:function(e,i){var s=t.findWhere(e,{id:i[r.IMAGE]});return n.getAsset(s.assetId)},containsGif:function(e){return null!=e&&null!=t.find(e,function(e){var t=n.getAsset(e.assetId);return null!=t&&t.get("imageType")===s})},addImageAttrs:function(e,n){if(!i.isImageNode(e))return e;var r,a=o.findImage(n,e);return a.isValid()?(r=a.url(),a.get("imageType")===s&&(r=r+"?rs="+t.uniqueId("")),e["xlink:href"]=r,e.height=a.height(),e.width=a.width(),e.x+=a.get("mobiledx")||0,e.y+=a.get("mobiledy")||0,null==e.patternImage&&(e.preserveAspectRatio="none"),e):{nodeType:!1}}};return o.applyImagelib=t.partial(i.transformNodeConfig,o.addImageAttrs),o}),define("views/presentation/ObjectSlideBackground",["require","react","views/mixins/baseView","views/mixins/propertizable","helpers/svg/svgUtils"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=(e("views/mixins/propertizable"),e("helpers/svg/svgUtils"),t.createClass({mixins:[i],displayName:"ObjectSlideBackground",getX:function(){return-this.props.playerProps.RawXPos},getY:function(){return-this.props.playerProps.RawYPos},getXRot:function(){return this.props.playerProps.RawXPos+this.props.playerProps.rotateXPos},getYRot:function(){return this.props.playerProps.RawYPos+this.props.playerProps.rotateYPos},getRot:function(){return-this.props.playerProps.Rotation},getSlideHeight:function(){return this.props.model.getSlide().get("height")},getSlideWidth:function(){return this.props.model.getSlide().get("width")},getSlideId:function(){return this.props.model.getSlide().get("id")}}));return n}),define("helpers/svg/backgroundHelper",["require","lodash","helpers/svg/svgUtils","../assetManager","views/presentation/ObjectSlideBackground"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("../assetManager"),e("views/presentation/ObjectSlideBackground")),s={BG_IMAGE:"data-slidefill"},r=function(e,t,r){if(!e[s.BG_IMAGE])return e;var o=["slide","bg",t.commandsetId].join("-"),a={nodeType:"g",children:[]};return a.children.skipTraversal=!0,e.fill=i.buildUrl(o),a.children.push({nodeType:n,id:o,model:r.props.model,playerProps:r.props.playerProps,patternTransform:e["data-stroke-sharpened"]?[i.buildTranslateConfig(-.5,-.5)]:""}),a.children.push(e),a},o={applySlideBackground:t.partial(i.transformNodeConfig,r)};return o}),define("helpers/svg/patternHelper",["require","lodash","helpers/svg/imageHelper","helpers/svg/svgUtils","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/imageHelper"),n=e("helpers/svg/svgUtils"),s=e("helpers/utils"),r=[{x:{posMult:0,negMult:0},y:{posMult:0,negMult:0}},{x:{posMult:.5,negMult:1},y:{posMult:0,negMult:0}},{x:{posMult:0,negMult:0},y:{posMult:.5,negMult:1}},{x:{posMult:.5,negMult:1},y:{posMult:.5,negMult:1}}],o=function(e){return n.isPatternNode(e)&&"image"===e["data-type"]},a={addPatternAttrs:function(e,r,l){if(!o(e))return e;var u,c=t.first(e.children.filter(n.isDefsNode)),h=t.first(c.children.filter(n.isImageNode)),p=e.children.filter(n.isUseNode),d=i.findImage(r,h),f=d.width(),m=d.height(),g=!h.preserveAspectRatio,v=t.partial(a.transformUseNode,f,m);return g?(e.width=f,e.height=m,p.forEach(v)):(u=Math.round(s.hypot(l.fullHeight,l.fullWidth)),e.height=u,e.width=u),e},transformUseNode:function(e,i,s,o){var a=t.findWhere(s.transform,{type:"scale"}),l=a.args[0],u=a.args[1],c=r[o],h=c.x[l>0?"posMult":"negMult"]*e,p=c.y[u>0?"posMult":"negMult"]*i;s.transform=[n.transformTranslate(h,p),n.transformScale(l,u)].join(" ")}};return a.applyImagePatterns=t.partial(n.transformNodeConfig,a.addPatternAttrs),a}),define("helpers/svg/strokeHelper",["require","lodash","helpers/svg/svgUtils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=function(e){var t=e["stroke-width"];return t&&t%2!==0},s=function(e){return 0===e["stroke-width"]&&(e["stroke-width"]=1),n(e)&&(e["data-stroke-sharpened"]=!0,i.getTransformOf(e).unshift(i.buildTranslateConfig(.5,.5))),e},r={translateOddWidths:t.partial(i.transformNodeConfig,s)};return r}),define("helpers/svg/idHelper",["require","lodash","helpers/svg/svgUtils"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/svg/svgUtils"),s="uniqueDomId-",r=function(){t={}},o=function(e){var n=i.uniqueId(s);return t[e]=n,n},a=function(e){return e.id&&o(e.id),e};a.beforeStart=function(){r()},a.afterFinish=function(e){return JSON.parse(i.reduce(t,function(e,t,i){return e.replace(new RegExp(i,"g"),t)},JSON.stringify(e)))};var l={ensureIdsAreUnique:i.partial(n.transformNodeConfig,a)};return l}),define("helpers/svg/textHelper",["require","lodash","helpers/svg/svgUtils","helpers/errorManager","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/errorManager"),s=e("polyfills/vendorOverrides"),r=n.throwError("textHelper"),o=n.backtick,a="No text lib item with id of",l=s.moveVarTextOutOfSvg||t.identity,u=s.unwrapForeignObjectVarText||t.identity,c=function(e){return"text"===e["data-reference-type"]},h=function(e){return e["data-reference-id"]},p={vartext:function(e,t,i){t.index();return u({nodeType:"foreignObject",width:t.width()+e.x,height:t.height()+e.y,children:[{ref:"vtext",nodeType:"variableText",model:t,id:e.id,originX:e.x,originY:e.y,hasShadow:!!e["data-shadow"],rotDeg:e["data-rotation"]}]})},vectortext:function(e,t,i,n){return{nodeType:"vectorText",hasShadow:!!e["data-shadow"],rotDeg:e["data-rotation"],originX:e.x,originY:e.y,textLibItem:t}}},d=function(e,i,n,s){if(!c(e))return e;var l,u=h(e),d=i.get(u);return d||r("renderText",a,o(u)),(l=p[d.type()]||t.identity)(e,d,n,s)};d.afterFinish=l;var f,m={setSvgManager:function(e){f=e},applyTextLib:t.partial(i.transformNodeConfig,d)};return m}),define("helpers/svg/adornableHelper",["require","lodash","helpers/svg/svgUtils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n={ADORNMENT_TYPE:"data-adornment-type",IS_REFLECTION:"data-is-reflection-gradient"},s=function(e){return n.ADORNMENT_TYPE in e&&(e.ref=t.uniqueId("adornable"),e["data-transform"]=JSON.stringify(e.transform),e.transform=null),e},r=function(e){return e[n.IS_REFLECTION]===!0&&(e["data-rotation-offset"]=!0,e[n.IS_REFLECTION]=null),e},o=t.compose(s,r),a={decorateAdornables:t.partial(i.transformNodeConfig,o)};return a}),define("helpers/svg/svgManager",["require","lodash","models/BaseModel","helpers/utils","helpers/errorManager","helpers/svg/svgUtils","helpers/svg/svgBuilder","helpers/svg/imageHelper","helpers/svg/backgroundHelper","helpers/svg/patternHelper","helpers/svg/strokeHelper","helpers/svg/idHelper","helpers/svg/textHelper","helpers/svg/adornableHelper"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/utils"),s=e("helpers/errorManager"),r=e("helpers/svg/svgUtils"),o=e("helpers/svg/svgBuilder"),a=e("helpers/svg/imageHelper"),l=e("helpers/svg/backgroundHelper"),u=e("helpers/svg/patternHelper"),c=e("helpers/svg/strokeHelper"),h=e("helpers/svg/idHelper"),p=e("helpers/svg/textHelper"),d=e("helpers/svg/adornableHelper"),f=s.throwError("SvgManager"),m=s.backtick,g=n.createSuper(i),v=i.extend({url:n.resolveDataUrl("paths"),getSvgNode:function(e,i){var n,s,f=this.get(e.libId,r.svgPrefix(e.commandsetId));return f=r.getFullSvgConfig(f,e.bounds,e.commandsetId),f=h.ensureIdsAreUnique(f),n=r.getDefsNode(f),f=d.decorateAdornables(f),e.imagelib&&(s=t.pick(e.bounds,"fullHeight","fullWidth"),f=a.applyImagelib(f,e.imagelib),f=u.applyImagePatterns(f,e.imagelib,s)),f=c.translateOddWidths(f,e),f=l.applySlideBackground(f,e,i),e.textLib&&!e.textLib.isEmpty()&&(f=p.applyTextLib(f,e.textLib,e.bounds,n)),o.createSvg(f)},getSvgFromData:function(e,i){var n=e.pick("imagelib","textLib");return y.getSvgNode(t.extend(n,{commandsetId:e.commandsetId(),libId:e.getPathLib(),bounds:e.getBounds()}),i)},createMask:function(e,t,i){var n,s,a=new window.DOMParser,l={top:0,left:0,width:0,height:0},u=r.getFullSvgConfig(e,l);return n=a.parseFromString(o.createSvg(u),"text/xml"),s=document.adoptNode(n.documentElement).firstChild,i.appendChild(s),s},get:function(e,t){var i,s=g("get").call(this,e);return s||f("get","tried calling for an undefined library",m(e)),i=s[t],i||f("get","tried calling for an undefined path id",m(t)),n.cloneDeeply(i)},getStringFromVectorText:function(e){var t=e.i,i=e.l,s=r.svgPrefix(t),o=y.get(i,s);return n.getPath(o,"children[0].children[0].children[0]")}}),y=new v;return p.setSvgManager(y),y}),define("views/presentation/VectorTextItem",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/svg/svgUtils","helpers/svg/svgManager","helpers/svg/svgBuilder","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("helpers/utils"),r=e("helpers/svg/svgUtils"),o=e("helpers/svg/svgManager"),a=e("helpers/svg/svgBuilder"),l=e("polyfills/detection"),u=function(e){return e["font-family"]&&(e["font-family"]=s.doubleQuote(e["font-family"])),e},c=function(e){return r.isTspanNode(e)&&(e.children=e.children.map(function(e){return e.replace(/\s/g," ")})),e},h=i.createClass({displayName:"VectorTextItem",mixins:[n],addShadow:function(e){return!l.isEdge()&&this.props.isShadow&&r.isTspanNode(e)&&(e.filter="url(#text-shadow)",e.fill="rgba(0, 0, 0, 0.2)"),e},template:function(e){var i=r.svgPrefix(this.props.commandsetId),n=o.get(this.props.pathLib,i);return r.transformNodeConfig(t.compose(c,u,this.addShadow),n),a.createSvg(n)}});return h}),define("views/player/Icon",["require","react","views/mixins/baseView","helpers/utils"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/utils"),s="Icon",r=function(e){return n.upperCaseFirst(e)+s},o=t.createClass({displayName:"Icon",mixins:[i],template:function(){var e=r(this.props.type);return this.getTemplateManager().getTemplate(e).bind(this)()}});return o}),define("views/presentation/LinearBackgroundGradient",["require","react","views/mixins/baseView","helpers/utils","polyfills/vendorOverrides"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/utils"),s=e("polyfills/vendorOverrides"),r=t.createClass({displayName:"LinearBackgroundGradient",mixins:[i],fill:function(){return this.props.fill||this.props.layerModel.background().fill},stopPct:function(e){return n.stopPct(e.stop)},stopProps:s.stopColorProps||function(e){return{stopColor:n.rgbify(e.rgb),stopOpacity:n.opacify(e.alpha)}}});return r}),define("views/presentation/DropListItem",["require","lodash","views/mixins/baseView","react"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=i.createClass({mixins:[t],displayName:"DropListItem",getInitialState:function(){return{hovered:!1,display:"none",selected:!1}},onClick:function(){this.props.selected(this.props.order)},fillColorClass:function(){return this.state.hovered?"drop-list-item-over":this.state.selected?"drop-list-item-selected":"drop-list-item-out"},didMouseOver:function(){this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})}});return n}),define("views/presentation/ScrollBar",["require","lodash","react","views/mixins/baseView","polyfills/detection","helpers/utils","helpers/windowManager","views/helpers/dom","views/presentation/Slide","views/helpers/transformHelper"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("polyfills/detection"),r=e("helpers/utils"),o=(e("helpers/windowManager"),e("views/helpers/dom")),a=(e("views/presentation/Slide"),e("views/helpers/transformHelper")),l=s.isMobileOrTouchableTheme?"touchmove":"mousemove",u=s.isMobileOrTouchableTheme?"touchend":"mouseup",c=function(e){for(var t=e.props.parent;r.getPath(t,"props.isInnard",!1);)t=t.props.parent;return t},h=i.createClass({displayName:"ScrollBar",mixins:[n],componentDidMount:function(){this.contentHeight=this.props.parent.contentheight(),this.yPos=this.props.offY,this.scrollingArea=this.props.parent.refs[this.props.refName||"scrollArea"],this.parentSlideObject=c(this),this.scrollingArea.addEventListener("wheel",this.onWheel),s.isMobile||s.isTouchableTheme||(this.scrollingArea.style.overflowY="hidden"),this.props.initSelf&&(this.update(),this.scrollingArea.addEventListener("scroll",this.update))},componentWillUnmount:function(){this.scrollingArea.removeEventListener("wheel",this.onWheel),this.scrollingArea.removeEventListener("scroll",this.update)},update:function(){if(!s.isIE()&&!this.scrollByButton){var e=this.refs.scrollBtn,t=this.contentHeight,i=this.props.height,n=i/t*i,o=this.scrollingArea.scrollTop/(t-i);o=r.clamp(0,1,o),o*=1-n/i,e.style.height=r.pxify(n),e.style.top=r.decToPct(o,!0)}},onAutoScroll:function(e){o.hasClass(e.target,"scrollarea-btn")||(this.clickDeltaY=parseFloat(this.refs.scrollBtn.style.height)/2,this.onDragBtn(e),this.onScrollBtnDown(e))},getCursorPos:function(e){var t=1===r.getPath(e,"touches.length")?e.touches[0]:e;return a.globalPtToSlideObject(this.parentSlideObject,t.pageX,t.pageY)},onScrollBtnDown:function(e){document.body.addEventListener(l,this.onDragBtn),document.body.addEventListener(u,this.onEndScrollDrag);var t=this.refs.scrollBtn,i=r.pctToDec(t.style.top)*this.props.height;this.clickDeltaY=this.getCursorPos(e).y-this.yPos-i,this.scrollByButton=!0,e.preventDefault()},onEndScrollDrag:function(){this.scrollByButton=!1,document.body.removeEventListener(u,this.onEndScrollDrag),document.body.removeEventListener(l,this.onDragBtn)},onDragBtn:function(e){var t=this.refs.scrollBtn,i=this.props.height,n=parseFloat(t.style.height),s=i-n,o=this.scrollingArea.scrollHeight-i,a=this.getCursorPos(e).y-this.yPos-this.clickDeltaY,l=r.clamp(0,1,a/s);t.style.top=r.decToPct(l*(1-n/i),!0),this.scrollingArea.scrollTop=o*l,e.preventDefault()},constrainScroll:function(){var e=t.result(this,"props.parent.height",this.props.height);this.scrollingArea.scrollTop+e>this.props.parent.state.contentHeight&&(this.scrollingArea.scrollTop=this.props.parent.state.contentHeight-e)},onWheel:function(e){this.scrollingArea.scrollTop+=e.deltaY,this.constrainScroll(),this.update()}});return h}),define("views/helpers/dragAndDropHelper",["require","lodash","helpers/utils","helpers/svg/svgUtils","views/events/touchHelper","views/helpers/collisionHelper","views/helpers/transformHelper","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/svg/svgUtils"),s=e("views/events/touchHelper"),r=e("views/helpers/collisionHelper"),o=e("views/helpers/transformHelper"),a=e("helpers/windowManager"),l="drag",u="drop",c=["dragstart","drag","dragend","dropenter","dropdrag","dropleave","drop"],h=t.reduce(c,function(e,i){return e["on"+i]=t.noop,e.setTargets=t.noop,e},{}),p=[],d=function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top},f=function(e,t){if(!d(e,t))return 0;var i=Math.max(e.top,t.top),n=Math.min(e.bottom,t.bottom),s=Math.max(e.left,t.left),r=Math.min(e.right,t.right),o=r-s,a=n-i;return o*a},m=function(e){return-e.getZIndex()},g=function(e,i){var n,s=e.el.getBoundingClientRect(),r=t.sortBy(i,m);return r.reduce(function(e,t,i){var o=r.slice(0,i).reduce(function(e,t){return e-f(s,t.getBounds())},f(s,t.getBounds()));return o>e?(n=t,o):e},0),n},v=function(e,i,n){this.view=e,this.el=n||e.el,this.params=t.defaults(i,h),this.relativeView=null!=n?this.view.props.model.parentModel.currView:this.view,this.currSlide=a.getCurrentWindowSlide(),t.bindAll(this),this.enable()};t.extend(v.prototype,{hasMoved:!1,x:0,y:0,unbindTouch:t.noop,disable:function(){this.el.removeEventListener("mousedown",this.onGrabMouse),this.unbindTouch()},enable:function(){this.el.addEventListener("mousedown",this.onGrabMouse),this.bindTouch()},bindTouch:function(){this.unbindTouch(),this.unbindTouch=t.flow(s.on(this.el,"touchstart",this.onGrabTouch),s.on(this.el,"touchmove",this.onMoveTouch),s.on(this.el,"touchend",this.onReleaseTouch))},grab:function(e,t){this.cachedMetrics=o.getSlideMetrics(this.relativeView);var i=this.getPosition(),n=o.globalPtToLayer(this.relativeView,e,t,this.cachedMetrics),s=o.localPtToSlide(this.relativeView,0,0);this.params.setTargets(),this.params.getPosition&&(i=this.params.getPosition(),this.relativeView!==this.view&&(s={x:i.x/this.cachedMetrics.scaleX,y:i.y/this.cachedMetrics.scaleY})),this.offsetX=s.x-n.x,this.offsetY=s.y-n.y,this.origPosX=i.x,this.origPosY=i.y,this.hasMoved=!1},contain:function(){if(null==this.dropTarget){var e=this.el.getBoundingClientRect(),n=this.params.containment.getBoundingClientRect(),s=t.result(this.view.props.model,"getCurrentStateMetrics",{strokewidth:0}),r=s.strokewidth/2,o=this.currSlide.calculateTotalScale();this.x=i.clamp(r,(n.width-e.width)*o-r,this.x),this.y=i.clamp(r,(n.height-e.height)*o-r,this.y)}},move:function(e,t){var s,a=this.dropTarget,u=o.globalPtToLayer(this.relativeView,e,t,this.cachedMetrics),c=this.view.props.model;this.x=u.x+this.offsetX,this.y=u.y+this.offsetY,this.el.style[this.view.cssTransform]=[n.transformTranslate(i.pxify(this.x),i.pxify(this.y)),n.transformRotate(this.view.state.Rotation+"deg"),n.transformScale(this.view.state.ScaleX/100,this.view.state.ScaleY/100)].join(" "),
this.dropTarget=this.getDropTarget(l),r.transformUpdated(this.view),this.hasMoved||(s=a&&a.el,null!=c.reparentChild&&c.reparentChild(c.getSlide()),this.params.ondragstart(this,this.dropTarget),this.hasMoved=!0),this.params.ondrag(this,this.dropTarget),!a||this.dropTarget&&a===this.dropTarget||this.params.ondropleave(this,a),this.dropTarget&&(a===this.dropTarget&&s!==this.dropTarget.el||this.params.ondropenter(this,this.dropTarget),this.params.ondropdrag(this,this.dropTarget))},release:function(){this.hasMoved&&(this.contain(),this.params.setPosition&&this.params.setPosition(this.x,this.y),this.dropTarget=this.getDropTarget(u),this.dropTarget&&this.params.ondrop(this,this.dropTarget),this.params.ondragend(this,this.dropTarget))},onGrabMouse:function(e){this.isMousedDown||(this.isMousedDown=!0,this.grab(e.clientX,e.clientY),document.body.addEventListener("mousemove",this.onMoveMouse),document.body.addEventListener("mouseup",this.onReleaseMouse),e.preventDefault())},onGrabTouch:function(e){var t=e.changedTouches[0];this.touchId=t.identifier,this.grab(t.clientX,t.clientY),e.preventDefault()},onMoveMouse:function(e){this.move(e.clientX,e.clientY),e.preventDefault()},onMoveTouch:function(e){var t=e.changedTouches[0];this.touchId===t.identifier&&(this.move(t.clientX,t.clientY),e.preventDefault())},onReleaseMouse:function(e){this.isMousedDown=!1,this.release(),document.body.removeEventListener("mousemove",this.onMoveMouse),document.body.removeEventListener("mouseup",this.onReleaseMouse)},onReleaseTouch:function(e){this.release()},hasModalAbove:function(){var e=i.getPath(this,"view.props.model.getLayer");return null!=e&&e.collection.hasModalLayerAbove(e)},getDropTarget:function(e){return this.hasModalAbove()?void 0:this.params.getDropTarget?this.params.getDropTarget(this,p,e):g(this,p,e)},getPosition:function(){return{x:this.x,y:this.y}}});var y=function(e,t){this.el=e,this.params=t,p.push(this)};return t.extend(y.prototype,{getBounds:function(){return this.el.getBoundingClientRect()},getZIndex:function(){return parseInt(this.el.style.zIndex)},unregister:function(){t.remove(p,this)}}),{DraggableHelper:v,DroppableHelper:y,util:{areOverlapping:d,unionArea:f,getDropTargetByOverlap:g,sortByZIndexReverse:m,getRegisteredDroppables:function(){return p}}}}),define("views/presentation/decorators/Droppable",["require","lodash","backbone","helpers/utils","helpers/events","views/helpers/dragAndDropHelper","views/helpers/collisionHelper","helpers/TransMatrix"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/utils"),s=e("helpers/events"),r=e("views/helpers/dragAndDropHelper"),o=r.DroppableHelper,a=(e("views/helpers/collisionHelper"),e("helpers/TransMatrix"),[{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1},{x:1,y:1}]),l=function(e){e.setToInitPosition().unParent()},u=function(e){this.view=e,this.model=this.view.props.model,this.dropChildren=[]};t.extend(u.prototype,i.Events,{componentDidMount:function(){this.model;this.dragdropData=this.model.dragdrop(),this.bindDrop()},componentWillUnmount:function(){this.droppableHelper.unregister(),this.stopListening(this.model,s.resume.RESET,this.resetValues)},registerRelationship:function(e,t){return this.dropChildren[t]=e,this},getFromView:function(e,t){return t=t||this,t.view.getPlayerProp(e)},setOnView:function(e,t,i){i=i||this,i.view.setPlayerProp(e,t)},isMultiDrop:function(){return this.dragdropData.multidrop},resetQuadrants:function(){this.quadrants=a.slice()},setPositioningFns:function(){var e=this.dragdropData.droptype,i=c[e];t.extend(this,i)},isDroppable:function(){return this.dragdropData.dropenabled},isHoverable:function(){return this.dragdropData.dragoverenabled},resetValues:function(){this.dropChildren=[]},bindDrop:function(){return this.dragdropData&&(this.isDroppable()||this.isHoverable())&&(this.droppableHelper=new o(this.view.el,{data:this,view:this.view}),this.resetQuadrants(),this.setPositioningFns(),this.listenTo(this.model,s.resume.RESET,this.resetValues)),this},onDragOver:function(e){this.canDropHere(e)&&this.addChild(e,!0)},onDropped:function(e){this.canDropHere(e)&&this.addChild(e)},onDragEnter:function(){this.updatePositionSnapshot()},updatePositionSnapshot:function(){this.positionSnapshot=t.map(this.getDropChildren(),function(e){return e.getBounds()})},addChild:function(e,t){var i,n;this.isMultiDrop()||t||(this.getDropChildren().forEach(l.bind(this)),this.getDropChildren().length=0),i=this.getPlacementIndex(e),n=t?this.getDropChildren().slice():this.getDropChildren(),n.splice(i,0,e),this.reflow(n,i,t)},canDropHere:function(e){var i=t.partial(t.contains,this.dragdropData.dragdropids);return e.dragdropData.dragdropids.some(i)},removeDropChild:function(e){return t.remove(this.getDropChildren(),e),this.reflow(),this.resetChildrenDepths(),this},getDropChildren:function(){return this.dropChildren},getDropQuadrant:function(){var e=t.random(this.quadrants.length-1),i=this.quadrants.splice(e,1)[0];return this.quadrants.length||this.resetQuadrants(),i},getRandomStackPosition:function(e){var i=this.getDropQuadrant();return{x:this.getXPos()+this.dragdropData.snapx+t.random(this.dragdropData.dropoffsetx)*i.x-e.dragdropData.snapx,y:this.getYPos()+this.dragdropData.snapy+t.random(this.dragdropData.dropoffsety)*i.y-e.dragdropData.snapy}},resetChildrenDepths:function(){var e=this.getDepth();this.getDropChildren().forEach(function(t,i){t.setIndex(i),t.setDepth(e+i+1)})},getParents:function(){for(var e=[],t=this.view;t;)t.props.isInnard||e.push(t),t=t.props.parent;return e.reverse()},getXPos:function(){return this.model.parent.isKind("scrollarea")?this.view.state.RawXPos:this.getParents().reduce(function(e,t){return e+t.state.RawXPos},0)},getYPos:function(){return this.model.parent.isKind("scrollarea")?this.view.state.RawYPos:this.getParents().reduce(function(e,t){return e+t.state.RawYPos},0)},getDepth:function(){return this.model.parent.isKind("scrollarea")?this.view.state.depth:t.first(this.getParents()).state.depth}});var c={stackoffset:{getPlacementIndex:function(e){var t=this.getXPos()+this.dragdropData.snapx,i=this.getYPos()+this.dragdropData.snapy,n=e.getBounds(!0),s=Math.floor((n.left-t)/this.dragdropData.dropoffsetx)+1,r=Math.floor((n.top-i)/this.dragdropData.dropoffsety)+1,o=Math.min(s,r,this.positionSnapshot.length);return Math.max(0,o)},reflow:function(e,t,i){var n=this.getXPos()+this.dragdropData.snapx,s=this.getYPos()+this.dragdropData.snapy;(e||this.getDropChildren()).forEach(function(e,r){r>0&&(n+=this.dragdropData.dropoffsetx,s+=this.dragdropData.dropoffsety),i&&r===t||(e.setPosition(n,s),e.setIndex(r))}.bind(this))}},tile:{getPlacementIndex:function(e){for(var t=-1,i=e.getBounds(!0),n={x:Math.max(this.getXPos(),i.left+i.width/2),y:Math.max(this.getYPos(),i.top+i.height/2)};++t<this.positionSnapshot.length&&!(n.x<this.positionSnapshot[t].right&&n.y<this.positionSnapshot[t].bottom||n.y<this.positionSnapshot[t].top););return t},reflow:function(e,t,i){var n=this.getXPos(),s=this.getYPos(),r=n+this.dragdropData.snapx,o=s+this.dragdropData.snapy,a=r,l=o,u=r+this.getFromView("width")-this.dragdropData.dropoffsetx;(e||this.getDropChildren()).forEach(function(e,s,c){var h=this.getFromView("width",e),p=this.getFromView("height",e);s>0&&(r=a+this.dragdropData.dropoffsetx),a=r+h,a>u&&(r=n+this.dragdropData.snapx,a=r+h,o=l+this.dragdropData.dropoffsety),i&&s===t||(e.setPosition(r,o),e.setIndex(s)),l=Math.max(l,o+p)}.bind(this))}},stackrandom:{getPlacementIndex:function(){return n.getPath(this,"positionSnapshot.length",0)},reflow:function(e,i,n){var s,r;return e=e||this.getDropChildren(),1===e.length?void(null==i?c.snap.reflow.call(this,e,0,!1):c.snap.reflow.call(this,e,i,n)):void(!n&&isFinite(i)&&(s=t.last(e),r=this.getRandomStackPosition(s),s.setPosition(r.x,r.y),s.setIndex(i)))}},snap:{getPlacementIndex:function(){return n.getPath(this,"positionSnapshot.length",0)},reflow:function(e,i,n){var s,r,o,a=this.getXPos(),l=this.getYPos(),u=a+this.dragdropData.snapx,c=l+this.dragdropData.snapy;!n&&isFinite(i)&&(o=t.last(e),s=o.dragdropData.snapx,r=o.dragdropData.snapy,o.setPosition(u-s,c-r),o.setIndex(i))}},free:{getPlacementIndex:function(){return n.getPath(this,"positionSnapshot.length",0)},reflow:t.noop}};return u}),define("views/presentation/decorators/Draggable",["require","lodash","backbone","views/presentation/decorators/Droppable","views/helpers/dragAndDropHelper","helpers/utils","helpers/events","views/helpers/dom","views/helpers/collisionHelper","helpers/windowManager","helpers/pubSub","views/helpers/transformHelper","helpers/TransMatrix"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=(e("views/presentation/decorators/Droppable"),e("views/helpers/dragAndDropHelper")),s=n.DraggableHelper,r=(e("helpers/utils"),e("helpers/events")),o=e("views/helpers/dom"),a=e("views/helpers/collisionHelper"),l=(e("helpers/windowManager"),e("helpers/pubSub"),e("views/helpers/transformHelper"),e("helpers/TransMatrix"),"ondragstart"),u="ondragend",c="ondragover",h="ondragout",p="ondragdisconnect",d="ondragconnect",f=1500,m=function(e,i,s,r){return n.util.getRegisteredDroppables().filter(function(n){var o=n.params.data,a=o.dragdropData&&o.dragdropData[r];return o.model!==i&&t.result(o,e)&&t.intersection(a,s).length})},g=function(e){this.view=e,this.model=this.view.props.model};return t.extend(g.prototype,i.Events,{componentWillMount:function(){this.model;this.getEnabledDroppables=t.partial(m,"isDroppable",this.model),this.getEnabledDraggables=t.partial(m,"isHoverable",this.model),this.listenTo(this.model,"addanimationdata",this.addAnimationData),this.listenTo(this.model.getSlide(),r.resume.APPLIED,this.registerRelationship)},componentDidMount:function(){this.dragdropData=this.model.dragdrop(),this.bindDrag(),this.parentShuffleGroup=o.closest(this.view.el,function(e){return e.classList.contains("slide-object-shufflegroup")})},getFromView:function(e,t){return t=t||this,t.view.getPlayerProp(e)},setOnView:function(e,t,i){i=i||this,i.view.setPlayerProp(e,t)},componentDidUpdate:function(e,t){var i=this.view.state.Enabled,n=t.Enabled;i!==n&&null!=this.draggableHelper&&this.draggableHelper[i?"enable":"disable"]()},componentWillUnmount:function(){this.stopListening(this.model,"addanimationdata",this.addAnimationData),this.stopListening(this.model.getSlide(),r.resume.APPLIED,this.registerRelationship)},bindDrag:function(){return this.dragdropData&&this.dragdropData.dragenabled&&(this.draggableHelper=new s(this.view,this.getDraggableConfig()),this.view.state.Enabled||this.draggableHelper.disable()),this},getDraggableConfig:function(){var e;return t.bindAll(this,"onDragStart","onDraggingOver","onDragStop","onDropEnter","onDragOut","onDropped","getPosition","setPosition","getDropTarget","setTargets"),e={containment:o.closest(this.view.el,function(e){return e.classList.contains("slide")}),ondragstart:this.onDragStart,ondragend:this.onDragStop,ondropenter:this.onDropEnter,ondropdrag:this.onDraggingOver,ondropleave:this.onDragOut,ondrop:this.onDropped,getPosition:this.getPosition,setPosition:this.setPosition,getDropTarget:this.getDropTarget,setTargets:this.setTargets}},registerRelationship:function(){var e,t=this.model.prop("DragConnected"),i=this.model.prop("DropIndex");t&&(e=t.currView.decorators.droppable,this.dropParent=e.registerRelationship(this,i))},getDraggingPosition:function(){return{x:this.draggableHelper.x,y:this.draggableHelper.y}},getPosition:function(){return{x:this.view.getPlayerProp("RawXPos"),y:this.view.getPlayerProp("RawYPos"),dontScale:!0}},setPosition:function(e,t){this.setOnView({RawXPos:e,RawYPos:t})},setToInitPosition:function(){return this.model.reattachChild(),this.setPosition(this.view.getPlayerProp("ShuffleXPos"),this.view.getPlayerProp("ShuffleYPos")),this.setOnView({depth:this.view.getPlayerProp("InitDepth")}),this},setTargets:function(){var e=this.dragdropData.dragdropids,t=this.dragdropData.dragoverids;this.enabledDropTargets=this.getEnabledDroppables(e,"dragdropids"),this.enabledDragTargets=this.getEnabledDraggables(t,"dragoverids")},onDragStart:function(e,t){this.unParent(),this.setDepth(++f),this.view.dragging=!0,this.model.executePlayerEvent(l)},onDragStop:function(e,t){this.view.dragging=!1,this.model.executePlayerEvent(u),this.dragdropData.dragreturn&&!this.dropParent?this.setToInitPosition():this.dropParent||(this.model.reparentChild(this.model.getLayer()),this.setPosition(e.x,e.y))},onDraggingOver:function(e,t){var i=t.params.data;i.onDragOver(this,e.x,e.y,!0)},onDropEnter:function(e,t){var i=t.params.data;this.setOnView("DragOverId",i.model.id),i.setOnView("DragOverId",this.model.id),i.onDragEnter(),this.model.executePlayerEvent(c),i.model.executePlayerEvent(c)},onDragOut:function(e,t){var i=t.params.data;this.setOnView("DragOverId",null),i.reflow(),this.model.executePlayerEvent(h),i.model.executePlayerEvent(h)},onDropped:function(e,t){var i=t.params.data;i.onDropped(this,e.x,e.y),this.dropParent=i,this.setOnView("DropTargetId",i.model.id),this.setOnView("DragConnected",i.model),this.model.executePlayerEvent(d),this.model.reparentChild(i.model.getParentContainer())},getDropTarget:function(e,i,s){var r,o=this.draggableHelper,l="drag"===s?this.enabledDragTargets:this.enabledDropTargets,u=t.sortBy(l,n.util.sortByZIndexReverse);return u.reduce(function(e,t,i){var n=a.getOverlapArea(o.view,t.params.view,u.slice(0,i).map(function(e){return e.params.view}),!0);return n>e?(r=t,n):e},0),r},unParent:function(){var e=this.dropParent;return e&&(e.removeDropChild(this),this.dropParent=null,this.setOnView("DropTargetId",null),this.setOnView("DragConnected",null),this.setOnView("DropIndex",null),this.model.executePlayerEvent(p)),this},updateParentDepth:function(e){var t=this.parentShuffleGroup.querySelector(".group").childNodes.length;this.parentShuffleGroup.style.zIndex=e+t},setDepth:function(e){this.parentShuffleGroup&&this.updateParentDepth(e),this.setOnView("depth",e)},setIndex:function(e){this.setOnView("DropIndex",e)},getBounds:function(e){var t=e?this.getDraggingPosition():this.getPosition(),i=this.getFromView("width"),n=this.getFromView("height");return{left:t.x,top:t.y,right:t.x+i,bottom:t.y+n,width:i,height:n}},addAnimationData:function(e){e({RawXPos:this.getFromView("RawXPos"),RawYPos:this.getFromView("RawYPos")})}}),g}),define("views/presentation/decorators/Tweenable",["require","lodash","helpers/AnimationTimeline","backbone","views/helpers/collisionHelper","views/helpers/TweenableTimeline","views/helpers/TweenHelper","helpers/actions","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/AnimationTimeline"),n=e("backbone"),s=e("views/helpers/collisionHelper"),r=e("views/helpers/TweenableTimeline"),o=e("views/helpers/TweenHelper"),a=e("helpers/actions"),l=(e("helpers/utils"),function(e){this.view=e,this.model=this.view.props.model});return t.extend(l.prototype,n.Events,{componentWillMount:function(){if(!this.model.animations().isEmpty()){var e={"showcustom hidecustom":this.showHideCustom,addanimationdata:this.addAnimationData,killAnimations:this.stopCurrentAnimation,hide:t.partial(this.stopCurrentAnimation,!0),clearAnimations:this.clearAnimations};e[a.EXE_ANIMATION]=this.animate,this.listenTo(this.model,e)}},componentDidMount:function(){this.el=this.view.el},componentDidUpdate:function(){this.view.tweenedConfig&&(t.extend(this.el.style,this.view.tweenedConfig.style),null!=this.view.animationOverride&&this.view.animationOverride.update(this.view.tweenedConfig.props))},componentWillUnmount:function(){this.stopCurrentAnimation(!1),this.stopListening()},showHideCustom:function(e,t,i,n){this.playAnimation(i,t.timelineLabel,!1,n,!e)},animate:function(e,t){this.model.prop("TimelineControlled",null!=t.timelineLabel),this.playAnimation(this.model.animations().get(e.id),t.timelineLabel,e.reverse.value)},addAnimationData:function(e){e(null!=this.view.tweenedConfig?this.view.tweenedConfig.props:null)},clearAnimations:function(){this.stopCurrentAnimation(!1)},playAnimation:function(e,t,i,n,s){this.stopCurrentAnimation(!0);var o=this.createTimelineFor(e,i,n);this.tweenableTimeline=new r(this.view,o,t,s),this.view.setPlayerProp("Moved",null!=t)},createTimelineFor:function(e,t,n){var r=new i({tweens:[new o(this.view,t,e.getConfig())],onComplete:this.wrapCallback(n,e.id,t)});return r.onUpdate=function(){s.transformUpdated(this.view),(this.model.isShapeMask||this.model.isShapeMasked)&&this.model.onTweenUpdate(this.view)}.bind(this),r},wrapCallback:function(e,t,i){return function(){this.stopCurrentAnimation(!1),s.transformUpdated(this.view,!0),null!=e&&e(),this.model.executeFilteredPlayerEvent(function(e){return e.id===t&&e.reverse===i?!0:void 0},"onanimationcomplete")}.bind(this)},stopCurrentAnimation:function(e){null!=this.tweenableTimeline&&(this.tweenableTimeline.destroy(e),this.tweenableTimeline=null,this.view.tweenedConfig=null)}}),l}),define("views/presentation/decorators/Slideable",["require","lodash","backbone","helpers/utils","helpers/resolver","helpers/actionManager","helpers/svg/svgUtils","views/helpers/dom","polyfills/detection","views/helpers/transformHelper","views/helpers/collisionHelper","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/utils"),s=e("helpers/resolver"),r=e("helpers/actionManager"),o=e("helpers/svg/svgUtils"),a=e("views/helpers/dom"),l=e("polyfills/detection"),u=e("views/helpers/transformHelper"),c=e("views/helpers/collisionHelper"),h=e("helpers/windowManager"),p=function(e){var t=e.toString().split(".");return 2===t.length?Math.min(2,t[1].length):0},d=function(e){this.view=e,this.model=e.props.model,this.parentModel=this.model.getClosestParentRef(),this.toFixedAmount=0};return t.extend(d.prototype,i.Events,{eventMap:{mouseover:"onrollover",mouseout:"onrollout",mousedown:"onpress",mouseup:"onrelease",dblclick:"ondoubleclick"},componentWillMount:function(){t.bindAll(this,"onUpdateSlider","onBoundVariableChanged","onMouseEvent","onBtnDown","onBtnUp")},componentDidMount:function(){this.parentEl=this.view.el.parentNode,this.sliderContainer=this.parentEl.querySelector(".state-group-top-level"),this.setupSlider().buildSlider().setupAction().setupEvents().updateSliderThumb(null,!0).addAccessibilityItems().updateAccessibilityText(),this.currSlide=h.getCurrentWindowSlide()},onAfterShow:function(){this.updateSliderThumb(null,!0)},componentDidUpdate:function(){this.updateAccessibilityText()},componentWillUnmount:function(){this.removeAccessibilityItems().stopListening(),this.addOrRemoveListeners(!1),this.parentEl.removeChild(this.rangeInput)},setupAction:function(){return this.adjustVarAction={kind:"adjustvar",variable:this.dragpath.bindto,operator:"set",value:{}},this.adjustVarAction.slideableId=this.model.id,this},adjustVariable:function(e){this.adjustVarAction.value={type:"number",value:e},r.executeAction(this.adjustVarAction,{context:this.model})},transformValue:function(e){var t=this.invertedSlider?this.max+this.min-e:e;return n.fix(t,this.toFixedAmount)},setupSlider:function(){return this.dragpath=this.model.dragpath(),this.parentEl.style.pointerEvents="all",this.zIndex=this.parentModel.objects().length+1,this.maxX=this.parentModel.width()-this.model.width(),this.totalRange=Math.abs(this.dragpath.endvalue-this.dragpath.startvalue),this.toFixedAmount=p(this.dragpath.increment),this.boundVariable=s.resolvePath(this.dragpath.bindto),this},buildSlider:function(){var e,t=this.boundVariable.value();return this.rangeInput=document.createElement("input"),this.dragpath.startvalue>this.dragpath.endvalue?(this.min=this.dragpath.endvalue,this.max=this.dragpath.startvalue,this.invertedSlider=!0,t=this.transformValue(t)):(this.invertedSlider=!1,this.min=this.dragpath.startvalue,this.max=this.dragpath.endvalue),e={type:"range",value:t,step:this.dragpath.snap?this.dragpath.increment:0,min:this.min,max:this.max,"data-accepts":"events"},this.step=e.step,a.setAttributes(this.rangeInput,e),this.rangeInput.style.zIndex=this.zIndex,this.rangeInput.classList.add("slider"),this.parentEl.appendChild(this.rangeInput),this.getTrackModel(),this.topParentView=this.view.props.parent.props.parent,this},getTrackModel:function(){this.trackModel=this.parentModel.objects().find(function(e){return e.id.indexOf("_track")>-1})},setupEvents:function(){return this.listenTo(this.parentModel.playerProps,"change:Enabled",function(e,t){this.rangeInput.disabled=!t}.bind(this)),this.eventType=this.dragpath.liveupdating?"input":"change",this.listenTo(this.boundVariable,"change:value",this.onBoundVariableChanged),this.addOrRemoveListeners(!0),this},addOrRemoveListeners:function(e){var t,i=e?"addEventListener":"removeEventListener";!l.isMobile||l.isMobilePreview?this.view.el[i]("mousedown",this.onBtnDown):(t=this.parentEl.parentNode,this.parentEl.style.pointerEvents="none",t[i]("touchmove",this.onUpdateSlider),t[i]("touchstart",this.onUpdateSlider),t[i]("touchcancel",this.onUpdateSlider),t[i]("touchend",this.onUpdateSlider))},updateSliderThumb:function(e,t){e=e||this.transformValue(this.boundVariable.value());var i=n.clamp(this.min,this.max,e),s=(i-this.min)/this.totalRange;return t&&(this.rangeInput.value=i),this.view.setPlayerProp("RawXPos",s*this.maxX),c.transformUpdated(this.view.props.parent,!0),this},onMouseEvent:function(e){this.parentModel.executePlayerEvent(this.eventMap[e.type])},onBoundVariableChanged:function(e,t,i){t=this.transformValue(parseFloat(t)),this.updateSliderThumb(t,!0)},onUpdateSlider:function(e){var i,s,r,o,a,l,c,h,p,d,f=this.model.width(),m=this.model.height(),g=f/2,v=m/2;e.preventDefault(),1===n.getPath(e,"touches.length")?(l=e.touches[0].pageX,c=e.touches[0].pageY):(l=e.pageX,c=e.pageY),t.includes(["mouseup","touchend"],e.type)?this.updateVariable():null!=l&&null!=c&&(u.setMatrixDirty(this.topParentView),s=u.globalPtToSlideObject(this.topParentView,l,c),t.includes(["mousedown","touchstart"],e.type)?(d=u.localPtToLocal(this.view,this.topParentView,g,v),h=s.x-d.x,p=s.y-d.y,t.extend(this,{offX:h,offY:p})):(h=this.offX,p=this.offY),s.x-=h,s.y-=p,i=n.clamp(0,1,(s.x-g)/(this.trackModel.width()-f)),r=(this.totalRange+this.step)*i+this.min,a=!1,0>=r&&(r*=-1,a=!0),o=r-Math.abs(r%this.step)+Math.abs(this.step/2)+this.step/2,a&&(o*=-1),o=n.clamp(this.min,this.max+this.step,o)-this.step,this.rangeInput.value=o,this.dragpath.liveupdating?this.updateVariable():this.updateSliderThumb(o))},updateVariable:function(){return this.adjustVariable(this.transformValue(this.rangeInput.valueAsNumber)),this},onBtn:function(e,t){var i=e?"addEventListener":"removeEventListener";this.onUpdateSlider(t),document.body[i]("mousemove",this.onUpdateSlider),document.body[i]("mouseup",this.onBtnUp)},addAccessibilityItems:function(){return this.view.stealFocus=this.stealFocus.bind(this.view,this),this.view.releaseFocus=this.releaseFocus.bind(this.view,this),this.view.treeKeyCallback=function(e,t,i){this.treeKeyCallback.call(this.view,this,e,t,i)}.bind(this),this},removeAccessibilityItems:function(){return this.view.stealFocus=this.view.releaseFocus=this.view.treeKeyCallback=null,this},updateAccessibilityText:function(){return this.rangeInput.setAttribute("aria-label",this.view.state.accessibleText),this},addFocusStyle:function(){var e=o.createElement("rect"),t=this.view.find("g > g"),i=t.getBBox(),n=3,s=2*n;e.setAttribute("class","focused"),e.setAttribute("x",i.x-n),e.setAttribute("y",i.y-n),e.setAttribute("width",i.width+s),e.setAttribute("height",i.height+s),e.setAttribute("stroke-width",n),t.appendChild(e),this.focusRect=e},stealFocus:function(e,t,i){i||e.addFocusStyle(),e.rangeInput.focus()},releaseFocus:function(e,t){null!=e.focusRect&&(this.find("g > g").removeChild(e.focusRect),e.focusRect=null),e.rangeInput.blur()},treeKeyCallback:function(e,t,i){var n=i?"stepDown":"stepUp";try{e.rangeInput[n](),e.updateVariable()}catch(s){}return!0}}),t.extend(d.prototype,{onBtnDown:t.partial(d.prototype.onBtn,!0),onBtnUp:t.partial(d.prototype.onBtn,!1)}),d}),define("views/presentation/decorators/Rotatable",["require","lodash","backbone","helpers/resolver","helpers/svg/svgUtils","helpers/utils","helpers/TransMatrix","helpers/actionManager","views/events/touchHelper","polyfills/detection","helpers/scaler","helpers/windowManager","views/helpers/dom","views/helpers/collisionHelper","views/helpers/transformHelper","helpers/tabFocusBox"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/resolver"),s=e("helpers/svg/svgUtils"),r=e("helpers/utils"),o=(e("helpers/TransMatrix"),e("helpers/actionManager"),e("views/events/touchHelper")),a=e("polyfills/detection"),l=(e("helpers/scaler"),e("helpers/windowManager")),u=e("views/helpers/dom"),c=e("views/helpers/collisionHelper"),h=e("views/helpers/transformHelper"),p=e("helpers/tabFocusBox"),d=function(e,t){var i=360*(e?1:-1);return t+=i},f=t.partial(d,!0),m=t.partial(d,!1),g=Number.MAX_SAFE_INTEGER||Math.pow(2,50),v=function(e){this.view=e,this.model=e.props.model,t.extend(this,this.model.dragrotation())};t.extend(v.prototype,i.Events,{inverted:!1,componentDidMount:function(){this.currSlide=l.getCurrentWindowSlide(),t.bindAll(this),this.parentEl=this.view.el.parentNode,this.setLoAndHi().setDegreeSnap().setBoundVar().setListeners().setRotationFromValue(this.boundVar.value()).buildSlider().addAccessibilityItems().updateAccessibilityText()},componentDidUpdate:function(){this.updateAccessibilityText()},setLoAndHi:function(){return this.lowvalue=Math.min(this.startvalue,this.endvalue),this.highvalue=Math.max(this.startvalue,this.endvalue),this.lowvalue<this.startvalue&&(this.inverted=!0),this},componentWillUnmount:function(){this.removeAccessibilityItems().stopListening(),this.view.el.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp),document.body.removeEventListener("mousemove",this.onMouseMove),this.unbindTouch&&this.unbindTouch(),this.parentEl.removeChild(this.rangeInput)},setDegreeSnap:function(){var e;return this.valRange=this.highvalue-this.lowvalue,this.angleRange=Math.abs(this.endrotation-this.startrotation),this.snap&&(e=this.valRange,this.valRange=this.valRange-this.valRange%this.increment,this.angleRange=this.angleRange*(this.valRange/e),this.stepDeg=r.fix(this.angleRange/(this.valRange/this.increment))),this},setBoundVar:function(){return this.boundVar=n.resolvePath(this.bindto,this.model),this},setListeners:function(){return this.listenTo(this.boundVar,"change:value",this.onBoundVariableChanged),a.isMobileAndNotPreview?this.unbindTouch=t.flow(o.on(this.view.el,"touchstart",this.onMouseDown),o.on(this.view.el,"touchend",this.onMouseUp),o.on(this.view.el,"touchmove",this.onMouseMove)):(this.view.el.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mouseup",this.onMouseUp)),this},setRotationFromValue:function(e){var t=this.view.el,i=this.rotateXPos-this.model.rotateXPos(),n=this.rotateYPos-this.model.rotateYPos();return null==this.origTransform&&(this.origTransform=t.style[this.view.cssTransform]),this.lastSetRotation=this.getAngleFromValue(e),t.style[this.view.cssTransform]=[this.origTransform,s.transformTranslate(r.pxify(i),r.pxify(n)),s.transformRotate(this.lastSetRotation+"deg"),s.transformTranslate(r.pxify(-i),r.pxify(-n))].join(" "),this.model.forEachAncestor(function(e){return e.isKind("scrollarea")||e.isKind("slidelayer")?!1:void(null!=e.currView&&c.transformUpdated(e.currView,!0))},!0),this},buildSlider:function(){var e=this.boundVar.value(),t={type:"range",value:e,step:this.snap?this.increment:0,min:this.startvalue,max:this.endvalue};return this.rangeInput=document.createElement("input"),u.setAttributes(this.rangeInput,t),this.rangeInput.className="accessibility",this.parentEl.appendChild(this.rangeInput),this},onBoundVariableChanged:function(e,t){this.setRotationFromValue(t),this.rangeInput.value=t},adjustVariable:function(e){var t={operator:"set",value:{type:"number",value:e}};return this.boundVar.adjust(t,{context:this.model}),this},onMouseDown:function(e){e.preventDefault(),this.isEnabled()&&(this.centerCoords=h.localPtToSlide(this.view,this.rotateXPos,this.rotateYPos),this.lastAngle=this.initAngle=this.getAngleFromEvent(e),this.angleChange=this.overRot=0,this.initRotation=this.lastSetRotation,document.body.addEventListener("mousemove",this.onMouseMove))},onMouseUp:function(e){document.body.removeEventListener("mousemove",this.onMouseMove),!this.liveupdating&&this.isEnabled()&&this.adjustVariable(this.getValueFromAngle(this.lastSetRotation))},getAngleFromValue:function(e){e=r.clamp(this.lowvalue,this.highvalue,e);var t=this.inverted?this.highvalue-e:e-this.lowvalue;return null!=this.stepDeg?t/this.increment*this.stepDeg+this.startrotation:t/this.valRange*this.angleRange+this.startrotation},getValueFromAngle:function(e){var t=e-this.startrotation,i=t/this.angleRange,n=i*this.valRange;return n=this.inverted?this.highvalue-n:this.lowvalue+n,this.roundValue(n)},roundStep:function(e,i){var n=e?t.range(this.startrotation,this.endrotation+1,this.stepDeg):t.range(this.lowvalue,this.highvalue+1,this.increment);return n.reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e},g)},getAngleFromEvent:function(e){var t=o.getPageLoc(e),i=h.globalPtToLayer(this.view,t.pageX,t.pageY),n=i.x-this.centerCoords.x,s=i.y-this.centerCoords.y;return r.normalizeDeg(r.radToDeg(Math.atan2(s,n))+90)},adjustOverRotation:function(e){var t=e-this.lastAngle;t>180?this.overRot=m(this.overRot):-180>t&&(this.overRot=f(this.overRot))},cleanAngle:function(e){var t=r.normalizeDeg(e);return this.snap?this.roundAngle(t):t},onMouseMove:function(e){if(this.isEnabled()){var t=this.getAngleFromEvent(e);this.adjustOverRotation(t),this.lastAngle=t,this.angleChange=t+this.overRot-this.initAngle,t=this.initRotation+this.angleChange,this.setAngle(r.clamp(this.startrotation,this.endrotation,t))}},setAngle:function(e){e!==this.lastSetRotation&&(this.liveupdating?this.adjustVariable(this.getValueFromAngle(e)):(this.lastSetRotation=e,this.setRotationFromValue(this.getValueFromAngle(e))))},isEnabled:function(){var e=this.model.getClosestParentRef();return this.model.prop("Enabled")&&(!e.isSlideObject||e.prop("Enabled"))},addAccessibilityItems:function(){return this.viewStealFocus=this.view.stealFocus,this.view.stealFocus=this.stealFocus.bind(this.view,this),this.viewReleaseFocus=this.view.releaseFocus,this.view.releaseFocus=this.releaseFocus.bind(this.view,this),this.view.treeKeyCallback=function(e,t,i){this.treeKeyCallback.call(this.view,this,e,t,i)}.bind(this),this},removeAccessibilityItems:function(){return this.view.stealFocus=this.viewStealFocus,this.view.releaseFocus=this.viewReleaseFocus,this.view.treeKeyCallback=null,this},updateAccessibilityText:function(){return this.rangeInput.setAttribute("aria-label",this.view.state.accessibleText),this},stealFocus:function(e){e.viewStealFocus.apply(e,t.slice(arguments,1)),e.rangeInput.focus()},releaseFocus:function(e){e.viewReleaseFocus.apply(e,t.slice(arguments,1)),e.rangeInput.blur()},treeKeyCallback:function(e,t,i){var n,s=i?"stepDown":"stepUp";try{e.rangeInput[s](),n=e.rangeInput.value,e.setRotationFromValue(n).adjustVariable(n)}catch(r){}return p.lastItemFocused===this.view&&p.update(this.view),!0}});var y=v.prototype;return y.roundValue=t.partial(y.roundStep,!1),y.roundAngle=t.partial(y.roundStep,!0),v}),define("views/mixins/decorateable",["require","lodash","views/presentation/decorators/Draggable","views/presentation/decorators/Droppable","views/presentation/decorators/Tweenable","views/presentation/decorators/Slideable","views/presentation/decorators/Rotatable"],function(e){"use strict";var t=e("lodash"),i=e("views/presentation/decorators/Draggable"),n=e("views/presentation/decorators/Droppable"),s=e("views/presentation/decorators/Tweenable"),r=e("views/presentation/decorators/Slideable"),o=e("views/presentation/decorators/Rotatable"),a={createDecorator:function(e){return new e(this)},callLifeCycleEvent:function(e){for(var i=arguments.length,n=new Array(i),s=0;i>s;++s)n[s]=arguments[s];t.forOwn(this.decorators,function(t){t[e]&&t[e].apply(t,n.slice(1))})},componentWillMount:function(){
this.decorators={},this.createDecorators(),this.callLifeCycleEvent("componentWillMount")},componentDidMount:function(){this.callLifeCycleEvent("componentDidMount")},componentWillUnmount:function(){this.callLifeCycleEvent("componentWillUnmount")},componentWillReceiveProps:function(e){this.callLifeCycleEvent("componentWillReceiveProps",e)},componentWillUpdate:function(e,t){this.callLifeCycleEvent("componentWillUpdate",e,t)},componentDidUpdate:function(e,t){this.callLifeCycleEvent("componentDidUpdate",e,t)},createDecorators:function(){var e=this.props.model;e.isDraggable()&&!this.hasDraggableAncestor()&&(this.decorators.draggable=this.createDecorator(i)),e.isDroppable()&&(this.decorators.droppable=this.createDecorator(n)),e.isTweenable()&&(this.decorators.tweenable=this.createDecorator(s)),e.isSlideable()&&(this.decorators.slideable=this.createDecorator(r)),e.isRotatable()&&(this.decorators.rotatable=this.createDecorator(o))},hasDraggableAncestor:function(){for(var e=this;e=e.props.parent;)if(e.props.model.isDraggable())return!0;return!1}};return a}),define("views/presentation/mixins/displayable",["require","lodash","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n={componentWillMount:function(){var e=this.props.model,n=e.isKind("slidelayer"),s=this.props.slideFrame;this.childrenVisible=!1,this.trulyVisible=!1,this.parentVisible=!1,n&&null!=s&&this.listenTo(s.props.model,"trueVisibilityChanged",t.partial(this.updateTrueVisibility,null)),this.isParentVisible=n?function(){return i.getPath(this.props.slideFrame,["props","model","currView","trulyVisible"],!0)}:function(){return this.parentVisible},n?this.isObjectVisible=function(){return this.isBaseLayer()||!!e.isOpen}:e.isKind("shufflegroup")?this.isObjectVisible=this.isParentVisible:this.isObjectVisible=function(){return e.prop("OnStage")&&!e.prop("HiddenByLayer")},this.isChildrenVisible=e.isKind("expandinglabel")?function(e){return e&&this.getPlayerProp("Expanded")}:t.identity},componentDidMount:function(){this.isBaseLayer&&this.isBaseLayer()&&this.updateTrueVisibility()},updateTrueVisibility:function(e){null==e&&(e=this.isObjectVisible());var t=this.props.model,i=this.isParentVisible(),n=e&&i,s=this.isChildrenVisible(n);n!==this.trulyVisible&&(this.trulyVisible=n,this.parentVisible=i,t.trigger("trueVisibilityChanged",n)),this.childrenVisible!==s&&(this.childrenVisible=s,t.objects&&t.objects().forEach(function(e){var t=e.currView;t.parentVisible!==s&&(t.parentVisible=s,t.updateTrueVisibility())}))}};return n}),function(){"use strict";"SVGPathSeg"in window||(window.SVGPathSeg=function(e,t,i){this.pathSegType=e,this.pathSegTypeAsLetter=t,this._owningPathSegList=i},SVGPathSeg.prototype.classname="SVGPathSeg",SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=t,this._y=i},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=t,this._y=i},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=t,this._y=i},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=t,this._y=i},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(e,t,i,n,s,r,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e),this._x=t,this._y=i,this._x1=n,this._y1=s,this._x2=r,this._y2=o},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(e,t,i,n,s,r,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e),this._x=t,this._y=i,this._x1=n,this._y1=s,this._x2=r,this._y2=o},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(e,t,i,n,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e),this._x=t,this._y=i,this._x1=n,this._y1=s},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(e,t,i,n,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e),this._x=t,this._y=i,this._x1=n,this._y1=s},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(e,t,i,n,s,r,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",e),this._x=t,this._y=i,this._r1=n,this._r2=s,this._angle=r,this._largeArcFlag=o,this._sweepFlag=a},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(e,t,i,n,s,r,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",e),this._x=t,this._y=i,this._r1=n,this._r2=s,this._angle=r,this._largeArcFlag=o,this._sweepFlag=a},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e),this._x=t},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e),this._x=t},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e),this._y=t},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e),this._y=t},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(e,t,i,n,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e),this._x=t,this._y=i,this._x2=n,this._y2=s},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(e,t,i,n,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e),this._x=t,this._y=i,this._x2=n,this._y2=s},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=t,this._y=i},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=t,this._y=i},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,t){return new SVGPathSegMovetoAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,t){return new SVGPathSegMovetoRel(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,t){return new SVGPathSegLinetoAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,t){return new SVGPathSegLinetoRel(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,t,i,n,s,r){return new SVGPathSegCurvetoCubicAbs(void 0,e,t,i,n,s,r)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,t,i,n,s,r){return new SVGPathSegCurvetoCubicRel(void 0,e,t,i,n,s,r)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,t,i,n){return new SVGPathSegCurvetoQuadraticAbs(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,t,i,n){return new SVGPathSegCurvetoQuadraticRel(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,t,i,n,s,r,o){return new SVGPathSegArcAbs(void 0,e,t,i,n,s,r,o)},SVGPathElement.prototype.createSVGPathSegArcRel=function(e,t,i,n,s,r,o){return new SVGPathSegArcRel(void 0,e,t,i,n,s,r,o)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new SVGPathSegLinetoHorizontalAbs(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new SVGPathSegLinetoHorizontalRel(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new SVGPathSegLinetoVerticalAbs(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new SVGPathSegLinetoVerticalRel(void 0,e)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,t,i,n){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,t,i,n){return new SVGPathSegCurvetoCubicSmoothRel(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,t){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,t){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,e,t)}),"SVGPathSegList"in window||(window.SVGPathSegList=function(e){this._pathElement=e,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(this._pathElement){var t=!1;e.forEach(function(e){"d"==e.attributeName&&(t=!0)}),t&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(e){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(e){e._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(e){return this._checkPathSynchronizedToList(),this._list=[e],e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||0>e||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(e){return this._checkPathSynchronizedToList(),this._checkValidIndex(e),this._list[e]},SVGPathSegList.prototype.insertItemBefore=function(e,t){return this._checkPathSynchronizedToList(),t>this.numberOfItems&&(t=this.numberOfItems),e._owningPathSegList&&(e=e.clone()),this._list.splice(t,0,e),e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList.prototype.replaceItem=function(e,t){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._checkValidIndex(t),this._list[t]=e,e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList(),this._checkValidIndex(e);var t=this._list[e];return this._list.splice(e,1),this._writeListToPath(),t},SVGPathSegList.prototype.appendItem=function(e){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._list.push(e),e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList._pathSegArrayAsString=function(e){var t="",i=!0;return e.forEach(function(e){i?(i=!1,t+=e._asPathString()):t+=" "+e._asPathString()}),t},SVGPathSegList.prototype._parsePath=function(e){if(!e||0==e.length)return[];var t=this,i=function(){this.pathSegList=[]};i.prototype.appendSegment=function(e){this.pathSegList.push(e)};var n=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var e=this._string[this._currentIndex];return" ">=e&&(" "==e||"\n"==e||"	"==e||"\r"==e||"\f"==e)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex)?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){var e=this._string[this._currentIndex];return this._pathSegTypeFromChar(e)},n.prototype._pathSegTypeFromChar=function(e){switch(e){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;
case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},n.prototype._nextCommandHelper=function(e,t){return("+"==e||"-"==e||"."==e||e>="0"&&"9">=e)&&t!=SVGPathSeg.PATHSEG_CLOSEPATH?t==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:t==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:t:SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return e==SVGPathSeg.PATHSEG_MOVETO_ABS||e==SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var e=0,t=0,i=1,n=0,s=1,r=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,s=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var a=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=a)for(var l=this._currentIndex-1,u=1;l>=a;)t+=u*(this._string.charAt(l--)-"0"),u*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n+=(this._string.charAt(this._currentIndex++)-"0")*(i*=.1)}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)e*=10,e+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var c=t+n;if(c*=s,e&&(c*=Math.pow(10,r*e)),o!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),c}},n.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var e=!1,t=this._string.charAt(this._currentIndex++);if("0"==t)e=!1;else{if("1"!=t)return;e=!0}return this._skipOptionalSpacesOrDelimiter(),e}},n.prototype.parseSegment=function(){var e=this._string[this._currentIndex],i=this._pathSegTypeFromChar(e);if(i==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if(i=this._nextCommandHelper(e,this._previousCommand),i==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=i,i){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(t,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(t,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(t,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(t,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(t);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(t,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(t,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(t,n.x,n.y,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(t,n.x,n.y,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(t,n.x,n.y,n.x1,n.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(t,n.x,n.y,n.x1,n.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(t,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(t,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type."}};var s=new i,r=new n(e);if(!r.initialCommandIsMoveTo())return[];for(;r.hasMoreData();){var o=r.parseSegment();if(!o)return[];s.appendSegment(o)}return s.pathSegList})}(),define("pathseg",function(){}),define("views/mixins/adornable",["require","pathseg","lodash","react","react-dom","helpers/utils","helpers/errorManager","helpers/svg/svgUtils","helpers/constants","helpers/TransMatrix"],function(e){"use strict";e("pathseg");var t=e("lodash"),i=(e("react"),e("react-dom")),n=e("helpers/utils"),s=e("helpers/errorManager"),r=e("helpers/svg/svgUtils"),o=e("helpers/constants"),a=e("helpers/TransMatrix"),l=s.warn("Adornable"),u=s.throwError("Adornable"),c=s.backtick,h=function(){var e=/c|s|q|t|a/i;return function(t){return e.test(t.getAttribute("d"))}}(),p=t.partialRight(t.pick,"x","y"),d=function(e,i){return t.extend(e.createSVGPoint(),i)},f=function(e,t){return t.matrixTransform(e)},m=function(e,i){var n=t.partial(f,e),s=i.map(n),r=t.max(s,"y"),o=function(e){return e.y===r.y},a=s.filter(o),l=t.min(a,"x"),u=t.max(a,"x"),c=(l.x+u.x)/2,h=l.y,p=t.indexOf(s,l),d=t.indexOf(s,u),m=i[p],g=i[d],v=(m.x+g.x)/2,y=(m.y+g.y)/2;return{transformed:{x:c,y:h},original:{x:v,y:y}}},g=function(){var e=5,i=function(t){return t*e};return function(n,s){var r=(s.getTotalLength(),s.getPointAtLength.bind(s)),o=Math.ceil(s.getTotalLength()/e)+1,a=t.range(o).map(i).map(r);return m(n,a)}}(),v=function(e,i){var s=i.pathSegList,r=s.getItem.bind(s),o=t.range(s.numberOfItems).map(r),a=t(o).map(p).filter(n.not(t.isEmpty)).map(t.partial(d,i.ownerSVGElement)).value();return m(e,a)},y=function(){var e=function(e,t){var i=h(t)?g:v;return i(e,t)},i=function(e){return e.transformed.y};return function(n,s){var r=t(s).map(t.partial(e,n)).max(i).original;return p(r)}}(),b=function(e){var t=e.getAttributeNS(o.XMLNS_XLINK,"href"),i=e.ownerSVGElement;return i.querySelector(t)},w=function(e){return r.isUseNode(e)?b(e):e},S=function(e){return e=w(e),r.isPathNode(e)?[e]:t.toArray(e.querySelectorAll("path"))},x=function(){var e=/#([^\)\s'"]*)/;return function(t){var i=e.exec(t);return null==i?null:i[1]}}(),T={"perspective-shadow":{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateShadowToOriginalAngle","rotateShadowAboutPlane","adjustScaleTranslation","adjustSkewTranslationX","adjustSkewTranslationY"]},reflection:{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateReflection","adjustScaleTranslation"]},"drop-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateDropShadow"]},"inner-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateInnerDropShadow"]}},E={initAdornment:function(){this.rotateAboutPoint().applyTransform().rotateGradient()},adornSvg:function(){var e=t.values(t.pick(this.refs,function(e,t){return 0===t.indexOf("adornable")}));e.length&&e.forEach(function(e){this.setAsAdornable(i.findDOMNode(e),this.props.model.get("rotation"))}.bind(this))},setAsAdornable:function(e,t){this.adornType=e.getAttribute("data-adornment-type"),this.adornedNode=e,this.adornRotation=t,this.parentSvg=e.ownerSVGElement,this.adornMatrix=this.parentSvg.createSVGMatrix().rotate(this.adornRotation),this.adornTransformConfig=JSON.parse(e.getAttribute("data-transform"))||[],this.adornRotationPoint=null,this.adornConfig=T[this.adornType]||{},this.initAdornment()},gradientRotationOffset:function(e){return(this.adornRotationOffset||(this.adornRotationOffset=e.getAttribute("gradientTransform").replace(/rotate|\)|\(/g,"").replace(/,/g," ").split(/\s+/))).concat()},rotateGradient:function(){var e,t=this.parentSvg.querySelector("[data-rotation-offset]");return t&&(e=this.gradientRotationOffset(t),e[0]=-this.adornRotation+parseFloat(e[0]),t.setAttribute("gradientTransform",["rotate(",e.join(","),")"].join(""))),this},getDataAsFloat:function(e){return parseFloat(this.adornedNode.getAttribute("data-"+e))},teardown:function(){this.parentSvg=null,this.adornedNode=null,this.adornMatrix=null},rotateAboutPoint:function(){return this.calculateRotationPoint().applyRotation(),this},calculateRotationPoint:function(){return this.adornRotationPoint=this[this.adornConfig.calculationMethod](),this},calculateMidPoint:function(){return{x:this.getDataAsFloat("width")/2,y:this.getDataAsFloat("height")/2}},calculateLowestRotatedPoint:function(){var e=S(this.adornedNode);return t.isEmpty(e)?void l("calculateLowestRotatedPoint","no `path` nodes found for calculation"):y(this.adornMatrix,e)},applyRotation:function(){if(!this.adornRotationPoint)return this;var e=this.adornConfig.rotationMethods;return e||u("applyRotation","adornment of",c(this.adornType),"not supported"),e.forEach(function(e){this[e]()}.bind(this)),this},addRotation:function(e,t){return this.adornTransformConfig[e](this.buildRotation(t)),this},buildRotation:function(e){return r.buildRotateConfig(this.adornRotation*e,this.adornRotationPoint.x,this.adornRotationPoint.y)},getTransformRelativeToOther:function(e,i){var n=t.indexOf(this.adornTransformConfig,i);return this.adornTransformConfig[n+e]},adjustScaleTranslation:function(){var e=this.adornRotationPoint,t=r.getFirstScale(this.adornTransformConfig),i=this.getTransformRelativeToOther(-1,t),s=n.invertPercent(t.args[0]),o=n.invertPercent(t.args[1]);return i.args[0]=e.x*s,i.args[1]=e.y*o,this},adjustSkewTranslation:function(e){var t=this.adornRotationPoint,i="x"===e,s=i?"y":"x",o=r.getFirstTransformOfType("skew"+e.toUpperCase(),this.adornTransformConfig),a=this.getTransformRelativeToOther(1,o),l=o.args[0],u=n.degToRad(l);return a.args[i?0:1]=-(t[s]*Math.tan(u)),this},applyTransform:function(){var e=this.adornTransformConfig.map(r.buildTransformFromConfigFn).join(" ");return this.adornedNode.setAttribute("transform",e),this},calculateRotationOffset:function(){for(var e=this.getDataAsFloat("distance"),t=this.getDataAsFloat("angle"),i=-n.degToRad(this.adornRotation-t),s=this.getDataAsFloat("scale"),r=new a,o=this.props.model.parent;null!=o&&o.isSlideObject;)r.rotate(-o.prop("Rotation"),0,0),o=o.parent;return e/=s,r.transformPoint(e*Math.cos(i),e*Math.sin(i))},rotateDropShadow:function(){var e=this.calculateRotationOffset();this.adornTransformConfig.push(r.buildTranslateConfig(e.x,e.y))},rotateInnerDropShadow:function(){var e=document.getElementById(x(this.adornedNode.getAttribute("filter"))),t=e.getElementsByTagName("feOffset")[0],i=this.calculateRotationOffset();t.setAttribute("dx",i.x),t.setAttribute("dy",i.y)},rotateReflection:function(){this.addRotation("unshift",-1);var e=r.getFirstTranslate(this.adornTransformConfig),i=t.indexOf(this.adornTransformConfig,e);this.adornTransformConfig.splice(i+1,0,this.buildRotation(-1))}};return E.rotateShadowToOriginalAngle=t.partial(E.addRotation,"unshift",-1),E.rotateShadowAboutPlane=t.partial(E.addRotation,"push",1),E.adjustSkewTranslationX=t.partial(E.adjustSkewTranslation,"x"),E.adjustSkewTranslationY=t.partial(E.adjustSkewTranslation,"y"),E}),define("views/presentation/VectorSlideObject",["require","lodash","helpers/utils","views/mixins/baseView","views/mixins/adornable","react","helpers/svg/svgManager","helpers/svg/svgUtils","helpers/constants","backbone"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils"),e("views/mixins/baseView")),i=e("views/mixins/adornable"),n=e("react"),s=e("helpers/svg/svgManager"),r=(e("helpers/svg/svgUtils"),e("helpers/constants"),e("backbone"),n.createClass({displayName:"VectorSlideObject",mixins:[t,i],refresh:function(){return this.htmlReady(this.whenHtmlReady),this},whenHtmlReady:function(){this.adornSvg(),this.determineChildMouseBehavior()},componentDidMount:function(){this.refresh().bindEvents()},componentDidUpdate:function(){this.refresh().bindEvents()},shouldUpdate:function(e,t){return e.playerProps.ObjectState!==this.props.playerProps.ObjectState||this.props.model.shouldUpdateGif()},bindEvents:function(){return this.stopListening(),this.findAllComponents("VectorText").concat(this.findAllComponents("VariableText")).forEach(function(e){this.listenTo(e,{textHit:this.props.textHit,textOver:this.props.textOver,textOut:this.props.textOut})}.bind(this)),this},determineChildMouseBehavior:function(){var e;this.props.model.isCorrectIncorrectReview()&&(this.findAll("g").forEach(function(e){e.style.pointerEvents="none"}),e=this.find("g g:nth-child(2)"),e.setAttribute("cursor","pointer"),e.style.pointerEvents="all")},template:function(){return s.getSvgFromData(this.props.model,this)}}));return r}),define("views/presentation/ButtonSlideObject",["require","react","views/mixins/baseView","polyfills/detection","polyfills/mobileChromeKiller"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("polyfills/detection"),s=e("polyfills/mobileChromeKiller"),r=t.createClass({displayName:"ButtonSlideObject",mixins:[i],componentDidMount:function(){var e=document.querySelector(".resume-prompt-slide");n.isMobilePreview&&e?this.el.addEventListener("mousedown",function(){s.init()}):n.isMobileOrTouchableTheme&&e&&this.el.addEventListener("touchstart",function(){s.init()})},getClassNames:function(){var e=["btn","slide-object-button"];return n.isMobile||(this.props.model.getSlide().isMessageSlide()?e.push(["cs-",this.props.model.id.replace(/_/g,"-")].join("")):e.push("cs-button")),e.join(" ")}});return r}),define("views/presentation/PlaceHolderSlideObject",["require","lodash","views/mixins/baseView","react"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=i.createClass({mixins:[t],displayName:"PlaceHolderSlideObject"});return n}),define("views/presentation/GroupingSlideObject",["require","lodash","views/mixins/baseView","react","helpers/slideObjectUtils"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=e("helpers/slideObjectUtils"),s=i.createClass({mixins:[t],displayName:"GroupingSlideObject",getFocusTarget:function(){return n.getGroupFocusTarget(this)}});return s}),define("views/presentation/StateGroupSlideObject",["require","lodash","helpers/keyManager","helpers/resolver","views/helpers/dom","views/mixins/baseView","react","polyfills/detection","helpers/slideObjectUtils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/keyManager"),n=e("helpers/resolver"),s=e("views/helpers/dom"),r=e("views/mixins/baseView"),o=e("react"),a=e("polyfills/detection"),l=e("helpers/slideObjectUtils"),u=o.createClass({mixins:[r],displayName:"StateGroupSlideObject",isStillFocused:function(){var e=i.getCurrentTabbable();return!!this.findComponent(e)},getAllRefs:function(){var e=this.findAllComponents("SlideObject");return this.allRefs=t.reject(e,function(e){return e.props.model.isGroupingSlideObject}).map(function(e){return e.props.model}),this},getElso:function(){return t.find(this.refs,function(e){return e.props.model.isKind("expandinglabel")})},isExpanded:function(){return this.getElso().getPlayerProp("Expanded")},checkElso:function(){return this.props.model.getIsExpandingLabel()},onElsoAction:function(e,t){if(!e||null==t||null!=t.props.model.get("markerType")){var i=e?"toggleComplete":"hideComplete";(e||!this.isStillFocused()&&this.isExpanded())&&this.getElso().refs.innard[i]()}},isClickDefAllowed:function(e,i){var r,o,l=this.props.model.getClickDef(),u=s.closest(e,s.isSlideObject),c=function(e){return t.some(e,function(e){var t=!1,i=e instanceof window.Node;return!i&&e.props.model&&e.props.model.isSlideObject&&(e.refs&&(t=c(e.refs)),e.el===u&&(t=!0,o=e)),!!t})};return a.isMobile&&null==u&&(e=document.elementFromPoint(s.mouseX,s.mouseY),e&&this.el.contains(e)&&(u=s.closest(e,s.isSlideObject))),c(this.refs),null!=o?l.some(function(e){var t=n.getRef(e,this.props.model),i=n.resolvePath(t,this.props.model);return i.id===o.props.model.id}.bind(this)):(r=s.closest(this.el,s.isSlideObject),r!==u&&"clickoutside"===i?this.props.model.events().some(function(e){return"onclickoutside"===e.kind}):r===u||r!==u&&"releaseoutside"===i)},getFocusTarget:function(){return l.getGroupFocusTarget(this)}});return u}),define("views/presentation/PresentationOverlay",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"PresentationOverlay",mixins:[i]});return n}),define("views/presentation/ZoomImage",["require","lodash","tween-lite","views/mixins/baseView","react","react-dom","views/presentation/PresentationOverlay","helpers/appState","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("tween-lite"),n=e("views/mixins/baseView"),s=e("react"),r=e("react-dom"),o=e("views/presentation/PresentationOverlay"),a=e("helpers/appState"),l=e("polyfills/detection"),u=5,c=0,h=l.isMobile?c:u,p=s.createClass({displayName:"ZoomImage",mixins:[n],componentWillMount:function(){var e=s.createElement(o,{className:"zoom-image-overlay"});this.overlay=r.render(e,document.querySelector("#zoomimage-container"))},componentDidMount:function(){this.speed=.25,this.calculateTransform(),this.throttledCalculateTweenProps=t.throttle(this.calculateTweenProps,100)},componentDidUpdate:function(){if(this.calculateTransform(),this.isVisible()&&null!=this.currentTween){this.calculateTweenProps();var e=this.currentTween.time(),n=t.partial(i.fromTo,this.el,this.currentTween.duration());this.isZoomingIn?this.currentTween=n(this.startProps,this.endProps):this.currentTween=n(this.endProps,this.startProps),this.currentTween.seek(e)}},getContainerRectDesktop:function(){var e=this.props.imageModel.get("zoomslide")?document.querySelector(".slide-container"):document.querySelector("#presentation");return e.getBoundingClientRect()},getContainerRectMobile:function(){var e=a.windowManager.getCurrentWindowSlide().currView,t=e.el.getBoundingClientRect();return t},calculateTransform:function(){this.scaleX=this.props.transform.width/this.props.width,this.scaleY=this.props.transform.height/this.props.height,this.diffX=(this.props.width-this.props.transform.width)/2,this.diffY=(this.props.height-this.props.transform.height)/2},calculateTweenProps:function(){var e,i,n,s,r,o=h,u=this.el.parentNode.getBoundingClientRect(),c=this.getContainerRect(),p=c.left-u.left,d=c.top-u.top,f=this.props.imageElement.getBoundingClientRect(),m=f.left-c.left-this.diffX,g=f.top-c.top-this.diffY,v=m+this.props.width+o,y=g+this.props.height+o,b=m,w=g,S=this.scaleX,x=this.scaleY,T=1;l.isMobile?T=1/a.windowManager.getCurrentWindowSlide().calculateTotalScale():a.windowManager.isLightBoxActive()&&(T=a.windowManager.getCurrentWindow().slideScale,T*=a.windowManager.getCurrentWindowSlide().calculateTotalScale(),s=(this.props.transform.width-this.props.transform.width*T)/2,r=(this.props.transform.height-this.props.transform.height*T)/2,m-=s,g-=r,S*=T,x*=T),e=c.width/(this.props.width+o),i=c.height/(this.props.height+o),n=t.min([1,e,i]),o>g?w=o-(this.props.height-n*this.props.height)/2:y>c.height&&(w-=y-c.height-(this.props.height-n*this.props.height)/2),o>m?b=o-(this.props.width-n*this.props.width)/2:v>c.width&&(b-=v-c.width-(this.props.width-n*this.props.width)/2),this.startProps={x:m+p-this.props.transform.xOffset*T,y:g+d-this.props.transform.yOffset*T,scaleX:S,scaleY:x,overwrite:"auto"},this.endProps={x:b+p,y:w+d,scaleX:n,scaleY:n}},zoomIn:function(){this.isZoomingIn=!0,this.calculateTweenProps(),a.windowManager.isLightBoxActive()||this.overlay.show(),this.show(),this.currentTween=i.fromTo(this.el,this.speed,this.startProps,t.extend({},this.endProps,{onComplete:function(){this.props.imageModel.executePlayerEvent("onzoomopened"),document.addEventListener("click",this.zoomOut,!0)}.bind(this)}))},updateZoomOut:function(){this.throttledCalculateTweenProps(),this.currentTween=i.to(this.el,this.speed/2,this.startProps)},zoomOut:function(e){e.stopPropagation(),this.isZoomingIn=!1,document.removeEventListener("click",this.zoomOut,!0),i.to(this.el,this.speed,{onUpdate:this.updateZoomOut,onComplete:this.onZoomedOut}),this.props.imageModel.executePlayerEvent("onzoomclosed")},onZoomedOut:function(){this.overlay.hide(),this.hide()}}),d=p.prototype;return d.getContainerRect=d[l.isMobile?"getContainerRectMobile":"getContainerRectDesktop"],p}),define("helpers/windowOpen",["require","lodash","backbone","helpers/events","helpers/pubSub","polyfills/vendorOverrides","helpers/constants"],function(e){"use strict";var t,i=e("lodash"),n=(e("backbone"),e("helpers/events")),s=e("helpers/pubSub"),r=e("polyfills/vendorOverrides"),o=e("helpers/constants"),a=function(e){return i.pairs(e).map(function(e){return e.join("=")}).join(", ")},l=i.extend({initialize:function(e){t=e,s.on(n.window.OPEN_EXTERNAL,this.onOpenWindow.bind(this))},onOpenWindow:function(e,t){var i=this.openWindowByAction.bind(this,e),n=i;null!=r.onOpenWindow&&(n=r.onOpenWindow.bind(r,e,t,i)),n()},openWindowByAction:function(e){var t={},i=e.windowsize,n="open_video"===e.kind;switch(i){case"fullscreen":t.width=window.screen.availWidth,t.height=window.screen.availHeight;break;case"custom":t.width=e.width,t.height=e.height}e.usedefaultcontrols||"default"===i||(t.status=+e.status,t.toolbar=+e.toolbar,t.location=+e.location,t.menubar=+e.menubar,t.scrollbars=+e.scrollbars,t.resizable=+e.resizable),this.open({url:n?o.STORY_CONTENT_URL+e.url:e.url,window:e.window,specs:t,previewNotification:n?"PREVIEW_OPEN_VIDEO":"PREVIEW_OPEN_URL"})},open:function(e){var r={previewNotification:"PREVIEW_OPEN_URL",specs:{},window:"_blank"};i.extend(r,e),t.isPreview()?s.trigger(n.preview.NOTIFY,r.previewNotification):window.open(r.url,r.window,a(r.specs))}});return l}),define("views/presentation/ImageSlideObject",["require","lodash","views/mixins/baseView","views/mixins/propertizable","react","react-dom","helpers/assetManager","views/presentation/ZoomImage","helpers/slideObjectUtils","views/events/touchHelper","helpers/windowManager","polyfills/detection","helpers/events","helpers/windowOpen"],function(e){"use strict";var t=e("lodash"),i=e("views/mixins/baseView"),n=(e("views/mixins/propertizable"),e("react")),s=e("react-dom"),r=e("helpers/assetManager"),o=e("views/presentation/ZoomImage"),a=(e("helpers/slideObjectUtils"),e("views/events/touchHelper")),l=e("helpers/windowManager"),u=e("polyfills/detection"),c=e("helpers/events"),h=e("helpers/windowOpen"),p=n.createClass({displayName:"ImageSlideObject",mixins:[i],subscriptions:function(){var e={};return e[c.slideContainer.POSITIONED]="onPositioned",e}(),componentWillMount:function(){this.presentationCanvas=document.querySelector("#presentation-canvas")},componentDidMount:function(){u.isMobile&&this.refs.zoom&&a.tap(this,this.refs.zoom,this.zoom)},getImage:function(){return r.getAssetUrl(this.props.model.get("zoomdata").imagedata.assetId)},zoom:function(){"htmlwindow"===this.props.model.get("zoomtype")?h.open({url:this.getImage(),previewNotification:"PREVIEW_ZOOM_IMAGE"}):this.getOrCreateZoomImage().zoomIn()},actionKeyCallback:function(){return null!=this.zoomImage&&this.zoomImage.isZoomingIn?this.zoomImage.zoomOut({stopPropagation:t.noop}):this.zoom(),!0},innardRelease:function(){null!=this.zoomImage&&this.zoomImage.isZoomingIn&&this.zoomImage.zoomOut({stopPropagation:t.noop})},getOrCreateZoomImage:function(){return s.unmountComponentAtNode(this.presentationCanvas),this.renderZoomImage()},renderZoomImage:function(){var e=1/l.getCurrentWindowSlide().calculateTotalScale(),t=n.createElement(o,{imageModel:this.props.model,imageElement:this.find(".zoom"),imageUrl:this.getImage(),width:this.props.model.get("zoomdata").html5data.width*e,height:this.props.model.get("zoomdata").html5data.height*e,transform:{xOffset:this.props.model.get("xOffset"),yOffset:this.props.model.get("yOffset"),xPos:this.props.playerProps.RawXPos,yPos:this.props.playerProps.RawYPos,width:this.props.playerProps.width*e,height:this.props.playerProps.height*e}});return this.zoomImage=s.render(t,this.presentationCanvas),this.zoomImage},onPositioned:function(){var e=this.zoomImage;null!=e&&e.isVisible()&&this.htmlReady(this.renderZoomImage)},onClick:function(){u.isMobileAndNotPreview||this.zoom()}});return p}),define("views/presentation/WebObjectSlideObject",["require","lodash","views/mixins/baseView","react","views/mixins/propertizable","helpers/assetManager","helpers/errorManager","helpers/vow","helpers/events","helpers/actions","helpers/appState","helpers/pubSub","helpers/PostMessaging"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=(e("views/mixins/propertizable"),e("helpers/assetManager")),s=e("helpers/errorManager"),r=e("helpers/vow"),o=e("helpers/events"),a=e("helpers/actions"),l=e("helpers/appState"),u=(e("helpers/pubSub"),e("helpers/PostMessaging")),c=s.throwError("WebObjectSlideObject"),h=function(e){return function(t){return t.eventName===e}},p=i.createClass({displayName:"WebObjectSlideObject",mixins:[t],subscriptions:function(){var e={};return e[o.volume.CHANGED]="onVolumeChanged",e}(),shortEvents:{model:function(){var e={trueVisibilityChanged:"toggleLoad"};return e[a.TRIGGER_WEBOBJECT_CLIENT_EVENT]="onTriggerClientEvent",e}()},getInitialState:function(){return{thumbVisible:!0,url:""}},prepareImageUrl:function(){var e=this.props.model.get("thumbAssetId"),t=n.getAssetUrl(e);return t},checkIsEngage:function(){return"EN13"===this.props.model.get("objtype")},componentWillMount:function(){this.isEngage=this.checkIsEngage(),this.imageUrl=this.prepareImageUrl(),this.clientReady=new r.Deferred,this.clientReady.done(function(e){this.onVolumeChanged(l.currentVolume())}.bind(this)),this.isEngage||this.clientReady.reject()},componentWillUnmount:function(){var e=this.refs.iframe;e.src="",this.resetSubscriptions(),null!=this.postMessaging&&this.postMessaging.tearDown()},showThumb:function(){return"onclick"===this.props.model.get("loadtype")&&this.state.thumbVisible},showContent:function(){this.setState({thumbVisible:!1})},getUrl:function(){var e=this.props.model.get("html5Url");return this.isEngage&&(e+=["?wo=1&id=",this.props.model.id].join("")),e},getResumeData:function(){var e=this.props.model.variables().findWhere({name:"_remotedata"});return e.value()},setResumeData:function(e){var t=this.props.model.variables().findWhere({name:"_remotedata"});t.value(e),this.props.model.getClosestAncestorByKind("slide").prepareResumeData({retainState:!0})},triggerHostEvent:function(e){this.props.model.executeFilteredPlayerEvent(h(e),"onclientevent")},toggleLoad:function(e){e?this.setState({url:this.getUrl()}):this.setState({url:""})},onIframeLoad:function(){if(this.isEngage){this.refs.iframe.contentWindow;this.postMessaging=new u(this,this.props.model.id),this.postMessaging.ready().then(this.clientReady.resolve)}},onTriggerClientEvent:function(e){this.postMessaging.request("executeFilteredPlayerEvent",e.eventName).fail(c.bind(this,"onTriggerClientEvent","Cannot trigger web object client event"))},onVolumeChanged:function(e){this.postMessaging.request("setVolume",e).fail(c.bind(this,"setVolume","Cannot set volume"))}});return p}),define("models/presentation/Variable",["require","lodash","helpers/constants","helpers/events","helpers/actions","models/BaseModel","helpers/pubSub","mixins/actionable","helpers/errorManager","helpers/resolver","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("helpers/events"),s=e("helpers/actions"),r=e("models/BaseModel"),o=e("helpers/pubSub"),a=e("mixins/actionable"),l=e("helpers/errorManager"),u=e("helpers/resolver"),c=e("helpers/resume/Chunk"),h=l.throwError("Variable"),p=l.backtick,d="Invalid adjustment operator",f="^",m={"^":"^0","&":"^1","'":"^2","+":"^3","\n":"^4","\r":"^5","?":"^6",",":"^7","%":"^8","\\":"^9",'"':"^A","‘":"^B","’":"^C","“":"^D","”":"^E"},g=t.invert(m),v=function(e,i){return t.reduce(e,function(e,t,i){return e.split(i).join(t)},i.toString())},y=t.partial(v,m),b=t.partial(v,g),w=function(e){return parseFloat(e.toPrecision(7))},S={add:function(e,t){return w(parseFloat(e)+parseFloat(t))},sub:function(e,t){return w(parseFloat(e)-parseFloat(t))},mult:function(e,t){return w(parseFloat(e)*parseFloat(t))},div:function(e,t){return w(parseFloat(e)/parseFloat(t))},set:function(e,t){return t},toggle:function(e){return!e}};S.addStrings=function(e,t){return[e,t].join("")};var x=function(e,t){return null!=e.value?u.getRef(e.value,t.context,t):u.resolvePath(e.variable,t.context)},T=r.extend({isVar:!0,idAttribute:"name",mixins:[a],shorthand:["value","name","type","resume"],shortEvents:{self:function(){var e={};return e[s.ADJUST_VAR]="adjust",e}()},playerPropNames:{InitValue:null},initialize:function(){this.isRandomValue()&&this.value(this.getRandom(this.value())),this.initValue=this.value()},hasInitValue:function(){return this.initValue===this.value()},getOperator:function(e){return"add"===e&&this.isString()?"addStrings":e},adjust:function(e,t){var i,n=x(e,t),s=this.getOperator(e.operator);return S[s]||h("adjust",d,p(s)),this.isRandomValue(n)&&(n=this.getRandom(n)),i=S[s](this.value(),n),this.changeValue(i,e),this},changeValue:function(e,t){var i=this.value();i!==e&&(this.value(e,{relatedAction:t}),o.trigger(n.variable.CHANGED,this.absoluteId,e,i))},getEncodedString:function(e){return e=e||this.value(),this.hasInitValue()?f:y(e)},decodeAndSetValue:function(e){return e!==f&&this.value(b(e),{silent:!0}),this},getEncodedValue:function(){var e=this.isString()?this.getEncodedString.bind(this):c.toSignedString64;
return c.create(e(this.value()))},setEncodedValue:function(e){return this.isString()?this.decodeAndSetValue(e):this.value(c.fromSignedString64(e),{silent:!0}),this},resetValue:function(){this.wipe()},wipe:function(){this.value(this.initValue,{silent:!0}),this.trigger(n.variable.REFRESH_VIEW)},isRandomValue:function(e){return null==e&&(e=this.value()),this.isNumber()&&u.isRandomToken(e)},getRandom:function(e){var i,n,s,r=e;return t.isString(e)&&(i=e.split("|"),"RAND"===i[0]&&(n=parseInt(i[1],10),s=parseInt(i[2],10)+1,r=Math.floor(Math.random()*(s-n))+n)),r}}),E=T.prototype;return E.isString=t.partial(E.isType,i.varTypes.STRING),E.isBoolean=t.partial(E.isType,i.varTypes.BOOL),E.isNumber=t.partial(E.isType,i.varTypes.NUM),T}),define("models/presentation/helpers/utils",["require","lodash","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils")),i={isResumable:function(e){return e.shouldResume?e.shouldResume():!(!e.resume||!e.resume())},getResumeableFilter:function(e){return e?t.alwaysTrue:this.isResumable},meetConditionOrReturn:function(e,t,i){return t.call(e)?e.getResumeData():i}};return i}),define("collections/presentation/Variables",["require","lodash","collections/BaseCollection","models/presentation/Variable","helpers/events","models/presentation/helpers/utils","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("collections/BaseCollection"),n=e("models/presentation/Variable"),s=e("helpers/events"),r=e("models/presentation/helpers/utils"),o=e("helpers/resume/Chunk"),a=i.extend({model:n,subscriptions:function(){var e={};return e[s.player.RESET]="resetValues",e}(),initialize:function(){this.getResumeDataOrReturn=t.partial(r.meetConditionOrReturn,this,this.shouldGetResumeData)},addVariable:function(e,i){return this.push(t.extend({},{resume:!0},e),{parent:i})},resetValues:function(){this.invoke("resetValue")},shouldGetResumeData:function(){return this.filter(r.isResumable).some(function(e){return!e.hasInitValue()})},getResumeData:function(){this.booleans=[];var e=this.filter(r.isResumable).reduce(this.encodeVariable.bind(this),"");return o.create(this.encodeBooleans())+e},encodeVariable:function(e,t){return t.isBoolean()?this.booleans.push(t.value()):e+=t.getEncodedValue(),e},encodeBooleans:function(e){for(var t,i,n,s="";this.booleans.length;)i=1,t=this.booleans.splice(0,6),n=t.reduce(function(e,t){return e+=t*i,i*=2,e},0),s+=o.toUnsignedString64(n);return s},setResumeData:function(e){var t="";if(e.length>0){var i=new o({fullString:e}),n=this.convertBoolStringToArray(i.encodedString()),s=this.filter(r.isResumable);t=i.remainder(),s.forEach(function(e){e.isBoolean()?e.value(n.shift(),{silent:!0}):(i=i.reChunk(),e.setEncodedValue(i.encodedString()),t=i.remainder())})}return t},convertBoolStringToArray:function(e){var t=e.split("");return t.reduce(function(e,t){for(var i=o.fromUnsignedString64(t),n=1;32>=n;)e.push(!!(i&n)),n*=2;return e},[])}});return a}),define("collections/presentation/Animations",["require","collections/BaseCollection","models/presentation/Animation"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Animation"),n=t.extend({model:i});return n}),define("models/presentation/mixins/propertizable",["require","lodash","helpers/utils","helpers/events","helpers/constants","backbone"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/events"),s=e("helpers/constants"),r=e("backbone"),o=function(e){return e[s.PLAYER_PROPS_KEYPATH]},a=function(e,t){return e[s.PLAYER_PROPS_KEYPATH].set(t),e},l=function(e){var t=new r.Model;e[s.PLAYER_PROPS_KEYPATH]=t},u={init:function(){this.variableMap={},l(this),this.createVariableProps().createPlayerProps(),this.once(n.data.UPDATED,this.createPlayerProps.bind(this))},getStaticPlayerProps:function(){return{Id:this.id,AbsoluteId:this.absoluteId&&i.stripPlayer(this.absoluteId),parent:this.parent}},isVariableProp:function(e){return this.variableProps?t.has(this.variableProps,e):void 0},getVariableProp:function(e){return this.variableMap[e]},createVariableProps:function(){var e={};return this.variableProps&&(this.variableMap=t.reduce(this.variableProps,function(t,i,n){return t[n]=this.variables().addVariable({name:n,type:i.type,value:i.value,resume:null!=i.resume?i.resume:!0},this),e[n]=i.value,t}.bind(this),{}),this.variableProps=e),this},createPlayerProps:function(e,i){i=i||{};var n=t.extend({},this.getStaticPlayerProps(),this.getTransformedPropsObj(),e?{}:this.decodedResumeData);return a(this,t.omit(n,i)),o(this)},prop:function(e,i){var n=void 0===i&&!t.isObject(e),s=o(this);if(n)return s.get(e);if(s.set(e,i),this.isVariableProp(e)){var r=this.getVariableProp(e);r.value(i)}return this},getPlayerProps:function(){return o(this)},getVariableProps:function(){var e=this.variableProps||{};return t.forEach(e,function(t,i){if(this.isVariableProp(i)){var n=this.getVariableProp(i);n&&(e[i]=n.value())}}.bind(this))},getTransformedPropsObj:function(){var e=this.playerPropNames||{},i=t.omit(e,"model"),n=t.transform(e.model,function(e,t,i){e[i]=this.get(t)}.bind(this));return t.extend(i,n,this.getVariableProps())},hasOwnPlayerProp:function(e){return o(this).has(e)},prepareResumeData:function(e){return e=e||{},this.onBeforeResumeBuilt(e),t.isFunction(this.buildResumeData)&&this.buildResumeData(e.force),e.skipPostBuild||this.onAfterResumeBuilt(e.retainState),this},resetProps:function(){this.createPlayerProps(!0)},resetPropsExcept:function(e){this.createPlayerProps(!0,e)},getPlayerPropsRaw:function(){return this.getPlayerProps().toJSON()},onAfterResumeBuilt:t.noop,onBeforeResumeBuilt:t.noop};return u}),define("models/presentation/mixins/eventable",["require","lodash","helpers/utils","helpers/actionManager","helpers/errorManager","helpers/Iterable"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/actionManager"),s=e("helpers/errorManager"),r=e("helpers/Iterable"),o=s.throwError("eventable"),a={isEventable:!0,hasEvent:function(e){return this.getEvents(e).length>0},getEvents:function(e){var i=this.events()||[];return i&&t.union(t.where(i,{kind:e}),t.where(i,{eventname:e}))},getFilteredPlayerEvent:function(e,i,n){var s=this.getEvents(i);return 0===s.length?{events:r.empty,data:n}:(n&&!t.isObject(n)&&o("executeFilteredPlayerEvent","data supplied must be an object"),n=t.extend(n||{},{context:this.getClosestEventTarget(),eventType:i}),{events:new r(s).filter(e),data:n})},executeFilteredPlayerEvent:function(e,t,i){var s=this.getFilteredPlayerEvent(e,t,i),r=function(e){null!=e.actions&&n.executeActions(e.actions,s.data)};return s.events.forEach(r),this},traceFilteredPlayerEvent:function(e,t,i){var s=this.getFilteredPlayerEvent(e,t,i);return s.events.map(function(e){return n.traceActions(e.actions,s.data)}).flatten()}};return t.extend(a,{executePlayerEvent:t.partial(a.executeFilteredPlayerEvent,i.alwaysTrue),tracePlayerEvent:t.partial(a.traceFilteredPlayerEvent,i.alwaysTrue)}),a}),define("mixins/varPropListenable",["require","lodash","helpers/resolver","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resolver"),n=e("helpers/errorManager"),s=(n.throwError("varPropListenable"),n.backtick,function(e,t){return t.kind===e}),r=t.partial(s,"onvarchanged"),o=t.partial(s,"onpropchanged"),a=function(e){return["change",e].join(":")},l=function(e,n){return t.invoke(n,function(){var t=this,n=a("value"),s=i.resolvePath(t.varname,e),r=function(){e.executeFilteredPlayerEvent(function(e){return e===t},"onvarchanged")};return null!=s&&e.listenTo(s,n,r),{listener:e,obj:s,event:n,callback:r}})},u=function(e,n){return t.invoke(n,function(){var t=this,n=i.resolvePath(t.objRef,e),s=t.propname,r=n.prop(s),o=a(s),l=n.getPlayerProps(),u=function(){window.requestAnimationFrame(function(){r!==n.prop(s)&&(r=n.prop(s),e.executeFilteredPlayerEvent(function(e){return e===t},"onpropchanged"))})};return e.listenTo(l,o,u),{listener:e,obj:l,event:o,callback:u}})},c={setVarAndPropListeners:function(){var e=this.events();return[].concat(l(this,t.sortBy(e.filter(r),"priority").reverse()),u(this,t.sortBy(e.filter(o),"priority").reverse()))}};return c}),define("models/presentation/mixins/resumables/slideObjectResumable",["require","lodash","helpers/resume/Chunk","helpers/events","helpers/keyManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resume/Chunk"),n=e("helpers/events"),s=e("helpers/keyManager"),r={STATE:1,VARIABLE:2,ON_STAGE:4,DRAG_DROP:8,USE_ANIMATION:16,DEPTH:32,SHUFFLED:64,ACTION_MOVED:128,ACTION_CONTROLLED:256,DISABLED:512,REVIEW:1024,MOUSE_OVER:2048,HIDDEN_BY_LAYER:4096},o={POSITION:1,SCALE:2,ROTATION:4,ALPHA:8,COLOR:16},a=4094,l=a+1,u=function(e){return!!e.isBaseLayer},c=function(e,t){var i=e.slice(0,t);return e=e.slice(t),{data:e,substr:i}},h=function(e,t,n){var s=n===!0?"fromUnsignedString64":"fromSignedString64";return i[s](e(t))},p={resetResume:function(){this.encodedResumeData="",this.setDecodedResumeDataObj(),this.resetObjectBeforeResume()},getResumeData:function(){return this.encodedResumeData||""},getFullResumeData:function(e){return this.buildResumeData(e).getResumeData()},buildResumeData:function(e){var t,n=0,s="",o=this.prop("DragConnected");return(this.shouldResume()||e)&&(this.isInDefaultState()||(n+=r.STATE,s+=i.toUnsignedString64(this.getCurrentStateIndex(),2)),this.isDraggable()&&o&&(n+=r.DRAG_DROP,s+=i.toUnsignedString64(o.prop("slideIndex"),2),s+=i.toUnsignedString64(this.prop("DropIndex"),1)),this.isAtNewDepth()&&(n+=r.DEPTH,s+=i.toSignedString64(this.prop("depth"),2)),this.isShuffled()&&(n+=r.SHUFFLED,s+=i.toSignedString64(this.prop("ShuffleXPos"),2),s+=i.toSignedString64(this.prop("ShuffleYPos"),2),s+=i.toUnsignedString64(this.prop("tabIndex"),2)),n+=this.prop("OnStage")*r.ON_STAGE,n+=this.prop("Moved")*r.ACTION_MOVED,n+=this.prop("ReviewMode")*r.REVIEW,n+=this.prop("HiddenByLayer")*r.HIDDEN_BY_LAYER,n+=this.prop("MouseOver")*r.MOUSE_OVER,n+=!this.prop("Enabled")*r.DISABLED,n+=!this.prop("TimelineControlled")*r.ACTION_CONTROLLED,t=this.variables().getResumeDataOrReturn(!1),t&&(n+=r.VARIABLE,s+=t),this.hasAnimated()&&(n+=r.USE_ANIMATION,this.animationStateData=this.currView.getAnimationResumeState(),this.trigger("addanimationdata",this.collectAnimationResumeData.bind(this)),this.buildAnimationResumeData(this.animationStateData),s+=this.getAnimationResumeData())),this.encodedResumeData=i.toUnsignedString64(n,3)+s,this},getAnimationResumeData:function(e){return i.create(this.animationResumeData)},collectAnimationResumeData:function(e){this.animationStateData=t.extend(this.animationStateData,e)},buildAnimationResumeData:function(e){var t=this.getInitParentContainer(),n=this.getParentContainer(),s=n!==t,r=a,u=0;this.animationResumeData="",(s||this.isScaled()||this.isRotated()||this.isInNewPosition())&&(u+=o.POSITION,this.animationResumeData+=i.toSignedString64(Math.round(e.RawXPos),2),this.animationResumeData+=i.toSignedString64(Math.round(e.RawYPos),2),s&&(r=n.isSlideLayer?l:n.prop("slideIndex")),this.animationResumeData+=i.toUnsignedString64(r,2),this.isScaled()&&(u+=o.SCALE,this.animationResumeData+=i.toSignedString64(e.ScaleX,2),this.animationResumeData+=i.toSignedString64(e.ScaleY,2)),this.isRotated()&&(u+=o.ROTATION,this.animationResumeData+=i.toSignedString64(e.Rotation,2))),this.isAlphaed()&&(u+=o.ALPHA,this.animationResumeData+=i.toUnsignedString64(e.Alpha,2)),u>0&&(this.animationResumeData=i.toUnsignedString64(u,1)+this.animationResumeData)},setDecodedResumeDataObj:function(){this.decodedResumeData={}},setDecodedResumeProp:function(e,i){var n={};t.isObject(e)?n=e:n[e]=i,t.extend(this.decodedResumeData,n)},forceUpdateResume:function(){this.prop(this.decodedResumeData||{})},setResumeData:function(e){if(this.setDecodedResumeDataObj(),t.isEmpty(e))return this;var i,n,o,a,l,p=function(t){var i=c(e,t);return e=i.data,i.substr},d=t.partial(h,p),f=d(3,!0);return f&r.STATE?this.setDecodedResumeProp("ObjectState",this.getStateFromIndex(d(2))):this.setDecodedResumeProp("ObjectState","_default"),f&r.DRAG_DROP&&(i=d(2),this.setDecodedResumeProp("DropIndex",d(1)),n=this.getClosestAncestor(u).getObjectByIndex(i),this.setDecodedResumeProp("DragConnected",n),this.setDecodedResumeProp("DropTargetId",n.id)),f&r.DEPTH&&this.setDecodedResumeProp("depth",d(2)),f&r.SHUFFLED&&(o=d(2),a=d(2),l=d(2,!0),this.prop("tabIndex",l),this.currView.idx=l,s.addItem(this.currView,!1,null,!0),this.setDecodedResumeProp({ShuffleXPos:o,RawXPos:o,ShuffleYPos:a,RawYPos:a})),this.setDecodedResumeProp({Moved:!!(f&r.ACTION_MOVED),TimelineControlled:!(f&r.ACTION_CONTROLLED),Enabled:!(f&r.DISABLED),ReviewMode:!!(f&r.REVIEW),MouseOver:!!(f&r.MOUSE_OVER)}),f&r.VARIABLE&&(e=this.variables().setResumeData(e),this.setDecodedResumeProp(this.getVariableProps())),f&r.USE_ANIMATION&&this.setAnimationResumeData(e),this.setDecodedResumeProp("OnStage",!!(f&r.ON_STAGE)),this.prop(this.decodedResumeData),this},setAnimationResumeData:function(e){var n,s,r,p,d={},f=new i({fullString:e}),m=f.encodedString(),g=function(e){var t=c(m,e);return m=t.data,t.substr},v=t.partial(h,g);return m.length&&(n=i.fromUnsignedString64(g(1)),n&o.POSITION&&(d.RawXPos=v(2),d.RawYPos=v(2),s=v(2,!0),s!==a&&(r=this.getClosestAncestor(u),p=s===l?r:r.getObjectByIndex(s),this.reparentChild(p))),n&o.SCALE&&(d.ScaleX=v(2),d.ScaleY=v(2)),n&o.ROTATION&&(d.Rotation=v(2)),n&o.ALPHA&&(d.Alpha=v(2,!0)),this.setDecodedResumeProp(d)),f.remainder()},setResumeDataLimited:function(e){var i=function(t){var i=c(e,t);return e=i.data,i.substr},n=t.partial(h,i),s=n(3,!0);return s&r.STATE&&this.setStateFromIndex(n(2)),s&r.VARIABLE?(s&r.DRAG_DROP&&i(3),s&r.DEPTH&&i(2),s&r.SHUFFLED&&i(4),this.variables().setResumeData(e),this):void 0},resetObjectBeforeResume:function(e){this.isKind("shufflegroup")?this.markAsReset():(this.variables().resetValues(),e||(this.trigger(n.resume.RESET),this.animations().length>0&&this.trigger("killAnimations"),this.resetPropsExcept("updateGifOnShow")))},onBeforeResumeBuilt:function(e){this.objects&&this.objects().invoke("prepareResumeData",e)},onAfterResumeBuilt:function(e){e||this.prop("updateGifOnShow",!0)},shouldResume:function(){return this.resume()&&!this.isKind("shufflegroup")&&this.getClosestAncestor(u).shouldResume()}};return p}),define("models/presentation/SlideObject",["require","lodash","helpers/utils","helpers/constants","helpers/events","helpers/actions","helpers/vow","helpers/resolver","helpers/svg/svgManager","models/BaseModel","collections/BaseCollection","collections/presentation/Variables","collections/presentation/TextLib","collections/presentation/Animations","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/eventable","mixins/varPropListenable","models/presentation/mixins/resumables/slideObjectResumable","helpers/resume/Chunk","helpers/actionManager","helpers/pubSub","helpers/svg/imageHelper"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/utils"),e("helpers/constants")),n=e("helpers/events"),s=e("helpers/actions"),r=(e("helpers/vow"),e("helpers/resolver")),o=(e("helpers/svg/svgManager"),e("models/BaseModel")),a=(e("collections/BaseCollection"),e("collections/presentation/Variables")),l=e("collections/presentation/TextLib"),u=e("collections/presentation/Animations"),c=e("mixins/actionable"),h=e("models/presentation/mixins/propertizable"),p=e("models/presentation/mixins/eventable"),d=e("mixins/varPropListenable"),f=e("models/presentation/mixins/resumables/slideObjectResumable"),m=(e("helpers/resume/Chunk"),e("helpers/actionManager")),g=e("helpers/pubSub"),v=e("helpers/svg/imageHelper"),y="_default",b="custom",w=/hotspot.*marker/,S=/tooltip/,x=/value":"[^,]*_tooltip/,T=/(Incorrect|Correct)Review/,E=1e3,C={webobject:[{name:"_remotedata",type:i.varTypes.STRING,value:""}]},A=o.extend({mixins:[c,p,f,h,d],resolveables:["variables","actionGroups"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0,groupObjects:!1},associations:{variables:a,textLib:l,animations:u},shorthand:["kind","data","states","alpha","xPos","yPos","rotateXPos","rotateYPos","rotation","width","height","imagelib","dragdrop","dragrotation","dragpath","resume","depth","scaleX","scaleY","xOffset","yOffset","events","actionGroups"],playerPropNames:{DragOverId:null,DropTargetId:null,LastKeyAlt:!1,LastKeyCode:-1,LastKeyShift:!1,LastKeyCtrl:!1,LastKeyValue:null,Moved:null,ReviewMode:null,Text:null,Expanded:!1,DragConnectData:"",SelectedItemData:"",TimelineControlled:!0,DragConnected:!1,Enabled:!0,MouseOver:!1,ObjectState:y,OnStage:!1,HiddenByLayer:!1,updateGifOnShow:!1,model:{Alpha:"alpha",depth:"depth",height:"height",InitXPos:"xPos",InitYPos:"yPos",InitDepth:"depth",nXPos:"xPos",nYPos:"yPos",RawXPos:"xPos",RawYPos:"yPos",rotateXPos:"rotateXPos",rotateYPos:"rotateYPos",Rotation:"rotation",ScaleX:"scaleX",ScaleY:"scaleY",ShuffleXPos:"xPos",ShuffleYPos:"yPos",tabIndex:"tabIndex",width:"width"}},subscriptions:function(){var e={};return e[n.player.RESET]="onPlayerReset",e}(),shortEvents:{self:function(){var e={"change:xPos change:yPos":"onPositionUpdate"};return e[s.SHOW]="show",e[s.HIDE]="hide",e[s.SET_OBJ_STATE]="setState",e[s.BRING_TO_FRONT]="bringToFront",e[s.SET_ENABLED]="setEnabled",e[s.STORE_RESUME_DATA]="storeResumeData",e[s.RESTORE_RESUME_STATE]="restoreResumeState",e[s.GET_MOUSE_POSITION]="getMousePosition",e[s.MOVE_TO]="moveTo",e[s.SET_REVIEW]="setReview",e}()},isSlideObject:!0,initialize:function(){this.addExtraVariables().setupToggleVisibilityState(),this.getLayer().once(n.data.UPDATED,this.bindTimelineEvents.bind(this)),this.hiderParents=[],this.showFns=[],this.containsGif=v.containsGif(this.imagelib())},shouldUpdateGif:function(){if(!this.containsGif)return!1;var e=this.prop("updateGifOnShow"),t=this.prop("OnStage");return t&&this.prop("updateGifOnShow",!1),e&&t},addExtraVariables:function(){var e=C[this.kind()]||[];return e.forEach(function(e){this.variables().addVariable(e)}.bind(this)),this},bindTimelineEvents:function(){var e=this.getLayer().timeline();this.listenTo(e,n.timeline.BEFORE_SEEK_UPDATE,this.onBeforeSeekUpdate.bind(this)),this.listenTo(e,n.timeline.AFTER_SEEK_UPDATE,this.onAfterSeekUpdate.bind(this))},isInDefaultState:function(){return this.prop("ObjectState")===y},isDraggable:function(){return!(!this.dragdrop()||!this.dragdrop().dragenabled)},isDroppable:function(){return!(!this.dragdrop()||!this.dragdrop().dropenabled&&!this.dragdrop().dragoverenabled)},isSlideable:function(){return!!this.dragpath()},isZoomable:function(){return!!this.get("zoomdata")},isWebObject:function(){return this.isKind("webobject")},isTweenable:function(){return!(!this.animations()||this.animations().isEmpty())},isAtNewDepth:function(){return this.depth()!==this.prop("depth")},isShuffled:function(){return this.xPos()!==this.prop("ShuffleXPos")||this.yPos()!==this.prop("ShuffleYPos")},isScaled:function(){return this.scaleX()!==this.prop("ScaleX")||this.scaleY()!==this.prop("ScaleY")},isRotated:function(){return this.rotation()!==this.prop("Rotation")},isAlphaed:function(){return this.alpha()!==this.prop("Alpha")},isInNewPosition:function(){return this.prop("ShuffleXPos")!==this.prop("RawXPos")||this.prop("ShuffleYPos")!==this.prop("RawYPos")},isHotSpotMarker:function(){return w.test(this.id)},isToolTip:function(){return S.test(this.id)},isCorrectIncorrectReview:function(){return T.test(this.id)},isObscurableBySelf:function(){if(this.isStateGroupSlideObject)return!1;var e,i,n,s=t.findWhere(this.events(),{kind:"onrollover"});return s&&(e=JSON.stringify(s.actions),i=-1!==e.indexOf('kind":"show'),n=x.test(e)),i&&!n},isRotatable:function(){return null!=this.dragrotation()},hasAnimated:function(){return this.isRotated()||this.isAlphaed()||this.isScaled()||this.isInNewPosition()},getPathRef:function(){return this.getCurrentStateData().vectorData.pr},getPathLib:function(){return this.getPathRef().l},commandsetId:function(){return this.getPathRef().i},getRelativeId:function(){if(null!=this.relativeId)return this.relativeId;var e=this.getLayer(),t=e.parent;return e=e.isBaseLayer()?t:e,this.relativeId=this.absoluteId.substr(e.absoluteId.length+1)},getHitType:function(){var e;return null!=this.hitType?this.hitType:(e=this.isVectorShape()?i.SVG_HIT:this.isGroupingSlideObject&&!this.isKind("scrollarea")?i.GROUP_HIT:i.RECT_HIT,this.hitType=e)},getStateFromVar:function(){return t.findWhere(this.states(),{name:this.prop("ObjectState")})},getStateFromName:function(e){return t.findWhere(this.states(),{name:e})},getStateFromIndex:function(e){return this.states()[e].name},getCurrentStateIndex:function(){return this.states().indexOf(this.getStateFromVar())},getCurrentStateData:function(){return this.isInDefaultState()?this.data():this.getStateFromVar().data},getPosition:function(){return{top:this.prop("RawYPos"),left:this.prop("RawXPos")}},getShapeMask:function(){var e=this.get("shapemaskId");return t.isEmpty(e)?null:r.resolvePath(e,this)},fixZeroBoundsMetrics:function(e){return 0!==e.strokewidth||0!==e.width&&0!==e.height||(e.strokewidth=.5),e},getCurrentStateMetrics:function(){var e=(this.getCurrentStateData()||{}).html5data,i={xPos:0,yPos:0,width:this.get("width"),height:this.get("height"),strokewidth:0};return this.fixZeroBoundsMetrics(t.extend(i,e))},getBounds:function(){var e=this.getCurrentStateMetrics(),i=e.strokewidth,n=2*i;return e.strokewidth*=2,t.extend(e,{fullX:Math.ceil(e.xPos-i),fullY:Math.ceil(e.yPos-i),fullWidth:e.width+n,fullHeight:e.height+n})},getSlide:function(){return this.getClosestAncestor(function(e){return!!e.isSlide})},getLayer:function(){return this.getClosestAncestor(function(e){return null!=e.isBaseLayer})},moveTo:function(e,t){var i,n,s=r.getRef(e.xOffset,t.context),o=r.getRef(e.yOffset,t.context),a=r.getRef(e.xPos,t.context),l=r.getRef(e.yPos,t.context);s=e.addoffsetx?s:-s,o=e.addoffsety?o:-o,i=a+s,n=l+o,this.trigger("moveTo",i,n)},getMousePosition:function(e){this.trigger("getMousePosition",e)},setState:function(e,t){var i=r.getRef(e.stateRef,t.context,t);return this.prop("ObjectState",i),this},setReview:function(e){this.prop("ReviewMode",e.enabled.value),this.trigger("setReview",e.enabled.value)},setStateFromIndex:function(e){this.prop("ObjectState",this.getStateFromIndex(e))},setEnabled:function(e){this.prop("Enabled",e.enabled.value)},setSlideIndex:function(e){this.prop("slideIndex",e)},bringToFront:function(e){this.prop("depth",E++)},setHiddenByLayer:function(e,i){e?this.hiderParents=t.without(this.hiderParents,i):this.hiderParents=t(this.hiderParents).push(i).uniq().value(),this.prop("HiddenByLayer",this.hiderParents.length>0),this.currView.updateTrueVisibility()},adjustVariables:function(){var e=t.toArray(arguments);e.forEach(function(e){this.adjustVariable(e.name,e.value)}.bind(this))},adjustVariable:function(e,t){var i=this.getClosestParentRef(),n={kind:"adjustvar",variable:e,operator:"set",value:{type:"number",value:t}};m.executeAction(n,{context:this}),i.executePlayerEvent("onvarchanged")},getInitParentContainer:function(){return this.parent.isKind("shufflegroup")?this.parent.parent:this.parent},getParentContainer:function(){var e=this.getInitParentContainer();return null!=e.getChildParent?e.getChildParent(this):e},reparentChild:function(e){var t=this.getInitParentContainer();null!=t.reparentChild&&t.reparentChild(this,e)},reattachChild:function(){var e=this.getInitParentContainer();null!=e.reattachChild&&e.reattachChild(this)},storeResumeData:function(e,t){var i=r.resolvePath(e.varref,t.context);i.value(this.getFullResumeData(!0))},restoreResumeState:function(e,t){var i=r.resolvePath(e.varref,t.context),n=e.limited,s=n?"setResumeDataLimited":"setResumeData";this.resetObjectBeforeResume(n),this[s](i.value()).forceUpdateResume()},resetForSeek:function(){this.trigger("clearAnimations"),this.resetPropsExcept(["Enabled","ReviewMode","HiddenByLayer","depth","updateGifOnShow","ShuffleXPos","ShuffleYPos"]),this.prop({RawXPos:this.prop("ShuffleXPos"),RawYPos:this.prop("ShuffleYPos")}),null!=this.currView&&this.currView.applyStylesDirectly()},onBeforeSeekUpdate:function(){this.prop("TimelineControlled")&&this.prop("OnStage")&&(this.shouldHideOnSeek=!0,this.resetForSeek())},onAfterSeekUpdate:function(){this.shouldHideOnSeek&&(this.hiding=!1,this.prop("updateGifOnShow",!0),this.trigger("hide"))},setupToggleVisibilityState:function(){this.hideShowState=null},toggleVisibility:function(e,t,i,s){var r=function(){i=i||{},s=s||{};var n,r=this.prop("OnStage"),o=this.prop("TimelineControlled"),a="show"===e,l=!!s.isSeekAction,u=null!=i&&i.transition===b,c=a?"shown":"hidden",h=function(){a||(this.hiding=!1,this.prop("OnStage",!1)),this.trigger(c),this.executePlayerEvent(t+"complete")}.bind(this),p=(i.animationId+s.time,function(){n=this.animations().get(i.animationId),this.trigger(e+b,a,s,n,h)}.bind(this)),d=null!=s.timelineLabel;if(this.shouldHideOnSeek=this.shouldHideOnSeek&&!a,(!a&&!d||l&&0===s.currentTime)&&this.prop("updateGifOnShow",!0),!o&&d&&a&&l&&(s.beforeSeekTime<s.time||s.time===s.currentTime))this.resetForSeek();else if(!a&&!r||a&&r&&!this.hiding||l&&!o&&s.beforeSeekTime>s.time)return;this.hideShowState=i.kind,this.prop("TimelineControlled",d),this.trigger(e),a?this.prop("OnStage",!0):this.hiding=!0,this.executePlayerEvent(t),u?p():h()}.bind(this);return g.trigger(n.layer.RESOLVED_OBJECT_VISIBILITY),null!=this.currView?r():(this.showFns||(this.showFns=[]),this.showFns.push(r)),this},onTweenUpdate:function(e){this.trigger(n.tween.UPDATE,e)},onPlayerReset:function(){this.containsGif&&this.prop("updateGifOnShow",!0)},killMounted:function(){return this.resetSubscriptions(),this},killEverything:function(){return this.off(),this}}),P=A.prototype;return P.show=t.partial(P.toggleVisibility,"show","ontransitionin"),P.hide=t.partial(P.toggleVisibility,"hide","ontransitionout"),P.isVectorShape=t.partial(P.isKind,"vectorshape"),A}),define("views/presentation/mixins/backgroundable",["require","helpers/assetManager"],function(e){"use strict";var t=e("helpers/assetManager"),i={hasVectorBackground:function(){return"vector"===this.getPath("props.model.background.type")},hasImageBackground:function(){return"swf"===this.getPath("props.model.background.type")},getImageBgAssetId:function(){return this.getPath("props.model.background.imagedata.assetId")},getImageBgAsset:function(){return t.getAsset(this.getImageBgAssetId())},getImageBgUrl:function(){return this.getImageBgAsset().url()},getImageBgStyle:function(){var e=this.getImageBgAsset();return{position:"absolute",left:e.mobiledx(),top:e.mobiledy(),height:e.height(),width:e.width()}}};return i}),define("views/presentation/ScrollAreaSlideObject",["require","lodash","views/helpers/dom","models/presentation/SlideObject","views/mixins/baseView","views/presentation/mixins/backgroundable","views/presentation/mixins/slideObjectContainer","react","helpers/svg/svgManager","helpers/utils","views/helpers/transformHelper","polyfills/detection"],function(e){"use strict";var t=(e("lodash"),e("views/helpers/dom")),i=(e("models/presentation/SlideObject"),e("views/mixins/baseView")),n=e("views/presentation/mixins/backgroundable"),s=e("views/presentation/mixins/slideObjectContainer"),r=e("react"),o=(e("helpers/svg/svgManager"),e("helpers/utils"),e("views/helpers/transformHelper")),a=e("polyfills/detection"),l=r.createClass({displayName:"ScrollAreaSlideObject",mixins:[i,n,s],getInitialState:function(){return{shouldNotScroll:!1,contentHeight:10}},componentWillMount:function(){this.listenTo(this.props.model,"updateScrollHeight",this.onUpdateHeight),this.listenTo(this.props.model,"updateScrollPos",this.onUpdatePos)},componentDidMount:function(){this.calcScrolling(),this.updateScrollBar()},onUpdateHeight:function(){this.setState({contentHeight:this.contentheight()}),this.calcScrolling(!0)},shouldUpdate:function(e,t){return t.isVisible!==this.state.isVisible||t.shouldNotScroll!==this.state.shouldNotScroll||t.contentHeight!==this.state.contentHeight},onUpdatePos:function(e){this.props.model.prop("Position",e),o.setMatrixDirty(this.props.parent),this.htmlReady(function(){this.scrollingArea.scrollTop=e,this.updateScrollBar()}.bind(this))},calcScrolling:function(e){var t=this.find(".scrollarea-area"),i=this.contentheight(),n=this.height(),s=n>=i;this.setState({shouldNotScroll:s,contentHeight:i}),this.props.model.prop("Viewed",s),null==e&&this.setupScrollArea(t),null!=this.refs.scrollBar&&this.refs.scrollBar.constrainScroll()},setupScrollArea:function(e){this.scrollingArea=e,this.scrollingArea.addEventListener("scroll",this.onScroll),this.props.model.prop("Position",0)},onScroll:function(){o.setMatrixDirty(this.props.parent),this.props.model.prop("Position",this.scrollingArea.scrollTop);var e=this.scrollingArea.scrollHeight-this.scrollingArea.scrollTop;e<=this.scrollingArea.offsetHeight+5&&this.props.model.prop("Viewed",!0),this.scrollingArea.scrollLeft=0,this.updateScrollBar()},updateScrollBar:function(){null==this.refs.scrollBar||a.isIE()||this.refs.scrollBar.update()},scroll:function(e){if(!this.state.shouldNotScroll){var t=e?10:-10;this.scrollingArea.scrollTop+=t}},treeKeyCallback:function(e,t){return this.scroll(t),!0},beforeChildScrollFocus:function(e){e&&(this.lastScrollTop=this.scrollingArea.scrollTop)},childScrollFocus:function(e){if(e.state.tabFocused===!0){var i=this.find(".scrollarea-area"),n=t.getScrollRecommendation(i,e.el);0!==n&&(i.scrollTop=n)}else this.scrollingArea.scrollTop=this.lastScrollTop;this.scrollingArea.scrollLeft=0,this.refs.contentArea.scrollTop=0,this.refs.contentArea.scrollLeft=0},isTabbable:function(){return!this.state.shouldNotScroll},contentheight:function(){return this.props.model.contentheight()},contentwidth:function(){return this.props.model.contentwidth()},height:function(){return this.props.playerProps.height},width:function(){return this.props.playerProps.width}});return l}),define("helpers/svg/expandingLabelHelper",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=function(){var e=[],i={add:function(t){e=e.concat(t)},addCmd:function(t,i){i.unshift(t),e=e.concat(i)},value:function(){return e}};return i.addM=t.partial(i.addCmd,"M"),i.addL=t.partial(i.addCmd,"L"),i.addQ=t.partial(i.addCmd,"Q"),i},n=function(e){return e.join(" ").replace(/\s?([A-Za-z])?\s/g," $1").trim()},s=function(e){var t=e.radius,i=e.arrowY-e.halfArrowSize;return t>i&&(t=i),t},r={"left-bottom":function(e,t){e.addM([t.width,t.arrowLength])},left:function(e,t){e.addM([t.width,s(t)])},"default":function(e,t){e.addM([t.width,t.radius])}},o={"bottom-left":function(e,t){e.addL([t.width,0,t.width,t.arrowY,t.width-t.arrowLength,0])},"left-bottom":function(e,t){e.addL([t.arrowX,0])},left:function(e,t){e.addQ([t.width,0,t.width-s(t),0])},"default":function(e,t){e.addQ([t.width,0,t.width-t.radius,0])}},a={bottom:function(e,t){e.addL([t.arrowX+t.halfArrowSize,0,t.arrowX,t.arrowY,t.arrowX-t.halfArrowSize,0,t.radius,0])},"bottom-right":function(e,t){e.addL([t.arrowLength,0])},right:function(e,t){e.addL([s(t),0])},"default":function(e,t){e.addL([t.radius,0])}},l={"bottom-right":function(e,t){e.addL([t.arrowLength,0,0,t.arrowY])},"right-bottom":function(e,t){e.addL([t.arrowX,0,0,t.arrowLength])},right:function(e,t){e.addQ([0,0,0,s(t)])},"default":function(e,t){e.addQ([0,0,0,t.radius])}},u={right:function(e,t){e.addL([0,t.arrowY-t.halfArrowSize,t.arrowX,t.arrowY,0,t.arrowY+t.halfArrowSize,0,t.height-s(t)])},"right-top":function(e,t){e.addL([0,t.height-t.arrowLength])},"default":function(e,t){e.addL([0,t.height-t.radius])}},c={"right-top":function(e,t){e.addL([t.arrowX,t.height])},"top-right":function(e,t){e.addL([0,t.arrowY,t.arrowLength,t.height])},right:function(e,t){e.addQ([0,t.height,s(t),t.height])},"default":function(e,t){e.addQ([0,t.height,t.radius,t.height])}},h={top:function(e,t){e.addL([t.arrowX-t.halfArrowSize,t.height,t.arrowX,t.arrowY,t.arrowX+t.halfArrowSize,t.height,t.width-t.radius,t.height])},"top-left":function(e,t){e.addL([t.width-t.arrowLength,t.height])},left:function(e,t){e.addL([t.width-s(t),t.height])},"default":function(e,t){e.addL([t.width-t.radius,t.height])}},p={"top-left":function(e,t){
e.addL([t.width-t.arrowLength,t.height,t.arrowX,t.arrowY])},"left-top":function(e,t){e.addL([t.arrowX,t.height,t.width,t.height-t.arrowLength])},left:function(e,t){e.addQ([t.width,t.height,t.width,t.height-s(t)])},"default":function(e,t){e.addQ([t.width,t.height,t.width,t.height-t.radius])}},d={left:function(e,t){e.addL([t.width,t.arrowY+t.halfArrowSize,t.arrowX,t.arrowY,t.width,t.arrowY-t.halfArrowSize]),e.add(["Z"])},"default":function(e,t){e.add(["Z"])}},f=function(e,i){var n=0;return i=t.map(i,function(t){return isNaN(t)||(n%2===1&&(t+=e),n++),t})},m={arrowLength:null,calcTranslate:function(e,t){var i=0,n=0,s=0,r=0;return 0>e&&(i=-1*e,s=e),0>t&&(n=-1*t,r=t),{x:i,y:n,offX:s,offY:r}},calcArrowLength:function(e,t,i,n){var s;return 0>i&&(s=-1*i),i>e&&(s=i-e),0>n&&(s=-1*n),n>t&&(s=n-t),this.arrowLength=s,s},labelPath:function(e){var t,s=i(),m=e.dir,g=e.top;return e.arrowY-=g,e.arrowLength=this.arrowLength,e.halfArrowSize=this.arrowLength/2,"left"!==m&&"right"!==m||(e.height-=1),[r,o,a,l,u,c,h,p,d].forEach(function(t){(t[m]||t["default"])(s,e)}),t=f(g,s.value()),n(t)}};return m}),define("views/presentation/ExpandingLabelSlideObject",["require","lodash","tween-lite","helpers/utils","views/mixins/baseView","react","helpers/svg/svgManager","views/mixins/propertizable","helpers/svg/expandingLabelHelper","polyfills/detection","helpers/vow","helpers/pubSub","helpers/events","helpers/actions","helpers/svg/svgUtils"],function(e){"use strict";var t=e("lodash"),i=e("tween-lite"),n=e("helpers/utils"),s=e("views/mixins/baseView"),r=e("react"),o=e("helpers/svg/svgManager"),a=(e("views/mixins/propertizable"),e("helpers/svg/expandingLabelHelper")),l=e("polyfills/detection"),u=e("helpers/vow"),c=e("helpers/pubSub"),h=e("helpers/events"),p=e("helpers/actions"),d=(e("helpers/svg/svgUtils"),.3),f=6,m=3,g=r.createClass({completeHook:t.noop,displayName:"ExpandingLabelSlideObject",mixins:[s],shortEvents:{model:function(){var e={};return e[p.OBJECT_ACTION]="onObjectAction",e}()},componentDidMount:function(){this.label=this.find(".expanding-label"),this.content=this.find(".expanding-label-content"),this.content.style.visibility="hidden",this.onShown(this.prepare),this.scrollArea=this.findComponent("ScrollAreaSlideObject")},componentWillUnmount:function(){this.killAllTweens()},componentWillMount:function(){var e=this.props.model;this.prepared=new u.Deferred,this.startHeight=this.props.model.getBounds().height+f+m,this.arrowSize=a.calcArrowLength(this.props.playerProps.width,this.props.playerProps.height,e.get("arrowxpos"),e.get("arrowypos")),this.calcAlignment().calcLabelSize().calcLabelTranslate().calcLabelPos(),this.listenTo(e.getLayer().timeline(),h.timeline.BEFORE_SEEK_UPDATE,this.hideComplete),this.actionConfig={showcomplete:this.showComplete,hidecomplete:this.hideComplete,showtitle:this.showTitle,hidetitle:this.hideTitle,togglecontent:this.toggleContent},l.isMobile&&(this.actionConfig.showtitle=this.showComplete,this.actionConfig.hidetitle=this.hideComplete,this.actionConfig.togglecontent=this.toggleComplete)},svg:function(){return o.getSvgFromData(this.props.model,this)},shouldShowContent:function(){return this.props.playerProps.Expanded},patternFillId:function(){return"pattern-fill-"+this.props.model.id},prepare:function(){var e=this.props.model;i.set(this.label,this.labelPos),this.updateLabel(),i.set(this.el,{scaleX:0,scaleY:0,transformOrigin:[e.get("arrowxpos"),e.get("arrowypos")].map(n.pxify).join(" ")}),this.content.style.visibility="",this.setupTweens(),this.prepared.resolve()},setupTween:function(e){var n=this.tweenedNodes;return n=t(n).push(e.node).compact().uniq().value(),this.tweenedNodes=n,this[e.name]=new i(e.node,e.duration,e.opts),this},setupTweens:function(){var e=[{name:"titleTween",node:this.el,duration:d,opts:{scaleX:1,scaleY:1,onComplete:this.onTitleComplete,paused:!0}},{name:"labelTween",node:this.label,duration:d,opts:{x:0,y:0,height:this.props.playerProps.height,paused:!0,onUpdate:this.updateLabel}},{name:"contentTween",node:this.content,duration:d,opts:{height:this.props.playerProps.height,paused:!0,onComplete:this.onContentComplete,onReverseComplete:this.onContentReverseComplete}}];return this.tweenedNodes=[],e.forEach(n.take(1,this.setupTween)),this},killAllTweens:function(){return null!=this.tweenedNodes&&this.tweenedNodes.forEach(n.take(1,i.killTweensOf)),this},showComplete:function(){return this.prepared.done(function(){this.props.playerProps.Expanded||this.showTitle().done(function(){1===this.currentTween.progress()?this.showContent():this.completeHook=this.showContent}.bind(this))}.bind(this))},hideComplete:function(){return this.prepared.done(function(){this.props.playerProps.Expanded||this.contentTween.isActive()?this.hideContent().done(function(){this.completeHook=this.hideTitle}.bind(this)):(this.currentTween=t.noop,this.hideTitle())}.bind(this))},toggleContent:function(){this.shouldShowContent()?this.hideContent():this.showContent()},toggleComplete:function(){this.props.playerProps.Expanded?this.hideComplete():this.showComplete()},contentWillShow:function(e){return this.completeHook===this.showContent&&"hidecomplete"!==e},wasToggledMultipleTimes:function(e,t){if(l.isMobile){if("onrollout"===t&&"hidecomplete"===e&&"togglecontent"===this.prevCommand)return!0;if("onrollover"===this.prevEventType&&"showcomplete"===this.prevCommand&&"onrollout"===t&&"hidecomplete"===e&&!this.shouldShowContent())return!0}return!1},onObjectAction:function(e,t){var i=e.command,n=t&&t.eventType;this.wasToggledMultipleTimes(i,n)||"togglecontent"!==i&&this.prevCommand===i||(this.prevCommand=i,this.prevEventType=n,this.contentWillShow(i)||this.actionConfig[i]())},triggerObjectEvent:function(e){this.props.model.executeFilteredPlayerEvent(function(t){return t.eventName===e},"onobjectevent")},calcAlignment:function(){var e,i,n=this.props.model,s=n.get("arrowxpos"),r=n.get("arrowypos"),o="",a="",l="";return 0>=r?a="bottom":r>=this.props.playerProps.height&&(a="top"),0>=s?(o="right",0>s&&(e=!0)):s>=this.props.playerProps.width&&(o="left",s>this.props.playerProps.width&&(e=!0)),i=e?[o,a]:[a,o],l=t(i).compact().join("-"),this.alignment=l,this},calcLabelSize:function(){var e=this.arrowSize+2*this.props.model.get("borderwidth");return this.labelSize={width:this.props.playerProps.width+e,height:this.props.playerProps.height+e},this},calcLabelTranslate:function(){var e=a.calcTranslate(this.props.model.get("arrowxpos"),this.props.model.get("arrowypos")),t=this.props.model.get("borderwidth"),i=t%2?.5:0;return e.x+=t+i,e.y+=t+i,e.offX-=t,e.offY-=t,this.labelTranslate=e,this},calcLabelPos:function(){var e=this.props.model,i=this.alignment,n=0,s=0;return"right"===i||"left"===i?s=e.get("arrowypos")-this.startHeight/2:t.contains(i,"top")&&(s=e.get("height")-this.startHeight),this.labelPos={x:n,y:s},this},showTitle:function(){return this.prepared.done(function(){this.currentTween=this.titleTween,this.currentTween.play(),this.completeHook=t.noop}.bind(this))},onTitleComplete:function(){this.completeHook()},hideTitle:function(){return this.prepared.done(function(){this.completeHook=this.hideTitle,this.shouldShowContent()||this.currentTween===this.contentTween||(this.currentTween=this.titleTween,this.currentTween.reverse(),this.completeHook=t.noop)}.bind(this))},showContent:function(){return this.prepared.done(function(){this.currentTween=this.contentTween,this.currentTween.play(),this.labelTween.play(),this.triggerObjectEvent("contentin"),1===this.currentTween.progress()&&this.onContentComplete()}.bind(this))},updateChildVisibility:function(){t.result(this.props.model,["currView","updateTrueVisibility"])},onContentReverseComplete:function(){this.props.setPlayerProp("Expanded",!1),this.updateChildVisibility(),this.currentTween=null,this.completeHook(),this.triggerObjectEvent("contentoutcomplete")},onContentComplete:function(){this.completeHook=t.noop,this.props.setPlayerProp("Expanded",!0),this.updateChildVisibility(),this.triggerObjectEvent("contentincomplete"),c.trigger(h.layer.RESOLVED_OBJECT_VISIBILITY),null!=this.scrollArea&&this.scrollArea.calcScrolling()},hideContent:function(){return this.prepared.done(function(){l.isMobile||(this.props.setPlayerProp("Expanded",!1),this.updateChildVisibility()),this.currentTween=this.contentTween,this.currentTween.reverse(),this.labelTween.reverse(),this.triggerObjectEvent("contentout"),c.trigger(h.layer.RESOLVED_OBJECT_VISIBILITY),0===this.currentTween.progress()&&this.onContentReverseComplete()}.bind(this))},calcTweenScale:function(){for(var e,t=this.props.model,i=1;t;)e=t.currView,t.isSlideObject&&null!=e&&null!=e.tweenedConfig&&(i*=n.pctToDec(e.tweenedConfig.props.ScaleY)),t=t.parent;return i},updateLabel:function(){var e=this.label.getBoundingClientRect(),t=this.el.getBoundingClientRect(),i=this.props.model.getSlide().calculateTotalScale(),n=-(t.top-e.top),s=a.labelPath({width:this.props.playerProps.width,top:n*i/this.calcTweenScale(),height:Math.max(this.startHeight,e.height)*i,radius:10,dir:this.alignment,arrowX:this.props.model.get("arrowxpos"),arrowY:this.props.model.get("arrowypos")});this.setState({labelPath:s})},getIsVisible:function(){return this.props.playerProps.Expanded},getContentStyles:t.memoize(function(){return{paddingTop:f,paddingBottom:m}})});return g}),define("views/presentation/mixins/dragdropSlideObject",["require","lodash","views/helpers/dom"],function(e){"use strict";var t=(e("lodash"),e("views/helpers/dom")),i=10,n=.6,s={template:function(){return this.getTemplateManager().getTemplate("DragdropSlideObject").bind(this)()},getDefaultProps:function(){return{notchWidth:i,notchHeight:Math.round(n*i)}},componentDidMount:function(){this.htmlReady(this.mountWithOverState)},mountWithOverState:function(){var e=document.elementFromPoint(t.mouseX,t.mouseY),i=t.closest(e,function(e){return e===this.el}.bind(this));i&&this.didMouseOver()},getInitialState:function(){var e=this.getPath("props.model.data.textdata.vectortext.pr")||{};return{textCommandsetId:e.i,textPathLibId:e.l,wordbankRadius:this.getPath("props.model.height")/2}},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})}};return s}),define("views/presentation/DropareaSlideObject",["require","lodash","react","views/mixins/baseView","views/mixins/propertizable","views/presentation/mixins/dragdropSlideObject","views/helpers/dragAndDropHelper","helpers/utils","helpers/windowManager"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("views/mixins/baseView"),n=e("views/mixins/propertizable"),s=e("views/presentation/mixins/dragdropSlideObject"),r=e("views/helpers/dragAndDropHelper").DroppableHelper,o=e("helpers/utils"),a=e("helpers/windowManager"),l=t.createClass({displayName:"DropareaSlideObject",mixins:[i,n,s],getInitialState:function(){return{backgroundVisible:!0}},shortEvents:{model:{setReview:"onSetReview"}},onSetReview:function(e){e&&this.performReview()},performReview:function(){var e=this.getPath("props.model.style"),t=this.getPath("props.model.reviewdata"),i=o.getPath(this.dropChild,"props.model.reviewdata");"matching"===e?this.dropChild&&t===i?(this.setState({reviewDot:"drop-correct"}),this.dropChild.setState({reviewDot:"drag-correct"}),this.dropChild.resetXPos()):this.setState({reviewDot:"drop-incorrect"}):i?this.setState({reviewStroke:"green"}):this.setState({reviewStroke:"red"})},componentDidMount:function(){this.style=this.getPath("props.model.style"),this.droppableHelper=new r(this.el,{data:this}),this.htmlReady(this.resumeReview)},componentWillUnmount:function(){this.droppableHelper.unregister()},resumeReview:function(){this.parentSlide=a.getCurrentWindow().getCurSlide(),this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"),"matching"===this.style?this.addMatchingDropChild():this.addWordBankDropChild()},addWordBankDropChild:function(){var e;this.dragItemViews.forEach(function(t){t.getPlayerProp("SelectedItem")>=0&&(e=t.refs.innard)}),e&&e.reconnectDrop(this)},addMatchingDropChild:function(){this.dragItemViews.forEach(function(e){if(e.getPlayerProp("slideIndex")===this.getPlayerProp("SelectedItem")){var t=e.refs.innard;e.setPlayerProp("RawXPos",t.getDropSnapX(this.props.model)),e.setPlayerProp("RawYPos",this.getPlayerProp("RawYPos")),this.setDropChild(t)}}.bind(this))},setDropChild:function(e){var t=o.getPath(e,"props.model.connectdata");this.setPlayerProp("SelectedItem",e.getPlayerProp("slideIndex")),this.setPlayerProp("DragConnectData",t),this.setPlayerProp("TimelineControlled",!1),this.dropChild=e,this.dropChild.drop=this},disconnect:function(){this.dropChild.drop=null,this.dropChild=null,this.setPlayerProp("DragConnectData",""),this.setPlayerProp("SelectedItem",-1)},isTabbable:function(){return-1===this.getPlayerProp("SelectedItem")||"matching"===this.style},getDropChild:function(){return this.dropChild}});return l}),define("views/presentation/DragitemSlideObject",["require","lodash","helpers/utils","react","views/mixins/baseView","views/presentation/mixins/dragdropSlideObject","views/mixins/propertizable","helpers/windowManager","views/helpers/dragAndDropHelper","views/helpers/dom","helpers/keyManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("react"),s=e("views/mixins/baseView"),r=e("views/presentation/mixins/dragdropSlideObject"),o=e("views/mixins/propertizable"),a=e("helpers/windowManager"),l=e("views/helpers/dragAndDropHelper"),u=l.DraggableHelper,c=e("views/helpers/dom"),h=e("helpers/keyManager"),p=1500,d=5,f=function(e,i){var n=[e,i].map(function(e){return e.props.isInnard?e.props.parent:e}),s=e.props.model,r=i.props.model,o=r.prop("tabIndex");t.invoke(n,"setOrRemoveTabManagement",!1),r.prop("tabIndex",s.prop("tabIndex")),s.prop("tabIndex",o),t.invoke(n,"setOrRemoveTabManagement",!0),h.onBuildComplete()},m={performReview:function(){this.getPath("props.model.reviewdata")&&this.setState({reviewStroke:"green"})},dropComplete:function(e){var t=i.getPath(e,"props.model.getParentContainer");t&&this.props.model.reparentChild(t),this.setState({backgroundVisible:!1})},getDropSnapX:function(e){return e.prop("RawXPos")},onDragEnd:function(e,t){this.state.dropped||this.unDrop(),t&&t.params.data.setState({hoverStroke:!1})},setSelectedItem:function(){this.setPlayerProp("SelectedItem",1)},unDrop:function(){var e=this.getPlayerProp("ShuffleXPos"),t=this.getPlayerProp("ShuffleYPos");this.moveBackAndEnable(),this.setDragPosition(e,t),this.putBackInParent(),this.setState({backgroundVisible:!0}),this.setPlayerProp("SelectedItem",-1)},dropAndDisable:function(){this.draggableHelper.disable(),this.setPlayerProp("Enabled",!1),this.setState({dropped:!0,hovered:!1})},moveBackAndEnable:function(){this.setState({dropped:!1}),this.draggableHelper.enable(),this.setPlayerProp("Enabled",!0)},onDragOut:function(e,t){t.params.data.setState({hoverStroke:!1})},onDraggingOver:function(e,t){t.params.data.setState({hoverStroke:!0})},reconnectDrop:function(e){this.setPlayerProp({depth:++p,OnStage:!0}),this.onDrop(this.draggableHelper,{params:{data:e}})},savePrevLoc:t.noop,dragStarted:t.noop},g={performReview:function(){this.setState({reviewDot:"drag-incorrect"}),this.resetXPos()},resetXPos:function(){this.setPlayerProp("RawXPos",this.getPlayerProp("ShuffleXPos"))},getDropSnapX:function(e){return e.prop("RawXPos")+e.width()-this.props.notchWidth},dropComplete:function(e){this.dropView=e,this.dropView.setState({collision:!1}),this.droppedX=this.getPlayerProp("RawXPos"),this.droppedY=this.getPlayerProp("RawYPos"),this.putBackInParent()},dropAndDisable:function(){this.setState({dropped:!0,hovered:!1})},onDragOut:function(e,t){t.params.data.setState({collision:!1})},onDraggingOver:function(e,t){t.params.data.setState({collision:!0})},onDragEnd:function(e,t){this.state.dropped?(this.putBackInParent(),this.setDragPosition(this.droppedX,this.droppedY),this.swapDisconnectedItems(!0)):this.swapDisconnectedItems()||this.unDrop(),this.savePrevLoc(),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null)},setSelectedItem:function(e){this.setPlayerProp("SelectedItem",e.prop("slideIndex"))},swapDisconnectedItems:function(e){var i,n,s,r,o,a=[];return this.dragItemViews.forEach(function(e){var t,i=this.props.model.id,n=e.props.model.id;i===n||e.refs.innard.state.dropped||(t=l.util.unionArea(this.el.getBoundingClientRect(),e.el.getBoundingClientRect()),0!==t&&a.push({area:t,view:e}))}.bind(this)),i=t(a).sortBy("area").last(),i?(n=i.view,r=n.getPlayerProp("RawXPos"),o=n.getPlayerProp("RawYPos"),s=n.refs.innard,s.setDragPosition(this.state.dropped?this.getPlayerProp("ShuffleXPos"):this.oldX,this.oldY),e||(this.setDragPosition(r,o),this.putBackInParent()),f(this,n),!0):void 0},unDrop:function(e){e&&this.dropView!==e||(this.setState({dropped:!1}),this.putBackInParent(),this.setDragPosition(this.oldX,this.oldY),this.setPlayerProp("SelectedItem",-1))},savePrevLoc:function(){this.oldX=this.getPlayerProp("RawXPos"),this.oldY=this.getPlayerProp("RawYPos")},dragStarted:function(){this.autoScrollId||this.checkForAutoScroll()},checkForAutoScroll:function(){var e=this.slideObjectParent.getBoundingClientRect(),t=this.scrollArea.getBoundingClientRect();e.top<t.top?this.scrollArea.scrollTop-=d:e.bottom>t.bottom&&(this.scrollArea.scrollTop+=d),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)}},v=n.createClass({displayName:"DragitemSlideObject",mixins:[s,o,r],shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{backgroundVisible:!0,dropped:!1}},componentDidMount:function(){this.applyStyleMixin(),this.htmlReady(this.setupDragging)},onSetReview:function(e){e&&this.performReview()},applyStyleMixin:function(){this.style=this.getPath("props.model.style"),"wordbank"===this.style?t.mixin(this,m):t.mixin(this,g),t.bindAll(this)},setupDragging:function(){this.parentSlide=a.getCurrentWindow().getCurSlide(),this.slideObjectParent=this.el.parentNode,this.parentEl=this.slideObjectParent.parentNode,this.container=this.parentSlide.el.querySelector(".slide-top-container"),this.draggableHelper=new u(this.props.parent,this.getDraggableConfig()),this.scrollArea=c.closest(this.el,function(e){return c.hasClass(e,"scrollarea-area")}),"matching"===this.style?this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"):this.reparentIfSelected(),this.checkShouldDisable()},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.draggableHelper.disable()},reparentIfSelected:function(){var e;this.getPlayerProp("SelectedItem")>=0&&(e=this.props.model,e.reparentChild(e.getSlide()))},getDraggableConfig:function(){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,getPosition:this.getDragPosition,setPosition:this.setDragPosition,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver}},getDragPosition:function(){return this.savePrevLoc(),{x:this.getPlayerProp("RawXPos"),y:this.getPlayerProp("RawYPos")}},onDragStart:function(){this.setPlayerProp("depth",++p),this.dragStarted()},onDrop:function(e,t){this.setState({dropped:!0});var i=t.params.data,n=i.props.model,s=this.getDropSnapX(n),r=n.prop("RawYPos"),o=i.getDropChild();this.dropAndDisable(),null!=o&&o.props.model!==e.view.props.model&&o.unDrop(i),this.setPlayerProp("TimelineControlled",!1),this.setSelectedItem(n),i.setDropChild(this),this.setDragPosition(s,r),this.dropComplete(i)},setDragPosition:function(e,t){this.setPlayerProp({RawXPos:e,RawYPos:t})},putBackInParent:function(){this.props.model.reattachChild()}});return v}),define("views/presentation/TextInputSlideObject",["require","lodash","helpers/windowManager","views/mixins/propertizable","views/presentation/mixins/backgroundable","react","react-dom","views/mixins/baseView","helpers/resolver","helpers/actionManager","helpers/keyManager","helpers/events","helpers/vow","polyfills/detection","helpers/utils","helpers/svg/svgUtils"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/windowManager"),e("views/mixins/propertizable")),n=e("views/presentation/mixins/backgroundable"),s=e("react"),r=e("react-dom"),o=e("views/mixins/baseView"),a=e("helpers/resolver"),l=(e("helpers/actionManager"),e("helpers/keyManager")),u=e("helpers/events"),c=e("helpers/vow"),h=(e("polyfills/detection"),e("helpers/utils")),p=e("helpers/svg/svgUtils"),d=["::-webkit-input-placeholder",":-moz-placeholder","::-moz-placeholder",":-ms-input-placeholder"],f=[".","-","-."],m={top:0,center:.5,bottom:1},g=s.createClass({mixins:[o,i,n],displayName:"TextInputSlideObject",shortEvents:{model:function(){var e={};return e[u.slideObject.FOCUS]="setFocus",e}()},getInitialState:function(){return this.createInitialState()},createInitialState:function(){var e=this.getPath("props.model.bindto");return t.isEmpty(e)||(this.boundVar=a.resolvePath(e)),{inputValue:null!=this.boundVar?this.boundVar.value():this.props.playerProps.Text,placeholderClass:this.getPlaceholderClass()}},componentWillMount:function(){this.ready=new c.Deferred,this.addStyleIfNeeded(this.state.placeholderClass),this.isMultiline=!!this.getPath("props.model.multiline"),this.isNumeric=this.getPath("props.model.numeric"),null!=this.boundVar&&this.listenTo(this.boundVar,"change variable:refreshView",this.onVarChange),this.props.model.needsFocus&&(this.setFocus(),this.props.model.needsFocus=!1)},componentDidMount:function(){this.htmlReady(this.ready.resolve.bind(this.ready)),this.updateVerticalAlign()},componentDidUpdate:function(){this.updateVerticalAlign()},componentWillUnmount:function(){this.ready.reject()},bounds:function(){return this.props.model.getBounds()},getInput:function(){return r.findDOMNode(this.refs.input)},getInputVal:function(){return this.getInput().value},setFocus:function(){this.ready.done(this.focusAndSelect)},focusAndSelect:function(){var e=this.getInput();document.activeElement!==e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))},onKeyDown:function(e){var t,i;String.fromCharCode(e.which);this.isMultiline||13!==e.which||null==this.boundVar||(t=this.boundVar.value(),i=this.getInputVal(),t!==i&&this.boundVar.changeValue(i)),l.executeKeypressEvent(this.props.model,e),l.keys.TAB&&e.preventDefault()},isValidNumericEntry:function(e){return 0===e.length?!0:f.indexOf(e)>-1?!0:!isNaN(e)},onInputChange:function(e){var t=e.target.value;!this.isNumeric||this.isValidNumericEntry(t)?this.setState({inputValue:t}):(e.target.value=t,isNaN(e.target.valueAsNumber)||this.setState({inputValue:t}))},onInputFocus:function(){l.focusItem(this.props.parent,!0)},onInputBlur:function(e){this.setPlayerProp("Text",this.getInputVal()),this.props.model.executePlayerEvent("onlosefocus")},onKeyUp:function(e){this.setPlayerProp("Text",this.getInputVal())},onTouchStart:function(e){1===e.touches.length&&(this.getInput().focus(),e.preventDefault())},onVarChange:function(){var e=this.boundVar.value();this.setPlayerProp("Text",e),this.setState({inputValue:e})},addStyleIfNeeded:function(e){var i=this.getTextColor(),n=this.getOrCreateStylesheet(),s=function(t){return t.selectorText.indexOf(e)>-1},r=t.findWhere(n.cssRules,s);r||(n.innerHTML+="\n",n.innerHTML+=d.map(function(t){return[".",e," ",t,"{ color: ",i,"; }"].join("")}).join("\n"))},getOrCreateStylesheet:function(){var e="textInputStyles",t=document.head.querySelector("#"+e);return t||(t=document.createElement("style"),t.id=e,document.head.appendChild(t)),t},getPlaceholderClass:function(){return"text-input-"+this.props.model.id},getTextColor:function(){return this.hex(this.getPath("props.model.textcolor"))},innardFocus:function(){this.setFocus()},innardRelease:function(){this.getInput().blur()},isTextArea:function(){return this.isMultiline&&!this.isNumeric},updateVerticalAlign:function(){var e,i,n,s,r,o,a=this.refs.input;return this.isTextArea()&&(i=this.getPath("props.model.height"),n=this.getPath("props.model.verticalAlign"),o=i-(parseInt(a.style.paddingTop)+parseInt(a.style.paddingBottom)),e=a.scrollHeight,s=t.get(m,n,0),r=(i-e)*s,t.extend(a.style,{height:h.pxify(Math.min(e,o)),transform:p.transformTranslate(0,h.pxify(r))})),this}});return g}),define("views/presentation/VideoSlideObject",["require","lodash","helpers/utils","helpers/pubSub","helpers/constants","helpers/appState","helpers/events","helpers/actions","react","views/mixins/baseView","helpers/captionsManager","helpers/assetManager"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils")),i=e("helpers/pubSub"),n=e("helpers/constants"),s=e("helpers/appState"),r=e("helpers/events"),o=e("helpers/actions"),a=e("react"),l=e("views/mixins/baseView"),u=e("helpers/captionsManager"),c=e("helpers/assetManager"),h=function(e,t,i){var n=e.getPath("props.model.data.videodata."+t),s=null!=i?"getAssetUrl":"getAsset";return null!=n?c[s](n):void 0},p=a.createClass({displayName:"VideoSlideObject",mixins:[l],shortEvents:{model:function(){var e={};return e[r.layer.PAUSE_TIMELINE]="onPauseMedia",e[o.MEDIA_TOGGLE]="onActionToggle",e[o.MEDIA_PLAY]="onActionPlay",e[o.MEDIA_PAUSE]="onActionPause",e[o.MEDIA_SEEK]="onActionSeek",e[o.SHOW]="onActionShow",e[o.HIDE]="onActionHide",e[o.SET_VOLUME]="onActionSetVolume",e}()},subscriptions:function(){var e={};return e[r.detection.VISIBILITY_SHOWN]="onVisibilityShown",e[r.detection.VISIBILITY_HIDDEN]="onVisibilityHidden",e}(),onPauseMedia:function(){this.pauseVideo()},getInitialState:function(){return this.layerTimeline=this.props.model.getLayer().timeline(),{currentTime:0,duration:0,currentVolume:s.currentVolume(),isPlaying:!1,posterImage:null}},componentWillMount:function(){this.isValidVideo()&&(this.timelinePlayStartTime=0,this.mediaTimelineControlled=!1,this.lastTimelineSeek=0,this.bindTimelineEventListeners())},componentDidMount:function(){this.isValidVideo()&&(this.presentationVol=n.DEFAULT_VOLUME,this.setVolume(s.currentVolume()),this.listenTo(s,r.volume.CHANGE_CURRENT,this.onVolumeChanged))},onVolumeChanged:function(e,t){this.determineAudioVolume(t)},determineAudioVolume:function(e){this.setVolume(e*this.presentationVol)},isValidVideo:function(){var e=""!==this.getVideoUrl()&&"swf"!==this.type;return e},getVideoUrl:function(){var e;return null==this.videoUrl&&(e=h(this,"assetId"),this.type=e&&e.get("videoType"),this.videoUrl=null!=this.type&&"youtube"!==this.type?e.url():""),this.videoUrl},posterFrameUrl:function(){return h(this,"posterAssetId",!0)},getAssetId:function(){return this.getPath("props.model.data.videodata.assetId")},playing:function(e){this.isMounted()&&this.setState({currentTime:e})},durationLoaded:function(e){this.setState({duration:e})},playbackEnded:function(){this.pauseVideo(),this.props.model.executePlayerEvent("onmediacomplete"),this.refs.videoPlayer.publishCurrentTime(),i.trigger(r.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"complete")},toggleVideoControls:function(){this.toggleVideo()},rangeslideVideoControls:function(e){this.seekVideo(t.toMilliseconds(e.target.valueAsNumber))},onActionShowOnce:function(e,t){this.pausedByAction||this.onActionPlay(e,t)},bindTimelineEventListeners:function(){this.hasAutoPlay()&&this.props.model.once(o.SHOW,this.onActionShowOnce),this.listenTo(this.layerTimeline,r.timeline.RESET,function(){this.seekVideo(0),this.hasAutoPlay()||this.pauseVideo()}),this.listenTo(this.layerTimeline,r.timeline.PLAYING,function(){this.layerTimeline.hasFinished()||this.playAndRestoreState()}),this.listenTo(this.layerTimeline,r.timeline.PAUSED,function(){this.layerTimeline.hasFinished()||this.pauseAndStoreState()}),this.listenTo(this.layerTimeline,r.timeline.SEEK_START,this.pauseAndStoreState),this.listenTo(this.layerTimeline,r.timeline.AFTER_SEEK_UPDATE,this.onTimelineSeek),this.listenTo(this.layerTimeline,r.timeline.SEEK_END,this.playAndRestoreState)},loadedData:function(){if(this.state.isPlaying&&this.isMediaTimelineControlled()){var e=this.calculatePlaybackDifferential(this.layerTimeline.elapsedTime());this.seekVideo(e),this.refs.videoPlayer.play()}},hasAutoPlay:function(){var e=this.props.model.getClosestAncestorByKind("expandinglabel");return e&&!e.prop("Expanded")?!1:this.getPath("props.model.autoplay")},onActionShow:function(e,t){this.isSeekActionAndNotPlaying(t)||this.hasAutoPlay()&&this.layerTimeline.isPlaying()&&!this.pausedByAction&&this.playVideo()},onActionHide:function(){},onActionToggle:function(){this.toggleVideo()},onActionPlay:function(e,t){this.pausedByAction=!1,this.setPlayActionStartTime(t.time),this.isSeekActionAndNotPlaying(t)||(this.playVideo(),"expandinglabel"===t.context.get("kind")&&u.includeMedia(this.getAssetId()))},onActionPause:function(e,t){this.pausedByAction=!0,this.isSeekActionAndNotPlaying(t)||(this.pauseVideo(),"expandinglabel"===t.context.get("kind")&&u.excludeMedia(this.getAssetId()))},onActionSeek:function(e,t){this.isSeekActionAndNotPlaying(t)||this.seekVideo(e.position)},onActionSetVolume:function(e,t){var i=e.volume/100;this.presentationVol=i,this.determineAudioVolume(s.currentVolume())},setPlayActionStartTime:function(e){return null!=e&&(this.timelinePlayStartTime=e,this.mediaTimelineControlled=!0),this},isSeekActionAndNotPlaying:function(e){return e.isSeekAction&&!this.layerTimeline.isPlaying()},calculatePlaybackDifferential:function(e){return e-this.timelinePlayStartTime},onTimelineSeek:function(e){this.seeked=!0,this.lastTimelineSeek=e,e=this.calculatePlaybackDifferential(e),this.isMediaTimelineControlled()&&!this.pausedByAction&&this.seekVideo(e)},isMediaTimelineControlled:function(){return this.mediaTimelineControlled||this.hasAutoPlay()},pauseAndStoreState:function(){this.timelinePaused||(this.resumeOnSeek=this.state.isPlaying,this.timelinePaused=!0,this.seeked=!1),this.pauseVideo()},playAndRestoreState:function(e){var t=e?"playing"===e:!this.pausedByAction;this.isVisible()&&(!this.isMediaTimelineControlled()&&this.resumeOnSeek||this.isMediaTimelineControlled()&&t&&(this.lastTimelineSeek>=this.timelinePlayStartTime||this.resumeOnSeek&&!this.seeked))&&this.playVideo(),this.timelinePaused=!1},playVideo:function(){return this.setState({isPlaying:!0}),this},pauseVideo:function(){return this.setState({isPlaying:!1}),this},toggleVideo:function(){return this.state.isPlaying?this.pauseVideo():this.playVideo(),this},seekVideo:function(e){return this.refs.videoPlayer.seek(Math.max(0,t.toSeconds(e))),0>e&&this.setState({isPlaying:!1}),this},setVolume:function(e){return this.setState({currentVolume:e}),this},actionKeyCallback:function(){return this.toggleVideo(),!0},onVisibilityShown:function(e){!this.isMediaTimelineControlled()&&this.wasPlaying&&(this.wasPlaying=!1,this.playVideo())},onVisibilityHidden:function(e){!this.isMediaTimelineControlled()&&this.state.isPlaying&&(this.wasPlaying=!0,this.pauseVideo())},forceUpdatePoster:function(e){this.setState({posterImage:e}),this.forceUpdate()}});return p}),define("views/presentation/DropListParentable",["require","lodash","helpers/windowManager","views/mixins/baseView","views/mixins/propertizable","react","react-dom","views/helpers/dom","helpers/utils","helpers/events","polyfills/detection","helpers/scaler","helpers/svg/svgManager","helpers/svg/svgUtils","views/helpers/transformHelper"],function(e){"use strict";var t=e("lodash"),i=e("helpers/windowManager"),n=e("views/mixins/baseView"),s=e("views/mixins/propertizable"),r=e("react"),o=e("react-dom"),a=e("views/helpers/dom"),l=e("helpers/utils"),u=e("helpers/events"),c=e("polyfills/detection"),h=e("helpers/scaler"),p=(e("helpers/svg/svgManager"),e("helpers/svg/svgUtils")),d=e("views/helpers/transformHelper"),f=8,m=4,g=r.createClass({mixins:[n,s],displayName:"DropListParentable",subscriptions:function(){var e={};return e[u.slideContainer.POSITIONED]="onSlideContainerPositioned",e}(),shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{hovered:!1,display:"none",pr:this.getPath("props.model.data.textdata.vectortext.pr")}},componentWillMount:function(){this.itemslist=this.getPath("props.model.itemslist"),this.currentIndex=-1},componentDidMount:function(){this.initReparenting(),this.createRefOrder(),this.onShown(this.selectItemIfSet),this.initMobile();
},createRefOrder:function(){this.refOrder=[],this.itemslist.forEach(function(e,t){var i=this.refs["item"+t];c.isMobile?this.refOrder[i.getAttribute("data-order")]=i:this.refOrder[i.props.order]=i}.bind(this))},initMobile:function(){c.isMobile&&this.refs.mobileDrop.addEventListener("change",this.onMobileSelect)},onSetReview:function(e){var t=this.getPath("props.model.reviewwidth");e&&t&&this.setState({reviewWidth:t})},onMobileSelect:function(e){var t=e.target.value;this.setPlayerProp("SelectedItemData",this.props.model.origItemsList[t].itemdata),this.setPlayerProp("SelectedItemIndex",t),this.setState({pr:this.props.model.origItemsList[t].textdata.vectortext.pr})},selectItemIfSet:function(){var e=this.getPlayerProp("SelectedItemIndex");e>-1&&(c.isMobile?(this.onMobileSelect({target:{value:e}}),this.refs.mobileDrop.value=e):this.itemSelected(e))},itemSelected:function(e){if(-1!==e){var t=this.refs["item"+e];t.setState({selected:!0}),this.setPlayerProp("SelectedItemData",this.props.model.origItemsList[e].itemdata),this.setPlayerProp("SelectedItemIndex",e),this.prevSelected&&this.prevSelected.setState({selected:!1}),this.prevSelected=t,this.updateText(t)}},updateText:function(e){this.setState({pr:e.props.pr})},contentheight:function(){var e=(this.getPath("props.model.height")+f)*this.itemslist.length;return e},onShowList:function(){this.isEnabled()&&(null!=this.refs.scrollBar&&this.refs.scrollBar.update(),document.body.addEventListener("mousedown",this.onMouseDown),document.body.addEventListener("mouseup",this.onHideList),document.body.addEventListener("touchstart",this.onMouseDown),document.body.addEventListener("touchend",this.onHideList),this.setState({display:"block"}),this.positionList())},onHideList:function(e){if(null==this.containerScrollTop||this.containerScrollTop===this.getItemScrollTop()){var t;null!=e&&(t=a.closest(e.target,function(e){return a.hasClass(e,"drop-list-top")||c.isMobile&&a.hasClass(e,"drop-list")})),t||(this.unpositionList(),this.setState({display:"none"}),document.body.removeEventListener("mousedown",this.onMouseDown),document.body.removeEventListener("mouseup",this.onHideList),document.body.removeEventListener("touchstart",this.onMouseDown),document.body.removeEventListener("touchend",this.onHideList))}},getItemScrollTop:function(){return o.findDOMNode(this.refs.dropdownInner).scrollTop},onMouseDown:function(){this.containerScrollTop=this.getItemScrollTop()},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})},autoOpenList:function(){var e,t="block"===this.state.display;return t?(this.onHideList(),this.itemSelected(-1===this.currentIndex?-1:this.refOrder[this.currentIndex].props.idx)):(this.onShowList(),e=this.getPlayerProp("SelectedItemIndex"),this.currentIndex=-1===e?-1:this.refs[["item",e].join("")].props.order,this.focusItem(this.currentIndex)),!0},focusItem:function(e){if(-1!==e){var t=this.refOrder[e],i=this.refs.dropdownInner;this.refOrder.forEach(function(t,i){t.setState({hovered:i===e})}.bind(this)),this.currentIndex=e,this.itemSelected(t.props.idx),0!==a.getScrollRecommendation(i,t.el)&&(i.scrollTop=t.props.yOff-this.props.model.height())}},initReparenting:function(){this.targetEl=this.el.parentNode,this.dropDown=this.el.firstElementChild,this.container=document.getElementById("app-top-container"),this.overlay=document.getElementById("app-top-overlay"),this.presentation=document.getElementById("presentation")},getItemHeight:function(){return this.getPath("props.model.height")+f},getListHeight:function(){return this.getItemHeight()*this.itemslist.length},positionList:function(){if(this.targetEl.parentNode!==this.container){this.parentEl=this.parentEl||this.el.parentNode.parentNode;var e,n=i.getCurrentWindowSlide(),s=d.localPtToSlide(this.props.parent,0,0),r=d.localPtToGlobal(this.props.parent,0,0),o=d.getSlideMetrics(n.currView),u=o.scaleX,c=1/u,f=this.presentation.getBoundingClientRect(),g=l.fix(h.getScale(),2),v=f.bottom,y=this.getListHeight()+this.getItemHeight();a.setStyles(this.targetEl,t.mapValues({left:(o.left-f.left)*c+s.x,top:(o.top-f.top)*c+s.y},l.pxify)),this.container.style[this.cssTransform]=p.transformScale(u/g),this.container.appendChild(this.targetEl),r.y+y*u>v&&(e=(v-r.y-m)/u,this.dropDown.style.height=l.pxify(e),this.setState({dropDownScrollable:"drop-list-scrollable",scrollBarHeight:e})),a.setStyles(this.overlay,t.extend({display:"block"},t.mapValues({left:0,top:0,width:f.width/g,height:f.height/g},l.pxify)))}},unpositionList:function(){this.targetEl.parentNode===this.container&&(a.setStyles(this.overlay,{display:""}),a.setStyles(this.targetEl,{left:0,top:0}),this.container.style[this.cssTransform]=p.transformScale(1),this.parentEl.appendChild(this.targetEl))},onSlideContainerPositioned:function(){"block"===this.state.display&&this.htmlReady(t.flow(this.unpositionList,this.positionList))},treeKeyCallback:function(e,t){"none"===this.state.display&&this.autoOpenList();var i=t?1:-1,n=this.currentIndex,s=n+i,r=this.itemslist.length-1;return s=l.clamp(0,r,s),this.focusItem(s),!0},actionKeyCallback:function(){this.autoOpenList()},innardRelease:function(){this.onHideList(),this.focusItem(this.currentIndex)},innardFocus:function(){var e=c.isMobile?this.refs.mobileDrop:this.el;e.focus()}});return g}),define("views/presentation/DropListSlideObject",["require","lodash","views/mixins/baseView","react","react-dom","views/helpers/dom","./DropListParentable"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=e("react-dom"),s=e("views/helpers/dom"),r=e("./DropListParentable"),o=i.createClass({mixins:[t],displayName:"DropListSlideObject",componentWillMount:function(){this.droplistEl=i.createElement(r,this.props),this.wrapper=document.createElement("div"),s.setStyles(this.wrapper,{position:"absolute",top:0,left:0}),this.parentableDropList=n.render(this.droplistEl,this.wrapper)},componentDidMount:function(){this.el.appendChild(this.wrapper)},componentWillUnmount:function(){n.unmountComponentAtNode(this.wrapper)},treeKeyCallback:function(e,t){return this.parentableDropList.treeKeyCallback(e,t)},actionKeyCallback:function(){this.parentableDropList.actionKeyCallback()},innardRelease:function(){this.parentableDropList.innardRelease()},innardFocus:function(){this.parentableDropList.innardFocus()}});return o}),define("views/presentation/SequenceCtrlSlideObject",["require","lodash","views/mixins/baseView","views/mixins/propertizable","helpers/windowManager","views/helpers/dragAndDropHelper","react","views/helpers/dom","helpers/utils","helpers/svg/svgUtils","helpers/tabFocusBox","helpers/keyManager"],function(e){"use strict";var t=e("lodash"),i=e("views/mixins/baseView"),n=e("views/mixins/propertizable"),s=e("helpers/windowManager"),r=e("views/helpers/dragAndDropHelper").DraggableHelper,o=e("react"),a=e("views/helpers/dom"),l=e("helpers/utils"),u=e("helpers/svg/svgUtils"),c=e("helpers/tabFocusBox"),h=e("helpers/keyManager"),p=5,d=o.createClass({mixins:[i,n],displayName:"SequenceCtrlSlideObject",shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{itemslist:[]}},onSetReview:function(e){this.displayReview(e)},componentWillMount:function(){this.resetIndex(),this.getItemsList()},componentDidMount:function(){this.onShown(this.setupDragging)},componentDidUpdate:function(e,t){var i=t.ItemOrder,n=this.getPlayerProp("ItemOrder");i!==n&&this.getItemsList()},getItemsList:function(){var e,t,i,n=this.getPlayerProp("ItemOrder");n?(e=n.split(""),t=this.getPath("props.model.itemsListOrder"),this.itemslist=[],e.forEach(function(e){this.itemslist.push(t[e])}.bind(this))):this.itemslist=this.getPath("props.model.itemslist"),i=this.itemslist.length.toString(),this.numWidth=22+10*(i.length-1),this.setState({itemslist:this.itemslist})},setupDragging:function(){this.parentSlide=s.getCurrentWindow().getCurSlide(),this.container=this.parentSlide.el.querySelector(".slide-top-container"),this.scrollArea=this.find(".sequence-ctrl-scroll-area"),this.scrollArea.addEventListener("scroll",this.onScroll),this.checkIfViewed(),this.setupItems(),this.checkShouldDisable(),this.shouldShowScroll(),this.displayReview(this.reviewMode)},checkIfViewed:function(){var e=this.scrollArea.scrollHeight-this.scrollArea.scrollTop;e<=this.scrollArea.offsetHeight+5&&this.props.model.prop("Viewed",!0)},onScroll:function(){this.checkIfViewed()},shouldShowScroll:function(){this.scrollArea.scrollHeight>this.scrollArea.offsetHeight&&(this.scrollArea.style.height=this.lastHeight,this.scrollArea.style.overflowY="scroll",this.setState({shouldScroll:!0}))},contentheight:function(){return this.lastHeight},setupItems:function(){this.items=[];var e=0,t=this.numWidth,i=16,n=i/2+3;this.itemslist.forEach(function(s,o){var a,l=this.refs["sequenceItem"+o],u=l.props.model.height;l.idx=o,l.itemdata=this.itemslist[o].itemdata,l.parent=l.el.parentNode,l.barInfo=null,l.didMouseOut(),this.items.push(l),this.setPlayerProp("_pos"+o,l.itemdata),e=n,n=e+u+i,l.loc={x:t,y:e},this.lastHeight=n,this.setItemPosition(l.parent,l.loc),l.draggableHelper&&l.draggableHelper.disable(),l.draggableHelper=new r(l,this.getDraggableConfig(l.parent),l.parent),l.onDragItemDown=function(){this.idx=l.idx}.bind(this),l.el.addEventListener("mousedown",l.onDragItemDown),a=l.draggableHelper.getDropTarget("drag"),a.params.data.setDropChild(l)}.bind(this))},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.items.forEach(function(e){e.draggableHelper.disable()})},displayReview:function(e){this.reviewMode=e,e&&null!=this.items&&this.items.forEach(function(e,t){var i=this.props.model.getIndexByData(e.itemdata),n=i===t?"green":"red";e.drop.setState({reviewColor:n,reviewIdx:i})}.bind(this))},getDraggableConfig:function(e){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,ondrag:this.onDrag,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver,getPosition:t.partial(this.getDragPosition,e)}},setItemPosition:function(e,t){e.style[this.cssTransform]=u.transformTranslate(l.pxify(t.x),l.pxify(t.y))},resetPositionItem:function(e){this.scrollArea.appendChild(e.draggableHelper.el),this.setItemPosition(e.draggableHelper.el,e.loc)},onDrag:function(e){var i=t.toArray(document.querySelectorAll(".sequence-ctrl-bar"));i.every(function(t,i){var n="block"===t.style.display;return n&&(e.view.currY=t.getBoundingClientRect().top),!n})},resetIndex:function(){this.idx=-1},exitStealTab:function(e,t){return 0===this.idx&&t?(h.setCurrentItemAndFocus(e),!0):void 0},stealTab:function(e,t){var i=this.idx>=this.itemslist.length-1;i&&!t&&this.resetIndex(),t&&this.idx<0||(t?this.idx--:this.idx++,this.lastItem&&this.lastItem.el.classList.remove("focused"),this.idx<0?(h.setCurrentItem(e),h.changeFocus(t),h.focusNextItem(),this.resetIndex()):i?(c.hide(),h.focusNextItem()):(e.el.classList.remove("focused"),this.focusOnChild(this.refs["item"+this.idx])))},focusOnChild:function(e){this.lastItem=e,this.lastItem.el.focus(),this.lastItem.el.classList.add("focused"),this.childScrollFocus(this.lastItem),c.show(this.lastItem)},innardFocus:function(){h.lastShift&&this.htmlReady(function(){this.idx=this.itemslist.length-1,this.focusOnChild(this.refs["item"+this.idx])}.bind(this))},releaseFocus:function(){this.resetIndex()},childScrollFocus:function(e){var t=this.scrollArea,i=a.getScrollRecommendation(t,e.el);0!==i&&(t.scrollTop=i)},insertItem:function(e){var i=[];this.scrollArea.appendChild(e.draggableHelper.el),this.items=t.sortBy(this.items,function(e){return e.currY}),i=this.items.reduce(function(e,t,i){return e+this.props.model.getIndexByData(t.itemdata)}.bind(this),""),this.setPlayerProp("ItemOrder",i)},checkForAutoScroll:function(){var e=this.currDraggable.getBoundingClientRect(),t=this.scrollArea.getBoundingClientRect();e.top<t.top?(this.scrollArea.scrollTop-=p,this.updateItemYs()):e.bottom>t.bottom&&(this.scrollArea.scrollTop+=p,this.updateItemYs()),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)},getDragPosition:function(e){var t=e.getBoundingClientRect(),i=this.parentSlide.el.getBoundingClientRect();return{x:t.left-i.left,y:t.top-i.top}},updateItemYs:function(){this.items.forEach(function(e){e.currY=e.parent.getBoundingClientRect().top})},onDragEnd:function(e,t){var i=e.view;e.el.style.opacity=1,this.resetPositionItem(i),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null),null!=this.lastOver&&this.lastOver.hideBar()},onDragStart:function(e,t){e.el.style.opacity=.5,this.container.appendChild(e.el),this.currDraggable=e.el,this.autoScrollId||this.checkForAutoScroll(),this.updateItemYs()},onDrop:function(e,t){var i=e.view,n=t.params.data,s=n.getDropChild();this.insertItem(i),s&&(i.drop.setDropChild(s),n.setDropChild(i)),this.lastOver=null,n.hideBar(),this.htmlReady(function(){this.getItemsList(),this.setupItems()}.bind(this))},onDragOut:function(e,t){this.lastOver=null,t.params.data.hideBar()},onDraggingOver:function(e,t){this.lastOver=t.params.data,this.lastOver.showHideBar(e)},componentWillUnmount:function(){this.itemslist.forEach(function(e,t){var i=this.refs["sequenceItem"+t];i.el.removeEventListener("mousedown",i.onDragItemDown)}.bind(this))}});return d}),define("views/presentation/SlideFrameSlideObject",["require","react","views/mixins/baseView","polyfills/detection","helpers/windowManager","helpers/resolver","views/presentation/mixins/backgroundable","helpers/pubSub","helpers/utils","helpers/events","helpers/vow","helpers/animationClock"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("polyfills/detection"),s=e("helpers/windowManager"),r=e("helpers/resolver"),o=e("views/presentation/mixins/backgroundable"),a=e("helpers/pubSub"),l=e("helpers/utils"),u=e("helpers/events"),c=e("helpers/vow"),h=e("helpers/animationClock"),p=n.isMobile?500:0,d=t.createClass({displayName:"SlideFrameSlideObject",mixins:[i,o],shortEvents:{model:{"show showcustom":"onShow","hide hidecustom":"onHide"}},getInitialState:function(){return{slideModel:null}},componentWillMount:function(){var e=this.props.model.get("scalecontents");e===!1&&(this.props.parent.animationOverride={scale:this.applyScale,adjustProps:this.adjustProps,update:this.animationUpdate})},animationUpdate:function(e){this.applyScale(e)},adjustProps:function(e){return e.ScaleX=100,e.ScaleY=100,e},applyScale:function(e){this.el.style.width=l.pxify(this.props.playerProps.width*l.pctToDec(e.ScaleX)),this.el.style.height=l.pxify(this.props.playerProps.height*l.pctToDec(e.ScaleY))},onShow:function(){var e,t,i,n;null==this.readyPromise&&(e=this.props.model,t=e.get("startingslide"),i=r.resolvePath(t),n=new c.Deferred,this.startedDfd=new c.Deferred,this.readyPromise=c.when(this.startedDfd,n),i.on(u.slide.CURRENT_TIMELINE,n.resolve),null==this.lockId&&(this.lockId=h.lock()),a.trigger(u.loader.SILENCE),this.loadChildSlide(),a.trigger(u.loader.SHOW,p)),this.readyPromise.done(function(){var e=this.state.slideModel;e.resetBeforeView().restart().setAsViewed(),a.trigger(u.timeline.CURRENT_TIMELINE,e.currentTimeline())}.bind(this))},onHide:function(){null!=this.readyPromise&&this.readyPromise.done(function(){var e=this.state.slideModel.currentTimeline();null!=e&&e.pause()}.bind(this))},loadChildSlide:function(){var e=this.props.model.get("startingslide");s.loadSlide(e,function(e){this.setState({slideModel:e})}.bind(this),!0)},onSlideStarted:function(){var e=this.lockId;this.lockId=null,h.unlock(e),this.startedDfd.resolve()}});return d}),define("views/presentation/mixins/annotation",["require","lodash","tween-lite"],function(e){var t=(e("lodash"),e("tween-lite")),i=25,n=.6,s={none:"getNoTweens",appear:"getNoTweens",draw:"getDrawTweens",bounce:"getBounceTweens",fade:"getFadeTweens",stretch:"getStretchTweens"},r={getInitialState:function(){return{gradientId:this.getUniqueNodeId("gradient"),filterId:this.getUniqueNodeId("filter"),maskId:this.getUniqueNodeId("mask"),bgId:this.getUniqueNodeId("bg"),fillColorId:this.getUniqueNodeId("fill"),borderColorId:this.getUniqueNodeId("border"),animationMaskId:this.getUniqueNodeId("animation-mask")}},getUniqueNodeId:function(e){return["annotation",this.props.model.id,e].join("-")},renderColors:function(){return this.getTemplateManager().getTemplate("AnnotationColors").call(this)},getTweens:function(){return this[s[this.props.model.get("animationtype")]]()},getNoTweens:function(){return[]},getBounceTweens:function(){return[t.fromTo(this.el,this.getAnimationDuration(),{left:-i},{ease:"Power1.easeOut",left:0})]},getFadeTweens:function(){return[t.fromTo(this.el,this.getAnimationDuration(),{opacity:0},{ease:"Linear.easeNone",opacity:1})]},getStretchTweens:function(){return[t.fromTo(this.el,this.getAnimationDuration(),{scale:n},{ease:"Power1.easeOut",scale:1})]}};return r}),define("views/presentation/mixins/annotationArrow",["require","lodash","react","helpers/svg/svgUtils","helpers/events","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("helpers/svg/svgUtils"),s=e("helpers/events"),r=e("helpers/utils"),o={x:0,y:1},a=.4,l={arrowsquare:"ArrowSquare",arrowround:"ArrowRound",arrowtriangle:"ArrowTriangle",arrowv:"ArrowV",check:"Check",cross:"Cross"},u=function(e){return[l[e],"Annotation"].join("")},c={componentWillMount:function(){var e=this.props.model.getLayer().timeline(),t={};this.listenTo(e,s.timeline.AFTER_SEEK_UPDATE,this.onTimelineSeek),t[s.animation.CREATED]=this.onAnimationCreated,t[s.animation.DESTROYED]=this.onAnimationDestroyed,this.listenTo(this,t)},renderDefs:function(){return this.getTemplateManager().getTemplate("AnnotationDefs").call(this)},renderBg:function(){var e=this.state.bgId,t=this.props.model.get("rotation");return i.createElement("use",{xlinkHref:["#",e].join(""),transform:n.transformRotate(-t)})},getShadowTransform:function(){var e=this.props.model.get("rotation"),t=r.rotatePoint(o.x,o.y,0,0,-e);return n.transformTranslate(t.x,t.y)},getAnimationDuration:function(){return a},setMaskFill:function(e){null!=this.getMasks&&this.getMasks().forEach(function(t){null!=t&&t.setAttribute("fill",e)})},onAnimationCreated:function(){this.hideMask()},onAnimationDestroyed:function(){this.showMask()},onTimelineSeek:function(){this.showMask()},template:function(){var e=this.props.model.get("arrowstyle");return this.getTemplateManager().getTemplate(u(e)).call(this)}};return t.extend(c,{showMask:t.partial(c.setMaskFill,"#fff"),hideMask:t.partial(c.setMaskFill,"#000")}),c}),define("views/presentation/AnnotationArrow",["require","react","views/mixins/baseView","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("views/presentation/mixins/annotation"),s=e("views/presentation/mixins/annotationArrow"),r=t.createClass({displayName:"AnnotationArrow",mixins:[i,n,s]});return r}),define("views/presentation/AnnotationCheck",["require","lodash","react","tween-lite","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow","views/mixins/baseView","helpers/svg/svgUtils","helpers/TransMatrix","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("tween-lite"),s=e("views/presentation/mixins/annotation"),r=e("views/presentation/mixins/annotationArrow"),o=e("views/mixins/baseView"),a=(e("helpers/svg/svgUtils"),e("helpers/TransMatrix")),l=e("helpers/utils"),u=.54,c=.24,h=21,p=-14.25,d=Quad.easeOut,f=t.memoize(function(){return Math.abs(h)+Math.abs(p)}),m=t.memoize(function(){return Math.abs(h)/f()*u}),g=t.memoize(function(){return Math.abs(p)/f()*u}),v=i.createClass({displayName:"AnnotationCheck",mixins:[o,s,r],getDrawTweens:function(){var e=this.refs.mask,t=n.to(e,u+c,{onStart:this.showMask,onUpdate:function(){var i=new a,n=t.time(),s=d.getRatio(Math.min(n/u,1)),r=Math.min(n/m()*s,1)*h,o=l.clamp(0,1,(n-m())/g()*s)*p;i.translate(r,o),e.setAttribute("transform",i.toCssTransform())}});return[t]},getMasks:function(){return[this.refs.mask]}});return v}),define("views/presentation/AnnotationCross",["require","react","tween-lite","views/mixins/baseView","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow","helpers/TransMatrix","helpers/utils"],function(e){"use strict";var t=e("react"),i=e("tween-lite"),n=e("views/mixins/baseView"),s=e("views/presentation/mixins/annotation"),r=e("views/presentation/mixins/annotationArrow"),o=e("helpers/TransMatrix"),a=e("helpers/utils"),l=.54,u=.24,c=23,h=24,p=6,d=6,f=t.createClass({displayName:"AnnotationCross",mixins:[n,s,r],getInitialState:function(){return{legMaskId:this.getUniqueNodeId("leg-mask"),animationXMaskId:this.getUniqueNodeId("animation-x-mask"),animationLegMaskId:this.getUniqueNodeId("animation-leg-mask")}},getDrawTweens:function(){var e=this.refs.leg,t=this.refs.xMask,n=this.refs.legMask,s=l/2,r=i.to(this.el,l+u,{onStart:this.showMask,onUpdate:function(){var i,l=new o,u=new o,f=r.time(),m=Math.min(f/s,1),g=(1-m)*c,v=a.clamp(0,1,(f-s)/(s/2)),y=a.clamp(0,1,(f-1.5*s)/(s/2)),b=y>0;i=b?p-d*y:h-d*v,l.translate(-g,-g).translate(9,-2).rotate(45,0,0),u.translate(-i,i).translate(39,16).rotate(135,0,0),e.style.display=b?"none":"block",n.setAttribute("transform",l.toCssTransform()),t.setAttribute("transform",u.toCssTransform())}.bind(this)});return[r]},getMasks:function(){return[this.refs.legMask,this.refs.xMask]}});return f}),define("views/presentation/AnnotationRectangle",["require","lodash","react","views/presentation/mixins/annotation","views/mixins/baseView","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/presentation/mixins/annotation"),s=e("views/mixins/baseView"),r=e("helpers/utils"),o=.333,a=i.createClass({displayName:"AnnotationRectangle",mixins:[s,n],getStyle:function(){var e=this.props.model;return{borderColor:this.getBorderColor(),borderWidth:e.get("borderwidth"),borderRadius:e.get("boxradius"),height:e.get("height"),width:e.get("width")}},getBorderColor:function(){var e,i=t.find(this.props.model.get("colors"),{name:"bordercolor"});return null!=i?(e=i.fill.colors[0],r.toRgba(e.rgb,e.alpha)):void 0},getAnimationDuration:function(){return o}});return a}),define("views/presentation/AnnotationSpotlight",["require","lodash","react","tween-lite","views/presentation/mixins/annotation","views/mixins/baseView","helpers/actions","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("tween-lite"),s=e("views/presentation/mixins/annotation"),r=e("views/mixins/baseView"),o=e("helpers/actions"),a=e("helpers/utils"),l=1,u=.5,c=i.createClass({displayName:"AnnotationSpotlight",mixins:[r,s],shortEvents:{model:function(){var e={};return e[o.SHOW]="onActionShow",e}()},onActionShow:function(){"draw"===this.props.model.get("animationtype")&&(this.refs.border.style.strokeDasharray=a.pxify(this.getLength()))},getDrawTweens:function(){var e=(this.props.model,this.getLength());return[n.fromTo(this.refs.border,l,{"stroke-dashoffset":e},{ease:"Linear.easeNone","stroke-dashoffset":0,onComplete:function(){this.refs.border.style.strokeDashoffset=this.refs.border.style.strokeDasharray=""}.bind(this)}),n.fromTo(this.refs.overlay,u,{opacity:0},{delay:l,ease:"Linear.easeNone",opacity:1})]}});return c.prototype.getLength=t.memoize(function(){var e=this.props.model;return 2*(e.get("width")+e.get("height"))},function(){var e=this.props.model;return[e.get("width"),e.get("height")].join("x")}),c}),define("views/presentation/AnnotationSlideObject",["require","react","timeline-lite","views/presentation/AnnotationArrow","views/presentation/AnnotationCheck","views/presentation/AnnotationCross","views/presentation/AnnotationRectangle","views/presentation/AnnotationSpotlight","helpers/events","helpers/actions","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("timeline-lite"),n=e("views/presentation/AnnotationArrow"),s=e("views/presentation/AnnotationCheck"),r=e("views/presentation/AnnotationCross"),o=e("views/presentation/AnnotationRectangle"),a=e("views/presentation/AnnotationSpotlight"),l=e("helpers/events"),u=e("helpers/actions"),c=e("views/mixins/baseView"),h={rectangle:o,spotlight:a},p={arrowsquare:n,arrowround:n,arrowtriangle:n,arrowv:n,check:s,cross:r},d=t.createClass({displayName:"AnnotationSlideObject",mixins:[c],shortEvents:{model:function(){var e={};return e[u.SHOW]="onActionShow",e[u.HIDE]="onActionHide",e}()},getInitialState:function(){return{Innard:this.getInnardType()}},componentWillMount:function(){var e={};e[l.timeline.PLAYING]=this.onTimelinePlaying,e[l.timeline.PAUSED]=this.onTimelinePaused,e[l.timeline.AFTER_SEEK_UPDATE]=this.onTimelineAfterSeekUpdate,this.timeline=this.props.model.getLayer().timeline(),this.listenTo(this.timeline,e)},componentWillUnmount:function(){this.teardownAnimation()},getInnardType:function(){var e=this.props.model,t=e.get("style");return"arrow"===t?p[e.get("arrowstyle")]:h[t]},onActionShow:function(e,t){var n,s=this.animation;if(null==s){if(n=this.refs.innard.getTweens(),0===n.length)return;s=this.animation=new i({tweens:n,onComplete:this.onAnimationComplete,onReverseComplete:this.onAnimationReverseComplete}),this.refs.innard.trigger(l.animation.CREATED)}this.seekOffset=t.time,this.numLoops=0,s.play()},onActionHide:function(){this.teardownAnimation()},onAnimationComplete:function(){this.numLoops++,this.shouldLoop()&&this.animation[this.shouldReverse()?"reverse":"restart"]()},onAnimationReverseComplete:function(){this.animation.restart()},onTimelinePlaying:function(){var e=this.animation;null==e||e.isActive()||e.play()},onTimelinePaused:function(){var e=this.animation;null!=e&&e.isActive()&&e.pause()},onTimelineAfterSeekUpdate:function(e){var t,i,n,s,r=this.animation,o=(e-this.seekOffset)/1e3;null!=r&&(0>o?this.teardownAnimation():(t=r.duration(),i=Math.floor(o/t),this.numLoops=this.shouldReverse()?Math.floor((i+1)/2):i,this.shouldLoop()?(n=o%t,s=this.shouldReverse()&&i%2===1,r.reversed(s),s&&(n=t-n)):(r.reversed(!1),n=t),r.seek(n,!1)))},teardownAnimation:function(){return null!=this.animation&&(this.animation.kill(),this.animation=null,this.refs.innard.trigger(l.animation.DESTROYED)),this},shouldLoop:function(){var e=this.props.model.get("loopcount");return-1===e||this.numLoops<e},shouldReverse:function(){var e=this.props.model.get("animationtype");return"fade"===e||"bounce"===e||"stretch"===e}});return d}),define("views/presentation/SlideObject",["require","lodash","helpers/windowManager","views/helpers/dom","views/mixins/propertizable","views/mixins/decorateable","views/events/mouseEvents","views/mixins/mouseable","views/mixins/baseView","views/presentation/mixins/displayable","react","helpers/actions","helpers/events","helpers/utils","helpers/svg/svgUtils","views/helpers/collisionHelper","models/presentation/helpers/collisionMap","views/helpers/variableTextHelper","helpers/TransMatrix","polyfills/vendorOverrides","helpers/GsapTweenLite","helpers/keyManager","views/presentation/VectorSlideObject","views/presentation/ButtonSlideObject","views/presentation/PlaceHolderSlideObject","views/presentation/GroupingSlideObject","views/presentation/StateGroupSlideObject","views/presentation/ImageSlideObject","views/presentation/WebObjectSlideObject","views/presentation/ScrollAreaSlideObject","views/presentation/ExpandingLabelSlideObject","views/presentation/DropareaSlideObject","views/presentation/DragitemSlideObject","views/presentation/TextInputSlideObject","views/presentation/VideoSlideObject","views/presentation/DropListSlideObject","views/presentation/SequenceCtrlSlideObject","views/presentation/SlideFrameSlideObject","views/presentation/AnnotationSlideObject"],function(e){"use strict";var t=e("lodash"),i=e("helpers/windowManager"),n=e("views/helpers/dom"),s=e("views/mixins/propertizable"),r=e("views/mixins/decorateable"),o=e("views/events/mouseEvents"),a=e("views/mixins/mouseable"),l=e("views/mixins/baseView"),u=e("views/presentation/mixins/displayable"),c=e("react"),h=e("helpers/actions"),p=e("helpers/events"),d=e("helpers/utils"),f=e("helpers/svg/svgUtils"),m=e("views/helpers/collisionHelper"),g=e("models/presentation/helpers/collisionMap"),v=e("views/helpers/variableTextHelper"),y=e("helpers/TransMatrix"),b=e("polyfills/vendorOverrides"),w=e("helpers/GsapTweenLite"),S=e("helpers/keyManager"),x={VectorSlideObject:e("views/presentation/VectorSlideObject"),ButtonSlideObject:e("views/presentation/ButtonSlideObject"),PlaceHolderSlideObject:e("views/presentation/PlaceHolderSlideObject"),GroupingSlideObject:e("views/presentation/GroupingSlideObject"),StateGroupSlideObject:e("views/presentation/StateGroupSlideObject"),ImageSlideObject:e("views/presentation/ImageSlideObject"),WebObjectSlideObject:e("views/presentation/WebObjectSlideObject"),ScrollAreaSlideObject:e("views/presentation/ScrollAreaSlideObject"),ExpandingLabelSlideObject:e("views/presentation/ExpandingLabelSlideObject"),DropareaSlideObject:e("views/presentation/DropareaSlideObject"),DragitemSlideObject:e("views/presentation/DragitemSlideObject"),TextInputSlideObject:e("views/presentation/TextInputSlideObject"),VideoSlideObject:e("views/presentation/VideoSlideObject"),DropListSlideObject:e("views/presentation/DropListSlideObject"),SequenceCtrlSlideObject:e("views/presentation/SequenceCtrlSlideObject"),SlideFrameSlideObject:e("views/presentation/SlideFrameSlideObject"),AnnotationSlideObject:e("views/presentation/AnnotationSlideObject")},T=/\n/g,E={vectorshape:"Vector",button:"Button",objgroup:"Grouping",shufflegroup:"Grouping",image:"Image",webobject:"WebObject",stategroup:"StateGroup",scrollarea:"ScrollArea",expandinglabel:"ExpandingLabel",textinput:"TextInput",droparea:"Droparea",dragitem:"Dragitem",video:"Video",droplist:"DropList",sequencectrl:"SequenceCtrl",slideframe:"SlideFrame",annotation:"Annotation"},C={vectorshape:"vectorData.altText",scrollarea:"vectorData.altText",video:"videodata.altText",droplist:"textdata.altText",button:"textdata.altText",expandinglabel:"vectorData.altText"},A=["release","press","doubleclick","rightrelease","rightpress"],P=["releaseoutside","rollover","rollout"],_=b.handleWillChange||t.noop,I={image:"img",radio:"radio",checkbox:"checkbox",button:"button",slider:"slider",dial:"slider"},k={button:"button"},R=16,O=function(e){var t=E[e.kind()]||"PlaceHolder";return t+"SlideObject"},L=function(e){return t.pluck(e.events(),"kind").map(M)},M=function(e){return e.replace(/^on/,"")},D=function(e){var t=e.getPlayerPropsRaw();return t.ScaleX/=100,t.ScaleY/=100,(new y).adjustByViewProps(t)},N=function(e,t){var i=e.currView,n=null==i||null==i.tweenedConfig?D(e):t?i.tweenedConfig.matrix.copy():i.tweenedConfig.matrix;return n},V=c.createClass({displayName:"SlideObject",initialVisibility:!1,mixins:[l,s,r,a,u],shortEvents:{model:function(){var e={show:"showObject",hidden:"hideObject",getMousePosition:"updateMousePosition",moveTo:"moveTo",shown:"updateDecorators"};return e[h.SET_FOCUS]="onSetFocusAction",e}()},componentWillMount:function(){var e;this.isObscurable=this.props.model.isObscurableBySelf(),this.latestEvent=null,this.innardConfigs={vectorshape:{textHit:t.partial(this.textEvent,"onlinkrelease"),textOver:t.partial(this.textEvent,"onlinkrollover"),textOut:t.partial(this.textEvent,"onlinkrollout")}},e=x[O(this.props.model)],this.slideObjectInnard=e,this.setupVariableRefs(),this.setupShapeMask()},componentDidMount:function(){this.getAllRefs().registerEvents(),this.getPlayerProp("MouseOver")&&!this.isMousedOver()&&(this.triggerEvent({type:"rollout"}),this.setPlayerProp("MouseOver",!1)),this.renderShapeMask(),"swirl"===this.props.model.get("markerType")&&(this.markerAnimationTween=w.to(this.refs.markerAnimation,.6,{rotation:360,ease:"linear",onComplete:function(){this.markerAnimationTween.restart()}.bind(this)})),this.clearShowFns()},componentWillUpdate:function(e,t){this.state.ObjectState!==t.ObjectState&&this.setupVariableRefs()},componentDidUpdate:function(e,t){this.renderShapeMask(),t.accessibleText!==this.state.accessibleText&&document.activeElement===this.el&&(this.el.removeAttribute("role"),
this.el.blur(),this.el.focus(),this.el.setAttribute("role",this.getAriaRole()))},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges(),this.allRefs=null,null!=this.shapeMask&&(this.shapeMask.off(p.tween.UPDATE,this.renderShapeMask),this.props.model.off(p.tween.UPDATE,this.renderShapeMask)),null!=this.markerAnimationTween&&this.markerAnimationTween.kill()},getInnardConfigs:function(){return t.extend({ref:"innard",model:this.props.model,parent:this,playerProps:this.state,setPlayerProp:this.setPlayerProp,onScrollFocus:this.props.onScrollFocus,onBeforeScrollFocus:this.props.onBeforeScrollFocus,isInnard:!0,slideFrame:this.props.slideFrame,checkElso:this.props.checkElso,slideVisible:!!this.props.slideVisible,onElsoAction:this.props.onElsoAction},this.innardConfigs[this.props.model.kind()]||{},this.props.topOffset?{topOffset:this.props.topOffset}:{})},getAllRefs:function(){var e=this.findAllComponents("SlideObject");return this.allRefs=t.reject(e,function(e){return e.props.model.isGroupingSlideObject}).map(function(e){return e.props.model}),this},registerEvents:function(){var e=this.getRegisterableEvents();return t.forEach(e,function(e){this.registerEvent(e,this.triggerEvent)}.bind(this)),g.registerCollisions(this.props.model),this},setupVariableRefs:function(){var e,t=C[this.props.model.kind()];this.accessibleTextTemplate=null!=t?d.getPath(this.props.model.getCurrentStateData(),t):this.props.model.get("altText"),e=v.parseTemplate(this.accessibleTextTemplate),this.updateVarText=e.updateString,this.updateAccessibleText(),this.stopListeningToVarChanges=e.addListeners(this.props.model,this.updateAccessibleText)},setupShapeMask:function(){var e=this.shapeMask=this.props.model.getShapeMask();return null!=e&&(e.isShapeMask=!0,this.props.model.isShapeMasked=!0,e.on(p.tween.UPDATE,this.renderShapeMask),this.props.model.on(p.tween.UPDATE,this.renderShapeMask)),this},renderShapeMask:function(){var e=this.shapeMask;if(null!=e){var t=N(this.shapeMask),i=N(this.props.model,!0);this.applyShapeMask(t,i)}return this},applyShapeMask:function(e,t){var i=t.invert().append(e),n=this.shapeMask,s=n.prop("width"),r=n.prop("height"),o=i.transform(0,0),a=i.transform(s,r),l=[o.y,a.x,a.y,o.x].map(d.pxify);return null!=this.el&&(this.el.style.clip=["rect(",l.join(","),")"].join("")),this},updateDecorators:function(){this.callLifeCycleEvent("onAfterShow")},moveTo:function(e,t){this.setPlayerProp({RawXPos:e,RawYPos:t})},updateMousePosition:function(e){var t=i.getCurrentWindow().getCurSlide();this.props.model.adjustVariables({name:e.xvar.value,value:t.mouseX},{name:e.yvar.value,value:t.mouseY})},updateFromTween:function(){var e;return null!=this.tweenedConfig&&(e=null!=this.animationOverride?this.animationOverride.adjustProps(t.clone(this.tweenedConfig.props)):this.tweenedConfig.props,this.setPlayerProp(e)),this},applyStylesDirectly:function(){t.extend(this.el.style,this.getStyles())},getAnimationResumeState:function(){var e=["RawXPos","RawYPos","ScaleX","ScaleY","Rotation","Alpha"];return t.reduce(e,function(e,t){return e[t]=this.getPlayerProp(t),e}.bind(this),{})},showObject:function(){this.updateTrueVisibility(!0),this.htmlReady(function(){this.props.hideShowCallback&&this.props.hideShowCallback(),this.isMounted()&&m.transformUpdated(this,!0)}.bind(this))},hideObject:function(){this.htmlReady(function(){this.props.hideShowCallback&&this.props.hideShowCallback(),this.isMounted()&&m.transformUpdated(this,!0)}.bind(this)),this.updateTrueVisibility(!1)},getRegisterableEvents:function(){var e=t.intersection(t.keys(o),L(this.props.model)),i=t.contains(e,"rollover");return i!==t.contains(e,"rollout")&&(i?e.push("rollout"):(e.push("rollover"),i=!0)),i&&(e=t(e).without("rollover").unshift("rollover").value()),e},shouldFireEvent:function(e,i){var n=!0,s=this.refs.innard;return null!=s&&t.isFunction(s.isClickDefAllowed)&&(n=s.isClickDefAllowed(i.target,e)),!this.dragging&&n&&(!t.contains(P,e)||this.latestEvent!==e)},triggerEvent:function(e){var t,i=e.type;this.state.Enabled&&(t=e.origEvent,t||(t=e),this.shouldFireEvent(i,t)&&("rollover"===i&&this.setPlayerProp("MouseOver",!0),this.latestEvent=i,this.props.model.executePlayerEvent("on"+i),"rollout"===i&&this.setPlayerProp("MouseOver",!1)))},cursorByType:function(){var e=this.props.model;return e.isDraggable()||e.isZoomable()||e.isWebObject()||e.isSlideable()},showCursor:function(){return this.props.model.isCorrectIncorrectReview()||this.props.model.get("useHandCursor")===!1?!1:!t(A).intersection(L(this.props.model)).isEmpty()||this.cursorByType()},cursorClass:function(){return this.state.Enabled?this.showCursor()?"cursor-hover":"":"cursor-default"},textEvent:function(e,t){this.props.model.executeFilteredPlayerEvent(function(e){return e.triggerid===t},e)},getDepth:function(){var e=this.props.model;return e.isKind("shufflegroup")?null:e.isKind("annotation")&&"spotlight"===e.get("style")?1e4:e.prop("depth")},getRotation:function(){return null!=this.tweenedConfig?this.tweenedConfig.props.Rotation:this.props.model.get("rotation")},getPosition:function(){return null!=this.tweenedConfig?{x:this.tweenedConfig.props.RawXPos,y:this.tweenedConfig.props.RawYPos}:{x:this.props.model.playerProps.get("RawXPos"),y:this.props.model.playerProps.get("RawYPos")}},getStyles:function(){var e,i,n=this.getGlobalRotation(),s={xPos:"xOffset",yPos:"yOffset"},r=this.props.model.getCurrentStateData(),o=null!=r&&null!=r.html5data,a=this.props.model.get("cliptobounds"),l=function(e){return o&&!a?r.html5data[e]:this.getPath("props.model."+(s[e]||e))}.bind(this);return e={zIndex:this.getDepth(),width:l("width"),height:l("height"),opacity:d.pctToDec(this.state.Alpha)},a&&(e.overflow="hidden"),this.actualHeight=e.height,this.actualWidth=e.width,this.props.model.isKind("shufflegroup")||(e[this.cssTransformOrigin]=[this.state.rotateXPos,"px ",this.state.rotateYPos,"px"].join(""),i=0!==n&&this.state.ScaleX!==this.state.ScaleY,e[this.cssTransform]=t.compact([f.transformTranslate(this.state.RawXPos+"px",this.state.RawYPos+"px"),f.transformRotate(this.state.Rotation+"deg"),i?f.transformRotate(-n+"deg"):"",f.transformScale(this.state.ScaleX/100,this.state.ScaleY/100),i?f.transformRotate(n+"deg"):""]).join(" ")),this.props.model.isTweenable()&&_(e),e},getGlobalRotation:function(){for(var e=this.props.model,t=0;e;)e.isSlideObject&&(t+=e.playerProps.get("Rotation")),e=e.parent;return t},hasElsoMethod:function(){return t.isFunction(this.props.checkElso)},onSetFocusAction:function(e,t){S.focusItem(this,!e.showrect)},releaseFocus:function(e){this.hasElsoMethod()&&this.props.checkElso()&&this.props.onElsoAction(!1),this.refs.innard&&this.refs.innard.innardRelease?this.refs.innard.innardRelease(e):this.el.blur(),this.setState({tabFocused:!1})},stealFocus:function(e,i){this.props.onBeforeScrollFocus&&this.props.onBeforeScrollFocus(i),this.refs.innard&&this.refs.innard.innardFocus?this.refs.innard.innardFocus(e):this.el.focus(),i||this.setState({tabFocused:!0}),this.props.onScrollFocus&&this.props.onScrollFocus(this),t.toArray(document.querySelectorAll(".slide-layer")).forEach(function(e){e.scrollLeft=0,e.scrollTop=0})},actionKeyCallback:function(e){var i,n=!1;if(this.hasElsoMethod()&&this.props.checkElso())return this.props.onElsoAction(!0,e),!0;if(this.refs.innard&&this.refs.innard.actionKeyCallback)return this.refs.innard.actionKeyCallback(e);i=this.props.model;do i.isEventable&&t.some(i.events(),{kind:"onrelease"})&&(n=!0,i.executePlayerEvent("onrelease")),i=i.parent;while(null!=i&&!i.isKind("expandinglabel"));return n},treeKeyCallback:function(e,t){var i=this.refs.innard&&this.refs.innard.treeKeyCallback;return i?i(e,t):!1},getAccessibleText:function(){return(this.state.accessibleText||"").replace(T," ")},updateAccessibleText:function(){this.setState({accessibleText:this.updateVarText(this.props.model)})},getAriaRole:function(){var e=this.props.model.get("accType"),t=I[e];return null!=t?t:k[this.props.model.kind()]||null},isAccTypeText:function(){return"text"===this.props.model.get("accType")},getAriaLabel:function(){return this.isAccTypeText()?null:this.getAccessibleText()||""},getIsAriaChecked:function(){var e=this.getAriaRole(),t=this.props.model.getCurrentStateData();return"radio"!==e&&"checkbox"!==e||null==t?null:(t.accState&R)>0},isFocusable:function(){var e=this.props.model,t=e.get("tabEnabled"),i=e.prop("tabIndex"),n=e.isKind("slideframe");return t&&i>=0&&!n},getFocusTarget:function(){var e=this.refs.innard;return this.isFocusable()?this:null!=e.getFocusTarget?e.getFocusTarget():void 0},getLayer:function(){return this.parentLayer=this.parentLayer||n.closest(this.el,function(e){return e.classList.contains("slide-layer")}),this.parentLayer},isMousedOver:function(){var e=this.el.getBoundingClientRect();return d.pointInRect(n.mouseX,n.mouseY,[[e.left,e.top],[e.width,e.height]])},clearShowFns:function(){var e,i=this.props.model;if(!t.isEmpty(i.showFns))for(;e=i.showFns.shift();)e.call(i)}});return V}),define("views/mixins/accTree",["require","lodash","polyfills/detection","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/detection"),n=e("helpers/utils"),s={componentWillMount:function(){null==this.toggleCarrot&&(this.toggleCarrot=t.noop)},stealFocus:function(e,n){i.isMobile||(n||this.setState({tabFocused:!0}),this.treeItems=this.findAll(".list-item"),this.treeItems.length&&(this.currentFocus=this.currentFocus||(t.isFunction(this.getFocusedTreeItem)?this.getFocusedTreeItem():t.find(this.treeItems,function(e){return e.classList.contains("cs-selected")||e.parentNode.classList.contains("cs-selected")}))||t.first(this.treeItems),this.currentFocus.focus(),this.focusIndex=this.treeItems.indexOf(this.currentFocus)))},releaseFocus:function(e){this.currentFocus&&this.currentFocus.blur(),this.setState({tabFocused:!1})},getNextTreeItemIndex:function(e){var t=this.focusIndex,i=this.treeItems.length;return i>0&&(t+=e?1:-1,t=n.clamp(0,i-1,t)),t},treeKeyCallback:function(e,t,i){return i.LEFT||i.RIGHT?(this.toggleCarrot(i),!0):(this.focusIndex=this.getNextTreeItemIndex(t),this.currentFocus=this.treeItems[this.focusIndex],null!=this.currentFocus&&this.currentFocus.focus(),!0)},actionKeyCallback:function(e,t){t||null==this.currentFocus||this.currentFocus.click()}};return s}),define("views/player/GlossaryTerms",["require","react","lodash","views/mixins/baseView","views/mixins/accTree"],function(e){"use strict";var t=e("react"),i=e("lodash"),n=e("views/mixins/baseView"),s=e("views/mixins/accTree"),r=t.createClass({displayName:"GlossaryTerms",mixins:[n,s],componentDidUpdate:function(){this.el.scrollTop=this.scrollTop},getFocusTarget:function(){return this.scrollTop=this.el.scrollTop,this},termChosen:function(e,t){this.props.onTermChosen(e)},getFocusedTreeItem:function(){var e=i.find(this.treeItems,function(e){return e.parentNode.classList.contains("cs-selected")});return e&&e.parentNode}});return r}),define("views/player/GlossaryDefinition",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"GlossaryDefinition",mixins:[i],getFocusTarget:function(){return this}});return n}),define("views/player/Bottombar",["require","react","views/player/mixins/appStateable","helpers/pubSub","lodash","helpers/windowManager","views/mixins/baseView","helpers/events","views/player/mixins/fullScreenable"],function(e){"use strict";var t,i=e("react"),n=e("views/player/mixins/appStateable"),s=e("helpers/pubSub"),r=e("lodash"),o=e("helpers/windowManager"),a=e("views/mixins/baseView"),l=e("helpers/events"),u=e("views/player/mixins/fullScreenable"),c=i.createClass({displayName:"Bottombar",mixins:[a,n,u],stateableValues:{seekbar:void 0,volume:void 0,pauseplay:void 0},getInitialState:function(){return{caption:!1}},toggleCaptionButton:function(e){o.isLightBoxActive()||this.setState({caption:e})},componentWillMount:function(){t=this.getPath("props.player.controlOptions.controls");var e=t.get("closed_captions");null!=e&&e===!1?this.setState({caption:!1}):(this.showCaptionButton=r.partial(this.toggleCaptionButton,!0),this.hideCaptionButton=r.partial(this.toggleCaptionButton,!1),s.on(l.captions.SHOW_BUTTON,this.showCaptionButton),s.on(l.captions.HIDE_BUTTON,this.hideCaptionButton))},componentWillUnmount:function(){s.off(l.captions.SHOW_BUTTON,this.showCaptionButton),s.off(l.captions.HIDE_BUTTON,this.hideCaptionButton)},isReadOnly:function(){return!!t.get("readonly")},hasVolume:function(){return!!this.state.stateable_volume},hasSeekbarArea:function(){var e=!!this.state.stateable_seekbar||!!this.state.stateable_pauseplay,t=e?"remove":"add";return document.body.classList[t]("no-seek"),e},hasCaption:function(){return!!this.state.caption}});return c}),define("views/presentation/VectorBackground",["require","react","views/mixins/baseView","helpers/svg/svgManager"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/svg/svgManager"),s=t.createClass({displayName:"VectorBackground",mixins:[i],template:function(){var e=this.props.vectorData,t=e.left,i=e.top,s=e.right-e.left,r=e.bottom-e.top;return n.getSvgNode({commandsetId:e.pr.i,libId:e.pr.l,bounds:{xPos:t,yPos:i,fullX:t,fullY:i,height:r,width:s,fullHeight:r,fullWidth:s}},this)}});return s}),define("views/presentation/SlideWindowBackground",["require","react","helpers/assetManager","views/mixins/baseView","helpers/utils","views/presentation/VectorBackground"],function(e){"use strict";var t=e("react"),i=e("helpers/assetManager"),n=e("views/mixins/baseView"),s=e("helpers/utils"),r=e("views/presentation/VectorBackground"),o={swf:"renderAsset",vector:"renderVector"},a=t.createClass({displayName:"SlideWindowBackground",mixins:[n],renderBackground:function(){return this[o[this.props.bg.type]]()},renderVector:function(){return t.createElement(r,{vectorData:this.props.bg.vectorData})},renderAsset:function(){return t.DOM.div({className:"slide-window-background-asset",style:{backgroundImage:s.toCssUrl(i.getAssetUrl(this.props.bg.imagedata.assetId))}})}});return a}),define("views/player/Captions",["require","react","helpers/pubSub","polyfills/detection","polyfills/vendorOverrides","lodash","helpers/events","helpers/captionsManager","helpers/windowManager","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("helpers/pubSub"),n=e("polyfills/detection"),s=e("polyfills/vendorOverrides"),r=e("lodash"),o=e("helpers/events"),a=e("helpers/captionsManager"),l=e("helpers/windowManager"),u=e("views/mixins/baseView"),c=s.positionCaptions||r.noop,h=t.createClass({displayName:"Captions",mixins:[u],getDefaultProps:function(){return{fontscale:100}},getInitialState:function(){return{captions:[],font:a.getCaptionFont()}},componentWillMount:function(){i.on(o.captions.RENDER,this.onData)},componentWillUnmount:function(){i.off(o.captions.RENDER,this.onData)},onData:function(e){n.isMobile&&l.isLightBoxActive()?this.el.style.zIndex=999:this.el.style.zIndex=1,!n.isMobile&&e.length>0&&l.isLightBoxActive()&&this.props.lightboxed!==!0||this.setState({captions:e},r.partial(c,this.el))},toHtml:function(e){var t,i,n,s,r=document.createElement("div");for(r.appendChild(e.cloneNode(!0)),i=r.querySelectorAll("q[data-voice]"),s=0;s<i.length;s++)n=i[s],t=n.getAttribute("data-voice"),n.innerHTML=[t,":"," ",n.innerHTML].join("");return r.innerHTML.replace(/&amp;/g,"&")}});return h}),define("views/player/UiMobile",["require","lodash","react","react-dom","views/player/mixins/appStateable","views/mixins/baseView","polyfills/detection","helpers/events","helpers/pubSub","views/mixins/mouseable","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("react-dom"),s=e("views/player/mixins/appStateable"),r=e("views/mixins/baseView"),o=e("polyfills/detection"),a=e("helpers/events"),l=e("helpers/pubSub"),u=e("views/mixins/mouseable"),c=e("helpers/constants"),h=i.createClass({displayName:"UiMobile",mixins:[r,s,u],subscriptions:function(){var e={};return e[a.request.NEXT_SLIDE]="onRequestingNextSlide",e[a.detection.ORIENTATION_CHANGE]="onOrientationChange",e[a.popup.SHOW]="onPresenterPanelShow",e[a.customlink.EVENT]="onCustomLink",e[a.presentation.ENTER_FULLSCREEN]="onEnterFullscreen",e[a.presentation.EXIT_FULLSCREEN]="onExitFullscreen",e}(),getIntialState:function(){return{orientation:null,isActive:!1,showMenu:!1,showTab:!1,showSearch:!1,isFs:!1}},componentDidMount:function(){this.setupUi()},setupUi:function(){this.updateOrientation(),this.registerEvent("clickoutside",this.onClickOffMenu,this.find(".content-menu"))},onClickOffMenu:function(e){var t=n.findDOMNode(this.refs["menu-handle"]),i=t===e.target||t.contains(e.target);!this.state.showMenu||this.isLandscape()||i||this.toggleMenu()},onOrientationChange:function(){this.updateOrientation()},onRequestingNextSlide:function(){this.deactivateUi()},onPresenterPanelShow:function(){this.deactivateUi()},onTabChange:function(){this.setState({showTab:!0,showMenu:this.isLandscape()})},shouldShowLandscapeMenu:function(){return"landscape"===o.orientation&&this.state.showTab&&!this.state.showMenu},shouldHidePortraitMenu:function(){return"portrait"===o.orientation&&this.state.showMenu},updateOrientation:function(){this.shouldShowLandscapeMenu()?this.toggleMenu():this.shouldHidePortraitMenu()&&this.setState({showMenu:!1}),this.find(".content-menu").style.display=this.isLandscape()?"":"none",this.setState({orientation:o.orientation})},isLandscape:function(){return"landscape"===o.orientation},onHamburgerTouchEnd:function(e){this.toggleMenu(),e.preventDefault()},toggleMenu:function(){var e=!this.state.showMenu,t=this.isLandscape()?e:this.state.showTab,i=e||t;this.isLandscape()||t||this.refs.sidebar.setState({activeTab:null}),this.refs.sidebar.checkEmptyTabs(),i&&t&&l.trigger(a.mobile.MENU_OPEN),this.handleHideShow(e),this.htmlReady(function(){this.setState({isActive:i,showMenu:e,showTab:t})}.bind(this))},handleHideShow:function(e){var t=this.find(".content-menu");e||this.isLandscape()?(clearTimeout(this.hideTimeout),t.style.display=""):(clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(function(){t.style.display="none"},c.MOBILE_ANIMATION_DURATION))},onToggleSearchUi:function(){var e=!this.state.showSearch;e||this.clearSearch(),this.setState({showSearch:e})},clearSearch:function(){var e=this.findComponent("Menu");e.onClearSearch()},closeTab:function(){this.setState({showTab:!1}),this.find(".content-menu").style.display="none"},onCustomLink:function(){this.toggleMenu()},deactivateUi:function(){this.setState({isActive:!1,showMenu:!1,showTab:!1})},toggleFullScreen:function(e){this.setState({isFs:e})}});return t.extend(h.prototype,{onEnterFullscreen:t.partial(h.prototype.toggleFullScreen,!0),onExitFullscreen:t.partial(h.prototype.toggleFullScreen,!1)}),h}),define("collections/player/Links",["require","collections/BaseCollection","helpers/pubSub","helpers/events","helpers/utils","helpers/resolver"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("helpers/pubSub"),n=e("helpers/events"),s=e("helpers/utils"),r=e("helpers/resolver"),o=t.extend({initialize:function(e,t){this.origModels=e},findDeep:function(e){var t;return this.forEach(function(i){return t=i.findDeep(e),!t}),t},hasChildSlide:function(e){return!!this.findWhere({slideid:e})},prepareDrawSlides:function(e,t){i.once(n.data.INITIALIZED,this.setDrawSlides.bind(this,e,t))},setDrawSlides:function(e,t){var i=r.resolvePath(s.prefixWithPlayer(t),this),o=this.setDrawLinks.bind(this,e);this.listenTo(i,n.slide.CHANGE,o),null!=i.slides()&&o(i,i.slides())},setDrawLinks:function(e,t,i){var n=this.slice(),s=e.spliceNum||1;e.linkIndex=null!=e.linkIndex?e.linkIndex:this.indexOf(e),n.splice.apply(n,[e.linkIndex,s].concat(i.map(this.createNewLink))),e.spliceNum=i.length,this.reset(n)},createNewLink:function(e){var t={kind:"slidelink",expand:!1,type:"slide"};return t.slideid=e.absoluteId,t.slidetitle=t.displaytext=e.get("title"),t}});return o}),define("views/player/SearchOptions",["require","lodash","react","views/mixins/baseView","helpers/resolver","helpers/utils","collections/player/Links","helpers/constants","views/helpers/dom"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("helpers/resolver"),r=e("helpers/utils"),o=e("collections/player/Links"),a=e("helpers/constants"),l=e("views/helpers/dom"),u=function(e){return r.prefixWithPlayer(e)},c=function(e,t){return e.chain().filter(function(e){return t.test(r.stripTags(e.get("content")))}).invoke("get","slideId").map(u).value()},h=function(e,i){return t(e).filter(function(e){return i.test(e.Text)}).pluck("slideid").map(u).value()},p={cbNotes:"notes",cbText:"text"},d=i.createClass({displayName:"SearchOptions",mixins:[n],stringTitles:{filter:"filter",search_clear:"clear",search_in:"search_in",search_results:"search_results",slide_notes:"transcript_chk",slide_text:"slide_text_chk"},getInitialState:function(){return{notes:!0,text:!0,searchOptionsVisible:!1}},handleChangeNotes:function(e){this.setState({notes:e.target.checked})},handleChangeText:function(e){this.setState({text:e.target.checked})},toggleSearchOptions:function(e){this.setState({searchOptionsVisible:!this.state.searchOptionsVisible}),null!=e&&e.preventDefault()},toggleCheckbox:function(e){var i={};t.forOwn(p,function(t,n){e===this.refs[n]&&(i[t]=!this.state[t])}.bind(this)),this.setState(i)},performSearch:function(e){var i,n,a,l=[],u=[],p=new RegExp(e,"i");return this.state.notes&&(l=c(this.props.notesData,p)),this.state.text&&(u=h(this.props.searchData,p)),i=t.union(l,u),n=i.map(function(e){var t=r.prefixWithPlayer(e),i=s.resolvePath(t);return{slideid:t,displaytext:i.get("title"),expand:!1,type:"slide"}}),a=this.props.links.reduce(function d(e,n){var s=n.get("slideid"),r=s.split(".").length<=2,o=n.get("links");return t.contains(i,s)||r||!p.test(n.get("displaytext"))||e.push(n),o&&o.length&&o.reduce(d,e),e},n),new o(a)},getTabbableItems:function(){t.forOwn(this.refs,function(e){e.dsFocusController=this}.bind(this)),this.props.addFocusObjects([t.assign(this.refs.btnFilter,{idx:a.tabIndices.SEARCH_FILTER}),t.assign(this.refs.cbNotes,{idx:a.tabIndices.SEARCH_NOTES}),t.assign(this.refs.cbText,{idx:a.tabIndices.SEARCH_TEXT})])},getFocusTarget:function(e){return t.find(this.refs,function(t){return!!l.closest(e.target,function(e){return e===t})})},stealFocus:function(e,t){t||this.setState({btnFilterFocus:e===this.refs.btnFilter,cbNotesFocus:e===this.refs.cbNotes,cbTextFocus:e===this.refs.cbText}),e.focus()},releaseFocus:function(e){this.setState({btnFilterFocus:!1,cbNotesFocus:!1,cbTextFocus:!1}),e.blur()},actionKeyCallback:function(e){e===this.refs.btnFilter?this.toggleSearchOptions():this.toggleCheckbox(e)}});return d}),define("views/player/SearchResults",["require","lodash","react","views/mixins/baseView","views/mixins/accTree","helpers/utils","helpers/keyManager","tween-lite","views/helpers/dom","helpers/constants","helpers/pubSub","helpers/windowManager","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("views/mixins/accTree"),r=(e("helpers/utils"),e("helpers/keyManager")),o=(e("tween-lite"),e("views/helpers/dom")),a=e("helpers/constants"),l=(e("helpers/pubSub"),e("helpers/windowManager"),e("polyfills/detection"),i.createClass({displayName:"SearchResults",mixins:[n,s],reset:function(){this.currentFocus=void 0},componentWillReceiveProps:function(e){this.props.showChildren!==e.showChildren&&(r.moveFocusObject(this,e.showChildren?a.tabIndices.SEARCH_INPUT:a.tabIndices.SEARCH_CLEAR),this.reset())},getTabbableItems:function(){this.props.addFocusObjects([t.assign(this,{idx:a.tabIndices.SEARCH_RESULTS_TREE_MODE})])},onClickMenuItem:function(e){this.currentFocus=e.currentTarget,this.stealFocus(this)},getFocusTarget:function(){return this},toggleCarrot:function(e){var t,i,n=this.currentFocus.querySelector(".icon-carrot");null!=n&&(t=o.closest(this.currentFocus,function(e){return o.hasClass(e,"item-collapsible")}),i=o.hasClass(t,"outline-links-collapse"),(i&&e.RIGHT||!i&&e.LEFT)&&n.click())}}));return l}),define("views/player/SearchFooter",["require","react","react-dom","helpers/constants","views/mixins/baseView","lodash","views/player/mixins/appStateable","views/helpers/dom","helpers/keyManager"],function(e){"use strict";var t=e("react"),i=e("react-dom"),n=e("helpers/constants"),s=e("views/mixins/baseView"),r=e("lodash"),o=e("views/player/mixins/appStateable"),a=e("views/helpers/dom"),l=e("helpers/keyManager"),u=t.createClass({displayName:"SearchFooter",mixins:[s,o],stringTitles:{acc_search_input:"acc_search_input",search_clear:"clear",search:"search"},stateableValues:{"outline.search":void 0},getTabbableItems:function(){r.forOwn(this.refs,function(e,t){e.dsFocusController=this}.bind(this)),this.props.addFocusObjects([r.assign(this.refs.searchInput,{idx:n.tabIndices.SEARCH_INPUT}),r.assign(this.refs.searchSubmit,{idx:n.tabIndices.SEARCH_SUBMIT}),r.assign(this.refs.searchClear,{idx:n.tabIndices.SEARCH_CLEAR})])},getFocusTarget:function(e){return r.find(this.refs,function(t){return!!a.closest(e.target,function(e){return e===t})})},getInitialState:function(){return{searchInput:""}},search:function(e){null!=e&&e.preventDefault(),this.props.onSearch(this.state.searchInput)},handleChange:function(e){this.setState({searchInput:e.target.value})},clearSearch:function(e){null!=e&&e.preventDefault(),this.setState({searchInput:""}),this.props.onClearSearch()},stealFocus:function(e,t){t||this.setState({clearFocus:e===this.refs.searchClear,inputFocus:e===this.refs.searchInput,submitFocus:e===this.refs.searchSubmit}),i.findDOMNode(e).focus()},releaseFocus:function(e){this.setState({clearFocus:!1,inputFocus:!1,submitFocus:!1}),i.findDOMNode(e).blur()},onInputKeyDown:function(e){l.keys.ENTER&&this.search(e)},actionKeyCallback:function(e,t){(e===this.refs.searchInput&&t||e===this.refs.searchSubmit)&&this.search(),e===this.refs.searchClear&&this.clearSearch()}});return u}),define("views/player/MenuLinksListItem",["require","lodash","react","views/mixins/baseView","helpers/utils","polyfills/detection","helpers/constants","helpers/resolver","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=(e("helpers/utils"),e("polyfills/detection")),r=e("helpers/constants"),o=e("helpers/resolver"),a=e("helpers/events"),l=e("helpers/pubSub"),u=i.createClass({displayName:"MenuLinksListItem",mixins:[n],subscriptions:function(){var e={};return e[a.window.MAIN_CHANGED]="onSlideChanged",e[a.player.RESET]="onPlayerReset",e}(),getInitialState:function(){return{showChildren:!0,expanded:this.getPath("props.link.expand")}},componentDidMount:function(){this.visuallyRestrictMenu()},componentDidUpdate:function(e){var i=this.props.link.get("slideid"),n=this.isSlideSelected(i),s=t.last(e.visitedSlides)===i;n&&!s&&this.onSelectMenuItem(),this.visuallyRestrictMenu()},linkSlide:function(e){return"#"+e},isActionLink:function(){return this.props.link.isActionLink},isSlideSelected:function(e){return t.last(this.props.visitedSlides)===e},hasSlideBeenViewed:function(e){return!this.isSlideSelected(e)&&t.contains(this.props.visitedSlides,e)},isSlideCorrect:function(e){if(!this.props.link.isActionLink&&!t.isEmpty(e)){var i,n=o.resolvePath(e),s=n&&n.isSlide;if(s&&n.getInteractionAttempted()&&(i=n.get("showMenuResultIcon"),i===!0))return n.getInteractionStatus()}},isSlideViewedOrCurrentParent:function(e){return this.props.link.isImmediateParent&&!this.isSlideSelected(e)||this.hasSlideBeenViewed(e)},hasChildren:function(){return this.props.link.links().length>0},visuallyRestrictMenu:function(){if(s.isMobile){var e=this.props.link.get("slideid"),t=this.linkSlide(e),i=this.hasChildren()&&this.props.shouldKillLink(t,!0);this.setState({itemRestricted:i})}},onSlideChanged:function(e){var t,i=this.props.collapsible,n=this.props.visitedSlides,r=n.slice(0,n.length-1),o=e.absoluteId,a=this.props.link.hasChild(o);if(a)for(this.setImmediateParent(!0),this.toggle(!0),t=this.props.parentItem;null!=t;)t.toggle&&t.toggle(!0),t=t.props&&t.props.parentItem;if(r.length>0&&this.props.hasAnyLink(o)){s.isMobile&&(i=!1);var l=this.props.link.isOrHasChild(o),u=r.some(this.props.link.isOrHasChild.bind(this.props.link));i&&u&&!l?this.toggle(!1):l&&this.toggle(!0)}this.resetTouched()},resetTouched:function(){setTimeout(function(){this.setState({touched:!1})}.bind(this),r.MOBILE_ANIMATION_DURATION)},onSelectMenuItem:function(){this.props.onSelectMenuItem&&(this.props.onSelectMenuItem(this),s.isMobile&&this.setState({touched:!0})),l.trigger(a.menuLinksListItem.ITEM_SELECTED)},onTouchEnd:function(){this.resetTouched()},toggle:function(e){return this.setState({expanded:t.isBoolean(e)?e:!this.state.expanded}),this},setImmediateParent:function(e){this.props.link.isImmediateParent=e},getAutoNumber:function(){for(var e=this.props.link,t="",i=function(e){return e.index()+1+"."};e;)t=i(e)+t,e=null!=e.parent&&e.parent.isKind("slidelink")&&e.parent;return t+" "},onPlayerReset:function(){this.forceUpdate()}});return u}),define("views/player/MenuLinksList",["require","lodash","helpers/utils","react","views/mixins/baseView"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils"),e("react")),i=e("views/mixins/baseView"),n=t.createClass({displayName:"MenuLinksList",mixins:[i],getDefaultProps:function(){return{level:1}},getAriaRole:function(){return 1===this.props.level?"tree":"group"}});return n}),define("views/player/NotesHeader",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"NotesHeader",mixins:[i]});return n}),define("views/player/NotesList",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"NotesList",mixins:[i],componentDidMount:function(){this.updateAriaLabel()},componentDidUpdate:function(){this.updateAriaLabel()},updateAriaLabel:function(){return this.el.setAttribute("aria-label",this.el.textContent),this}});return n}),define("views/player/PlayPauseButton",["require","react","helpers/constants","views/mixins/baseView","lodash","polyfills/detection","views/helpers/dom","helpers/events","helpers/keyManager"],function(e){"use strict";var t=e("react"),i=e("helpers/constants"),n=e("views/mixins/baseView"),s=e("lodash"),r=e("polyfills/detection"),o=e("views/helpers/dom"),a=e("helpers/events"),l=e("helpers/keyManager"),u=t.createClass({displayName:"PlayPauseButton",mixins:[n],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},subscriptions:function(){var e={};return e[a.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",e}(),componentDidMount:function(){r.isMobile&&(this.shouldShowCircularProgress(),window.addEventListener("resize",this.onReflow))},componentWillMount:function(){this.props.timeline&&this.watchTimelineChanges()},componentWillUnmount:function(){window.removeEventListener("resize",this.onReflow)},stateableValuesUpdated:function(e){e!==this.prevLayout&&(this.shouldShowCircularProgress(),this.prevLayout=e)},getTabbableItems:function(){return[s.assign(this,{idx:i.tabIndices.PLAYBACK_PLAY,indexGroupName:"PlayerControlButton"})]},getInitialState:function(){return{isPlaying:this.props.timeline?this.props.timeline.isPlaying():!1}},listenToTick:function(){null!=this.props.timeline&&this.listenTo(this.props.timeline,a.timeline.TICK,this.onTick)},onTick:function(e){this.setState({progress:e})},watchTimelineChanges:function(){this.stopListening(this.props.timeline),this.listenTo(this.props.timeline,[a.timeline.PLAYING,a.timeline.PAUSED,a.timeline.ENDED].join(" "),this.onPlaybackStateChange),r.isMobile&&this.listenToTick()},onPlaybackStateChange:function(e){var t=e&&e.override;this.setState({isPlaying:t||"playing"===this.props.timeline.playbackState()})},onTouchStart:function(e){o.tappedClass(e.currentTarget)},toggle:function(e){this.props.timeline.togglePlayback(),r.isMobile&&this.props.timeline.hasFinished()&&(this.props.timeline.reset(),
this.onPlaybackStateChange())},onReflow:function(){this.shouldShowCircularProgress()},shouldShowCircularProgress:function(){this.htmlReady(this.hideShowCircularProgress)},hideShowCircularProgress:function(){var e,t=this.el.nextSibling;t&&(e="portrait"===r.orientation&&t.getBoundingClientRect().width<i.MOBILE_UI_SIZE,t.style.display=e?"none":"",this.setState({showCircleProgress:e}))},componentDidUpdate:function(e){e.timeline!==this.props.timeline&&(this.watchTimelineChanges(),this.setState({isPlaying:this.props.timeline.isPlaying()}))},onFrameControlKey:function(e){var t,i=l.getCurrentItem(),n=o.hasClass(document.body,"curr-slide-locked");i&&i.el&&(t=i.el.getAttribute("id","panel-outline")),t&&n||e.SPACE&&this.toggle()},actionKeyCallback:function(){return this.toggle(),!0}});return u}),define("views/player/PlaybackProgress",["require","react","helpers/constants","lodash","views/mixins/baseView","helpers/events","polyfills/detection"],function(e){"use strict";var t=e("react"),i=e("helpers/constants"),n=e("lodash"),s=e("views/mixins/baseView"),r=e("helpers/events"),o=e("polyfills/detection"),a=5e3,l=t.createClass({displayName:"PlaybackProgress",mixins:[s],getTabbableItems:function(){return[n.assign(this,{idx:i.tabIndices.PLAYBACK_PROGRESS,indexGroupName:"PlayerControlButton"})]},getInitialState:function(){return{progress:0}},componentDidMount:function(){this.inputEl=this.find("input"),o.isMobileAndNotPreview&&(this.inputEl.style.pointerEvents="none",this.el.addEventListener("touchmove",this.onSeekMobile),this.el.addEventListener("touchstart",this.onSeekMobile),this.el.addEventListener("touchend",this.onMouseUp))},componentWillMount:function(){this.listenToTick()},componentDidUpdate:function(e){e.timeline!==this.props.timeline&&(this.stopListening(e.timeline),this.listenToTick(),null!=this.props.timeline&&this.onTick(this.props.timeline.progress()))},componentWillUnmount:function(){o.isMobileAndNotPreview&&(this.el.removeEventListener("touchmove",this.onSeekMobile),this.el.removeEventListener("touchstart",this.onSeekMobile))},onSeekMobile:function(e){var t,i;e.preventDefault(),e.stopPropagation(),this.isTabbable()&&e.touches&&1===e.touches.length&&("touchstart"===e.type&&this.onMouseDown(),t=this.el.getBoundingClientRect(),i=(e.touches[0].pageX-t.left)/t.width,i=Math.min(Math.max(0,i),1),this.inputEl.value=i,this.onSeek())},listenToTick:function(){null!=this.props.timeline&&(this.listenTo(this.props.timeline,r.timeline.TICK,this.onTick),this.onTick(this.props.timeline.progress()))},onTick:function(e){this.setState({progress:e})},onSeek:function(){var e=function(){this.props.timeline.play(),this.stopListening(this.props.timeline,r.timeline.AFTER_SEEK_UPDATE,e)}.bind(this);this.seeking=!0,this.isUp!==!0&&this.props.timeline.isPlaying()&&(this.props.timeline.pause(!0),this.listenTo(this.props.timeline,r.timeline.AFTER_SEEK_UPDATE,e)),this.props.timeline.progress(this.inputEl.valueAsNumber),this.isUp=!1},onMouseDown:function(e){this.isTabbable()&&(this.isUp=!1,this.props.timeline.onSeekStart())},onMouseUp:function(e){this.isTabbable()&&(this.isUp=!0,this.props.timeline.onSeekEnd())},isTabbable:function(){return!this.props.readonly},stealFocus:function(){this.setState({tabFocused:!0}),this.find("input").focus()},releaseFocus:function(){this.setState({tabFocused:!1}),this.find("input").blur()},treeKeyCallback:function(e,t){var i=a/this.props.timeline.duration();return this.inputEl.valueAsNumber+=i*(t?-1:1),this.onSeek(),!0}});return l}),define("views/player/PlaybackResetButton",["require","react","helpers/constants","views/mixins/baseView","lodash"],function(e){"use strict";var t=e("react"),i=e("helpers/constants"),n=e("views/mixins/baseView"),s=e("lodash"),r=t.createClass({displayName:"PlaybackResetButton",mixins:[n],stringTitles:{acc_replay:"acc_replay"},getTabbableItems:function(){return[s.assign(this,{idx:i.tabIndices.PLAYBACK_RESET,indexGroupName:"PlayerControlButton"})]},resetPlayhead:function(e){this.props.timeline.reset()},actionKeyCallback:function(){return this.resetPlayhead(),!0}});return r}),define("helpers/videoManager",["require","lodash","helpers/slidesController","helpers/vow","helpers/constants","polyfills/detection"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/slidesController"),s=e("helpers/vow"),r=e("helpers/constants"),o=e("polyfills/detection"),a=!1,l=function(e){return"video"===e.type()&&null==p[e.url()]},u=function(e){window.requestAnimationFrame(function(){null==e.parentNode&&(e.pause(),e.src="",e.load())})},c=function(e){return function(){document.body.removeEventListener("click",c),e.play()["catch"](i.noop),u(e)}},h=function(e,t){null==t&&(t=c(e)),document.body.addEventListener("click",t)};!function(){if(!o.isPhone){var e,t=document.createElement("video");t.setAttribute("src",r.TINY_VIDEO),t.setAttribute("preload","auto"),t.load(),e=t.play(),null!=e?e.then(function(){u(t)})["catch"](function(){a=!0,u(t)}):u(t)}}();var p={},d=function(e){var t=p[e]=document.createElement("video");return t.setAttribute("src",a?r.TINY_VIDEO:""),t.setAttribute("preload","auto"),t.load(),t},f=function(e){var t=e.play();null!=t&&t["catch"](i.noop)},m=function(e){var t=new s.Deferred,i=function(){c(e)(),document.body.removeEventListener("click",i),t.resolve()};return h(e,i),t.promise()},g={initialize:function(e){t=e.assetLib();var i,s,r=!1,o=e.slideMap();return this.hasVideosAtAll=t.some(function(e){return"video"===e.type()}),this.hasVideosAtAll&&a&&(i=n.getSlide(n.getEntrypoint()).fullId(),s=o.getRefById(i),r=s.assetIds().some(function(e){return"video"===t.findWhere({id:e}).type()})),r},getVideoElement:function(e){var t=p[e];return null==t?d(e):t},prepare:function(){this.hasVideosAtAll&&(a?this.prepareApproval():t.forEach(function(e){l(e)&&f(d(e.url()))}))},prepareApproval:function(e){null==e&&(e=0);var i=t.at(e);e+=1,null!=i&&(l(i)?m(d(i.url())).then(this.prepareApproval.bind(this,e)):this.prepareApproval(e))}};return g}),define("views/player/PresenterVideo",["require","react","helpers/pubSub","helpers/windowManager","helpers/actionator","helpers/vow","helpers/utils","helpers/events","helpers/assetManager","helpers/appState","helpers/videoManager","views/mixins/baseView"],function(e){"use strict";var t,i,n=e("react"),s=(e("helpers/pubSub"),e("helpers/windowManager")),r=(e("helpers/actionator"),e("helpers/vow")),o=e("helpers/utils"),a=e("helpers/events"),l=e("helpers/assetManager"),u=e("helpers/appState"),c=e("helpers/videoManager"),h=e("views/mixins/baseView"),p=function(e){this.canPlayDfd=new r.Deferred,t=l.getAsset(e.assetId),i=t.url(),this.video=c.getVideoElement(i),o.parseUrl(this.video.src).pathname!==o.parseUrl(i).pathname&&(this.video.src=i),this.video.volume=u.currentVolume(),this.video.readyState>=this.video.HAVE_ENOUGH_DATA?this.canPlayDfd.resolve():this.video.addEventListener("canplay",this.canPlayDfd.resolve),this.canPlayDfd.done(function(){window.requestAnimationFrame(function(){this.video.videoHeight>this.video.videoWidth?this.refs.videoContainer.classList.add("vertical-video"):this.refs.videoContainer.classList.contains("vertical-video")&&this.refs.videoContainer.classList.remove("vertical-video"),this.video.style.display="block"}.bind(this)),this.video.currentTime=0,this.video.play()}.bind(this)),this.video.style.display="none",this.refs.videoContainer.appendChild(this.video),this.watchTimelineChanges()},d=function(){this.canPlayDfd.reject(),this.video.removeEventListener("canplay",this.canPlayDfd.resolve),this.video.src="",this.video.load(),this.refs.videoContainer.removeChild(this.video),this.video=null},f=n.createClass({displayName:"PresenterVideo",mixins:[h],subscriptions:function(){var e={};return e[a.volume.CHANGED]="onVolumeChanged",e}(),componentDidMount:function(){var e=this.props.video;e&&p.call(this,e)},componentDidUpdate:function(e,t){var i=this.props.video;i&&(this.video&&d.call(this),p.call(this,i))},componentWillUnmount:function(){d.call(this);var e=s.getCurrentWindowSlide().currentTimeline();this.stopListening(e)},watchTimelineChanges:function(){var e=s.getCurrentWindowSlide().currentTimeline();this.listenTo(e,a.timeline.PLAYING,this.onPlaybackStateChange.bind(this,a.timeline.PLAYING)),this.listenTo(e,a.timeline.PAUSED,this.onPlaybackStateChange.bind(this,a.timeline.PAUSED)),this.listenTo(e,a.timeline.ENDED,this.onPlaybackStateChange.bind(this,a.timeline.ENDED)),this.listenTo(e,a.timeline.AFTER_SEEK_UPDATE,this.onPlaybackStateChange.bind(this,a.timeline.AFTER_SEEK_UPDATE))},onPlaybackStateChange:function(e,t){switch(e){case a.timeline.PAUSED:case a.timeline.ENDED:this.video.pause();break;case a.timeline.PLAYING:this.video.play();break;case a.timeline.AFTER_SEEK_UPDATE:this.video.currentTime=o.toSeconds(t)}},onVolumeChanged:function(e){this.video.volume=e}});return f}),define("views/player/Timer",["require","lodash","react","views/mixins/baseView","timeline-lite","helpers/utils","helpers/events","polyfills/detection","helpers/constants","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("timeline-lite"),r=e("helpers/utils"),o=e("helpers/events"),a=e("polyfills/detection"),l=e("helpers/constants"),u=e("helpers/pubSub"),c={remaining:function(e,t){return r.formatSecondsAsTime(t-e)},totalelapsed:function(e,t){return[e,t].map(r.formatSecondsAsTime).join(" / ")},elapsed:function(e,t){return r.formatSecondsAsTime(e)},none:function(){return""}},h=i.createClass({displayName:"Timer",mixins:[n],subscriptions:function(){var e={};return e[o.request.NEXT_SLIDE]="onNextSlide",e[o.slide.STARTED]="onSlideReady",e}(),shortEvents:{model:{show:"onShow",hide:"onHide",pause:"onPause",start:"onStart",reset:"onReset"}},getTabbableItems:function(){return[t.assign(this,{idx:l.tabIndices.TIME,indexGroupName:"TopTabsItem"})]},stealFocus:function(){this.refs.timerText.focus()},onNextSlide:function(){this.resumeOnSlideReady=this.started,this.timeline.pause()},onSlideReady:function(){this.resumeOnSlideReady&&this.timeline.play()},getInitialState:function(){return{timerVisible:!1,timeScale:0,timeText:a.isMobile?"00:00":""}},componentWillMount:function(){this.setupOptions(),this.started=!1,this.setupTimeline(),this.addTween()},componentDidMount:function(){this.props.model.performDeferredResume()},setupOptions:function(){var e=this.props.options;this.timeEnabled=e.get("timeEnabled"),this.timeFormat=a.isMobile?"remaining":e.get("timeFormat")},setupTimeline:function(){this.tweenTick={val:0},this.timeline=new s({paused:!0}),this.duration=this.getPath("props.model.duration")/1e3,this.tweenProps={val:1,ease:"Linear.easeNone",onUpdate:this.onUpdate,onComplete:this.onComplete}},addTween:function(){this.timeline.to(this.tweenTick,this.duration,this.tweenProps)},elapsed:function(e,t){return null==e?this.duration*this.tweenTick.val:void this.timeline.progress(e/this.duration,t)},getTimeText:function(){return c[this.timeFormat](this.elapsed(),this.duration)},onUpdate:function(){this.setState({timeText:this.getTimeText(),timeScale:this.tweenTick.val})},onComplete:function(){this.props.model.executePlayerEvent("timercomplete")},onShow:function(){this.props.onTimerShow(this),this.setState({timerVisible:!0}),document.body.classList.add("timer-shown"),this.htmlReady(function(){u.trigger(o.timer.SHOWN)})},onHide:function(){this.setState({timerVisible:!1}),document.body.classList.remove("timer-shown"),this.htmlReady(function(){u.trigger(o.timer.HIDDEN)})},onPause:function(){this.timeline.pause(),this.started=!1,this.resumeOnSlideReady=!1},onStart:function(){this.started||(this.timeline.play(),this.started=!0),this.resumeOnSlideReady=!0},onReset:function(){this.started=!1,this.timeline.progress(0)}});return h}),define("views/player/SlideControlButton",["require","react","react-dom","views/player/mixins/appStateable","views/mixins/baseView","polyfills/detection","views/helpers/dom","helpers/events","helpers/resolver","helpers/windowManager"],function(e){"use strict";var t=e("react"),i=e("react-dom"),n=e("views/player/mixins/appStateable"),s=e("views/mixins/baseView"),r=e("polyfills/detection"),o=e("views/helpers/dom"),a=e("helpers/events"),l=e("helpers/resolver"),u=e("helpers/windowManager"),c="_",h=t.createClass({displayName:"SlideControlButton",mixins:[s,n],subscriptions:function(){var e={};return e[a.navcontrols.CHANGED]="onChangeAction",e}(),getInitialState:function(){return{visible:!0}},stateableValues:function(){var e={};return e[this.props.kind]=null,e},beforeStateableValuesUpdated:function(){this.setState({visible:!0,disabled:!1})},componentWillMount:function(){this.updateKey()},componentWillReceiveProps:function(e){this.props.kind!==e.kind&&this.updateKey(e)},updateKey:function(e){return e=e||this.props,this.key=["stateable",e.kind].join(c),this},visible:function(){return this.state[this.key]&&this.state.visible},disabled:function(){return this.state.disabled},focus:function(){return i.findDOMNode(this.refs.btn).focus(),this.setState({focused:!0}),this},blur:function(){return i.findDOMNode(this.refs.btn).blur(),this.setState({focused:!1}),this},getFocusTarget:function(){return this},performChange:function(e){return e.name===this.props.kind&&(e.hasOwnProperty("visible")&&this.onSetVisibleAction(e),e.hasOwnProperty("enable")&&this.onSetEnabledAction(e)),this},getButtonEventsDesktop:function(){return{onClick:this.onButtonDown}},getButtonEventsMobile:function(){return{onTouchStart:function(){this.onTouchStart.apply(this,arguments),this.onButtonDown.apply(this,arguments)}.bind(this)}},getButtonEventsPreview:function(){return{onClick:this.onButtonDown,onMouseDown:this.onTouchStart}},onButtonDown:function(){this.state.disabled||this.props.onButtonDown.apply(this,arguments)},onChangeAction:function(e,t){var i,n,s,r=u.getCurrentWindow();this.props.windowId===r.slideContainer.props.windowId&&(i=r.getCurrentSlide(),n=null!=t?l.resolvePath(t.context.absoluteId):i,n.isSlide&&n===this.props.slide?this.performChange(e):n.isScene&&this.props.slide===i?this.performChange(e):(s=l.resolveAbsolutePathWithFilter(t.context.absoluteId,function(e){return e.isSlide===!0}),this.props.slide===s&&this.performChange(e)))},onSetVisibleAction:function(e){this.setState({visible:e.visible})},onSetEnabledAction:function(e){var t=!e.enable,i=this.setState.bind(this,{disabled:t}),n=i;null!=this.frame&&window.cancelAnimationFrame(this.frame),t&&document.activeElement===this.refs.btn&&(n=window.requestAnimationFrame.bind(window,function(){i()})),this.frame=n()},onTouchStart:function(){o.tappedClass(this.refs.btn)}}),p=h.prototype;return r.isMobilePreview?p.getButtonEvents=p.getButtonEventsPreview:r.isMobile?p.getButtonEvents=p.getButtonEventsMobile:p.getButtonEvents=p.getButtonEventsDesktop,h}),define("views/player/ResourcesHeader",["require","react","views/mixins/baseView","helpers/constants"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=(e("helpers/constants"),t.createClass({displayName:"ResourcesHeader",mixins:[i]}));return n}),define("views/player/ResourcesList",["require","lodash","react","views/mixins/baseView","views/mixins/accTree","helpers/windowOpen"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("views/mixins/baseView"),n=e("views/mixins/accTree"),s=e("helpers/windowOpen"),r=t.createClass({displayName:"ResourcesList",mixins:[i,n],getFocusTarget:function(){return this},onClickResource:function(e,t){t.preventDefault(),s.open({url:e.get("url")})}});return r}),define("views/presentation/SequenceCtrlDrop",["require","lodash","views/mixins/baseView","react","views/helpers/dragAndDropHelper"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=e("views/helpers/dragAndDropHelper").DroppableHelper,s=i.createClass({mixins:[t],displayName:"SequenceCtrlDrop",getInitialState:function(){return{topBar:!1,bottomBar:!1,reviewColor:"black",reviewIdx:this.props.idx}},componentDidMount:function(){this.setupDragging()},componentWillReceiveProps:function(e){this.props.parent.isEnabled()&&this.setState({reviewIdx:e.idx})},componentWillUnmount:function(){this.droppableHelper.unregister()},setupDragging:function(){this.droppableHelper=new n(this.el,{data:this})},setDropChild:function(e){this.dropChild=e,e.drop=this},getDropChild:function(){return this.dropChild},showHideBar:function(e){if(e.el){var t=this.el.getBoundingClientRect(),i=e.el.getBoundingClientRect(),n=i.top,s=t.top+t.height/3;n>s?this.setState({topBar:!1,bottomBar:!0}):this.setState({topBar:!0,bottomBar:!1})}},hideBar:function(){this.setState({topBar:!1,bottomBar:!1})}});return s}),define("views/presentation/SequenceCtrlDragItem",["require","lodash","views/mixins/baseView","views/presentation/mixins/dragdropSlideObject","react"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("views/presentation/mixins/dragdropSlideObject"),n=e("react"),s=n.createClass({mixins:[t,i],displayName:"SequenceCtrlDragItem",getInitialState:function(){return this.createInitialState()},createInitialState:function(){return{backgroundVisible:!0,Rotation:0,ScaleX:100,ScaleY:100}},enabledHook:function(){return this.props.parent.getPlayerProp("Enabled")}});return s}),define("views/player/TabPanel",["require","lodash","react","helpers/constants","helpers/events","views/helpers/dom","views/mixins/baseView","views/player/mixins/appStateable","polyfills/detection","helpers/scaler"],function(e){"use strict";var t=(e("lodash"),e("react")),i=(e("helpers/constants"),e("helpers/events")),n=(e("views/helpers/dom"),e("views/mixins/baseView")),s=e("views/player/mixins/appStateable"),r=e("polyfills/detection"),o=e("helpers/scaler"),a=function(e){this.props.config.isLive=e,this.setState({isVisible:e})},l=function(e,t){return e.idx-t.idx},u=t.createClass({displayName:"TabPanel",mixins:[n,s],subscriptions:function(){var e={};return e[i.menuLinksListItem.ITEM_SELECTED]="checkAutoScrollMenuTab",e}(),stateableValues:function(){var e={};return e[this.props.config.name]=a.bind(this),e},addFocusObjects:function(e){this.focusObjects||(this.focusObjects=[]),this.focusObjects=this.focusObjects.concat(e),this.focusObjects.sort(l)},componentDidMount:function(){this.el.addEventListener("touchmove",this.onTouchMove),this.isTranscript="transcript"===this.props.config.name},componentDidUpdate:function(){this.checkAutoScrollMenuTab()},componentWillUnmount:function(){this.el.removeEventListener("touchmove",this.onTouchMove)},setScrollListener:function(){var e=this.find(".panel-content");e.addEventListener("wheel",this.clearScrollLock)},clearScrollLock:function(e){this.find(".panel-content").style.overflowY="auto"},checkAutoScrollMenuTab:function(){var e;null!=this.props.activeTab&&"outline"===this.props.config.name&&this.props.config.name===this.props.activeTab.name&&(e=this.find(".menu-item-selected"),this.autoScrollMenu(e))},autoScrollMenu:function(e){if(null!=e){var t,i,n,s,a,l=this.el.getBoundingClientRect(),u=e.getBoundingClientRect(),c=this.find(".panel-footer"),h=null!=c?c.getBoundingClientRect().height:0,p=u.bottom-l.top+h,d=u.top-l.top;(p>l.height||0>d)&&(t=r.isMobile&&"landscape"===r.orientation?1:.25,a=u.height*t,s=l.top>u.top?d-a:p-l.height+a,n=r.isMobile?document.querySelector("#panel-outline"):this.find(".panel-content-menu"),i=o.getScale(),i=1>i?1/i:1,n.scrollTop+=s*i)}}});return u}),define("views/player/SidebarTab",["require","lodash","react","react-dom","views/mixins/baseView","views/player/mixins/appStateable","helpers/events","helpers/pubSub"],function(e){"use strict";var t=(e("lodash"),e("react")),i=(e("react-dom"),e("views/mixins/baseView")),n=e("views/player/mixins/appStateable"),s=e("helpers/events"),r=e("helpers/pubSub"),o=function(e){this.props.config.isLive=e,this.setState({isVisible:e})},a={outline:"O",glossary:"G",transcript:"N"},l=t.createClass({displayName:"SidebarTab",mixins:[i,n],subscriptions:function(){var e={};return e[s.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",e}(),stateableValues:function(){var e={};return e[this.props.config.name]=o.bind(this),e},stringTitles:function(){return{title:this.props.config.properties.title||this.props.config.name}},getInitialState:function(){return{isLive:!1}},activate:function(){var e=this.props.config.properties.data;e?r.trigger(s.customlink.EVENT,e):(this.props.setActiveTab(this.props.config),this.props.tabChanged&&this.props.tabChanged(this.props.config))},actionKeyCallback:function(){return this.activate(),!0},onFrameControlKey:function(e){var t=this.props.config.name;null!=a[t]&&e[a[t]]&&this.activate()}});return l}),define("views/player/Presenter",["require","react","helpers/pubSub","lodash","helpers/events","helpers/windowManager","helpers/actionator","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("helpers/pubSub"),n=e("lodash"),s=e("helpers/events"),r=e("helpers/windowManager"),o=e("helpers/actionator"),a=e("views/mixins/baseView"),l=t.createClass({displayName:"Presenter",subscriptions:function(){var e={};return e[s.popup.HIDE]="onPopupHide",e[s.popup.EMAIL]="onPopupEmail",e}(),mixins:[a],getTabbableItems:function(){return null!=this.refs.name?(n.forOwn(this.refs,function(e,t){e.dsFocusController=this}.bind(this)),[n.assign(this.refs.name,{idx:0,indexGroupName:"Presenter"}),n.assign(this.refs.title,{idx:1,indexGroupName:"Presenter"}),n.assign(this.refs.link,{idx:2,indexGroupName:"Presenter"})]):void 0},stealFocus:function(e){e.focus()},releaseFocus:function(e){e.blur()},actionKeyCallback:function(e){return e===this.refs.link&&(this.hasOnlyEmail()?this.onEmailLinkClicked(this.props.presenter.email):this.moreInfo()),!0},moreInfo:function(e){var t=r.getCurrentWindowSlide().currentTimeline();null!=e&&e.preventDefault(),t.isPlaying()?(t.pause(),this.wasPlaying=!0):this.wasPlaying=!1,i.trigger(s.popup.SHOW,this.props.presenter.id)},onPopupHide:function(){this.wasPlaying&&r.getCurrentWindowSlide().currentTimeline().play()},onPopupEmail:function(e){o.mailTo({kind:"emailto",address:e})},onEmailLinkClicked:function(e,t){null!=t&&t.preventDefault(),this.onPopupEmail(e)},hasOnlyBioText:function(){return!this.props.presenter.email&&this.props.presenter.biotext},hasOnlyEmail:function(){return this.props.presenter.email&&!this.props.presenter.biotext},hasBothEmailAndBioText:function(){return this.props.presenter.email&&this.props.presenter.biotext}});return l}),define("views/mixins/transitionableLayer",["require","lodash","views/helpers/TweenHelper","helpers/AnimationTimeline","helpers/vow","polyfills/vendorOverrides"],function(e){"use strict";var t=(e("lodash"),e("views/helpers/TweenHelper")),i=e("helpers/AnimationTimeline"),n=e("helpers/vow"),s=(e("polyfills/vendorOverrides"),{componentWillMount:function(){this.elDfd=new n.Deferred},componentDidMount:function(){this.elDfd.resolve()},componentWillUnmount:function(){this.cancelTransition()},getElPromise:function(){return this.elDfd.promise()},transitionIn:function(e,n){this.getElPromise().done(function(){this.aniTimeline=new i({tweens:[new t(this,!1,e.getConfig())],onComplete:function(){n(),this.cancelTransition()}.bind(this)}),this.aniTimeline.seek(0),this.aniTimeline.play()}.bind(this))},cancelTransition:function(){null!=this.aniTimeline&&(this.aniTimeline.kill(),this.aniTimeline=null)}});return s}),define("views/presentation/SlideLayer",["require","lodash","react","views/presentation/SlideObject","views/mixins/baseView","views/presentation/mixins/displayable","views/presentation/mixins/slideObjectContainer","views/mixins/transitionableLayer","helpers/events","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=(e("views/presentation/SlideObject"),e("views/mixins/baseView")),s=e("views/presentation/mixins/displayable"),r=e("views/presentation/mixins/slideObjectContainer"),o=e("views/mixins/transitionableLayer"),a=e("helpers/events"),l=e("helpers/utils"),u=i.createClass({displayName:"SlideLayer",initialVisibility:!1,mixins:[n,o,s,r],subscriptions:function(){var e={};return e[a.slide.WILL_CHANGE]="onSlideWillChange",e}(),shortEvents:{model:{shown:"onShow",hidden:"onHide",showcustom:"onShowCustom",cancelTransition:"onCancelTransition"}},componentDidMount:function(){this.toggleVisibility(!!this.isBaseLayer()),this.listenToDepth().setInitModelProps()},componentWillUnmount:function(){this.props.model.isShowable=!1,this.props.model.shownInCurrentView=!1,this.props.model.isOpen=!1},shouldUpdate:function(e,t){return t.isVisible!==this.state.isVisible||t.audio!==this.state.audio||t.depth!==this.state.depth},getInitialState:function(){return{depth:0,audio:!0,renderChildren:this.isBaseLayer()}},onSlideWillChange:function(e,i,n){var s=l.stripPlayer(this.props.model.getClosestAncestorByKind("slide").absoluteId),r=l.stripPlayer(e.absoluteId),o=l.stripPlayer(i.absoluteId);n?t(this.refs).filter(function(e,i){return t.startsWith(i,"audio")}).invoke("pause").commit():s===r&&s!==o&&this.setState({audio:!1})},isBaseLayer:function(){return this.props.model.isBaseLayer()},onShow:function(){this.setState({isVisible:!0,renderChildren:!0},function(){this.props.model.get("timeline").play(),this.updateTrueVisibility(!0),this.props.model.executePlayerEvent("ontransitionin"),this.execSlideStart()}.bind(this))},onShowCustom:function(e,t,i,n){var s=(this.props.model,function(){n(),this.props.model.get("timeline").play(),this.execSlideStart()}.bind(this));this.setState({isVisible:!0,renderChildren:!0},function(){this.transitionIn(i,s),this.updateTrueVisibility(!0),this.props.model.executePlayerEvent("ontransitionin")}.bind(this))},onCancelTransition:function(){this.cancelTransition()},onHide:function(){this.props.model.get("timeline").pause(!0),this.hide(),this.updateTrueVisibility(!1),this.props.model.executePlayerEvent("ontransitionout")},execSlideStart:function(){this.props.model.executePlayerEvent("onslidestart")},listenToDepth:function(){return this.setState({depth:this.props.model.depth()}),this.listenTo(this.props.model,"change:depth",function(e,t){this.setState({depth:t})}.bind(this)),this},setInitModelProps:function(){return this.props.model.createObjectIndex(),this}});return u}),define("views/presentation/SlideBackground",["require","react","views/mixins/baseView","helpers/svg/svgUtils","views/presentation/LinearBackgroundGradient"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=(e("helpers/svg/svgUtils"),e("views/presentation/LinearBackgroundGradient"),t.createClass({displayName:"SlideBackground",mixins:[i],patternFillId:function(){return"pattern-fill-"+this.props.layerModel.id}}));return n}),define("views/presentation/VectorSlideBackground",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=t.createClass({displayName:"VectorSlideBackground",mixins:[i]});return n}),define("mixins/captionable",["require","helpers/captionsManager","helpers/windowManager","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("helpers/captionsManager"),i=e("helpers/windowManager"),n=e("helpers/events"),s=e("helpers/pubSub"),r={componentWillMount:function(){this.onObjectsVisibilityResolved=function(){t.reloadCaptions(),this.publishCurrentTime()}.bind(this),s.on(n.layer.RESOLVED_OBJECT_VISIBILITY,this.onObjectsVisibilityResolved)},componentDidMount:function(){this.slideId=i.getCurrentWindowSlide().id,t.mount(this,this.slideId)},publishCurrentTime:function(){t.isCaptionButtonToggled()&&s.trigger(n.media.CURRENT_TIME,this.getCurrentTime(),this.getAssetId())},componentWillUnmount:function(){t.unmount(this,this.slideId),s.off(n.layer.RESOLVED_OBJECT_VISIBILITY,this.onObjectsVisibilityResolved)}};return r}),define("views/presentation/AudioPlayer",["require","lodash","react","helpers/appState","helpers/automation","mixins/captionable","views/mixins/propertizable","helpers/constants","helpers/captionsManager","helpers/pubSub","views/mixins/baseView","helpers/audio/audioManager","helpers/vow","helpers/events","helpers/actions","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("helpers/appState"),s=e("helpers/automation"),r=e("mixins/captionable"),o=e("views/mixins/propertizable"),a=e("helpers/constants"),l=e("helpers/captionsManager"),u=(e("helpers/pubSub"),e("views/mixins/baseView")),c=e("helpers/audio/audioManager"),h=e("helpers/vow"),p=e("helpers/events"),d=e("helpers/actions"),f=e("helpers/utils"),m=i.createClass({displayName:"AudioPlayer",mixins:[u,o,r],shortEvents:{model:function(){var e={};return e[d.MEDIA_SEEK]="onActionSeek",e[d.MEDIA_PLAY]="onActionPlay",e[d.MEDIA_PAUSE]="onActionPause",e[d.MEDIA_TOGGLE]="onActionToggle",e[d.SET_VOLUME]="onActionSetVolume",e}(),timeline:function(){var e={};return e[p.timeline.PLAYING]="onTimelinePlay",e[p.timeline.PAUSED]="onTimelinePause",e[p.timeline.AFTER_SEEK_UPDATE]="onTimelineSeek",e[p.timeline.RESET]="onTimelineReset",e}()},getInitialState:function(){return{soundComplete:!1}},componentWillMount:function(){var e=this.props.model.getUrl(),t=c.loadUrl(e);this.slideStartedDfd=new h.Deferred,this.setState({audioClip:t}),this.currentTime=0,this.listenTo(this.props.model.getSlide(),"started",this.slideStartedDfd.resolve),s.clockIsOverridden&&this.listenTo(this.props.timeline,p.timeline.TICK,this.onTimelineTick)},componentDidMount:function(){this.presentationVol=a.DEFAULT_VOLUME,this.setVolume(n.currentVolume()),this.currActionStartTime=0,this.listenTo(n,p.volume.CHANGE_CURRENT,this.onVolumeChanged),this.listenTo(this.state.audioClip,p.audioClip.ENDED,this.onEnded),this.listenTo(this.state.audioClip,p.audioClip.TIME_UPDATE,this.onTimeUpdate)},componentWillUpdate:function(e,i){var n=this.state.audioClip,r=[];s.clockIsOverridden||(null!=i.seekFn&&i.seekFn!==this.state.seekFn&&r.push(i.seekFn),i.isPlaying===this.state.isPlaying&&i.soundComplete===this.state.soundComplete||r.push(n[i.isPlaying?"play":"pause"].bind(n)),r.length>0&&this.slideStartedDfd.done(t.partial(t.invoke,r,Function.prototype.call)))},componentWillUnmount:function(){this.pause(),this.slideStartedDfd.reject(),this.state.audioClip.pause().destroy()},onEnded:function(){this.setState({soundComplete:!0}),this.setPlayerProp({isPlaying:!1,resumeOnTimelinePlay:!1}),this.props.model.executePlayerEvent("onmediacomplete"),this.publishCurrentTime()},ended:function(){return this.state.soundComplete===!0},getAssetId:function(){return this.props.model.get("assetId")},getCurrentTime:function(){return this.currentTime},isVideo:function(){return!1},onTimeUpdate:function(e){this.currentTime=e,this.publishCurrentTime()},onVolumeChanged:function(e,t){this.determineAudioVolume(t)},determineAudioVolume:function(e){this.setVolume(e*this.presentationVol)},setTimelineControl:function(e){this.setPlayerProp({isTimelineControlled:!!e.timelineLabel})},getTimelineControl:function(){return this.props.model.prop("isTimelineControlled")},onActionPlay:function(e,t){this.setActionStartTime(t.time),this.state.soundComplete===!0&&(this.setState({soundComplete:!1}),this.seek(this.currActionStartTime)),this.setTimelineControl(t),this.setPlayerProp("resumeOnTimelinePlay",!0),"expandinglabel"===t.context.get("kind")&&l.includeMedia(this.getAssetId()),this.play()},onActionPause:function(e,t){this.setActionStartTime(t.time),this.setTimelineControl(t),this.setPlayerProp("resumeOnTimelinePlay",!1),"expandinglabel"===t.context.get("kind")&&l.excludeMedia(this.getAssetId()),this.pause()},onActionToggle:function(e,t){this.state.isPlaying?this.onActionPause(e,t):this.onActionPlay(e,t)},onActionSeek:function(e,t){this.setActionStartTime(t.time),this.seek(e.position),this.currentTime=f.toSeconds(t.currentTime),this.publishCurrentTime()},onActionSetVolume:function(e,t){var i=e.volume/100;this.setActionStartTime(t.time),this.presentationVol=i,this.determineAudioVolume(n.currentVolume())},play:function(){s.clockIsOverridden&&s.onMediaStarted(this.props.model.id),this.setPlayerProp({isPlaying:!0})},pause:function(){this.setPlayerProp({isPlaying:!1}),this.publishCurrentTime()},seek:function(e){var i=this.state.audioClip;this.setState({seekFn:t.partial(i.seek.bind(i),f.toSeconds(e))});
},setVolume:function(e){this.state.audioClip.setVolume(e)},getDuration:function(){return f.getPath(this,"state.audioClip.getDuration",f.toSeconds(this.props.model.getDuration()))},setActionStartTime:function(e){null==e&&this.state.soundComplete&&(e=0),null!=e&&(this.currActionStartTime=e,this.currActionPlayheadRemaining=this.getDuration()-this.currentTime)},calculatePlaybackDifference:function(e){return e-(this.currActionStartTime||0)},onTimelinePlay:function(){this.props.model.prop("resumeOnTimelinePlay")&&this.play()},onTimelinePause:function(){this.pause()},onTimelineSeek:function(e){this.getTimelineControl()&&(e=this.calculatePlaybackDifference(e),this.seek(e))},onTimelineReset:function(){this.setState({soundComplete:!1})},onTimelineTick:function(e){if(this.state.isPlaying){var t=f.toSeconds(e*this.props.timeline.duration());t>=this.currActionPlayheadRemaining+this.currActionStartTime&&this.props.model.executePlayerEvent("onmediacomplete")}},template:function(){return null}});return m}),define("views/player/SlideLoaderIndicator",["require","react","views/mixins/baseView","views/helpers/dom"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("views/helpers/dom"),s=t.createClass({displayName:"SlideLoaderIndicator",mixins:[i],getInitialState:function(){return this.getCursorPos()},componentWillMount:function(){document.body.addEventListener("mousemove",this.onMouseMove)},componentWillUnmount:function(){document.body.removeEventListener("mousemove",this.onMouseMove)},onMouseMove:function(){this.setState(this.getCursorPos())},getCursorPos:function(){return{cursorX:n.mouseX,cursorY:n.mouseY}}});return s}),define("views/player/RelativeNavControls",["require","lodash","react","react-dom","helpers/events","helpers/constants","helpers/keyManager","views/mixins/baseView","views/player/mixins/appStateable","helpers/utils","polyfills/detection","helpers/windowManager","helpers/resolver","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=(e("react-dom"),e("helpers/events")),s=e("helpers/constants"),r=e("helpers/keyManager"),o=e("views/mixins/baseView"),a=e("views/player/mixins/appStateable"),l=e("helpers/utils"),u=e("polyfills/detection"),c=e("helpers/windowManager"),h=(e("helpers/resolver"),e("helpers/pubSub")),p=i.createClass({displayName:"RelativeNavControls",mixins:[o,a],subscriptions:function(){var e={};return e[n.navcontrols.CHANGED]="onChangeAction",e[n.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",e}(),getInitialState:function(){return{showPrev:!0,showNext:!0}},getTabbableItems:function(){var e;return t.forOwn(this.refs,function(e,t){e.dsFocusController=this}.bind(this)),e=[t.assign(this.refs.prev,{idx:s.tabIndices.PREV,indexGroupName:"SlideControlButton"}),t.assign(this.refs.next,{idx:s.tabIndices.NEXT,indexGroupName:"SlideControlButton"}),t.assign(this.refs.submit,{idx:s.tabIndices.SUBMIT,indexGroupName:"SlideControlButton"})],this.props.lightboxed||e.unshift(t.assign(this.refs.skipNav,{idx:s.tabIndices.SKIP,indexGroupName:"SlideControlButton"})),e},stringTitles:{prev:"prev",acc_previous:"acc_previous",next:"next",acc_next:"acc_next",submit:"submit",acc_skipnavigation:"acc_skipnavigation",finish:"finish"},stateableValues:{previous:void 0,next:void 0,submit:void 0,submitall:void 0},componentDidMount:function(){window.addEventListener("resize",this.calcHideShowPrevNext)},componentWillUnmount:function(){window.removeEventListener("resize",this.calcHideShowPrevNext)},stateableValuesUpdated:function(e){this.layout=e,this.calcHideShowPrevNext()},triggerNavEvent:function(e,t){var i=c.getCurrentWindow().getCurrentSlide();i.get("slideLock")||h.trigger(n.presentation.ON_OBJECT_EVENT,e+"_pressed")},triggerSubmit:function(e){h.trigger(n.presentation.ON_OBJECT_EVENT,"submit_pressed")},triggerFinish:function(){h.trigger(n.presentation.ON_OBJECT_EVENT,"finish_pressed")},stealFocus:function(e){e.focus()},releaseFocus:function(e){e.blur()},actionKeyCallback:function(e){return e===this.refs.skipNav?this.skipNav():e.onButtonDown(),!0},onTimerShow:function(e){l.showTimer(this,e)},skipNav:function(){r.clearCurrentItem(),r.currentIndex=-1},onOrientationChange:function(){console.log("orientation"),this.calcHideShowPrevNext()},onChangeAction:function(e,t){this.calcHideShowPrevNext()},calcHideShowPrevNext:function(){if(null!=this.layout){var e=t.compact([this.state.stateable_submit,this.state.stateable_previous,this.state.stateable_next,this.layout.seekbar]).length;this.setState({showNext:!0,showPrev:!0}),u.is360&&e>=3&&u.innerWidth<=s.MOBILE_360_PHONE_LARGE&&"portrait"===u.orientation?this.state.stateable_submit&&this.setState({showNext:!1,showPrev:!1}):u.is360&&e>3&&this.state.stateable_submit&&u.innerWidth<s.MOBILE_WIDTH_MIN?this.setState({showNext:!1,showPrev:!1}):u.is360&&e>3&&this.state.stateable_submit&&u.innerHeight<s.MOBILE_360_PHONE_MEDIUM?this.setState({showNext:!1,showPrev:!1}):4===e&&u.innerHeight<s.MOBILE_MIN_LANDSCAPE_FULL&&"landscape"===u.orientation?this.setState({showNext:!1,showPrev:!1}):this.state.stateable_previous&&this.state.stateable_next&&this.setState({showNext:!0,showPrev:!0,shrinkButtons:!!this.getPath("props.timers")&&u.innerHeight<s.MOBILE_MIN_LANDSCAPE})}},onFrameControlKey:function(e){(e.LEFT||e.UP||e.PAGE_UP)&&this.state.showPrev&&!this.refs.prev.state.disabled?this.triggerNavEvent("prev"):(e.RIGHT||e.DOWN||e.PAGE_DOWN)&&this.state.showNext&&!this.refs.next.state.disabled&&this.triggerNavEvent("next")}});return p}),define("views/player/Menu",["require","lodash","react","views/mixins/baseView","helpers/utils","tween-lite","helpers/events","views/helpers/dom","helpers/pubSub","helpers/windowManager","helpers/resolver"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("helpers/utils"),r=e("tween-lite"),o=e("helpers/events"),a=e("views/helpers/dom"),l=e("helpers/pubSub"),u=e("helpers/windowManager"),c=e("helpers/resolver"),h=function(e){return e.replace(/#|\//g,"")},p=function(e){return e.isLink},d=i.createClass({displayName:"Menu",mixins:[n],subscriptions:function(){var e={};return e[o.window.MAIN_CHANGED]="onSlideChanged",e[o.actionlink.VIEWED]="onActionLink",e[o.actionlink.EVENT]="onActionLink",e[o.resume.RESET_DATA]="onResetVisitedSlides",e}(),stringTitles:{acc_search:"acc_search"},getInitialState:function(){return{visitedSlides:[],isSearchActive:!1,links:[]}},onResetVisitedSlides:function(){this.setState({visitedSlides:[]})},componentWillMount:function(){this.preso=c.getPresentationContext(),l.once(o.resume.SET_DATA,this.updateVisitedSlides),this.setState({links:this.getInitialLinks()})},setScrollListener:function(){var e=this.el;e.addEventListener("wheel",this.clearScrollLock)},clearScrollLock:function(e){this.el.style.overflowY="auto"},updateVisitedSlides:function(e,t){null!=e&&e.forEach(this.addSlideToVisited),null!=t&&t.forEach(this.addActionLinkToVisited)},onSearch:function(e){var t=this.findComponent("SearchOptions").performSearch(e);this.updateLinks(t)},onClearSearch:function(){this.setLinks(this.getInitialLinks(),!1)},updateLinks:function(e){this.setLinks(e,!0)},checkFlow:function(e){var t,i=u.getCurrentWindow().getCurrentSlide(),n=a.closest(e.target,a.isLink),s=a.closest(e.target,a.isIconNode),r=n&&n.getAttribute("href"),c=n&&n.hasAttribute("data-actionlink");if(r&&(e.preventDefault(),t=r.slice(1),!i.get("slideLock")))return this.isRestrictedFlow()&&!this.hasSlideBeenVisited(t,c)&&null!=this.preso.eventByName("nav_restricted_mode")?void l.trigger(o.presentation.ON_OBJECT_EVENT,"nav_restricted_mode"):void(this.shouldKillLink(r,c)||s||l.trigger(c?o.actionlink.EVENT:o.request.NEXT_SLIDE,t))},setLinks:function(e,t){var i=this.find(".outline");r.to(i,.25,{opacity:0,onComplete:function(){this.setState({isSearchActive:t,links:e}),r.to(i,.25,{opacity:1})}.bind(this)})},getInitialLinks:function(){return this.props.model.outline().links()},isFlowType:function(e){return this.props.options.get("flow")===e},shouldKillLink:function(e,t,i){var n=h(e);return t&&-1===n.indexOf(".")&&this.hasSceneBeenVisited(n)?!1:!t&&this.isLockedFlow()?!0:this.isFreeFlow()?!1:!this.hasSlideBeenVisited(n,i)},hasSceneBeenVisited:function(e){var i=t.findLast(this.state.visitedSlides,function(t){return-1!==t.indexOf(e)});return!!i},hasSlideBeenVisited:function(e,i){return t.contains(this.state.visitedSlides,i?e:s.prefixWithPlayer(e))},addSlideToVisited:function(e){return this.setState(function(i){var n=e.absoluteId,s=e.getScene().absoluteId,r=t(i.visitedSlides.slice()||[]).without(s,n).push(s,n).value();return{visitedSlides:r}}),this},addActionLinkToVisited:function(e){return this.setState(function(i){for(var n=i.links.findDeep(e),s=[],r=n;null!=r;)s.unshift(r.get("slideid")),r=r.getClosestAncestor(p);var o=t.without.apply(t,[i.visitedSlides.slice()||[]].concat(s));return o.push.apply(o,s),{visitedSlides:o}}),this},onSlideChanged:function(e){this.addSlideToVisited(e)},onActionLink:function(e){this.addActionLinkToVisited(e)},hasAnyLink:function(e){return!!this.state.links.findDeep(e)}}),f=d.prototype;f.isFreeFlow=t.partial(f.isFlowType,"free"),f.isRestrictedFlow=t.partial(f.isFlowType,"restricted"),f.isLockedFlow=t.partial(f.isFlowType,"locked");var m=f.setState;return f.setState=function(e){m.apply(this,arguments)},d}),define("views/player/Glossary",["require","react","views/mixins/baseView","lodash","helpers/slideObjectUtils"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("lodash"),s=e("helpers/slideObjectUtils"),r=0,o=t.createClass({displayName:"Glossary",mixins:[i],stringTitles:{terms:"terms",definition:"definition",acc_definition:"acc_definition"},getTabbableItems:function(){this.props.addFocusObjects([n.assign(this.refs.glossaryTerms,{idx:++r}),n.assign(this.refs.glossaryDefinition,{idx:++r})])},componentWillMount:function(){s.activeMobileMenuItem(this.props.collection,"no-glossary")},getInitialState:function(){return{curTitle:"",curDefinition:"",curIdx:0}},revealTerm:function(e){var t=this.props.collection.at(e);return this.setState({curTitle:t.get("title"),curIdx:e,curDefinition:t.get("content")}),this}});return o}),define("views/player/Notes",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/slideObjectUtils","polyfills/detection","helpers/svg/svgUtils","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("helpers/utils"),r=e("helpers/slideObjectUtils"),o=e("polyfills/detection"),a=e("helpers/svg/svgUtils"),l=e("helpers/events"),u=e("helpers/pubSub"),c=16/12,h=.1,p=4*h,d=3,f=/color:#ffffff/gi,m=function(e,t){var i;e.style[t]&&(i=parseFloat(e.style[t]),e.style[t]=s.pxify(Math.ceil(i*c)))},g=0,v=i.createClass({displayName:"Notes",mixins:[n],subscriptions:function(){var e={};return e[l.window.MAIN_CHANGED]="onSlideChanged",e}(),getInitialState:function(){return{currentSlideNote:{},currentSlideTitle:""}},getTabbableItems:function(){this.props.addFocusObjects([t.assign(this.refs.notesHeader,{idx:++g}),t.assign(this.refs.notesList,{idx:++g})])},onSlideChanged:function(e){var t,i,n=this.props.collection.findWhere({slideId:e.fullId()});null!=n&&(t=n.get("pathIndex"),i=n.get("pathLib")),r.activeMobileMenuItem(i,"no-transcript"),this.refs.panelContent.scrollTop=0,this.setState({currentSlideNote:n||{},currentSlideTitle:e.get("title"),commandsetId:t,pathLib:i})},componentDidMount:function(){o.isMobile&&u.on(l.mobile.MENU_OPEN,this.mobileLandscapeToggle)},mobileLandscapeToggle:function(){"landscape"===o.orientation&&this.prepareToSizeSvg()},prepareToSizeSvg:function(){this.svgNotes=this.refs.notesList.refs.svgNotes,null!=this.svgNotes&&this.htmlReady(this.setSvgNoteSizing)},componentDidUpdate:function(){this.prepareToSizeSvg()},setSvgNoteSizing:function(){if("transcript"===s.getPath(this,"props.active.name")){var e,t=this.svgNotes.querySelector("g"),i=t.getBBox(),n=1;0!==i.width&&(e=this.refs.panelContent.getBoundingClientRect(),o.isMobile&&(n=e.width/i.width-h,(o.isTablet||"landscape"===o.orientation)&&(n-=p),n>d&&(n=d),t.setAttribute("transform",[a.transformTranslate(4,0),a.transformScale(n)].join(" "))),this.svgNotes.setAttribute("width","100%"),this.svgNotes.setAttribute("height",(i.height+i.y)*n))}},getNotesHtml:function(){var e,i,n=this.state.currentSlideNote,s=null!=n.get?n.get("usePngNotesHtml5"):!1,a=document.createElement("div");if(s)i=document.createElement("img"),i.src=n.get("notesPng"),a.appendChild(i);else{if(e=null!=n.get?n.get("content"):"",r.activeMobileMenuItem(e,"no-transcript"),0===e.length)return;a.innerHTML=o.isMobile?e.replace(f,"color:#515557"):e,this.scaleForMobile(a),t(a.childNodes).reject("firstChild").each(function(e){e.innerHTML="&nbsp;"}).value()}return a.innerHTML},scaleForMobile:function(e){o.isMobile&&t.each(e.querySelectorAll("font, p"),function(e){"FONT"===e.tagName?m(e,"fontSize"):"P"===e.tagName&&m(e,"lineHeight")})}});return v}),define("views/player/Resources",["require","react","lodash","views/mixins/baseView","helpers/constants","helpers/slideObjectUtils"],function(e){"use strict";var t=e("react"),i=e("lodash"),n=e("views/mixins/baseView"),s=e("helpers/constants"),r=e("helpers/slideObjectUtils"),o=s.tabIndices.TOP_TAB_RIGHT,a=t.createClass({displayName:"Resources",mixins:[n],stringTitles:{acc_resources:"acc_resources"},getTabbableItems:function(){this.props.addFocusObjects([i.assign(this.refs.resourcesHeader,{idx:++o}),i.assign(this.refs.resourcesList,{idx:++o})])},componentWillMount:function(){r.activeMobileMenuItem(this.props.model.resources(),"no-resources")}});return a}),define("views/player/MicroScrollBar",["require","lodash","react","views/mixins/baseView","helpers/utils","views/helpers/dom","helpers/events","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),s=e("views/mixins/baseView"),r=e("helpers/utils"),o=e("views/helpers/dom"),a=e("helpers/events"),l=e("helpers/pubSub"),u=1e3,c=200;document.addEventListener("wheel",function(){document.body.classList.add("document-scrolling"),clearTimeout(t),t=setTimeout(function(){document.body.classList.remove("document-scrolling")},c)});var h=n.createClass({displayName:"MicroScrollBar",mixins:[s],getInitialState:function(){return{highlight:!1}},initScroll:function(){this.targetEl.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),this.targetEl.style.overflowY="hidden !important",this.hasInited=!0},componentDidMount:function(){this.htmlReady(function(){var e="."+this.props.targetClass;this.targetEl=this.el.previousSibling.querySelector(e),null!=this.targetEl?this.initScroll():o.hasClass(this.el.previousSibling,this.props.targetClass)&&(this.targetEl=this.el.previousSibling,this.initScroll())}.bind(this)),this.calculateUpdateEvents(),l.on(this.updateEvents.join(" "),this.delayedUpdate)},calculateUpdateEvents:function(){this.updateEvents=[],o.hasClass(this.el.parentNode.parentNode,"topmenu-item")?this.updateEvents.push(a.topTabsItem.ACTIVATE):this.updateEvents.push(a.sidebar.ACTIVE_TAB_SET,a.sidebar.SHOW_SEARCH,a.sidebar.HIDE_SEARCH),"outline"===this.props.name&&this.updateEvents.push(a.menuLinksListItem.TOGGLE)},delayedUpdate:function(){this.afterHtmlReady(i.ary(this.update,0))},onScroll:function(e){this.update(!0)},onResize:function(){this.update()},update:function(e){if(this.hasInited&&null!=this.refs.scrollBtn){this.visibleHeight=this.targetEl.clientHeight;var t=this.refs.scrollBtn,i=this.targetEl.scrollHeight,n=this.visibleHeight,s=n/i*n,o=this.targetEl.scrollTop/(i-n),a={isHidden:Math.abs(this.targetEl.scrollHeight-this.visibleHeight)<2,highlight:e};o=r.clamp(0,1,o),o*=r.invertPercent(s/n),t.style.height=r.pxify(s),t.style.top=r.pxify(n*o),e&&(clearTimeout(this.colorId),this.colorId=setTimeout(this.unHighlight,u)),this.setState(a)}},onScrollBtnDown:function(e){this.scrollByButton=!0,this.offY=e.pageY-this.getParentY()-parseFloat(this.refs.scrollBtn.style.top),document.body.addEventListener("mousemove",this.onDragBtn),document.body.addEventListener("mouseup",this.onEndScrollDrag)},onEndScrollDrag:function(){this.scrollByButton=!1,document.body.removeEventListener("mouseup",this.onEndScrollDrag),document.body.removeEventListener("mousemove",this.onDragBtn)},getParentY:function(){return this.targetEl.getBoundingClientRect().top},onDragBtn:function(e){this.visibleHeight=this.targetEl.clientHeight;var t,i,n=this.refs.scrollBtn,s=this.visibleHeight,o=parseFloat(n.style.height),a=s-o,l=this.targetEl.scrollHeight-s;i=e.pageY-this.getParentY()-this.offY,t=r.clamp(0,1,i/a),n.style.top=r.pxify(t*r.invertPercent(o/s)*s),this.targetEl.scrollTop=l*t},unHighlight:function(){this.setState({highlight:!1})}});return h}),define("views/player/TopTabsItem",["require","lodash","helpers/pubSub","react","views/mixins/baseView","views/mixins/mouseable","views/player/mixins/appStateable","views/events/eventHelper","helpers/events","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/pubSub"),n=e("react"),s=e("views/mixins/baseView"),r=e("views/mixins/mouseable"),o=e("views/player/mixins/appStateable"),a=e("views/events/eventHelper"),l=e("helpers/events"),u=e("helpers/constants"),c={resources:"R"},h=n.createClass({displayName:"TopTabsItem",mixins:[s,r,o],subscriptions:function(){var e={};return e[l.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",e}(),stateableValues:{resources:void 0,glossary:void 0,outline:void 0,transcript:void 0},determineVisibilty:function(){return"transcript"===this.props.name?this.state.stateable_transcript:"resources"===this.props.name?this.state.stateable_resources:"glossary"===this.props.name?this.state.stateable_glossary:"outline"===this.props.name?this.state.stateable_outline:!0},componentDidMount:function(){this.registerEvent("clickoutside",this.onClickOutside)},componentDidUpdate:function(){var e=this.el.parentNode.querySelectorAll(".topmenu-item:not(.hidden) .topmenu-separator"),i="rtl"===window.getComputedStyle(this.el.parentNode).direction,n=t(e).forEach(function(e){e.style.display=""})[i?"first":"last"]();n&&(n.style.display="none")},getTitle:function(){return"qm"===u.player.OUTPUT_TYPE?this.state.i18nquestion_list:this.state.i18ntitle},stringTitles:function(){var e={title:this.props.config.properties.title||this.props.config.name};return"outline"===this.props.config.name&&"qm"===u.player.OUTPUT_TYPE&&(e.question_list="question_list"),e},getInitialState:function(){return{isLive:!1,title:this.props.config.properties.title}},onClickOutside:function(){this.isActive()&&this.deactivate()},onSelectMenuItem:function(){this.deactivate()},isActive:function(){return this.props.activeTab===this.props.config},activate:function(){return this.props.activateTab(this),this},deactivate:function(){return i.trigger(l.topTabsItem.HIDE),this.props.deactivateTab(this),this},toggle:function(e){return this.isActive()?this.deactivate():(this.activate(),e&&i.trigger(l.topTabsItem.ACTIVATE,{name:this.props.name})),this},onClick:function(e){a.isSpacebarClick(e)||this.onToggle()},onToggle:function(){var e=this.props.config.properties.data;e?i.trigger(l.customlink.EVENT,e):this.toggle(!0)},stealFocus:function(e){this.find("button").focus(),this.setState({tabFocused:!0})},releaseFocus:function(e){this.find("button").blur(),this.setState({tabFocused:!1})},actionKeyCallback:function(e){this.onToggle()},onFrameControlKey:function(e){var t=this.props.config.name;null!=c[t]&&e[c[t]]&&this.toggle()}});return h}),define("views/player/TopTabs",["require","lodash","react","helpers/constants","views/mixins/baseView","helpers/events","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("helpers/constants"),s=e("views/mixins/baseView"),r=e("helpers/events"),o=e("helpers/utils"),a=function(e){return"getLink"+o.upperCaseFirst(e)},l={left:n.tabIndices.TOP_TAB_LEFT,right:n.tabIndices.TOP_TAB_RIGHT},u=i.createClass({displayName:"TopTabs",mixins:[s],subscriptions:function(){var e={};return e[r.window.MAIN_CHANGED]="onSlideChanged",e}(),getInitialState:function(){return{activeTab:null,tabs:[]}},getTabbableItems:function(){var e,i,n=[],s=l[this.props.align],r=0;for(e=this.refs["topTabsItem"+r++];e;)n.push(t.assign(e,{idx:s++})),i=e.refs.tabPanel,i&&i.focusObjects&&i.focusObjects.forEach(function(e){e&&(e.indexGroupName="TopTabsItem",n.push(e))}),e=this.refs["topTabsItem"+r++];return n},componentWillMount:function(){var e=a(this.props.align),i=this.state.tabs;i.push.apply(i,t.cloneDeep(this.props.model[e]()))},alignDir:function(){return"left"===this.props.align?"start":"end"},activateTab:function(e){this.setState({activeTab:e.props.config})},onSlideChanged:function(){this.deactivateTab()},deactivateTab:function(e){this.setState({activeTab:null})}});return u}),define("views/player/ElapsedAndTotalTime",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/events","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("helpers/utils"),r=e("helpers/events"),o=e("helpers/windowManager"),a=t.flow(s.toSeconds,s.formatSecondsAsTime),l=i.createClass({displayName:"ElapsedAndTotalTime",mixins:[n],subscriptions:function(){var e={};return e[r.slide.STARTED]="onSlideStarted",e[r.timeline.CURRENT_TIMELINE]="onTimelineChanged",e}(),getInitialState:function(){return{startTime:0,timelineProgress:0}},componentWillMount:function(){this.duration=a(this.props.presentation.get("lessonDuration"))},componentWillUnmount:function(){this.unbindTimelineEvents(),this.unbindSlideEvents()},configObjEvents:function(e,t,i,n){var s=this[e];return null!=s&&s[n?"on":"off"](t,this[i]),this},getNextTimelineProgressState:function(){var e=this.timeline;return{timelineProgress:null==e||this.isPaused()?0:e.progress()*e.duration()}},isMode:function(e){var t=this.timeline;return null==t?!1:t.parent.get("elapsedTimeMode")===e},onSlideStarted:function(){this.unbindSlideEvents(),this.slide=o.getCurrentWindowSlide(),this.bindSlideEvents()},onSlideTimelineChanged:function(e,t){this.onTimelineChanged(t)},onTimelineChanged:function(e){this.unbindTimelineEvents(),this.timeline=e,this.isIgnored()||(this.bindTimelineEvents(),this.setState(t.extend({startTime:e.parent.get("startTime")},this.getNextTimelineProgressState())))},onTimelineTick:function(){this.setState(this.getNextTimelineProgressState())},renderTimer:function(){return[a(Math.max(0,this.state.startTime+this.state.timelineProgress)),this.duration].join(" / ")}}),u=l.prototype;return t.extend(u,{bindSlideEvents:t.partial(u.configObjEvents,"slide","change:currentTimeline","onSlideTimelineChanged",!0),unbindSlideEvents:t.partial(u.configObjEvents,"slide","change:currentTimeline","onSlideTimelineChanged",!1),bindTimelineEvents:t.partial(u.configObjEvents,"timeline",r.timeline.TICK,"onTimelineTick",!0),unbindTimelineEvents:t.partial(u.configObjEvents,"timeline",r.timeline.TICK,"onTimelineTick",!1),isIgnored:t.partial(u.isMode,"ignore"),isPaused:t.partial(u.isMode,"pause")}),l}),define("views/player/SidebarMobile",["require","lodash","helpers/utils","helpers/constants","helpers/events","react","views/mixins/baseView","views/player/mixins/appStateable","views/player/mixins/sidebar","polyfills/vendorOverrides","polyfills/detection","views/helpers/dom"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/utils"),e("helpers/constants")),n=e("helpers/events"),s=e("react"),r=e("views/mixins/baseView"),o=e("views/player/mixins/appStateable"),a=e("views/player/mixins/sidebar"),l=e("polyfills/vendorOverrides"),u=e("polyfills/detection"),c=e("views/helpers/dom"),h=l.forceSingleRepaint||t.noop,p=["glossary","transcript","resources"],d=function(e){return e.isLive=!0,e},f=function(){return c.hasClass(document.body,"has-custom-links")},m=function(e,i){var n=this.state.tabs.slice(),s=t.findWhere(n,{name:e});null!=s&&(s.isLive=i),this.setState({tabs:n})},g=function(e,t){return!(e.outline.enabled||e.glossary||e.transcript||e.resources)},v=i.tabIndices.SIDEBAR,y=s.createClass({displayName:"SidebarMobile",mixins:[r,o,a],isSidebar:!0,isFullyMounted:!1,subscriptions:function(){var e={};return e[n.detection.ORIENTATION_CHANGE]="onOrientationChange",e}(),stateableValues:function(){return{outline:m.bind(this,"outline"),glossary:m.bind(this,"glossary"),transcript:m.bind(this,"transcript"),resources:m.bind(this,"resources")}},stateableValuesUpdated:function(e){!g(e,this.state.tabs)||this.hasPresenter()||f()?document.body.classList.remove("no-menu"):document.body.classList.add("no-menu"),this.layout=e,this.htmlReady(this.defaultToAvailableTab)},getTabbableItems:function(){var e,i,n=t.range(0,4),s=function(e,i,n){var s=this.refs[e+n];return null!=s&&i.push(t.assign(s,{idx:v++,indexGroupName:"SidebarTab"})),i},r=function(e,t,i){var n=this.refs[e+i];return null!=n&&n.focusObjects&&n.focusObjects.forEach(function(e){null!=e&&(e.indexGroupName="SidebarTab",t.push(e))}),t},o=s.bind(this,"sidebarTab");return i=n.reduce(o,[]),e=n.reduce(r.bind(this,"sidebarPanel"),[]),i.concat(e)},getInitialState:function(){var e=t.cloneDeep(this.props.model.getSidebar()).map(d),i=t.cloneDeep(this.props.model.getLinkLeft()).map(d),n=t.cloneDeep(this.props.model.getLinkRight()).map(d),s=e.concat(i).concat(n);return{activeTab:null,tabs:s}},selectTabOnOrientationChange:function(){"landscape"!==u.orientation||this.state.activeTab||this.setActiveTab(t.findWhere(this.state.tabs,{isLive:!0}))},componentWillMount:function(){var e=this.props.model,i=e.get("presenters"),n=null==i?!0:0===i.length,s=t.every(this.props.model.controlLayouts().attributes,function(e){return g(e,this.state.tabs)}.bind(this));this.selectTabOnOrientationChange(),n&&s&&!f()&&document.body.classList.add("hide-menu"),this.scrollStyleTagAdded=!1},addScrollStyleTag:function(){var e=document.createElement("style");e.innerHTML=[".is-mobile .content-tabs, .is-mobile .panel { ","-webkit-overflow-scrolling: touch; }"].join(""),document.body.appendChild(e)},onOrientationChange:function(){this.selectTabOnOrientationChange(),this.scrollStyleTagAdded||(this.addScrollStyleTag(),this.scrollStyleTagAdded=!0)},componentWillUpdate:function(e,t){t.activeTab!==this.state.activeTab&&this.setActiveTab(t.activeTab),h(this.el)},hasLiveTab:function(){return this.state.activeTab&&this.state.activeTab.isLive},isDeactivated:function(e){return c.hasClass(document.body,"no-"+e)},activeNotDisabled:function(e){return this.layout[e]&&!this.isDeactivated(e)?!0:void 0},checkEmptyTabs:function(){var e=this.layout.outline.enabled||p.some(this.activeNotDisabled),t=e?"remove":"add";document.body.classList[t]("no-panels")},defaultToAvailableTab:function(){if(this.state.activeTab){var e,i=this.state.activeTab.name,n=!1;"outline"===i?this.layout[i].enabled&&(n=!0):this.layout[i]&&(this.isDeactivated(i)||(n=!0)),n||(this.layout.outline.enabled?e="outline":p.some(function(t){var i=this.activeNotDisabled(t);return i&&(e=t),i}.bind(this)),e&&this.setActiveTab(t.findWhere(this.state.tabs,{name:e})))}},setActiveTab:function(e){this.setState({activeTab:e}),e&&"outline"===e.name?document.body.classList.add("menu-panel-active"):document.body.classList.remove("menu-panel-active")},onSearch:function(e){var t=this.findComponent("SearchOptions").performSearch(e),i=this.findComponent("Menu");i.updateLinks(t)}});return y}),define("views/presentation/VectorTextHitArea",["require","views/helpers/dom","react","views/mixins/baseView"],function(e){"use strict";var t=e("views/helpers/dom"),i=e("react"),n=e("views/mixins/baseView"),s=i.createClass({displayName:"VectorTextHitArea",mixins:[n],componentDidMount:function(){this.areas={};var e=t.closest(this.el,function(e){return t.hasClass(e,"vector-text-item")});this.findAll(".link-highlight-area").forEach(function(t){var i=t.getAttribute("data-linkarea");this.areas[i]=t,e.insertBefore(t,e.firstElementChild)}.bind(this))},renderAs:function(e){var i="mouseover"===e.type,n=e.currentTarget.getAttribute("data-hotarea"),s=i?"onOverCallback":"onOutCallback";t.setStyles(this.areas[n],{opacity:Number(i)}),this.props[s](this.props.linkId)},onClickCallback:function(e){e.preventDefault(),this.props.onClickCallback(this.props.linkId)}});return s}),define("views/presentation/VideoControls",["require","lodash","helpers/utils","react","views/mixins/baseView","polyfills/vendorOverrides","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("react"),s=e("views/mixins/baseView"),r=(e("polyfills/vendorOverrides"),e("polyfills/detection")),o=n.createClass({displayName:"VideoControls",mixins:[s],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},onChange:t.noop,componentDidMount:function(){r.isMobileAndNotPreview&&(this.refs.inputEl.style.pointerEvents="none",this.refs.progressBar.addEventListener("touchmove",this.onSeekMobile),this.refs.progressBar.addEventListener("touchstart",this.onSeekMobile))},componentWillUnmount:function(){r.isMobileAndNotPreview&&(this.refs.progressBar.removeEventListener("touchmove",this.onSeekMobile),this.refs.progressBar.removeEventListener("touchstart",this.onSeekMobile))},onSeekMobile:function(e){var t,i;e.preventDefault(),e.stopPropagation(),e.touches&&1===e.touches.length&&(t=this.refs.progressBarInner.getBoundingClientRect(),i=(e.touches[0].pageX-t.left)/t.width,i=Math.min(Math.max(0,i),1),this.refs.inputEl.value=i*this.props.duration,this.props.rangeslideVideoControls({target:this.refs.inputEl}))},currentTimeFormatted:function(){return i.formatSecondsAsTime(this.props.currentTime||0)},durationFormatted:function(){return i.formatSecondsAsTime(this.props.duration||0)}});return o}),define("views/presentation/VideoPlayer",["require","lodash","react","helpers/pubSub","helpers/automation","helpers/events","views/mixins/baseView","mixins/captionable","helpers/cssPrefix","helpers/svg/svgUtils","helpers/videoManager","polyfills/vendorOverrides","polyfills/detection","helpers/vow","helpers/utils","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("helpers/pubSub"),s=e("helpers/automation"),r=e("helpers/events"),o=e("views/mixins/baseView"),a=e("mixins/captionable"),l=(e("helpers/cssPrefix"),e("helpers/svg/svgUtils")),u=e("helpers/videoManager"),c=e("polyfills/vendorOverrides"),h=e("polyfills/detection"),p=e("helpers/vow"),d=e("helpers/utils"),f=e("helpers/errorManager"),m=f.throwError("VideoPlayer"),g=c.buildCaptionTracks||t.noop,v=c.onCaptionsEnabled||t.noop,y=c.offCaptionsEnabled||t.noop,b=function(e,t){var i;switch(e){case"onDurationChange":i=t.target.duration;break;case"onTimeUpdate":i=t.target.currentTime;break;default:i=t}return i},w=i.createClass({displayName:"VideoPlayer",mixins:[o,a],getInitialState:function(){return{currentTime:0}},componentWillMount:function(){this.onTimeUpdateHandler=t.partial(this.onEvent,"onTimeUpdate"),this.onDurationChangeHandler=t.partial(this.onEvent,"onDurationChange"),this.onPlaybackEndedHandler=t.partial(this.onEvent,"onPlaybackEnded"),this.onLoadedDataHandler=t.partial(this.onEvent,"onLoadedData"),this.canPlayDfd=new p.Deferred,this.videoEl=u.getVideoElement(this.props.src),this.isPaused=!0,g(this.videoEl,this.getAssetId()),this.bindVideoEventListeners(),this.videoEl.volume=this.props.currentVolume,this.videoEl.readyState>=this.videoEl.HAVE_ENOUGH_DATA?this.canPlayDfd.resolve():(this.videoEl.addEventListener("canplay",this.canPlayDfd.resolve),this.videoEl.addEventListener("canplaythrough",this.canPlayDfd.resolve)),this.canPlayDfd.done(function(){this.videoEl.currentTime=this.state.currentTime,this.props.duration!==this.videoEl.duration&&this.props.onDurationChange(this.videoEl.duration)}.bind(this)),v(this.enableCaptioning)},componentDidMount:function(){this.refs.container.appendChild(this.videoEl),this.videoEl.setAttribute("playsinline",""),this.setVolume(this.props.currentVolume),this.applyTransformToVideo(),this.props.isPlaying&&this.play()},componentDidUpdate:function(e,t){var i=e.isPlaying,n=this.props.isPlaying;this.setVolume(this.props.currentVolume),i!==n&&this[this.props.isPlaying?"play":"pause"](),this.props.slideVisible===!1&&this.publishCurrentTime();
},componentWillUnmount:function(){this.canPlayDfd.reject(),this.videoEl.removeEventListener("canplay",this.canPlayDfd.resolve),this.unbindVideoEventListeners(),this.videoEl.src="",this.videoEl.load(),null!=this.videoEl.parentNode&&this.videoEl.parentNode.removeChild(this.videoEl),y(this.enableCaptioning)},enableCaptioning:function(e){var t;this.videoEl.textTracks&&this.videoEl.textTracks.length>0&&(t=this.videoEl.textTracks[0],t.mode=e?"showing":"hidden")},getAssetId:function(){return this.props.assetId},getCurrentTime:function(){return this.videoEl.currentTime},isVideo:function(){return!0},onTimeUpdate:function(){var e=this.videoEl.currentTime;this.setState({currentTime:e}),h.isIosPhoneBefore10()||this.publishCurrentTime()},play:function(){if(s.clockIsOverridden)this.isPaused&&(n.trigger(r.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"play"),this.delta=this.props.timeline.elapsedTime(),this.timelineDuration=this.props.timeline.duration(),this.props.timeline.on(r.timeline.TICK,this.onTimelineTick),s.onMediaStarted(this.props.slideObjectModel.id),this.setState({hasEverPlayed:!0}));else if(p.isResolved(this.canPlayDfd)){var e=this.videoEl.play();this.setState({hasEverPlayed:!0}),null!=e&&e["catch"](function(e){"AbortError"===e.name&&20===e.code||m("play",e.message)})}else this.canPlayDfd.done(function(){this.isPaused||this.play()}.bind(this));this.isPaused=!1},pause:function(){this.isPaused=!0,this.videoEl.pause(),s.clockIsOverridden&&(n.trigger(r.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"pause"),this.props.timeline.off(r.timeline.TICK,this.onTimelineTick))},seek:function(e){this.setState({currentTime:e}),this.canPlayDfd.done(function(){this.videoEl.currentTime=e}.bind(this)),h.isIosPhoneBefore10()||this.publishCurrentTime(),s.clockIsOverridden&&e>=d.fix(this.props.duration,2)&&this.props.onPlaybackEnded()},ended:function(){return this.videoEl.ended},onEvent:function(e,t){null!=this[e]&&this[e](t),null!=this.props[e]&&this.props[e](b(e,t))},onTimelineTick:function(e){this.seek(d.toSeconds(this.timelineDuration*e-this.delta))},onEndFullScreen:function(){this.videoEl.paused&&this.props.pause()},updateVideoEventHandlers:function(e){var i={timeupdate:this.onTimeUpdateHandler,durationchange:this.onDurationChangeHandler,ended:this.onPlaybackEndedHandler,loadeddata:this.onLoadedDataHandler,webkitendfullscreen:this.onEndFullScreen};t.forOwn(i,function(t,i){this.videoEl[e?"addEventListener":"removeEventListener"](i,t)}.bind(this))},setVolume:function(e){null!=this.videoEl&&(this.videoEl.volume=e,this.videoEl.muted=0===e)},applyTransformToVideo:function(){var e,t=this.videoEl.videoWidth/this.videoEl.videoHeight,i=this.props.slideObjectModel.attributes.height,n=this.props.slideObjectModel.attributes.width,s=n/i;s!==t&&(e=t*i/n,this.videoEl.style[this.cssTransform]=l.transformScale(1,e),this.videoEl.style[this.cssTransformOrigin]="0 0")}}),S=w.prototype;return t.extend(S,{bindVideoEventListeners:t.partial(S.updateVideoEventHandlers,!0),unbindVideoEventListeners:t.partial(S.updateVideoEventHandlers,!1)}),w}),define("templates/templates",["require","react","polyfills/detection","views/SvgLibrary","views/player/Topbar","views/player/StartOverlay","views/presentation/MainWindow","views/player/Sidebar","views/player/SlideLoaderOverlay","helpers/cssPrefix","views/presentation/PopupWindow","views/presentation/SlideLockCursor","helpers/svg/svgUtils","helpers/pubSub","helpers/events","views/SvgLibrary","views/presentation/MainWindow","views/player/MobileStartOverlay","views/presentation/PopupWindow","views/presentation/SlideLockCursor","views/player/MobileDisabledOrientation","views/player/PlaybackControls","views/player/VolumeControls","views/player/SlideRelatedActions","views/player/SubmitAllButton","views/player/CaptionBtn","polyfills/detection","views/player/FullscreenBtn","views/player/PlaybackControls","views/player/SlideRelatedActions","views/player/MobileSearchButton","polyfills/detection","views/player/CaptionBtn","views/player/FullscreenBtn","views/presentation/VectorTextItem","views/player/Icon","polyfills/detection","views/presentation/VectorTextItem","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","views/presentation/VectorTextItem","helpers/svg/svgUtils","helpers/utils","views/presentation/LinearBackgroundGradient","views/presentation/VectorTextItem","views/presentation/DropListItem","helpers/svg/svgUtils","helpers/utils","views/presentation/ScrollBar","polyfills/detection","views/presentation/LinearBackgroundGradient","views/presentation/SlideObject","views/player/Icon","views/player/GlossaryTerms","views/player/GlossaryDefinition","helpers/utils","views/presentation/SlideObject","helpers/utils","helpers/svg/svgUtils","helpers/assetManager","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/CaptionBtn","views/player/SlideRelatedActions","helpers/stringTabler","views/player/Icon","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/CaptionBtn","views/player/SlideRelatedActions","views/player/Icon","views/presentation/SlideContainer","views/player/Bottombar","views/presentation/SlideWindowBackground","views/presentation/SlideContainer","views/player/Captions","views/player/UiMobile","views/player/SearchOptions","views/player/SearchResults","views/player/SearchFooter","polyfills/detection","views/player/MenuLinksListItem","views/player/MenuLinksList","helpers/stringTabler","views/player/Icon","views/presentation/SlideContainer","polyfills/detection","views/player/Icon","polyfills/detection","views/player/Icon","polyfills/detection","views/player/NotesHeader","views/player/NotesList","views/presentation/VectorTextItem","views/player/Icon","helpers/svg/svgUtils","polyfills/detection","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/PlaybackResetButton","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/CaptionBtn","polyfills/detection","views/player/FullscreenBtn","views/player/Icon","views/player/Icon","helpers/stringTabler","lodash","views/presentation/PresentationOverlay","views/player/Icon","helpers/stringTabler","helpers/stringTabler","views/player/PresenterVideo","helpers/utils","lodash","views/player/Icon","views/player/Timer","views/player/SlideControlButton","views/player/SubmitAllButton","polyfills/detection","helpers/utils","views/player/ResourcesHeader","views/player/ResourcesList","helpers/utils","views/presentation/SlideObject","views/presentation/VectorSlideObject","views/presentation/ScrollBar","polyfills/detection","views/player/Icon","polyfills/detection","views/player/Icon","views/player/MenuLinksList","views/presentation/SequenceCtrlDrop","views/presentation/SequenceCtrlDragItem","views/presentation/ScrollBar","polyfills/detection","views/player/TabPanel","views/player/SidebarTab","views/player/Presenter","views/player/Icon","views/player/TabPanel","views/player/SidebarTab","views/player/SearchFooter","views/player/Presenter","helpers/stringTabler","views/presentation/SlideLayer","views/presentation/SlideBackground","views/presentation/VectorSlideBackground","polyfills/detection","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","helpers/utils","polyfills/detection","helpers/windowManager","views/player/Captions","views/presentation/Slide","lodash","lodash","views/presentation/Slide","views/presentation/VectorSlideObject","views/presentation/SlideObject","views/presentation/AudioPlayer","views/presentation/SlideBackground","views/player/SlideLoaderIndicator","views/player/RelativeNavControls","views/player/RelativeNavControls","views/presentation/SlideObject","polyfills/detection","views/player/Icon","views/player/SlideControlButton","helpers/constants","views/player/Icon","views/player/Menu","views/player/Glossary","views/player/Notes","views/player/Resources","views/player/MicroScrollBar","views/presentation/VectorSlideObject","helpers/utils","helpers/svg/svgUtils","polyfills/detection","views/player/TopTabsItem","views/player/TabPanel","helpers/stringTabler","views/player/TopTabs","views/player/Timer","views/player/ElapsedAndTotalTime","views/player/Icon","views/player/Bottombar","views/player/SidebarMobile","views/player/MobileSearchButton","views/presentation/VectorBackground","lodash","views/presentation/VectorTextItem","views/presentation/VectorTextHitArea","helpers/utils","views/player/Icon","polyfills/detection","helpers/utils","helpers/automation","views/presentation/VideoControls","views/presentation/VideoPlayer","views/player/Icon","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","polyfills/detection","polyfills/detection","views/SvgLibrary","views/player/Topbar","views/presentation/MainWindow","views/player/MobileStartOverlay","views/player/Sidebar","views/player/SlideLoaderOverlay","helpers/cssPrefix","views/presentation/PopupWindow","views/presentation/SlideLockCursor","helpers/svg/svgUtils","helpers/utils","views/player/MobileDisabledOrientation","views/player/Icon","polyfills/detection","views/player/Icon","polyfills/detection","views/player/GlossaryTerms","views/player/GlossaryDefinition","helpers/constants","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/CaptionBtn","views/player/SlideRelatedActions","views/player/Icon","views/presentation/SlideContainer","views/player/Bottombar","views/presentation/SlideWindowBackground","polyfills/detection","views/presentation/SlideContainer","views/player/Captions","views/player/UiMobile","views/player/SearchOptions","views/player/SearchResults","views/player/SearchFooter","polyfills/detection","views/presentation/SlideContainer","polyfills/detection","helpers/utils","polyfills/detection","views/player/Icon","views/player/NotesHeader","views/player/NotesList","views/player/Icon","helpers/svg/svgUtils","polyfills/detection","helpers/constants","helpers/utils","polyfills/detection","lodash","views/player/Icon","views/player/Timer","views/player/SlideControlButton","views/player/SubmitAllButton","polyfills/detection","helpers/utils","views/player/ResourcesHeader","views/player/ResourcesList","views/presentation/ScrollBar","views/player/Icon","polyfills/detection","views/player/TabPanel","views/player/SidebarTab","views/player/Presenter","views/player/Icon","polyfills/detection","views/player/Icon","views/player/Menu","views/player/Glossary","views/player/Notes","views/player/Resources","views/player/MicroScrollBar","helpers/utils","polyfills/detection","helpers/svg/svgUtils","polyfills/detection","views/player/TabPanel","lodash","views/player/TopTabsItem","polyfills/detection","views/player/TopTabs","views/player/Timer","views/player/Icon","views/player/ElapsedAndTotalTime","views/player/Icon","helpers/constants","polyfills/detection"],function(e){var t=e("react");return{AnnotationSlideObject:function(){var e=this.props.model,i=this.state.Innard;return t.createElement(i,{model:e,ref:"innard"})},App:function(){var i,n=e("polyfills/detection"),s=e("views/SvgLibrary"),r=e("views/player/Topbar"),o=e("views/player/StartOverlay"),a=e("views/presentation/MainWindow"),l=e("views/player/Sidebar"),u=e("views/player/SlideLoaderOverlay"),c=e("helpers/cssPrefix"),h=e("views/presentation/PopupWindow"),p=e("views/presentation/SlideLockCursor"),d=e("helpers/svg/svgUtils"),f=e("helpers/pubSub"),m=e("helpers/events"),g=this.props.player.get("fontscale")+"%",v=["presentation-wrapper","cs-base","opaque","cs-"+this.props.state.currentScheme(),"fn-"+this.props.state.currentScheme(),this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" "),y=function(e){var t;return null==e||(t=parseFloat(e,10),isNaN(t))?1:t.toFixed(2)},b=this.props.presentation.display().get("height"),w=this.props.presentation.display().get("width"),S=this.state.isTooTall,x=this.state.isTooWide,T={height:b,width:w,fontSize:g,lineHeight:g},E=[],C=this.state.scale,A=y(C),P={};return n.isMobile||(T.transformOrigin="0 0",T.top=Math.max(0,S?0:Math.ceil(window.innerHeight/2-b*A/2)),T.left=Math.max(0,x?0:Math.ceil(window.innerWidth/2-w*A/2)),f.trigger(m.app.PRESENTATION_POSITION,T)),null!=C&&(i=d.transformScale(A),E.push(i),P[c.camelCase("transform")]=i),T[c.camelCase("transform")]=E.join(" "),t.createElement("div",{id:"presentation-container",className:"non-eventable"},t.createElement("div",{id:"presentation",style:T,className:v},t.createElement(s,{ref:"svgLib"}),this.props.player.get("presenters")&&t.createElement(h,{presenters:this.props.player.get("presenters")}),this.hasSidebar()&&t.createElement(l,{ref:"sidebar",model:this.props.player,width:w,height:b}),t.createElement("div",{ref:"primary",className:"area-primary cs-area-primary",style:{height:b}},this.props.presentation.get("debugMode")&&t.createElement("img",{src:"html5/lib/img/icon_error.png",title:"open dev tools for more information",className:"error-icon "+this.getErr()}),!!this.hasTopBar()&&t.createElement(r,{ref:"topbar",model:this.props.player,timers:this.props.presentation.timers(),presentation:this.props.presentation}),t.createElement(a,{ref:"mainWindow",player:this.props.player}))),t.createElement(p,null),t.createElement("div",{id:"overlay-container-controls",style:P,className:"non-eventable"}),t.createElement("div",{id:"overlay-container",style:P,className:"non-eventable"}),t.createElement("div",{id:"overlay",style:{left:0,top:0,width:"100%",height:"100%",position:"absolute"},className:["cs-"+this.props.state.currentScheme(),"non-eventable",this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ")}),this.props.needsOverlay&&t.createElement("div",{id:"overlay-playbutton",style:T,className:"cs-"+this.props.state.currentScheme()},t.createElement(o,{title:this.getPath("props.player.controlOptions.sidebarOptions.titleText")})),t.createElement("div",{id:"zoomimage-container"}),t.createElement("div",{style:T,className:"app-top"},t.createElement("div",{id:"app-top-container",styles:T}),t.createElement("div",{id:"app-top-overlay"})),t.createElement("div",{id:"presentation-canvas"}),t.createElement("div",{id:"mask-library"}),t.createElement("div",{id:"collision-library"},t.createElement("canvas",null)),this.state.showLoader&&t.createElement(u,null))},AppMobile:function(){var i=e("views/SvgLibrary"),n=e("views/presentation/MainWindow"),s=e("views/player/MobileStartOverlay"),r=e("views/presentation/PopupWindow"),o=e("views/presentation/SlideLockCursor"),a=e("views/player/MobileDisabledOrientation"),l="opaque",u=this.hasMobileUi();return t.createElement("div",{id:"presentation-container",className:["non-eventable",this.state.showLoader?"":"hide-slide-loader"].join(" ")},t.createElement("div",{id:"presentation",className:l},t.createElement(n,{ref:"mainWindow",player:this.props.player,timers:this.props.presentation.timers(),hasUi:u,hasFsOnly:u&&!this.hasMobileUi(!0)}),t.createElement("div",{id:"zoomimage-container"}),t.createElement("div",{id:"presentation-canvas"})),t.createElement(o,null),t.createElement("div",{id:"overlay-container-controls",className:"non-eventable"}),t.createElement("div",{id:"overlay-container",className:"non-eventable"}),t.createElement("div",{id:"overlay"}),t.createElement("div",{id:"overlay-mobile"},t.createElement(s,{title:this.getPath("props.player.controlOptions.sidebarOptions.titleText")})),t.createElement("div",{id:"mask-library"}),t.createElement("div",{id:"collision-library"},t.createElement("canvas",null)),t.createElement(i,{ref:"svgLib"}),t.createElement("div",{id:"app-top-container"}),t.createElement("div",{id:"app-top-overlay"}),this.props.player.get("presenters")&&t.createElement(r,{presenters:this.props.player.get("presenters")}),t.createElement(a,{orientations:this.state.orientations}))},Bottombar:function(){var i=e("views/player/PlaybackControls"),n=e("views/player/VolumeControls"),s=e("views/player/SlideRelatedActions"),r=e("views/player/SubmitAllButton"),o=e("views/player/CaptionBtn"),a=e("polyfills/detection"),l=e("views/player/FullscreenBtn");return t.createElement("div",{className:"controls grid-row inflexible"},a.isTouchableTheme&&t.createElement("div",{className:"bottom-ui-bg"}),!a.isMobile&&t.createElement(r,{slide:this.props.slide}),this.hasVolume()&&t.createElement(n,{volumeStrength:this.props.volumeStrength,ref:"volumeControls"}),this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(o,null)),this.hasSeekbarArea()&&t.createElement(i,{ref:"playbackControls",slide:this.props.slide,playOnly:!this.state.stateable_seekbar&&this.state.stateable_pauseplay,readonly:this.isReadOnly()}),a.isTouchableTheme&&a.is360&&(!a.isDevicePreview||a.enableFs)&&t.createElement(l,{handleFullScreen:this.handleFullScreen}),t.createElement(s,{ref:"slideRelatedActions",handledSubmitAll:!0,slide:this.props.slide,isRtl:"rtl"===this.props.player.get("textdirection").toLowerCase()}))},BottombarMobile:function(){var i=e("views/player/PlaybackControls"),n=e("views/player/SlideRelatedActions"),s=e("views/player/MobileSearchButton"),r=e("polyfills/detection"),o=e("views/player/CaptionBtn"),a=e("views/player/FullscreenBtn");return t.createElement("div",{className:"slide-controls"},this.hasSeekbarArea()&&this.props.slide?t.createElement(i,{ref:"playbackControls",slide:this.props.slide,timeline:this.props.slide&&this.props.slide.currentTimeline(),hasCaption:this.hasCaption(),readonly:this.isReadOnly()}):t.createElement("div",{className:"playback-controls"},r.is360&&(!r.isDevicePreview||r.enableFs)&&t.createElement(a,{handleFullScreen:this.handleFullScreen}),this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(o,null))),t.createElement(n,{ref:"slideRelatedActions",slide:this.props.slide,player:this.props.player,isRtl:"rtl"===this.props.player.get("textdirection").toLowerCase(),timers:this.props.timers}),this.props.hasSearch&&t.createElement(s,{toggleSearchUi:this.props.toggleSearchUi}))},ButtonSlideObject:function(){var i=e("views/presentation/VectorTextItem"),n=this.getPath("props.model.data.textdata.vectortext.pr")||{};return t.createElement("button",{type:"button","data-accepts":"events",className:this.getClassNames()},t.createElement("svg",{className:"slide-object-button-text"},t.createElement(i,{ref:"vectortext",commandsetId:n.i,pathLib:n.l})))},CaptionBtn:function(){var i=e("views/player/Icon"),n=e("polyfills/detection"),s="cs-tabs cs-selected";return n.isMobile&&(s="button-tapped"),t.createElement("button",{className:["btn","cs-button","caption-btn","inflexible",this.state.enabled?s:""].join(" "),onClick:this.toggleCaption},t.createElement(i,{key:"Caption",type:"Caption"}),t.createElement("span",{className:"accessibility"},this.state.i18ncaption))},Captions:function(){return t.createElement("div",{className:"caption",style:{fontFamily:this.state.font,fontSize:[this.props.fontscale,"%"].join("")}},this.state.captions.map(function(e,i){return t.createElement("div",{key:i},t.createElement("p",{dangerouslySetInnerHTML:{__html:this.toHtml(e)}}))}.bind(this)))},DragdropSlideObject:function(){var i=e("views/presentation/VectorTextItem"),n=e("views/presentation/LinearBackgroundGradient"),s=e("helpers/svg/svgUtils"),r=this.getPath("props.model.style"),o=this.getPath("props.model.height"),a=this.getPath("props.model.width"),l=this.getPath("props.model.kind"),u="dragitem"===l,c="droparea"===l,h="wordbank"===r,p=c&&h,d=this.state.hovered&&!this.state.dropped&&("droparea"!==l||p),f=_.find(this.getPath("props.model.colors"),{name:"hover"}),m=null!=f?f:_.find(this.props.colors,{name:"hover"}),g=(null!=m?this.props.model.id:"dragdrop")+"-hover-gradient",v=s.buildUrl(d&&!p?g:"dragdrop-gradient"),y=d?"slide-object-dragitem-hover":"",b=this.state.collision&&"droparea"===l,w=p&&this.state.hoverStroke&&null!=m,S=this.props.notchWidth,x=this.props.notchHeight,T=S+1,E=x+1,C=[["M "+T,0].join(","),["L"+a,0].join(","),["L"+a,o].join(","),["L"+T,o].join(","),["L"+T,o-E].join(","),["L 1",o-E].join(","),["L 1",E].join(","),["L"+T,E].join(","),"Z"].join(" "),A=["M 0,0",["L"+a,0].join(","),["L"+a,x].join(","),["L"+(a-S),x].join(","),["L"+(a-S),o-x].join(","),["L"+a,o-x].join(","),["L"+a,o].join(","),["L 0",o].join(","),"Z"].join(" "),P={visibility:this.state.backgroundVisible?"visible":"hidden",strokeWidth:this.state.reviewStroke&&2,stroke:this.state.reviewStroke?this.state.reviewStroke:w?["url(#",g,")"].join(""):""};return t.createElement("svg",{width:a,height:o,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",className:["slide-object-dragdrop","slide-object-dragdrop-"+r,"draggable",y].join(" ").trim(),onMouseEnter:this.didMouseOver,onMouseLeave:this.didMouseOut,onTouchStart:this.didMouseOver,onTouchEnd:this.didMouseOut},(d&&null!=m||w)&&t.createElement("defs",null,t.createElement(n,{fill:m.fill,patternFillId:g})),h?t.createElement("rect",{width:a-1,height:o-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:v,className:"slide-object-dragdrop-shape",filter:!this.state.reviewStroke&&"url(#dragdrop-inner-stroke)",style:P,transform:"translate(0.5, 0.5)"}):t.createElement("path",{d:u?C:A,className:"slide-object-dragdrop-shape",fill:v,style:b?{strokeWidth:3}:{},filter:!b&&"url(#dragdrop-inner-stroke)",strokeDasharray:u&&!this.state.dropped?"1,1":"",transform:"translate(0.5, 0.5)"}),this.state.hoverStroke&&null==m&&t.createElement("rect",{width:a-1,height:o-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:"none",stroke:"#bafbfb",transform:"translate(2,1.5) scale(0.995, 0.92)"}),t.createElement("g",{transform:s.transformTranslate(this.props.model.xOff||0,this.props.model.yOff||0)},null!=this.state.textCommandsetId&&t.createElement(i,{ref:"vtext",pathLib:this.state.textPathLibId,commandsetId:this.state.textCommandsetId})),"matching"===r&&this.state.reviewDot&&t.createElement("g",{className:"dragdrop-review-dot",transform:"translate(8,8)"},t.createElement("circle",{cx:"0",cy:"0",r:"8",className:"dragdrop-review-dot-"+this.state.reviewDot}),t.createElement("circle",{cx:"0",cy:"0",r:"7",className:"dragdrop-review-dot-"+this.state.reviewDot}),t.createElement("text",{textAnchor:"middle",y:"4"},t.createElement("tspan",null,this.getPath("props.model.reviewdata")))))},DropListItem:function(){var i=e("views/presentation/VectorTextItem"),n=e("helpers/svg/svgUtils"),s=e("helpers/utils"),r=e("views/presentation/LinearBackgroundGradient"),o=s.getPath(this.props.hoverColor,"fill"),a=this.props.modelId+"-fill",l=n.buildUrl(a),u=null!=this.props.hoverColor&&this.state.hovered;return t.createElement("g",{className:"drop-list-item",role:"option","aria-label":this.props.altText,transform:n.transformTranslate(0,this.props.yOff),onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onMouseUp:this.onClick,onTouchStart:this.didMouseOver,onTouchEnd:_.flow(this.onClick,this.didMouseOut)},u&&t.createElement("defs",null,t.createElement(r,{fill:o,patternFillId:a})),t.createElement("rect",{width:this.props.width,height:this.props.height,className:this.fillColorClass(),style:u?{fill:l}:null}),t.createElement(i,{ref:"vectortext",commandsetId:this.props.pr.i,pathLib:this.props.pr.l}))},DropListParentable:function(){var i=e("views/presentation/VectorTextItem"),n=e("views/presentation/DropListItem"),s=e("helpers/svg/svgUtils"),r=e("helpers/utils"),o=e("views/presentation/ScrollBar"),a=e("polyfills/detection"),l=this.state.reviewWidth||this.getPath("props.model.width"),u=this.getPath("props.model.height"),c=this.getPath("props.model.colors"),h=this.state.pr,p=8,d=25,f=l-d+1,m=_.find(c,{name:"button_hover"}),g=this.state.hovered?null!=m?r.hexify(_.first(m.fill.colors).rgb):"#d5ffff":"white",v="#cecece",y=("item-list-clip"+this.props.model.id,this.getItemHeight()),b=this.getListHeight(),w=a.isMobile&&"none",S=-4,x=this.getPlayerProp("SelectedItemIndex"),T=null==x||-1===x?void 0:this.props.model.origItemsList[x].textdata.altText,E="block"===this.state.display,C="text-mask-"+this.props.model.id;return t.createElement("div",{className:"drop-list",tabIndex:"-1",role:"listbox","aria-expanded":E,"aria-label":T},t.createElement("div",{className:["is-scrollable","drop-list-drop-down"].join(" "),ref:"dropdown",style:{width:l,borderColor:v,display:this.state.display,borderRadius:2*p,paddingTop:u}},t.createElement("div",{className:["drop-list-drop-down-inner",this.state.dropDownScrollable].join(" "),ref:"dropdownInner",style:{display:w}},t.createElement("svg",{className:"eventable",width:l,height:b,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},t.createElement("g",null,this.itemslist.map(function(e,i){var s=this.props.model.itemsIdx[e.itemdata];return t.createElement(n,{ref:"item"+s,order:i,key:e.textdata.uniqueId,idx:s,width:l,height:y,hoverColor:_.find(c,{name:"item_hover"}),modelId:this.props.model.id,yOff:y*i,pr:e.textdata.vectortext.pr,selected:this.focusItem,altText:e.textdata.altText})}.bind(this))))),this.state.dropDownScrollable&&!a.isIE()&&t.createElement(o,{ref:"scrollBar",offY:u,offX:S,width:l,height:this.state.scrollBarHeight-u,parent:this,closedHeight:u,refName:"dropdownInner",initSelf:!0})),t.createElement("div",{className:"drop-list-top-container"},t.createElement("svg",{width:l,height:u,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",style:{zIndex:100}},t.createElement("defs",null,t.createElement("mask",{id:C,maskUnits:"userSpaceOnUse",x:"0",y:"0",width:f,height:u},t.createElement("rect",{x:"0",y:"0",width:f,height:u,fill:"white"}))),t.createElement("g",{className:"drop-list-top eventable",onMouseDown:this.onShowList,onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onTouchStart:_.flow(this.didMouseOver,this.onShowList),onTouchEnd:this.didMouseOut},t.createElement("rect",{width:l-1,height:u-1,rx:p,ry:p,stroke:v,fill:"white"}),t.createElement("g",{style:{mask:["url(#",C,")"].join("")}},t.createElement(i,{ref:"vectortext",commandsetId:h.i,pathLib:h.l})),t.createElement("path",{d:s.rightRoundedRectPath(f,1,d-3,u-3,p),fill:"url(#drop-list-gradient)",stroke:g}),t.createElement("path",{d:["M",l-d,0,"v",u-1].join(" "),stroke:"#cecece"}),t.createElement("g",{transform:s.transformTranslate(f+5.5,p+1)},t.createElement("path",{d:["M",0,0,"L",10,0,5,5,0,0].join(" "),fill:"#494949",stroke:"rgba(255, 255, 255, 0.8)"}))))),a.isMobile&&t.createElement("select",{ref:"mobileDrop",className:"mobile-drop-list",style:{width:l,opacity:0},onTouchStart:a.isAndroid&&_.flow(this.didMouseOver,this.onShowList)},t.createElement("option",null,"-- Select --"),this.itemslist.map(function(e,i){var n=this.props.model.itemsIdx[e.itemdata];return t.createElement("option",{key:e.textdata.uniqueId,ref:"item"+n,"data-order":i,value:n},e.textdata.altText)}.bind(this))))},DropListSlideObject:function(){return t.createElement("div",null)},ElapsedAndTotalTime:function(){return t.createElement("span",{className:"elapsed-and-total-time"},"(",this.renderTimer(),")")},ExpandingLabelSlideObject:function(){var i,n=e("views/presentation/LinearBackgroundGradient"),s=e("views/presentation/SlideObject"),r=this.shouldShowContent(),o=6;return t.createElement("div",{className:"expanding-label-container",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},t.createElement("svg",{className:["expanding-label-path",r?"content-shown":""].join(" "),style:{left:this.labelTranslate.offX,top:this.labelTranslate.offY,width:this.labelSize.width,height:this.labelSize.height}},this.props.model.background()&&t.createElement("defs",null,t.createElement(n,{patternFillId:this.patternFillId(),layerModel:this.props.model,isInnard:!0})),t.createElement("g",{transform:["translate(",this.labelTranslate.x,", ",this.labelTranslate.y,")"].join("")},t.createElement("path",{d:this.state.labelPath,stroke:this.props.model.get("borderColor")?this.props.model.get("borderColor"):"none",fill:this.props.model.get("background")?["url(#",this.patternFillId(),")"].join(""):"white"}))),t.createElement("div",{className:"expanding-label",style:{width:this.props.playerProps.width}},t.createElement("div",{className:"expanding-label-content",style:this.getContentStyles()},this.svg(),t.createElement("div",{className:r?"shown":"hidden"},this.props.model.objects().map(function(e,n){return i={ref:"obj"+n,key:e.cid,model:e,playerProps:this.props.playerProps,parent:this,checkElso:this.props.checkElso,slideVisible:this.props.slideVisible,onElsoAction:this.props.onElsoAction},e.isKind("scrollarea")&&(i.topOffset=o),t.createElement(s,t.__spread({},i))}.bind(this))))))},FullscreenBtn:function(){var i=e("views/player/Icon");return t.createElement("button",{className:"cs-button exit-btn btn-unstyled force-unstyled inflexible",onTouchEnd:this.props.handleFullScreen},t.createElement("span",{className:"enterFullScreen-360"},t.createElement(i,{type:"enterFullScreen"})),t.createElement("span",{className:"exitFullScreen-360"},t.createElement(i,{type:"close"})))},Glossary:function(){var i=e("views/player/GlossaryTerms"),n=e("views/player/GlossaryDefinition");return t.createElement("div",{className:"panel-content glossary bleed cs-glossary",role:"complementary"},t.createElement("section",{className:"panel-section"},t.createElement("header",{className:"panel-section-header"},t.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18nterms),t.createElement("hr",{className:"cs-diva diva"})),t.createElement(i,{collection:this.props.collection,onTermChosen:this.revealTerm,curIdx:this.state.curIdx,ref:"glossaryTerms"})),t.createElement("section",{className:"panel-section cs-editor"},t.createElement("header",{className:"panel-section-header"},t.createElement("hr",{className:"cs-divb divb"}),t.createElement("hr",{className:"cs-divc divc"}),t.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18ndefinition),t.createElement("hr",{className:"cs-diva diva"})),t.createElement(n,{curTitle:this.state.curTitle,curDefinition:this.state.curDefinition,ref:"glossaryDefinition"})))},GlossaryDefinition:function(){return t.createElement("div",{className:"panel-section-content cs-scrolling-panel"+(this.state.tabFocused?" focused":""),id:"glossary-definition",style:{outlineOffset:"-3px"},tabIndex:"-1"},t.createElement("dl",{className:"unstyled"},t.createElement("dt",{className:"term-word hidden"},this.props.curTitle),t.createElement("dd",{className:"term-definition html-reset cs-editor-html"},this.props.curDefinition.split(/\n/).map(function(e,i){return t.createElement("p",{key:i},e)}))))},GlossaryMobile:function(){var i=e("helpers/utils");return t.createElement("div",{className:"glossary"},t.createElement("header",{className:"panel-header panel-section-header"},t.createElement("h4",{className:"panel-section-heading"},this.state.i18nterms)),t.createElement("div",{className:"panel-section-content",role:"complementary"},t.createElement("dl",null,this.props.collection.map(function(e,n){return t.createElement("div",{key:n},t.createElement("dt",null,e.get("title")),t.createElement("dd",{dangerouslySetInnerHTML:{__html:i.stripTags(e.get("content"))}}))}.bind(this)))))},GlossaryTerms:function(){return t.createElement("div",{className:"panel-section-content cs-scrolling-panel"+(this.state.tabFocused?" focused":""),style:{outlineOffset:"-3px"}},t.createElement("ul",{className:"choice-list"},this.props.collection.map(function(e,i){var n=this.props.curIdx===i;return t.createElement("li",{className:"term cs-term "+(n?"cs-selected active":""),key:i,ref:"titles-"+i},t.createElement("button",{className:"choice-list-trigger cs-choice-list-trigger list-item",onClick:this.termChosen.bind(this,i)},e.get("title")))}.bind(this))))},GroupingSlideObject:function(){var i=e("views/presentation/SlideObject");return t.createElement("div",{className:"group"},this.props.model.objects().map(function(e,n){return t.createElement(i,{ref:"obj"+n,key:e.cid,onScrollFocus:this.props.onScrollFocus,onBeforeScrollFocus:this.props.onBeforeScrollFocus,
model:e,parent:this,slideVisible:this.props.slideVisible,slideFrame:this.props.slideFrame,checkElso:this.props.checkElso,onElsoAction:this.props.onElsoAction})}.bind(this)))},ImageSlideObject:function(){var i,n,s=e("helpers/utils"),r=e("helpers/svg/svgUtils"),o=e("helpers/assetManager"),a={width:this.props.playerProps.width,height:this.props.playerProps.height},l={left:this.props.model.get("btnxpos"),top:this.props.model.get("btnypos")},u=this.props.model.getCurrentStateData(),c=o.getAssetUrl(u.imagedata.assetId);return null!=u.html5data?(i=u.html5data.xPos,n=u.html5data.yPos):(i=this.props.model.get("xOffset"),n=this.props.model.get("yOffset")),l[this.cssTransform]=["translate(-50%, -50%)",r.transformTranslate(s.pxify(-i),s.pxify(-n)),r.transformRotate(-this.props.playerProps.Rotation+"deg")].join(" "),t.createElement("div",{className:"image-container slideobject-maskable","data-accepts":"events",style:{transform:r.transformTranslate(s.pxify(i),s.pxify(n))}},this.props.model.isZoomable()?t.createElement("div",null,t.createElement("img",{src:c,onClick:this.onClick}),t.createElement("div",{ref:"zoom",className:"zoom eventable",style:a,onClick:this.onClick},t.createElement("img",{className:"zoom-image",style:l,src:this.props.model.get("zoomiconurl")}))):t.createElement("img",{src:c}))},LightBox:function(){var i=e("views/presentation/PresentationOverlay"),n=e("views/presentation/SlideContainer"),s=e("views/player/CaptionBtn"),r=e("views/player/SlideRelatedActions"),o=e("helpers/stringTabler"),a=e("views/player/Icon"),l={};return this.props.hasControls?l.position="absolute":(l.marginTop="7px",l["float"]="right",l.marginBottom="7px"),t.createElement("span",null,t.createElement(i,null),t.createElement("div",{className:["cs-",this.getPath("props.state.currentScheme")," lightbox-wrapper"].join("")},t.createElement("div",{ref:"lightBox",className:["cs-base","lightbox","wn-"+this.props.model.id,"cs-"+this.getPath("props.state.currentScheme")].join(" "),style:{width:this.props.model.get("width"),height:this.props.model.get("height")},"data-window-id":this.props.model.id},t.createElement("button",{ref:"close",className:["lightbox-close-btn btn-unstyled",this.state.showCloseBtn?"":" hidden"].join(""),onClick:this.close},t.createElement(a,{type:"close"}),t.createElement("span",{className:"accessibility"},o.getString("close"))),t.createElement("div",{className:"slide-wrapper",style:{height:this.slideWrapperHeight}},t.createElement(n,{ref:"slideContainer",lightboxed:!0,lightbox:this,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id})),(this.props.hasControls||this.hasCaption())&&t.createElement("div",{className:"controls"},this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible",style:l},t.createElement(s,null)),this.props.hasControls&&t.createElement(r,{ref:"actions",slide:this.state.currentSlide,windowId:this.props.model.id,lightboxed:!0,isRtl:this.props.isRtl})))))},LightBoxMobile:function(){var i=e("views/presentation/PresentationOverlay"),n=e("views/presentation/SlideContainer"),s=e("views/player/CaptionBtn"),r=e("views/player/SlideRelatedActions"),o=e("views/player/Icon");return t.createElement("div",{className:"mobile-lightbox"},t.createElement(i,null),t.createElement("div",{ref:"lightbox",className:["lightbox wn-"+this.props.model.id,this.props.hasControls||this.hasCaption()?"":"lightbox-no-controls"].join(" "),"data-window-id":this.props.model.id},t.createElement(n,{ref:"slideContainer",lightboxed:!0,lightbox:this,hasControls:this.props.hasControls,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id,getWrapperDimensions:this.getWrapperDimensions,onPinchZoom:this.positionControls.bind(this),onPinchPan:this.positionControls.bind(this)}),t.createElement("div",{ref:"optionPane",className:"option-pane"},t.createElement("div",{className:"slide-controls"},t.createElement("button",{ref:"close",className:["lightbox-close-btn btn-unstyled",this.state.showCloseBtn?"":" hidden"].join(""),onClick:this.close},t.createElement("span",{className:"btn-icon"},t.createElement(o,{type:"close"}))),this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(s,null)),this.props.hasControls&&t.createElement(r,{ref:"actions",slide:this.state.currentSlide,lightboxed:!0,isRtl:this.props.isRtl})))),t.createElement("button",{ref:"close",className:"lightbox-close-btn lightbox-close-btn-floating btn-unstyled",onClick:this.close},t.createElement(o,{type:"close"})))},LinearBackgroundGradient:function(){return t.createElement("linearGradient",{id:this.props.patternFillId,gradientTransform:["rotate(",this.fill().rotation," 0.5 0.5)"].join("")},this.fill().colors.map(function(e,i){return t.createElement("stop",t.__spread({key:i,offset:this.stopPct(e)+"%"},this.stopProps(e)))}.bind(this)))},MainWindow:function(){var i=e("views/presentation/SlideContainer"),n=e("views/player/Bottombar"),s=e("views/presentation/SlideWindowBackground"),r=this.getBackground();return t.createElement("div",{id:"main-window"},t.createElement("div",{className:"main-window-slide-container cs-slide-container"},null!=r&&t.createElement(s,{bg:r}),t.createElement(i,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame"})),this.state.currentSlide&&this.hasBottomBar()&&t.createElement(n,{ref:"bb",player:this.props.player,slide:this.state.currentSlide}))},MainWindowMobile:function(){var i=e("views/presentation/SlideContainer"),n=e("views/player/Captions"),s=e("views/player/UiMobile"),r=this.props.player.get("fontscale");return t.createElement("div",{ref:"primary",id:"main-window"},t.createElement(i,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame",hasUi:this.props.hasUi}),t.createElement(n,{fontscale:r}),this.props.hasUi&&t.createElement(s,{model:this.props.player,currentSlide:this.state.currentSlide,timers:this.props.timers,hasFsOnly:this.props.hasFsOnly}))},Menu:function(){var i=e("views/player/SearchOptions"),n=e("views/player/SearchResults"),s=e("views/player/SearchFooter"),r=e("polyfills/detection"),o=this.props.options.get("wrapListItems"),a=this.props.options.get("autonumber");return t.createElement("div",{className:"outline-panel cs-outline"},r.isMobile&&t.createElement("div",{className:"mobile-menu-title"},this.props.title),t.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:0}},this.props.hasSearch&&t.createElement(i,{ref:"searchOptions",onResults:"updateLinks",visible:this.state.isSearchActive,visitedSlides:this.state.visitedSlides,searchData:this.props.model.get("search"),notesData:this.props.notesData,addFocusObjects:this.props.addFocusObjects,links:this.props.model.outline().links()}),t.createElement(n,{ref:"searchResults",hasSearch:this.props.hasSearch,wrap:o,autonumber:a,checkFlow:this.checkFlow,shouldKillLink:this.shouldKillLink,showChildren:!this.state.isSearchActive,showDisplayText:!this.state.isSearchActive,collapsible:this.props.options.get("autocollapse"),visitedSlides:this.state.visitedSlides,hasAnyLink:this.hasAnyLink,tips:this.props.options.get("tooltips"),links:this.state.links,onSelectMenuItem:this.props.onSelectMenuItem,indexGroupName:this.props.indexGroupName,addFocusObjects:this.props.addFocusObjects})),!r.isMobile&&this.props.hasSearch&&t.createElement(s,{ref:"searchFooter",addFocusObjects:this.props.addFocusObjects,showClearButton:this.state.isSearchActive,onSearch:this.onSearch,onClearSearch:this.onClearSearch}))},MenuLinksList:function(){var i=e("views/player/MenuLinksListItem");return t.createElement("ol",{"aria-expanded":this.props.showChildren?"true":"false",className:"outline-list",role:this.getAriaRole()},this.props.links.map(function(e,n,s){return t.createElement(i,{link:e,key:n,ref:"menuLinksListItem"+n,shouldKillLink:this.props.shouldKillLink,showChildren:this.props.showChildren,showDisplayText:this.props.showDisplayText,collapsible:this.props.collapsible,tips:this.props.tips,hasAnyLink:this.props.hasAnyLink,wrap:this.props.wrap,autonumber:this.props.autonumber,visitedSlides:this.props.visitedSlides,onClick:this.props.onClick,onSelectMenuItem:this.props.onSelectMenuItem,number:n,total:s.length,level:this.props.level,parentItem:this})}.bind(this)))},MenuLinksListItem:function(){var i,n=e("views/player/MenuLinksList"),s=e("helpers/stringTabler"),r=e("views/player/Icon"),o=this.props.link.get("slideid"),a=this.props.link.get("slidetitle"),l=this.props.link.get("displaytext");return a=null==a?"":a,l=null==l?"":l,i=this.props.showDisplayText||!a?l.toString():a.toString(),propsIsActionLink={},isScene=2===o.split(".").length,isSelected=this.isSlideSelected(o),labelId=["label",this.props.level,this.props.number,this.props.total].join("-"),titleText=[i+",",this.props.number+1,"of",this.props.total,isSelected?", "+s.getString("active"):""].join(" "),this.isActionLink()&&(propsIsActionLink["data-actionlink"]=""),t.createElement("li",{className:[this.state.expanded===!1?"outline-links-collapse":"",this.props.link.links().length>0?"item-collapsible":"",this.props.wrap===!0?"wrap-item":"",this.state.itemRestricted===!0?"outline-links-restriced":"","menu-item-status-"+this.isSlideCorrect(o),"slide-lockable",isScene?"is-scene":""].join(" "),role:"presentation"},t.createElement("span",{id:labelId,className:"accessibility"},titleText),t.createElement("a",t.__spread({className:["cs-listitem list-item",isSelected?"cs-selected menu-item-selected":"",this.isSlideViewedOrCurrentParent(o)?"cs-viewed":"",this.state.touched?"touched-link":""].join(" "),href:this.linkSlide(o),onClick:this.props.onClick,title:this.props.wrap===!1&&this.props.tips===!0?(this.props.autonumber?this.getAutoNumber():"")+i:"",role:"treeitem","aria-labelledby":labelId,"aria-describedby":"unspoken"},propsIsActionLink),this.props.showChildren&&this.props.link.links().length>0&&t.createElement("span",{className:"svg-icon-wrapper icon-carrot",onClick:this.toggle},t.createElement(r,{type:"carrot"})),t.createElement("span",null,i)),this.props.showChildren&&this.props.link.links().length>0&&t.createElement(n,{ref:"menuLinksList",shouldKillLink:this.props.shouldKillLink,showChildren:this.props.showChildren,showDisplayText:this.props.showDisplayText,collapsible:this.props.collapsible,tips:this.props.tips,wrap:this.props.wrap,hasAnyLink:this.props.hasAnyLink,autonumber:this.props.autonumber,visitedSlides:this.props.visitedSlides,links:this.props.link.links(),onClick:this.props.onClick,onSelectMenuItem:this.props.onSelectMenuItem,level:this.props.level+1,parentItem:this}))},MessageWindow:function(){var i=e("views/presentation/SlideContainer"),n=e("polyfills/detection");return t.createElement("span",null,t.createElement("div",{className:"overlay overlay-message"}),t.createElement("div",{className:["message-window ",this.windowType(),"cs-window"].join(" "),style:{width:this.getPath("props.model.width"),height:this.getPath("props.model.height")},"data-window-id":this.props.model.id},t.createElement("header",{className:"message-window-header"},t.createElement("h3",{className:"message-window-heading",dangerouslySetInnerHTML:{__html:this.getPath("state.currentSlide.title")||""}}),t.createElement("hr",{className:"cs-diva"}),t.createElement("hr",{className:"cs-divb"})),t.createElement(i,{ref:"slideContainer",shouldScale:this.isScaleable,windowType:this.windowType,currentSlide:this.state.currentSlide,isMessageWindow:!0,windowId:"MessageWnd"}),n.isMobile&&t.createElement("div",{className:"message-window-mobile-text"},this.state.mobileText)))},MicroScrollBar:function(){return t.createElement("div",{className:["scrollarea-scrollbar micro-scrollbar",this.state.highlight?"highlight-scrollbar":"",this.state.isHidden?"hidden":""].join(" "),ref:"scrollBar"},t.createElement("div",{ref:"scrollBtn",className:"scrollarea-btn micro-scrollbar-btn",onMouseDown:this.onScrollBtnDown,onTouchStart:this.onScrollBtnDown}))},MobileDisabledOrientation:function(){var i=e("views/player/Icon"),n=e("polyfills/detection"),s=["mobile-disabled-orientation-overlay",_.contains(this.props.orientations.tablet,"portrait")?"tablet-portrait":"",_.contains(this.props.orientations.tablet,"landscape")?"tablet-landscape":"",_.contains(this.props.orientations.phone,"portrait")?"phone-portrait":"",_.contains(this.props.orientations.phone,"landscape")?"phone-landscape":"",!n.isMobilePreview&&window.self!==window.top||this.state.forceHide?"hidden":""];return t.createElement("div",{className:s.join(" ")},t.createElement("div",{className:"mobile-disabled-orientation-overlay-inner"},t.createElement("div",{className:"mobile-disabled-orientation-overlay-icon"},t.createElement(i,{type:"DisabledOrientation"})),t.createElement("div",null,this.state.i18ndisabled_orientation)))},MobileSearchButton:function(){var i=e("views/player/Icon");return t.createElement("div",{className:"mobile-search-button"},t.createElement("button",{onTouchEnd:this.props.toggleSearchUi,onMouseUp:this.previewMouseEvent(this.props.toggleSearchUi)},t.createElement(i,{key:"Search",type:"Search"})))},MobileStartOverlay:function(){var i=e("polyfills/detection");return t.createElement("div",{className:"mobile-start-overlay "+(this.state.visible?"shown":"hidden")},t.createElement("svg",{ref:"playIcon",viewBox:"-10 -10 80 80",onMouseDown:this.previewMouseEvent(this.onStart)},i.is360&&t.createElement("circle",{fill:"white",cx:"32",cy:"22",r:"11"}),t.createElement("path",{transform:"scale(0.5) translate(30, 15) ",d:"M30,0C13.431,0,0,13.431,0,30s13.431,30,30,30s30-13.431,30-30S46.569,0,30,0z M22,43V17l20,13L22,43z"})))},Notes:function(){var i=e("views/player/NotesHeader"),n=e("views/player/NotesList");return t.createElement("div",{className:"cs-transcript transcript"},t.createElement("header",{className:"panel-header panel-section-header"},t.createElement(i,{currentSlideTitle:this.state.currentSlideTitle,ref:"notesHeader"}),t.createElement("hr",{className:"cs-div panel-relative-hr"})),t.createElement("div",{ref:"panelContent",className:"panel-content cs-editor"},t.createElement(n,{ref:"notesList",commandsetId:this.state.commandsetId,pathLib:this.state.pathLib,notesHtml:null==this.state.commandsetId?this.getNotesHtml():""})))},NotesHeader:function(){return t.createElement("h4",{className:"panel-heading panel-section-heading cs-heading"+(this.state.tabFocused?" focused":""),tabIndex:"-1",role:"presentation","aria-label":this.props.currentSlideTitle},this.props.currentSlideTitle)},NotesList:function(){var i=e("views/presentation/VectorTextItem"),n=null!=this.props.commandsetId;return t.createElement("p",{className:"cs-editor-html editor-html"+(this.state.tabFocused?" focused":""),style:{marginLeft:n&&-9},tabIndex:"-1",role:"presentation"},n?t.createElement("svg",{ref:"svgNotes",className:"svg-notes"},t.createElement(i,{ref:"vectortext",commandsetId:this.props.commandsetId,pathLib:this.props.pathLib})):t.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.notesHtml}}))},ObjectSlideBackground:function(){return t.createElement("pattern",{patternUnits:"userSpaceOnUse",height:this.getSlideHeight(),width:this.getSlideWidth(),id:this.props.id,patternTransform:[this.props.patternTransform," translate(",this.getX(),", ",this.getY(),") rotate(",this.getRot(),", ",this.getXRot(),", ",this.getYRot(),")"].join("")},t.createElement("use",{xlinkHref:"#slide-bg-"+this.getSlideId()}))},PlaceHolderSlideObject:function(){return t.createElement("div",{className:"placeholder-object",style:{width:this.props.model.width,height:this.props.model.height}},this.props.model.kind())},PlayPauseButton:function(){var i=e("views/player/Icon"),n=e("helpers/svg/svgUtils"),s=e("polyfills/detection"),r=this.state.isPlaying?"pause":"play";return t.createElement("button",{className:"cs-button btn-unstyled force-unstyled inflexible "+(this.state.tabFocused?"focused":""),onClick:this.toggle,onTouchStart:this.onTouchStart,onMouseDown:this.previewMouseEvent(this.onTouchStart)},s.isMobile&&t.createElement("svg",{className:"circle-progress",width:"38",height:"38",viewBox:"0 0 38 38",style:{display:this.state.showCircleProgress?"block":""}},t.createElement("circle",{cx:"17",cy:"17",r:"17",fill:"#464646",stroke:"none"}),t.createElement("path",{d:n.wheelPath(17,17,17,0,360*this.state.progress),transform:"rotate(-90 17 17)",fill:"white",stroke:"none"}),t.createElement("circle",{cx:"17",cy:"17",r:"14.5",fill:"#31373a",stroke:"none"})),t.createElement(i,{key:r,type:r}),t.createElement("span",{className:"accessibility"},this.state.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))},PlaybackControls:function(){var i=e("views/player/PlayPauseButton"),n=e("views/player/PlaybackProgress"),s=e("views/player/PlaybackResetButton");return t.createElement("div",{className:["controls-group","control-bar","cs-seekcontrol","progress-control",this.props.playOnly?"play-only":""].join(" ")},t.createElement("div",{className:"grid-row"},this.state.stateable_pauseplay&&t.createElement(i,{ref:"playPauseButton",timeline:this.state.timeline}),this.state.stateable_seekbar&&t.createElement(n,{ref:"playbackProgress",timeline:this.state.timeline,readonly:this.props.readonly}),this.state.stateable_replay&&t.createElement(s,{ref:"playbackResetButton",timeline:this.state.timeline})))},PlaybackControlsMobile:function(){var i=e("views/player/PlayPauseButton"),n=e("views/player/PlaybackProgress"),s=e("views/player/CaptionBtn"),r=e("polyfills/detection"),o=e("views/player/FullscreenBtn");return t.createElement("div",{className:"playback-controls"},this.state.stateable_pauseplay&&t.createElement(i,{ref:"playPauseButton",timeline:this.state.timeline}),this.state.stateable_seekbar&&t.createElement(n,{ref:"playbackProgress",timeline:this.state.timeline,readonly:this.props.readonly}),r.is360&&(!r.isDevicePreview||r.enableFs)&&t.createElement(o,{handleFullScreen:this.handleFullScreen}),this.props.hasCaption&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(s,null)))},PlaybackProgress:function(){var e=["progress-bar cs-seekbar",this.state.tabFocused?"focused":"",this.props.readonly?"read-only-mobile":""].join(" ");return t.createElement("div",{className:e},t.createElement("div",{className:"cs-seekbar-inner progress-bar-inner slide-lockable"},t.createElement("div",{className:"cs-seek progress-bar-seek"},t.createElement("div",{className:"cs-fill cs-brandhighlight-bg progress-bar-fill",style:{width:100*this.state.progress+"%"}})),t.createElement("input",{type:"range",min:"0",max:"1",ref:"input",onChange:this.onSeek,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,disabled:this.props.readonly,"aria-label":"Seekbar",value:this.state.progress,step:"0.001"})))},PlaybackResetButton:function(){var i=e("views/player/Icon"),n="cs-button btn-reset btn-unstyled force-unstyled inflexible "+(this.state.tabFocused?"focused":"");return t.createElement("button",{className:n,onClick:this.resetPlayhead},t.createElement(i,{type:"playbackReset"}),t.createElement("span",{className:"accessibility"},this.state.i18nacc_replay))},PopupWindow:function(){var i=e("views/player/Icon"),n=e("helpers/stringTabler"),s={zIndex:100},r={height:"171px",overflowY:"auto"};return t.createElement("div",{className:"popup"+(this.state.show?" show":""),style:s},t.createElement("div",{className:"message-window popup-pane cs-infopanelpopup"},t.createElement("button",{ref:"close",className:"lightbox-close-btn btn-unstyled lightbox-close-btn--large",onClick:this.closePopup},t.createElement(i,{type:"close"})),t.createElement("p",{style:r},t.createElement("strong",{className:"cs-name"},this.state.presenter.name),t.createElement("em",{className:"cs-name cs-title"},this.state.presenter.title),t.createElement("span",{className:"cs-bio popup-bio"},this.state.presenter.biotext)),this.hasEmail()&&t.createElement("a",{href:"#",className:"popup-send-email cs-link",onClick:this.sendEmail},n.getString("send_an_email")),t.createElement("a",{href:"#",className:"popup-close cs-link",onClick:this.closePopup},n.getString("close"))))},PopupWindowMobile:function(){var i=e("lodash"),n=e("views/presentation/PresentationOverlay"),s=e("views/player/Icon"),r=e("helpers/stringTabler"),o=this.state.presenter,a=o.name,l=o.title,u=!i.isEmpty(l),c=o.biotext,h=!i.isEmpty(c),p=o.mobilephoto,d=!i.isEmpty(p),f=o.email,m=!i.isEmpty(f),g=["popup"],v=["popup-pane"];return this.state.show&&g.push("show"),d&&v.push("with-photo"),m&&v.push("with-email"),t.createElement("div",{className:g.join(" ")},t.createElement(n,null),t.createElement("button",{ref:"close",className:"popup-close-btn btn-unstyled",onClick:this.closePopup},t.createElement(s,{type:"close"})),t.createElement("div",{className:"popup-panel-scroller is-scrollable"},t.createElement("div",{className:"popup-panel-container"},t.createElement("div",{className:v.join(" ")},t.createElement("div",{className:"popup-name"},a),u&&t.createElement("div",{className:"popup-title"},l),h&&t.createElement("div",{className:"popup-bio"},c),d&&t.createElement("div",{className:"popup-photo",role:"img",style:{backgroundImage:['url("',p,'")'].join("")},"aria-label":a}),m&&t.createElement("div",{className:"popup-email",role:"link","aria-label":r.getString("send_an_email"),onClick:this.sendEmail},t.createElement(s,{type:"email"}))))))},PresentationOverlay:function(){return t.createElement("div",{className:["overlay",this.displayClass(),this.props.className||""].join(" "),onClick:this.props.onClick||null,onTouchStart:this.props.onClick||null})},Presenter:function(){var i=e("helpers/stringTabler"),n=e("views/player/PresenterVideo"),s=e("helpers/utils");return t.createElement("div",{className:"presenter inflexible cs-infopanel"},this.props.video&&t.createElement(n,{video:this.props.video}),this.props.presenter&&t.createElement("div",{className:"presenter-info"},this.props.presenter.mobilephoto&&!this.props.video&&t.createElement("div",{className:"mobile-photo"},t.createElement("img",{src:this.props.presenter.mobilephoto,alt:this.props.presenter.name})),t.createElement("div",{className:"presenter-info-wrapper"},t.createElement("div",{ref:"name",className:"presenter-name cs-name"+(this.props.presenter.name?"":" hidden"),tabIndex:"-1"},this.props.presenter.name),t.createElement("div",{ref:"title",className:"presenter-title cs-title"+(this.props.presenter.title?"":" hidden"),tabIndex:"-1"},s.ellipsize(this.props.presenter.title,44)),t.createElement("div",{ref:"link",className:"presenter-link"+(this.props.presenter.email||this.props.presenter.bio?"":" hidden"),tabIndex:"-1"},this.hasBothEmailAndBioText()&&t.createElement("span",{className:"cs-link",onClick:this.moreInfo},i.getString("more_info")),this.hasOnlyEmail()&&t.createElement("span",{className:"cs-link",onClick:this.onEmailLinkClicked.bind(this,this.props.presenter.email)},i.getString("send_an_email")),this.hasOnlyBioText()&&t.createElement("span",{className:"cs-link",onClick:this.moreInfo},i.getString("bio"))))))},PresenterMobile:function(){return t.createElement("li",{role:"tab",className:"tab"},t.createElement("button",{onClick:this.moreInfo},"Presenter Bio")," ")},PresenterVideo:function(){return t.createElement("div",{className:"video-container",ref:"videoContainer"})},RelativeNavControls:function(){var i=e("lodash"),n=e("views/player/Icon"),s=e("views/player/Timer"),r=e("views/player/SlideControlButton"),o=e("views/player/SubmitAllButton"),a=e("polyfills/detection"),l=this.getPath("props.timers"),u=i.pick(this.props,["slide","windowId"]);return t.createElement("span",{className:["relative-nav",this.state.shrinkButtons?"relative-nav-shrink":""].join(" ")},t.createElement("span",{"aria-label":this.state.i18nacc_skipnavigation,className:"skip-nav",ref:"skipNav",role:"button",tabIndex:"-1"}),this.state.showPrev&&t.createElement(r,t.__spread({kind:"previous",ref:"prev",windowId:this.props.windowId,onButtonDown:this.triggerNavEvent.bind(this,"prev")},u),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:this.props.isRtl?"next":"prev"})),t.createElement("span",{className:"text"},this.state.i18nprev)),this.state.showNext&&t.createElement(r,t.__spread({kind:"next",ref:"next",onButtonDown:this.triggerNavEvent.bind(this,"next")},u),t.createElement("span",{className:"text"},this.state.i18nnext),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:this.props.isRtl?"prev":"next"}))),t.createElement(r,t.__spread({kind:"submit",ref:"submit",onButtonDown:this.triggerSubmit},u),a.isMobile&&t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"})),t.createElement("span",{className:"text"},this.state.i18nsubmit)),t.createElement(r,t.__spread({kind:"finish",ref:"finish",onButtonDown:this.triggerFinish},u),a.isMobile&&t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"})),t.createElement("span",{className:"text"},this.state.i18nfinish)),(a.isMobile||this.state.stateable_submitall&&!this.props.handledSubmitAll)&&t.createElement(o,t.__spread({},u)),a.isMobile&&null!=l&&l.map(function(e,i){return t.createElement(s,{ref:"timer"+i,key:i,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.player.controlOptions.sidebarOptions")})}.bind(this)))},Resources:function(){var i=(e("helpers/utils"),e("views/player/ResourcesHeader")),n=e("views/player/ResourcesList");return t.createElement("div",{className:"cs-resource resources"},t.createElement("header",{className:"panel-header panel-section-header html-reset"},t.createElement(i,{description:this.props.model.get("description"),ref:"resourcesHeader"}),t.createElement("hr",{className:"cs-separator panel-relative-hr"})),t.createElement("div",{className:"panel-content"},t.createElement(n,{resources:this.props.model.resources(),ref:"resourcesList"})))},ResourcesHeader:function(){var i=e("helpers/utils");return t.createElement("h4",{className:"panel-section-heading"+(this.state.tabFocused?" focused":""),dangerouslySetInnerHTML:{__html:i.stripTagsMobile(this.props.description)||""},tabIndex:"0"})},ResourcesList:function(){return t.createElement("ul",{className:"resources-list unstyled"+(this.state.tabFocused?" focused":""),role:"list"},this.props.resources.map(function(e,i){return t.createElement("li",{className:"resource",key:i,role:"presentation"},t.createElement("a",{href:e.get("url"),className:"cs-listitem list-item",target:"_blank",role:"link","aria-label":e.get("title"),onClick:this.onClickResource.bind(this,e)},t.createElement("img",{className:"resources-icon",src:e.get("image"),alt:e.get("title")}),t.createElement("span",null,e.get("title"))))}.bind(this)))},ScrollAreaSlideObject:function(){var i=e("views/presentation/SlideObject"),n=e("views/presentation/VectorSlideObject"),s=e("views/presentation/ScrollBar"),r=e("polyfills/detection"),o=this.props.topOffset||0;return t.createElement("div",{className:"scrollarea",style:{width:this.width()-(r.isMobile?10:0),height:this.height(),top:o+"px"}},this.hasVectorBackground()&&t.createElement("div",{className:"scrollarea-background"+(this.state.tabFocused?"focused":"")},t.createElement(n,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps,className:"scrollarea-background-svg",isInnard:!0})),this.hasImageBackground()&&t.createElement("div",{className:"scrollarea-background"},t.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()})),t.createElement("div",{className:"scrollarea-area "+(this.state.shouldNotScroll?"prevent-scroll":"is-scrollable"),"data-accepts":"events",ref:"scrollArea",style:{width:this.width(),height:this.height()-o}},t.createElement("div",{ref:"contentArea",style:{height:this.state.contentHeight,width:this.width(),position:"absolute"}},this.props.model.objects().map(function(e,n){return t.createElement(i,{ref:"obj"+n,key:e.cid,model:e,onBeforeScrollFocus:this.beforeChildScrollFocus,onScrollFocus:this.childScrollFocus,slideVisible:this.props.slideVisible,checkElso:this.props.checkElso,onElsoAction:this.props.onElsoAction,parent:this})}.bind(this)))),!this.state.shouldNotScroll&&!r.isIE()&&t.createElement(s,{ref:"scrollBar",width:this.width(),height:this.height()-o,offY:o,parent:this}))},ScrollBar:function(){var e=10;return t.createElement("div",{className:"scrollarea-scrollbar",ref:"scrollBar",style:{top:this.props.offY||0,left:(this.props.offX||0)+this.props.width-3*e,height:this.props.height},onMouseDown:this.onAutoScroll,onTouchStart:this.onAutoScroll},t.createElement("div",{ref:"scrollBtn",className:"scrollarea-btn",onMouseDown:this.onScrollBtnDown,onTouchStart:this.onScrollBtnDown}))},SearchFooter:function(){var i=e("views/player/Icon"),n=e("polyfills/detection");return t.createElement("div",{className:"panel-footer "+(this.state.stateable_search?"":"hidden")},t.createElement("div",{className:"search-clear "+(this.props.showClearButton?"":"hidden")},t.createElement("button",{onClick:this.clearSearch,className:"btn cs-button btn-stretch "+(this.state.clearFocus?"focused":""),ref:"searchClear"},t.createElement(i,{type:"clear"})," ",this.state.i18nsearch_clear)),t.createElement("hr",{className:"cs-diva diva"}),t.createElement("hr",{className:"cs-divb divb"}),t.createElement("form",{id:"outline-search",className:"grid-row search-input cs-outlinesearch cs-searchinput",role:"presentation",onSubmit:this.search},n.isMobile&&t.createElement("div",{className:"mobile-search-icon"},t.createElement(i,{key:"Search",type:"Search"})),t.createElement("input",{className:["cs-input",this.state.inputFocus?"focused":""].join(" "),type:"search",onChange:this.handleChange,onKeyDown:this.onInputKeyDown,placeholder:this.state.i18nsearch,value:this.state.searchInput,ref:"searchInput"}),t.createElement("button",{onClick:this.search,className:["cs-button btn-unstyled inflexible",this.state.submitFocus?"focused":""].join(" "),ref:"searchSubmit"},t.createElement(i,{type:"search"}),t.createElement("span",{className:"accessibility"},this.state.i18nacc_search_input))))},SearchOptions:function(){var i=e("views/player/Icon"),n=["panel-header","panel-section-header","panel-section-search",this.props.visible?"":"hidden"].join(" "),s=["search-options",this.state.searchOptionsVisible?"visible":""].join(" ");return t.createElement("header",{className:n},t.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18nsearch_results),t.createElement("button",{ref:"btnFilter",onClick:this.toggleSearchOptions,className:["btn-unstyled search-filter cs-search-filter",this.state.btnFilterFocus?"focused":""].join(" ")},this.state.i18nfilter," ",t.createElement(i,{type:"gear"})),t.createElement("hr",{className:"cs-divb divb"}),t.createElement("div",{className:s},t.createElement("p",null,this.state.i18nsearch_in),t.createElement("label",{className:this.state.cbNotesFocus?"focused":""},t.createElement("input",{ref:"cbNotes",type:"checkbox",checked:this.state.notes,onChange:this.handleChangeNotes,className:this.state.searchOptionsVisible?"":"hidden"}),this.state.i18nslide_notes),t.createElement("label",{className:this.state.cbTextFocus?"focused":""},t.createElement("input",{ref:"cbText",type:"checkbox",checked:this.state.text,onChange:this.handleChangeText,className:this.state.searchOptionsVisible?"":"hidden"}),this.state.i18nslide_text),t.createElement("hr",{className:"cs-divb divb"})))},SearchResults:function(){var i=e("views/player/MenuLinksList");return t.createElement("div",{className:"panel-content panel-content-menu"+(this.state.tabFocused?" focused":""),style:{outlineOffset:"-3px"}},t.createElement("div",{className:["outline",this.props.autonumber===!0?"nested-numbering":"",this.props.wrap===!0?"wrap-list":""].join(" "),onClick:this.props.checkFlow},t.createElement(i,{ref:"menuLinksList",shouldKillLink:this.props.shouldKillLink,showChildren:!this.props.isSearchActive,showDisplayText:!this.props.isSearchActive,collapsible:this.props.collapsible,visitedSlides:this.props.visitedSlides,wrap:this.props.wrap,hasAnyLink:this.props.hasAnyLink,tips:this.props.tips,autonumber:this.props.autonumber,links:this.props.links,
onClick:this.onClickMenuItem,onSelectMenuItem:this.props.onSelectMenuItem})))},SequenceCtrlDrop:function(){var e=this.props.numWidth,i=16,n=i/2,s=this.props.height,r=this.props.width;return t.createElement("div",{className:"sequence-ctrl-drop",style:{top:this.props.yOff,width:r+e,height:s}},t.createElement("div",{className:"sequence-ctrl-num",style:{width:e,height:s,lineHeight:s+"px",color:this.state.reviewColor}},this.state.reviewIdx+1+"."),t.createElement("div",{className:"sequence-ctrl-hit",style:{width:r,height:s}}),t.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-top",style:{width:r,left:e,top:-n,display:this.state.topBar?"block":"none"}}),t.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-bottom",style:{top:s,width:r,left:e,top:s+n,display:this.state.bottomBar?"block":"none"}}))},SequenceCtrlSlideObject:function(){var i=e("views/presentation/SequenceCtrlDrop"),n=e("views/presentation/SequenceCtrlDragItem"),s=e("views/presentation/ScrollBar"),r=e("polyfills/detection"),o=4,a=3,l=4,u=this.getPath("props.model.width"),c=this.getPath("props.model.height"),h={width:u+o,height:c,marginLeft:l,overflow:"hidden"},p=16,d=2*a+_.sum(this.state.itemslist,function(e){return e.textdata.height+p}),f=0,m=p/2+a,g=this.props.model.get("colors");return t.createElement("div",{className:"sequence-ctrl",style:h},t.createElement("div",{className:"sequence-ctrl-scroll-area is-scrollable",ref:"scrollArea",style:h},t.createElement("div",{className:"sequence-ctrl-scroll-area-contents"},this.state.itemslist.map(function(e,n){var s=e.textdata.height;return f=m,m=f+s+p,t.createElement(i,{ref:"item"+n,parent:this,key:e.textdata.uniqueId,idx:n,width:e.textdata.width,height:e.textdata.height,numWidth:this.numWidth,yOff:f,pr:e.textdata.vectortext.pr})}.bind(this)),this.state.itemslist.map(function(e,i){var s=(e.textdata.height,{style:"wordbank",width:u-(this.numWidth+18+o),height:e.textdata.height,kind:"dragitem",xOff:e.textdata.xPos,yOff:e.textdata.yPos,itemdata:e.itemdata,idx:i,data:{textdata:e.textdata},parentModel:this.props.model});return t.createElement("div",{className:"sequence-ctrl-drag-container",key:i,ref:"sequenceItemContainer"+i,style:{position:"absolute"}},t.createElement(n,{ref:"sequenceItem"+i,key:e.textdata.uniqueId,idx:i,parent:this,colors:g,model:s}))}.bind(this)),t.createElement("div",{style:{width:1,height:1,top:d,position:"absolute",visibility:"hidden"}}))),this.state.shouldScroll&&!r.isIE()&&t.createElement(s,{ref:"scrollBar",width:u-o,height:c,offY:0,parent:this,initSelf:!0}))},Sidebar:function(){var i=e("views/player/TabPanel"),n=e("views/player/SidebarTab"),s=e("views/player/Presenter"),r="area-secondary cs-left inflexible "+(this.state.activeTab||this.hasLogo()?"":"hidden");return t.createElement("div",{className:r,style:{height:this.props.height}},t.createElement("div",{className:"sidebar-contents grid-col"+(this.hasPresenter()?" has-presenter":"")+(this.hasVideo()?" has-video":"")},this.hasLogo()&&t.createElement("div",{className:"logo inflexible cs-logo"},t.createElement("img",{src:this.logoUrl(),alt:"logo"})),(this.hasPresenter()||this.hasVideo())&&t.createElement(s,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),t.createElement("div",{className:"tabs-wrap grid-col"},t.createElement("ul",{className:["tabs",this.state.tabs.length>2?"fill-width":""].join(" "),role:"presentation"},this.state.tabs.map(function(e,i){return t.createElement(n,{ref:"sidebarTab"+i,config:e,key:i,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this))),this.state.tabs.map(function(e,n){return t.createElement(i,{config:e,key:n,ref:"sidebarPanel"+n,panelClass:"panel",model:this.props.model,activeTab:this.state.activeTab})}.bind(this)))))},SidebarMobile:function(){var i=e("views/player/Icon"),n=e("views/player/TabPanel"),s=e("views/player/SidebarTab"),r=e("views/player/SearchFooter"),o=e("views/player/Presenter"),a=this.getPath("props.model.controlOptions.controls.search");return t.createElement("div",{className:"content-nav"},t.createElement("div",{className:"content-bg"}),t.createElement("nav",{className:"content-menu is-scrollable"},t.createElement("ul",{className:"content-menu-options",role:"tablist"},t.createElement("li",{role:"tab",className:"tab menu-close"},t.createElement("button",{ref:"close",onClick:this.props.toggleMenu},t.createElement("span",{className:"btn-icon"},t.createElement(i,{type:"menu"})),t.createElement("span",{className:"text"},"Menu"))),(this.hasPresenter()||this.hasVideo())&&t.createElement(o,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),this.state.tabs.map(function(e,i){return t.createElement(s,{ref:"sidebarTab"+i,config:e,key:i,tabChanged:this.props.tabChanged,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this)))),t.createElement("div",{className:"content-tabs"},t.createElement("button",{ref:"close",className:"tab-close",onTouchStart:this.props.closeTab,onMouseDown:this.props.closeTab},t.createElement("span",{className:"btn-icon"},t.createElement(i,{type:"close"})),t.createElement("span",{className:"text"},"Close")),a&&t.createElement(r,{ref:"searchFooter",showClearButton:!1,addFocusObjects:function(){},onSearch:this.onSearch,onClearSearch:function(){}}),this.state.tabs.map(function(e,i){return t.createElement(n,{config:e,key:i,ref:"sidebarPanel"+i,panelClass:"panel panel-"+e.name,model:this.props.model,closeTab:this.props.closeTab,activeTab:this.state.activeTab})}.bind(this))))},SidebarTab:function(){var i=e("helpers/stringTabler"),n=this.props.activeTab===this.props.config,s="tab-"+this.props.config.name,r=["tab","cs-tabs",s,this.props.config.isLive?"":"hidden",n?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return t.createElement("li",{className:r,role:"button",tabIndex:"-1"},t.createElement("button",{className:"tabs-trigger cs-inner-button",id:s,onClick:this.activate,ref:"button"},this.state.i18ntitle,t.createElement("span",{className:"accessibility"},this.state.i18ntitle+(n?", "+i.getString("active"):""))))},SidebarTabMobile:function(){var e=["tab",this.props.config.name,this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return t.createElement("li",{role:"tab",className:e},t.createElement("button",{className:"tabs-trigger",onClick:this.activate},this.state.i18ntitle))},Slide:function(){var i,n=e("views/presentation/SlideLayer"),s=e("views/presentation/SlideBackground"),r=e("views/presentation/VectorSlideBackground"),o=e("polyfills/detection"),a=this.props.model,l=this.props.model.get("width"),u=this.props.model.get("height"),c=this.getPath("props.model.background.type"),h=["slide",["cs-",this.props.model.id.replace(/_/g,"-")].join("")].join(" "),p={zIndex:this.state.transitionDepth,width:l,height:u},d=this.props.slideFrame;return null!=d&&(i=d.props.model,p.top=Math.max(0,(i.get("height")-a.get("height"))/2),p.left=Math.max(0,(i.get("width")-a.get("width"))/2)),t.createElement("div",{className:h,"data-rollout-highest-node":"true",style:p,onMouseDownCapture:this.onStoreMouseLoc,onTouchStartCapture:this.onStoreTouchLoc,onContextMenu:this.onCtxMenu},!!c&&"vector"===c&&t.createElement(r,{ref:"bg",model:this.props.model}),!!c&&"vector"!==c&&t.createElement(s,{ref:"bg",layerModel:this.props.model}),t.createElement("div",{className:"zoom-bg-container"}),this.getPath("props.model.slideLayers").map(function(e,i){return t.createElement(n,{ref:"layer"+i,key:e.cid,model:e,slideFrame:this.props.slideFrame,width:l,height:u})}.bind(this)),t.createElement("div",{ref:"contentArea",className:["slide-top-container",!this.props.slideFrame&&"slide-top-container-main"].join(" ")}),!o.isMobile&&t.createElement("div",{className:"slide-text-fix"}))},SlideBackground:function(){var i=e("views/presentation/LinearBackgroundGradient");return t.createElement("svg",{width:this.props.layerModel.get("width"),height:this.props.layerModel.get("height")},t.createElement("defs",null,"fill"===this.props.layerModel.background().type?t.createElement(i,{patternFillId:this.patternFillId(),layerModel:this.props.layerModel}):t.createElement("pattern",{id:this.patternFillId(),width:this.props.layerModel.get("width"),height:this.props.layerModel.get("height"),patternUnits:"userSpaceOnUse"},t.createElement("image",{width:this.props.layerModel.get("width"),height:this.props.layerModel.get("height"),xlinkHref:this.props.layerModel.backgroundImageUrl()}))),t.createElement("rect",{id:"slide-bg-"+this.props.layerModel.get("id"),width:this.props.layerModel.get("width"),height:this.props.layerModel.get("height"),fill:["url(#",this.patternFillId(),")"].join("")}))},SlideContainer:function(){var i,n=e("helpers/svg/svgUtils"),s=e("helpers/utils"),r=e("polyfills/detection"),o=(e("helpers/windowManager"),e("views/player/Captions")),a=e("views/presentation/Slide"),l={overflow:this.state.overflowHide?"hidden":"visible"},u=this.props.scale>0?this.props.scale:1,c=s.pxify(this.state.xOff||0),h=s.pxify(this.state.yOff||0),p={};return this.state.scale&&(u=this.state.scale,i=Math.max(1,1/u),p[this.cssTransform]=["translate(-50%, -50%)",n.transformScale(i,i)].join(" ")),l[this.cssTransform]=[n.transformTranslate(c,h),n.transformScale(u,u)].join(" "),null!=this.state.origin&&(l[this.cssTransformOrigin]=this.state.origin),this.props.currentSlide&&(l.width=this.props.currentSlide.get("width"),l.height=this.props.currentSlide.get("height")),t.createElement("div",{style:l,className:"slide-container"},this.state.slides.map(function(e){return t.createElement("div",{key:e.id,className:"slide-transition-container"},t.createElement(a,{ref:e.id,model:e,isMessageWindow:this.props.isMessageWindow,transitionComplete:this.transitionComplete,killSlide:this.killSlide.bind(this,e),slideContainer:this}))}.bind(this)),r.isMobileOrTouchableTheme&&t.createElement("div",{className:"swipe-transition-container"}),!r.isMobileOrTouchableTheme&&t.createElement(o,{lightboxed:this.props.lightboxed}),r.isMobileOrTouchableTheme&&this.props.currentSlide&&!this.props.isMessageWindow&&!this.firstLoad&&t.createElement("div",{className:"load-container",style:this.state.loadContainerStyleAttr},t.createElement("div",{className:"slide-loader",style:p},t.createElement("div",{className:"mobile-loader-dot dot1"}),t.createElement("div",{className:"mobile-loader-dot dot2"}),t.createElement("div",{className:"mobile-loader-dot dot3"}))))},SlideControlButton:function(){var i=e("lodash"),n=["btn","cs-button","inflexible",this.disabled()?"cs-disabled":"","slide-control-button-"+this.props.kind,"slide-lockable"],s=i.omit(this.props,["kind","onButtonDown","slide","windowId"]);return this.visible()||n.push("hidden"),this.state.focused&&n.push("focused"),t.createElement("button",t.__spread({ref:"btn",className:n.join(" "),"aria-disabled":this.disabled(),tabIndex:"-1"},s,this.getButtonEvents()),this.props.children)},SlideFrameSlideObject:function(){var i=e("lodash"),n=e("views/presentation/Slide"),s=e("views/presentation/VectorSlideObject");return t.createElement("div",{className:"slideframe",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},this.hasVectorBackground()&&t.createElement(s,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps}),this.hasImageBackground()&&t.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.state.slideModel&&t.createElement(n,{model:this.state.slideModel,slideFrame:this,transitionComplete:i.noop,onSlideStarted:this.onSlideStarted}))},SlideLayer:function(){var i=e("views/presentation/SlideObject"),n=e("views/presentation/AudioPlayer"),s=e("views/presentation/SlideBackground"),r=this.state.renderChildren||this.isVisible();return t.createElement("div",{ref:"contentArea",className:["slide-layer",this.props.model.isBaseLayer()?"base-layer":"",this.displayClass()].join(" "),style:{pointerEvents:this.props.model.isPenetrable()?"none":"auto",zIndex:this.state.depth,width:this.props.width,height:this.props.height}},r&&this.props.model.get("modal")&&t.createElement("div",{className:"layer-modal-bg"}),r&&this.props.model.objects().map(function(e,n){return t.createElement(i,{ref:"obj"+n,key:e.cid,model:e,slideVisible:"shown"===this.displayClass(),slideFrame:this.props.slideFrame})}.bind(this)),r&&this.props.model.hasBackground()&&t.createElement(s,{ref:"bg",layerModel:this.props.model}),this.state.audio&&t.createElement("div",{className:"hidden"},this.props.model.audiolib().map(function(e,i){return t.createElement(n,{ref:"audio"+i,key:i,model:e,slideVisible:"shown"===this.displayClass(),objectVisible:!0,timeline:this.props.model.timeline()})}.bind(this))))},SlideLoaderIndicator:function(){var e=this.state.cursorX,i=this.state.cursorY,n={left:e,top:i};return t.createElement("div",{className:"slide-loader",style:n})},SlideLoaderOverlay:function(){var i=e("views/player/SlideLoaderIndicator"),n=this.state.showIndicator,s=["slide-loader-overlay",n?"with-indicator":""].join(" ");return t.createElement("div",{className:s,onContextMenu:this.onCtxMenu},n&&t.createElement(i,null))},SlideLockCursor:function(){return t.createElement("div",{id:"slide-lock",className:this.state.show?"shown":"hidden",style:{pointerEvents:"none"}})},SlideLockCursorMobile:function(){return t.createElement("div",null)},SlideObject:function(){var e=this.getStyles(),i=["slide-object","slide-object-"+this.props.model.kind(),this.displayClass(),this.cursorClass(),this.state.tabFocused?"focused":"",this.props.model.isToolTip()?"tooltip":"",this.props.model.isDraggable()?"draggable":"",this.props.model.isRotatable()?"rotatable":"",this.props.model.isTweenable()?"tweenable":"",this.props.model.getIsSlideableParent&&this.props.model.getIsSlideableParent()?"slideable-parent":""].join(" ");return t.createElement("div",{className:i,style:e,"aria-label":this.getAccessibleText(),role:this.getAriaRole(),"aria-checked":this.getIsAriaChecked(),"data-model-id":this.props.model.id,"data-model-abs-id":this.props.model.absoluteId,tabIndex:"-1"},this.props.model.get("markerType")&&t.createElement("div",{ref:"markerAnimation",className:["marker-animation marker-animation-",this.props.model.get("markerType")].join("")}),this.props.model.isHotSpotMarker()&&t.createElement("div",{className:"hotspot-marker"},t.createElement("span",null)),t.createElement(this.slideObjectInnard,this.getInnardConfigs()))},SlideRelatedActions:function(){var i=e("views/player/RelativeNavControls");return t.createElement("div",{className:"controls-group grid-row control-actions"},t.createElement(i,t.__spread({handledSubmitAll:this.props.handledSubmitAll},this.getChildProps())))},SlideRelatedActionsMobile:function(){var i=e("views/player/RelativeNavControls");return t.createElement("div",{className:"controls-group grid-row control-actions"},t.createElement(i,t.__spread({player:this.props.player,timers:this.props.timers},this.getChildProps())))},SlideWindowBackground:function(){var e=this.props.bg,i=e.width,n=e.height;return t.createElement("div",{className:"slide-window-background",style:{width:i,height:n}},this.renderBackground())},StartOverlay:function(){return t.createElement("div",{className:"start-overlay "+(this.state.visible?"shown":"hidden")},t.createElement("div",{ref:"playIcon",onClick:this.onClick},t.createElement("div",{className:"cs-button"},t.createElement("div",null,"►"))))},StateGroupSlideObject:function(){var i=e("views/presentation/SlideObject");return t.createElement("div",{className:"group "+(this.props.model.prop("OnStage")?"":"hidden")},this.props.model.objects().map(function(e,n){return t.createElement(i,{ref:"obj"+n,key:n,model:e,checkElso:this.checkElso,onElsoAction:this.onElsoAction,slideVisible:this.props.slideVisible,playerProps:this.props.playerProps,parent:this,slideFrame:this.props.slideFrame})}.bind(this)),t.createElement("div",{className:"state-group-top-level"}))},SubmitAllButton:function(){var i=e("polyfills/detection"),n=e("views/player/Icon"),s=e("views/player/SlideControlButton"),r=e("helpers/constants");return t.createElement("span",{className:"submit-all-button"},t.createElement(s,{kind:"submitall",ref:"btn",slide:this.props.slide,windowId:this.props.windowId||r.refs.FRAME,onButtonDown:this.triggerSubmitAll},i.isMobile&&t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"})),t.createElement("span",{className:"text"},this.state.i18nsubmitall)))},SvgLibrary:function(){return t.createElement("div",{id:"svg-library"},t.createElement("svg",{width:"0",height:"0",style:{position:"absolute"}},t.createElement("defs",null,t.createElement("filter",{id:"text-shadow",x:"0%",y:"0%",width:"113%",height:"113%"},t.createElement("feGaussianBlur",{stdDeviation:"1 1",result:"text-shadow"}),t.createElement("feOffset",{dx:"1.5",dy:"1.5"})),t.createElement("linearGradient",{id:"timer-blue-grad",className:"cs-duration"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"timer-yellow-grad",className:"cs-elapsed"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"drop-list-gradient",gradientTransform:"rotate(90)"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"dragdrop-gradient",gradientTransform:"rotate(90)"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"dragdrop-hover-gradient",gradientTransform:"rotate(90)"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"wordbank-droparea-stroke-gradient",gradientTransform:"rotate(90)"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("filter",{id:"dragdrop-inner-stroke"},t.createElement("feFlood",{floodColor:"#fff",result:"strokeColor"}),t.createElement("feMorphology",{operator:"erode",radius:"2","in":"SourceAlpha",result:"innerMorph"}),t.createElement("feMorphology",{operator:"erode",radius:"1","in":"SourceAlpha",result:"outerMorph"}),t.createElement("feComposite",{"in":"innerMorph",in2:"outerMorph",operator:"xor",result:"morph"}),t.createElement("feComposite",{"in":"strokeColor",in2:"morph",operator:"in",result:"innerStroke"}),t.createElement("feComposite",{"in":"innerStroke",in2:"SourceGraphic",operator:"over"})))))},TabPanel:function(){var i=(e("views/player/Icon"),e("views/player/Menu")),n=e("views/player/Glossary"),s=e("views/player/Notes"),r=e("views/player/Resources");e("views/player/MicroScrollBar");return t.createElement("section",{"aria-labelledby":"tab-"+this.props.config.name,className:["cs-menu cs-panel is-scrollable",this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"hidden",this.props.panelClass,this.state.tabFocused?"focused":""].join(" "),role:"presentation",id:"panel-"+this.props.config.name},"outline"===this.props.config.name&&t.createElement(i,{ref:"menu",model:this.props.model.navData(),notesData:this.props.model.notesData(),addFocusObjects:this.addFocusObjects,options:this.getPath("props.model.controlOptions.menuOptions"),hasSearch:this.getPath("props.model.controlOptions.controls.search"),title:this.getPath("props.model.controlOptions.sidebarOptions.titleText"),onSelectMenuItem:this.onSelectMenuItem}),"glossary"===this.props.config.name&&t.createElement(n,{ref:"glossary",collection:this.props.model.glossaryData(),addFocusObjects:this.addFocusObjects}),"resources"===this.props.config.name&&t.createElement(r,{ref:"resources",model:this.props.model.resourceData(),isLive:this.props.config.isLive,addFocusObjects:this.addFocusObjects}),"transcript"===this.props.config.name&&t.createElement(s,{ref:"notes",active:this.props.activeTab,collection:this.props.model.notesData(),addFocusObjects:this.addFocusObjects}))},TextInputSlideObject:function(){var i=e("views/presentation/VectorSlideObject"),n=e("helpers/utils"),s=this.getPath("props.model.maxchars"),r=this.getPath("props.model.marginright"),o=this.isMultiline&&!this.isNumeric,a=o?6:0,l=n.pxify(this.getPath("props.model.fontsize")),u={fontFamily:this.quotify(this.getPath("props.model.font"))+", sans-serif",fontSize:l,lineHeight:o?"normal":l,fontWeight:this.getPath("props.model.bold")?"bold":"normal",direction:this.getPath("props.model.rtl")?"rtl":"ltr",textAlign:this.getPath("props.model.align"),color:this.getTextColor(),paddingTop:this.getPath("props.model.margintop")+a,paddingRight:this.isNumeric?0:r,paddingBottom:this.getPath("props.model.marginbottom"),paddingLeft:this.getPath("props.model.marginleft")},c={width:this.getPath("props.model.width"),height:this.getPath("props.model.height")};return this.hasVectorBackground()||this.hasImageBackground()||(c.border="1px solid rgb(160,160,160)",c.backgroundColor="#fff"),t.createElement("div",{className:this.state.placeholderClass},this.hasVectorBackground()&&t.createElement(i,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps,isInnard:!0}),this.hasImageBackground()&&t.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.isTextArea()?t.createElement("div",{style:c},t.createElement("textarea",{ref:"input",onFocus:this.onInputFocus,onBlur:this.onInputBlur,style:u,maxLength:s>0?s:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled"),placeholder:this.getPath("props.model.placeholder"),value:this.state.inputValue,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart})):t.createElement("input",{ref:"input",onFocus:this.onInputFocus,onBlur:this.onInputBlur,type:"text",style:_.extend({},c,u),maxLength:s>0?s:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled"),value:this.state.inputValue,placeholder:this.getPath("props.model.placeholder"),onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart}))},Timer:function(){var i=e("helpers/svg/svgUtils"),n=e("polyfills/detection"),s=18,r={width:s,height:s};return t.createElement("div",{className:["timer",this.state.timerVisible?"shown":"hidden"].join(" ")},t.createElement("div",{className:"timer-text",ref:"timerText",tabIndex:"-1"},this.state.timeText),!n.isMobile&&t.createElement("div",{className:"timer-wheel",style:r},t.createElement("svg",{style:r,width:s,height:s,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},t.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"url(#timer-yellow-grad)"}),t.createElement("path",{d:i.wheelPath(9,9,9,0,360*(1-this.state.timeScale)),fill:"url(#timer-blue-grad)",transform:"rotate(-90 9 9)",stroke:"none"}),t.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"none",className:"cs-innerstroke"}),t.createElement("circle",{cx:"9",cy:"9",r:"10",fill:"none",className:"cs-innerborder"}))))},TopTabs:function(){var i=e("views/player/TopTabsItem");return t.createElement("div",{className:"top-tabs-"+this.props.align},this.state.tabs.map(function(e,n){return t.createElement(i,{key:n,ref:"topTabsItem"+n,config:e,name:e.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this)))},TopTabsItem:function(){var i=e("views/player/TabPanel"),n=e("helpers/stringTabler"),s="outline"===this.props.config.name||"glossary"===this.props.config.name||"resources"===this.props.config.name||"transcript"===this.props.config.name,r=this.props.activeTab===this.props.config,o=this.getTitle();return t.createElement("div",{className:["cs-topmenu-item","cs-tabs","topmenu-item",r?"active cs-selected":"",this.determineVisibilty()?"":"hidden"].join(" ")},t.createElement("button",{id:"tab-"+this.props.config.name,"aria-controls":"panel-"+this.props.config.name,"data-name":this.props.name,className:["topmenu-tab","tabs-trigger","cs-tab text-compact ",this.state.tabFocused?"focused":""].join(" "),onClick:this.onClick,role:"link"},o,t.createElement("span",{className:"accessibility"},o+(r?", "+n.getString("active"):""))),t.createElement("div",{className:"cs-separator topmenu-separator inflexible"},t.createElement("div",{className:"cs-diva topmenu-separator-item"}),t.createElement("div",{className:"cs-divb topmenu-separator-item topmenu-seperator-b"})),s&&t.createElement(i,{ref:"tabPanel",config:this.props.config,model:this.props.model,activeTab:this.props.activeTab,panelClass:"topmenu-panel topmenu-panel-align-"+this.props.align,onSelectMenuItem:this.onSelectMenuItem}))},Topbar:function(){var i=e("views/player/TopTabs"),n=e("views/player/Timer"),s=e("views/player/ElapsedAndTotalTime"),r=this.props.model.get("fontscale");return t.createElement("header",{className:["header-primary",r>100?" large-font":"",r>145?"gt-145":""].join(" ")},this.hasTitle()&&t.createElement("h1",{className:"presentation-title cs-title"},this.getPath("props.model.controlOptions.sidebarOptions.titleText")),this.hasElapsedAndTotalTime()&&t.createElement(s,{presentation:this.props.presentation}),this.hasTimer()&&this.getPath("props.timers").map(function(e,i){return t.createElement(n,{ref:"timer"+i,key:i,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.model.controlOptions.sidebarOptions")})}.bind(this)),t.createElement("div",{className:"top-tabs"},this.hasLinkLeft()&&t.createElement(i,{ref:"topTabsLeft",model:this.props.model,tabs:[],align:"left"}),this.hasLinkRight()&&t.createElement(i,{ref:"topTabsRight",model:this.props.model,tabs:[],align:"right"})))},UiMobile:function(){var i=e("views/player/Icon"),n=e("views/player/Bottombar"),s=e("views/player/SidebarMobile"),r=e("views/player/MobileSearchButton"),o=this.getPath("props.model.controlOptions.controls.search");return t.createElement("div",{className:["option-pane",this.state.isActive?"active":"",this.state.showMenu?"menu-active":"",this.state.showSearch?"search-active":"",this.state.showTab?"tab-active":"",this.state.isFs&&this.props.hasFsOnly?"only-fs-close":""].join(" ")},t.createElement("div",{className:"menu-handle"},t.createElement("button",{ref:"menu-handle",className:"hamburger-btn",onTouchEnd:this.onHamburgerTouchEnd,onClick:this.previewMouseEvent(this.toggleMenu)},t.createElement("span",{className:"btn-icon"},t.createElement(i,{type:"menu"})))),o&&t.createElement(r,{toggleSearchUi:this.onToggleSearchUi}),this.props.currentSlide&&t.createElement(n,{ref:"bb",player:this.props.model,slide:this.props.currentSlide,timers:this.props.timers,hasSearch:o,toggleSearchUi:this.onToggleSearchUi}),t.createElement(s,{ref:"sidebar",model:this.props.model,tabChanged:this.onTabChange,closeTab:this.closeTab,toggleMenu:this.toggleMenu}))},VariableText:function(){var e=this.props.model.height(),i={height:e,width:this.props.model.width()};return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"textlib"+(this.state.isVisible?"":" invisible")+(this.props.hasShadow?" object-text-shadow":""),style:i},t.createElement("div",{className:"textlib-inner "+this.state.valignClass,onClick:this.possibleHit,style:this.getInnerProps()},t.createElement("div",{ref:"textLibContentWrap",className:"textlib-content-wrap",dangerouslySetInnerHTML:{__html:this.state.embeddedTemplate}})))},VectorSlideBackground:function(){var i=e("views/presentation/VectorBackground");return t.createElement(i,{vectorData:this.props.model.background().vectorData,model:this.props.model,playerProps:this.props.playerProps})},VectorText:function(){var i=e("lodash"),n=e("views/presentation/VectorTextItem"),s=e("views/presentation/VectorTextHitArea");return t.createElement("g",{className:"vector-text-item"},t.createElement("g",{transform:this.getTransform()},this.props.hasShadow&&t.createElement(n,{ref:"itemShadow",isShadow:!0,pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId}),t.createElement(n,{ref:"item",pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId})),this.props.textLibItem.linkdata().map(function(e,n){return t.createElement(s,{key:"hitArea"+n,ref:"hitItem"+n,color:i.get(e.get("fill"),"colors[0]"),hotAreas:e.get("hotareas"),linkId:e.get("id"),onOverCallback:this.onOverCallback,onOutCallback:this.onOutCallback,onClickCallback:this.onClickCallback})}.bind(this)))},VectorTextHitArea:function(){var i=e("helpers/utils"),n=function(e){return"hotarea_"+e};return t.createElement("g",null,this.props.hotAreas.map(function(e,s){return t.createElement("g",{ref:n(s),key:n(s)},t.createElement("rect",{className:"link-hit-area","data-hotarea":n(s),x:e.xPos,y:e.yPos,width:e.width,height:e.height,onMouseOver:this.renderAs,onMouseOut:this.renderAs,onClick:this.onClickCallback,onTouchEnd:this.onClickCallback}),t.createElement("rect",{className:"link-highlight-area","data-linkarea":n(s),x:e.xPos,y:e.yPos,width:e.width,height:e.height,fill:null==this.props.color?"none":i.hexify(this.props.color.rgb),style:{opacity:0}}))}.bind(this)))},VideoControls:function(){var i=e("views/player/Icon"),n=e("polyfills/detection"),s=this.props.isPlaying?"pauseLegacy":"playLegacy";return t.createElement("div",{className:"video-controls grid-row inflexible"},t.createElement("div",{className:"video-controls-play-pause inflexible",onClick:!n.isMobile&&this.props.toggleVideoControls,onTouchStart:n.isMobile&&this.props.toggleVideoControls},t.createElement("button",{className:"btn-unstyled"},t.createElement(i,{key:s,type:s}),t.createElement("span",{className:"accessibility"},this.props.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))),t.createElement("div",{className:"progress-bar",ref:"progressBar"},t.createElement("div",{className:"progress-bar-inner",ref:"progressBarInner"},t.createElement("div",{className:"progress-bar-seek"},t.createElement("div",{className:"progress-bar-fill",style:{width:this.props.currentTime/this.props.duration*100+"%"}})),t.createElement("input",{type:"range",ref:"inputEl",min:"0",max:this.props.duration,onChange:this.onChange,onInput:this.props.rangeslideVideoControls,value:this.props.currentTime,step:"1"})),t.createElement("div",{className:"progress-bar-elapsed-time"},t.createElement("span",null,this.currentTimeFormatted()),t.createElement("span",{className:"progress-bar-total-duration"},"/ ",this.durationFormatted()))))},VideoPlayer:function(){var i=e("helpers/utils"),n=e("helpers/automation"),s=this.state.hasEverPlayed,r=this.props.posterFrameUrl,o=this.props.playerProps.width,a=this.props.playerProps.height,l={height:i.pxify(a),width:i.pxify(o)};return t.createElement("div",{className:"video-player-limited-container",style:l,"data-accepts":"events"},t.createElement("div",{ref:"container"}),(n.clockIsOverridden||!s)&&null!=r&&t.createElement("img",{className:"video-player-poster",width:o,height:a,src:r,alt:""}))},VideoSlideObject:function(){var i=e("views/presentation/VideoControls"),n=e("views/presentation/VideoPlayer"),s=({width:this.props.playerProps.width,height:this.props.playerProps.height},this.isValidVideo()),r=this.state.posterImage;return t.createElement("div",{className:"video-slide-object"},s&&t.createElement(n,{currentVolume:this.state.currentVolume,duration:this.state.duration,isPlaying:this.state.isPlaying,onDurationChange:this.durationLoaded,onLoadedData:this.loadedData,onPlaybackEnded:this.playbackEnded,onTimeUpdate:this.playing,playerProps:this.props.playerProps,slideVisible:this.props.slideVisible,objectVisible:this.isVisible(),slideObjectModel:this.props.model,assetId:this.getAssetId(),posterFrameUrl:null!=r?r:this.posterFrameUrl(),ref:"videoPlayer",timeline:this.layerTimeline,src:this.getVideoUrl(),pause:this.pauseVideo}),this.props.model.get("showcontrols")&&s&&t.createElement(i,{ref:"controls",currentTime:this.state.currentTime,duration:this.state.duration,isPlaying:this.state.isPlaying,toggleVideoControls:this.toggleVideoControls,rangeslideVideoControls:this.rangeslideVideoControls}),!s&&t.createElement("div",{className:"placeholder-object",
style:{width:this.props.model.width,height:this.props.model.height}},"swf"))},VolumeControls:function(){var i=e("views/player/Icon");return t.createElement("div",{className:"controls-group control-bar inflexible"},t.createElement("div",{ref:"btn",className:"btn cs-button volume "+(!this.state.isOpen&&this.state.tabFocused?"focused":""),onClick:this.onClick},t.createElement("button",{className:"btn-unstyled text-align-middle"},t.createElement(i,{type:"volume",ref:"volumeIcon",isOpen:this.state.isOpen,volumeStrength:10*this.state.volumeStrength}),t.createElement("span",{className:"accessibility"},this.state.i18nvolume)),t.createElement("div",{className:["btn cs-volume cs-button slider-bar",this.state.isOpen?"":"hidden",this.state.isOpen&&this.state.tabFocused?"focused":""].join(" "),id:"control-volume-slider"},t.createElement("input",{ref:"volumeRange",className:"cs-volume",type:"range",min:"0",max:"1.0",value:this.state.volumeStrength,onChange:this.onInputChange,step:"0.1","aria-orientation":"vertical"}))))},WebObjectSlideObject:function(){return t.createElement("div",{className:"webobject is-scrollable",style:{width:this.props.playerProps.width,height:this.props.playerProps.height,background:"transparent"}},!this.state.isError&&t.createElement("iframe",{ref:"iframe",src:this.state.url,allowFullScreen:!0,className:[this.showThumb()?"hidden":"shown",this.checkIsEngage()?"webobject-engage":""].join(" "),onLoad:this.onIframeLoad}),this.showThumb()&&t.createElement("img",{onClick:this.showContent,onTouchStart:this.showContent,style:{width:this.props.playerProps.width,height:this.props.playerProps.height},className:"thumbnail",src:this.imageUrl}))},ZoomImage:function(){return t.createElement("div",{className:"zoom-image "+this.displayClass()},t.createElement("img",{ref:"img",src:this.props.imageUrl,style:{width:this.props.width,height:this.props.height}}))},AnnotationColors:function(){var i=e("views/presentation/LinearBackgroundGradient"),n={fillcolor:this.state.fillColorId,bordercolor:this.state.borderColorId},s=Object.keys(n);return t.createElement("g",null,this.props.model.get("colors").map(function(e){var r=e.name,o=e.fill;return s.indexOf(r)>=0?t.createElement(i,{key:r,patternFillId:n[r],fill:o}):void 0}))},AnnotationDefs:function(){var i=e("helpers/svg/svgUtils"),n=this.state.gradientId,s=this.state.filterId,r=this.state.bgId;return t.createElement("defs",null,t.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:n,spreadMethod:"pad",x1:"0",x2:"0",y1:"-18.5",y2:"6"},t.createElement("stop",{offset:"0%",stopColor:"#FFFFFF",stopOpacity:"0.7"}),t.createElement("stop",{offset:"100%",stopColor:"#FFFFFF",stopOpacity:"0.1"})),t.createElement("filter",{colorInterpolationFilters:"sRGB",height:"140%",id:s,width:"140%",x:"-20%",y:"-20%"},t.createElement("feColorMatrix",{"in":"SourceGraphic",result:"result1",type:"matrix",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.2 0"})),t.createElement("g",{id:r},t.createElement("path",{d:" M -20 -20.05 L -20 19.95 20 19.95 20 -20.05 -20 -20.05 Z",fill:"#00FF00",fillOpacity:"0"}),t.createElement("path",{d:" M -20 -17.55 L -20 4.7 Q 9.595703125 -11.3716796875 20 5 L 20 -17.55 -20 -17.55 Z",fill:i.buildUrl(n)})),this.renderColors())},AnnotationRectangle:function(){return t.createElement("div",{className:"annotation-rectangle",style:this.getStyle()})},AnnotationSpotlight:function(){var i=e("helpers/svg/svgUtils"),n=this.state.maskId,s=this.state.fillColorId,r=this.state.borderColorId,o=this.props.model,a=o.getClosestAncestorByKind("slide"),l=a.get("width"),u=a.get("height"),c=o.get("xPos"),h=o.get("yPos"),p=o.get("width"),d=o.get("height"),f=o.get("borderwidth"),m=o.get("boxradius");return t.createElement("svg",{className:"annotation-spotlight",width:l,height:u,viewBox:[0,0,l,u].join(" "),style:{left:-c,top:-h}},t.createElement("defs",null,t.createElement("mask",{id:n},t.createElement("rect",{x:"0",y:"0",width:l,height:u,fill:"#fff"}),t.createElement("rect",{x:c,y:h,width:p,height:d,rx:m,ry:m,fill:"#000"})),this.renderColors()),t.createElement("rect",{ref:"overlay",fill:i.buildUrl(s),mask:i.buildUrl(n),x:"0",y:"0",width:l,height:u}),t.createElement("rect",{ref:"border",stroke:i.buildUrl(r),x:c,y:h,width:p,height:d,rx:m,ry:m,strokeWidth:f,fill:"none"}))},ArrowRoundAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,s=this.state.maskId,r=this.state.fillColorId,o=this.state.borderColorId;return t.createElement("svg",{className:"annotation-arrow-round",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),t.createElement("g",{transform:"translate(32.4,18) "},t.createElement("g",{transform:"translate(-29.4,-12.05) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 15.8 -1 Q 15.616015625 -1.009765625 15.35 -0.95 12.0015625 -0.6484375 12 3 L 12 4 3 4 Q -1 4 -1 8 L -1 17.05 Q -1.026171875 19.0087890625 0 19.95 0.9935546875 20.999609375 3 21 L 12 21 12 21.1 Q 12.0001953125 23.1064453125 13 24.05 13.9912109375 25.1259765625 15.95 25.1 L 15.95 25.1 Q 16.5765625 25.103515625 17.15 24.85 17.2119140625 24.837109375 17.25 24.8 17.360546875 24.780078125 17.45 24.7 17.5939453125 24.6765625 17.75 24.6 18.3650390625 24.384375 18.9 23.9 18.9361328125 23.875390625 18.95 23.85 L 28.55 14.1 Q 29.3962890625 13.2361328125 29.4 12.05 29.3962890625 10.8638671875 28.55 9.95 L 19.05 0.35 Q 19.02421875 0.3240234375 19 0.3 18.5916015625 -0.0490234375 18.1 -0.25 L 18.1 -0.3 Q 17.9005859375 -0.4146484375 17.7 -0.5 17.5 -0.6 17.3 -0.7 17.275 -0.71171875 17.25 -0.75 16.600390625 -1.0095703125 15.95 -1 15.85 -1 15.8 -1 M 27.15 11.35 Q 27.4037109375 11.65390625 27.4 12.05 27.4037109375 12.4462890625 27.15 12.75 L 17.55 22.45 17.55 22.4 Q 17.31328125 22.6478515625 17 22.75 16.936328125 22.7685546875 16.85 22.8 16.7212890625 22.8419921875 16.6 22.9 16.5619140625 22.9416015625 16.5 22.95 16.4890625 22.9603515625 16.45 22.95 16.199609375 23.0904296875 15.95 23.1 L 15.9 23.1 Q 14.9515625 23.1171875 14.45 22.65 13.999609375 22.14453125 14 21.1 L 14 20 Q 13.996484375 19.5892578125 13.7 19.3 13.4107421875 19.003515625 13 19 L 3 19 Q 1.95546875 19.0001953125 1.4 18.55 0.9826171875 18.0484375 1 17.05 L 1 8 Q 1 6 3 6 L 13 6 Q 13.4107421875 5.996484375 13.7 5.7 13.996484375 5.4107421875 14 5 L 14 3 Q 13.9984375 1.2083984375 15.6 1.05 15.7501953125 1.039453125 15.85 1 15.9080078125 1 15.95 1 16.1740234375 1.0083984375 16.4 1.1 16.4244140625 1.11328125 16.45 1.1 16.625 1.2125 16.8 1.3 16.8603515625 1.3287109375 16.9 1.35 L 16.95 1.35 Q 17.094921875 1.46640625 17.25 1.5 17.489453125 1.6181640625 17.7 1.8 L 27.15 11.35 Z",fill:"#000000"})),t.createElement("g",{transform:"translate(-27.4,-10) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 15.25 -1.6 Q 15.05 -1.7 14.85 -1.8 14.4244140625 -2.0056640625 13.95 -2 13.85 -2 13.8 -2 13.676171875 -1.9953125 13.55 -2 10.9990234375 -1.755078125 11 1 L 11 3 1 3 Q -2 3.0001953125 -2 6 L -2 15.05 Q -2.050390625 18 1 18 L 11 18 11 19.1 Q 11 22.150390625 13.95 22.1 14.4244140625 22.10546875 14.85 21.9 14.98359375 21.8251953125 15.15 21.75 15.2220703125 21.7275390625 15.3 21.7 L 15.25 21.7 Q 15.82109375 21.5556640625 16.2 21.15 L 25.8 11.45 Q 26.4017578125 10.866796875 26.4 10.05 26.4015625 9.2330078125 25.8 8.65 L 16.3 -0.95 Q 16.005078125 -1.26875 15.6 -1.45 15.5568359375 -1.4390625 15.5 -1.45 L 15.55 -1.45 Q 15.399609375 -1.5337890625 15.25 -1.6 M 13 1 Q 13.0017578125 0.1046875 13.8 0 13.85 0 13.95 0 14.155859375 0.08828125 14.35 0.15 14.505859375 0.253125 14.65 0.3 14.7732421875 0.3849609375 14.9 0.45 L 24.4 10 14.75 19.7 Q 14.58203125 19.8134765625 14.35 19.9 14.1701171875 20.0005859375 13.95 20.1 13.001953125 20.0755859375 13 19.1 L 13 16 1 16 Q -0.001953125 16.0080078125 0 15 L 0 6 Q -0.001953125 5.0044921875 1 5 L 13 5 13 1 Z"})),t.createElement("g",{transform:"translate(-27.4,-10) "},t.createElement("path",{fill:i.buildUrl(r),d:" M 13 1 L 13 5 1 5 Q -0.001953125 5.0044921875 0 6 L 0 15 Q -0.001953125 16.0080078125 1 16 L 13 16 13 19.1 Q 13.001953125 20.0755859375 13.95 20.1 14.1701171875 20.0005859375 14.35 19.9 14.58203125 19.8134765625 14.75 19.7 L 24.4 10 14.9 0.45 Q 14.7732421875 0.3849609375 14.65 0.3 14.505859375 0.253125 14.35 0.15 14.155859375 0.08828125 13.95 0 13.85 0 13.8 0 13.0017578125 0.1046875 13 1 Z"})),t.createElement("mask",{id:s},t.createElement("g",{transform:"translate(-27.4,-10) "},t.createElement("path",{d:" M 13 1 L 13 5 1 5 Q -0.001953125 5.0044921875 0 6 L 0 15 Q -0.001953125 16.0080078125 1 16 L 13 16 13 19.1 Q 13.001953125 20.0755859375 13.95 20.1 14.1701171875 20.0005859375 14.35 19.9 14.58203125 19.8134765625 14.75 19.7 L 24.4 10 14.9 0.45 Q 14.7732421875 0.3849609375 14.65 0.3 14.505859375 0.253125 14.35 0.15 14.155859375 0.08828125 13.95 0 13.85 0 13.8 0 13.0017578125 0.1046875 13 1 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(s)},t.createElement("g",{transform:"translate(-12.4,2) "},this.renderBg()))))},ArrowSquareAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,s=this.state.maskId,r=this.state.fillColorId,o=this.state.borderColorId;return t.createElement("svg",{className:"annotation-arrow-square",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),t.createElement("g",{transform:"translate(31.95,20.25) "},t.createElement("g",{transform:"translate(-29,-14) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 14.85 -0.1 Q 13.9521484375 -1.0048828125 12.75 -1 11.4890625 -0.99609375 10.6 -0.1 L 10.55 -0.1 7 3.45 7.1 3.4 Q 6.4763671875 3.939453125 6.3 4.75 6.2841796875 4.82421875 6.25 4.85 6.06953125 5.5912109375 6.25 6.35 L 6.25 6.3 Q 6.4240234375 7.0802734375 7.05 7.7 L 7.05 7.7 8.55 9.2 2 9.2 Q 0.7466796875 9.2072265625 -0.1 10.05 -0.101171875 10.098828125 -0.15 10.1 -0.9927734375 10.9466796875 -1 12.2 L -1 17.2 Q -0.99609375 18.4609375 -0.1 19.35 0.72109375 20.196484375 2 20.2 L 8.55 20.2 7 21.75 7.05 21.7 Q 6.157421875 22.559765625 6.15 23.85 6.15390625 25.1109375 7.05 26 L 10.6 29.55 Q 11.42109375 30.396484375 12.7 30.4 13.9447265625 30.38828125 14.8 29.55 L 24.7 19.6 Q 24.8380859375 19.549609375 24.95 19.45 25.093359375 19.3828125 25.2 19.25 25.3326171875 19.067578125 25.4 18.9 L 27.55 16.75 Q 28.3962890625 15.8861328125 28.4 14.7 28.396484375 13.42109375 27.55 12.6 L 24 9.05 Q 23.8171875 8.8662109375 23.6 8.7 L 14.85 -0.1 M 22.3 10.2 Q 22.3681640625 10.2685546875 22.45 10.3 22.5244140625 10.3755859375 22.6 10.45 L 26.15 14 Q 26.403515625 14.27890625 26.4 14.7 26.4037109375 15.0962890625 26.15 15.4 L 23.95 17.6 Q 23.8810546875 17.66953125 23.8 17.75 23.7673828125 17.8314453125 23.7 17.9 23.6208984375 17.977734375 23.55 18 23.46953125 18.0810546875 23.4 18.15 L 13.45 28.15 Q 13.136328125 28.411328125 12.7 28.4 12.27890625 28.403515625 12 28.15 L 8.45 24.6 Q 8.14609375 24.2890625 8.15 23.85 8.142578125 23.440234375 8.4 23.15 8.4486328125 23.1626953125 8.45 23.15 L 11.7 19.9 Q 12.0072265625 19.607421875 12 19.2 11.99453125 18.7900390625 11.7 18.5 11.40859375 18.2048828125 11 18.2 L 2 18.2 Q 1.57890625 18.203515625 1.3 17.95 0.99609375 17.6390625 1 17.2 L 1 12.2 Q 0.992578125 11.790234375 1.25 11.5 1.3013671875 11.4990234375 1.3 11.45 1.590234375 11.192578125 2 11.2 L 11 11.2 Q 11.4107421875 11.1984375 11.7 10.9 11.9990234375 10.609375 12 10.2 11.998046875 9.7763671875 11.7 9.45 L 8.45 6.25 8.45 6.3 Q 8.2755859375 6.11953125 8.2 5.9 8.225390625 5.8625 8.2 5.8 8.1447265625 5.5630859375 8.2 5.3 8.2146484375 5.2755859375 8.2 5.2 8.2609375 5.027734375 8.4 4.9 8.436328125 4.8763671875 8.45 4.85 L 12 1.3 12 1.3 Q 12.3109375 0.99609375 12.75 1 13.1478515625 1.0048828125 13.45 1.3 L 22.3 10.2 Z",fill:"#000000"})),t.createElement("g",{transform:"translate(-27,-12) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 12.1 -1.45 Q 11.541015625 -2.0005859375 10.7 -2 9.8998046875 -2.0017578125 9.3 -1.45 L 5.75 2.1 Q 5.3662109375 2.502734375 5.2 3 5.0818359375 3.552734375 5.2 4.05 5.364453125 4.591796875 5.75 4.95 L 9 8.2 0 8.2 Q -0.833984375 8.19453125 -1.45 8.75 -2.00546875 9.366015625 -2 10.2 L -2 15.2 Q -2.00546875 16.0337890625 -1.45 16.6 -0.833984375 17.2052734375 0 17.2 L 9 17.2 5.75 20.4 Q 5.1552734375 21.0150390625 5.15 21.85 5.141015625 22.6818359375 5.7 23.25 L 9.25 26.8 Q 9.866015625 27.4052734375 10.7 27.4 11.5337890625 27.4052734375 12.1 26.8 L 22.1 16.85 Q 22.2384765625 16.758984375 22.35 16.6 22.5412109375 16.4556640625 22.65 16.25 L 24.85 14.05 Q 25.41171875 13.4861328125 25.4 12.65 25.395703125 11.8568359375 24.8 11.25 L 21.25 7.7 Q 21.13984375 7.5921875 21 7.5 L 12.1 -1.45 M 20.9 15.15 L 20.9 15.2 20.85 15.2 10.7 25.35 7.15 21.85 13.8 15.2 -0.05 15.2 -0.05 10.2 13.8 10.2 7.1 3.5 10.65 0 19.85 9.15 19.85 9.15 23.4 12.65 20.9 15.15 Z"})),t.createElement("g",{transform:"translate(-27.05,-12) "},t.createElement("path",{fill:i.buildUrl(r),d:" M 20.95 15.2 L 21 15.2 21 15.15 23.5 12.7 19.95 9.15 19.95 9.2 10.75 0 7.2 3.5 13.9 10.2 0 10.2 0 15.2 13.9 15.2 7.2 21.9 10.75 25.4 20.95 15.2 Z"})),t.createElement("mask",{id:s},t.createElement("g",{transform:"translate(-27.05,-12) "},t.createElement("path",{d:" M 20.95 15.2 L 21 15.2 21 15.15 23.5 12.7 19.95 9.15 19.95 9.2 10.75 0 7.2 3.5 13.9 10.2 0 10.2 0 15.2 13.9 15.2 7.2 21.9 10.75 25.4 20.95 15.2 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(s)},t.createElement("g",{transform:"translate(-11.95,-0.25) "},this.renderBg()))))},ArrowTriangleAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,s=this.state.maskId,r=this.state.fillColorId,o=this.state.borderColorId;return t.createElement("svg",{className:"annotation-arrow-triangle",height:"66",viewBox:"0 0 40 40",width:"66",x:"0"},this.renderDefs(),t.createElement("g",{transform:"translate(28.2,20.35) "},t.createElement("g",{transform:"translate(-17,-15) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 6.475 1.225 Q 5.663671875 0.4265625 4.675 0.15 4.6251953125 0.1375 4.575 0.125 4.1634765625 -0.0037109375 3.75 0 2.141796875 -0.00546875 1.075 1.075 1.0107421875 1.1599609375 0.95 1.25 0.546484375 1.7482421875 0.35 2.25 L 0.4 2.1 Q 0.176171875 2.5302734375 0.1 3.05 -0.00234375 3.3556640625 0 3.7 L 0 25.35 Q -0.0109375 26.0748046875 0.35 26.8 0.4763671875 27.1626953125 0.675 27.45 0.8380859375 27.6865234375 1.075 27.925 1.9125 28.7701171875 3.175 28.975 3.3423828125 29.0009765625 3.5 29 3.6 29 3.7 29 3.75 29 3.85 29 L 3.9 29 Q 4.0724609375 29.003515625 4.25 28.975 5.3380859375 28.7875 6.225 28 6.3173828125 27.91875 6.4 27.825 L 7.5 26.775 Q 7.5615234375 26.7140625 7.625 26.65 8.25078125 25.9875 8.925 25.325 L 8.95 25.275 Q 13.45 20.525 17.95 15.825 18.502734375 15.24609375 18.5 14.45 18.5025390625 13.653515625 17.95 13.075 13.55 8.475 9.15 3.875 9.13515625 3.8517578125 9.125 3.825 8.725 3.425 8.375 3.075 7.4 2.1119140625 6.425 1.2 L 6.475 1.225 Z",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})),t.createElement("g",{transform:"translate(-15,-13.05) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 4.4 -0.8 L 4.45 -0.8 Q 3.663671875 -1.5734375 2.65 -1.85 2.6251953125 -1.8625 2.55 -1.9 2.1634765625 -2.0037109375 1.75 -2 0.141796875 -2.00546875 -0.95 -0.95 -0.9892578125 -0.8400390625 -1.05 -0.75 -1.453515625 -0.2517578125 -1.65 0.25 L -1.6 0.1 Q -1.823828125 0.5302734375 -1.9 1.05 -2.00234375 1.3556640625 -2 1.7 L -2 23.35 Q -2.0109375 24.0748046875 -1.65 24.8 -1.5236328125 25.1626953125 -1.35 25.45 -1.1619140625 25.6865234375 -0.95 25.9 -0.0875 26.7701171875 1.15 26.95 1.3423828125 27.0009765625 1.5 27 1.6 27 1.7 27 1.75 27 1.85 27 L 1.9 27 Q 2.0724609375 27.003515625 2.25 26.95 3.3380859375 26.7875 4.2 26 4.3173828125 25.91875 4.4 25.8 L 5.5 24.75 Q 5.5615234375 24.7140625 5.6 24.65 6.25078125 23.9875 6.9 23.3 L 6.95 23.25 Q 11.45 18.525 15.95 13.8 16.502734375 13.24609375 16.5 12.45 16.5025390625 11.653515625 15.95 11.05 11.55 6.475 7.15 1.85 7.13515625 1.8517578125 7.1 1.8 6.725 1.425 6.35 1.05 5.4 0.1119140625 4.4 -0.8 M 3 0.6 Q 3.9875 1.5357421875 4.95 2.45 5.3125 2.85 5.65 3.2 10.0896484375 7.828515625 14.5 12.45 9.9876953125 17.1595703125 5.45 21.85 4.8 22.5853515625 4.1 23.3 L 3 24.35 Q 2.95234375 24.4115234375 2.85 24.45 2.4654296875 24.9119140625 1.9 24.95 L 1.8 25 Q 1.7615234375 25.0009765625 1.7 25 1.6 24.9966796875 1.5 24.95 0.9140625 24.9099609375 0.45 24.45 0.393359375 24.3939453125 0.3 24.3 0.241015625 24.1822265625 0.15 24.05 0.0095703125 23.71875 0 23.3 L 0 1.7 0 1.7 Q 0.02734375 1.3236328125 0.15 1 0.2869140625 0.7322265625 0.5 0.5 1.01640625 0.0033203125 1.7 0 1.8798828125 -0.001171875 2 0 2.6244140625 0.1966796875 3 0.6 Z"})),t.createElement("g",{transform:"translate(-15,-13) "},t.createElement("path",{fill:i.buildUrl(r),d:" M 2 0 Q 1.8798828125 -0.001171875 1.7 0 1.01640625 0.0033203125 0.5 0.5 0.2869140625 0.7322265625 0.15 1 0.02734375 1.3236328125 0 1.7 L 0 1.7 0 23.3 Q 0.0095703125 23.71875 0.15 24.05 0.241015625 24.1822265625 0.3 24.3 0.393359375 24.3939453125 0.45 24.45 0.9140625 24.9099609375 1.5 24.95 1.6 24.9966796875 1.7 25 1.7615234375 25.0009765625 1.8 25 L 1.9 24.95 Q 2.4654296875 24.9119140625 2.85 24.45 2.95234375 24.4115234375 3 24.35 L 4.1 23.3 Q 4.8 22.5853515625 5.45 21.85 9.9876953125 17.1595703125 14.5 12.45 10.0896484375 7.828515625 5.65 3.2 5.3125 2.85 4.95 2.45 3.9875 1.5357421875 3 0.6 2.6244140625 0.1966796875 2 0 Z"})),t.createElement("mask",{id:s},t.createElement("g",{transform:"translate(-15,-13) "},t.createElement("path",{d:" M 2 0 Q 1.8798828125 -0.001171875 1.7 0 1.01640625 0.0033203125 0.5 0.5 0.2869140625 0.7322265625 0.15 1 0.02734375 1.3236328125 0 1.7 L 0 1.7 0 23.3 Q 0.0095703125 23.71875 0.15 24.05 0.241015625 24.1822265625 0.3 24.3 0.393359375 24.3939453125 0.45 24.45 0.9140625 24.9099609375 1.5 24.95 1.6 24.9966796875 1.7 25 1.7615234375 25.0009765625 1.8 25 L 1.9 24.95 Q 2.4654296875 24.9119140625 2.85 24.45 2.95234375 24.4115234375 3 24.35 L 4.1 23.3 Q 4.8 22.5853515625 5.45 21.85 9.9876953125 17.1595703125 14.5 12.45 10.0896484375 7.828515625 5.65 3.2 5.3125 2.85 4.95 2.45 3.9875 1.5357421875 3 0.6 2.6244140625 0.1966796875 2 0 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(s)},t.createElement("g",{transform:"translate(-8.2,-0.35) "},this.renderBg()))))},ArrowVAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,s=this.state.maskId,r=this.state.fillColorId,o=this.state.borderColorId;return t.createElement("svg",{className:"annotation-arrow-v",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),t.createElement("g",{transform:"translate(25.5,20) "},t.createElement("g",{transform:"translate(-18.1,-14) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 8.05 -0.1 Q 8.0130859375 -0.125 7.95 -0.15 6.343359375 -1.1771484375 4.35 -1 2.282421875 -0.8208984375 0.8 0.7 0.8015625 0.727734375 0.75 0.75 -0.662109375 2.1193359375 -0.9 4.05 L -0.9 4 Q -1.234375 6.0529296875 -0.2 7.85 -0.00234375 8.251953125 0.4 8.55 L 6.15 14.4 0.3 20.4 0.35 20.4 Q 0.12421875 20.624609375 -0.05 20.85 L -0.05 20.8 Q -1.25546875 22.5345703125 -0.9 24.8 L -0.9 24.75 Q -0.6587890625 26.754296875 0.85 28.25 L 0.9 28.3 Q 0.9138671875 28.325 0.9 28.35 2.294140625 29.60234375 4.2 29.9 4.276953125 29.905859375 4.35 29.9 4.4125 29.9 4.45 29.9 4.5125 29.9025390625 4.55 29.9 6.378515625 30.003515625 7.95 29 8.0130859375 28.9748046875 8.05 28.95 8.25 28.8 8.45 28.65 8.5150390625 28.6041015625 8.55 28.55 L 20.15 16.55 20.15 16.5 Q 20.9962890625 15.6361328125 21 14.45 20.9962890625 13.2638671875 20.15 12.35 L 20.15 12.35 8.55 0.3 Q 8.5150390625 0.245703125 8.45 0.2 8.25 0.05 8.05 -0.1 M 6.9 1.55 Q 7.023046875 1.62734375 7.1 1.7 L 18.7 13.75 18.7 13.7 Q 19.00390625 14.0361328125 19 14.45 19.00390625 14.8638671875 18.7 15.15 L 18.7 15.15 7.1 27.15 Q 7.0228515625 27.2220703125 6.9 27.3 6.8859375 27.323046875 6.85 27.35 5.81015625 27.9732421875 4.6 27.9 4.586328125 27.898828125 4.55 27.9 L 4.5 27.9 Q 3.205859375 27.69765625 2.25 26.85 L 2.3 26.9 2.25 26.85 Q 1.25859375 25.845703125 1.1 24.5 L 1.05 24.5 Q 0.85546875 23.0654296875 1.6 21.95 L 1.6 21.95 Q 1.6755859375 21.8755859375 1.75 21.8 L 1.75 21.8 8.25 15.15 Q 8.5552734375 14.855078125 8.55 14.45 8.5544921875 14.043359375 8.25 13.75 L 1.7 7.05 Q 1.6646484375 6.996484375 1.6 6.95 1.5748046875 6.9119140625 1.55 6.85 0.8423828125 5.7033203125 1.05 4.35 1.087890625 4.3486328125 1.1 4.3 1.2599609375 2.998828125 2.25 2.1 2.3248046875 2.055859375 2.35 2 3.28203125 1.1150390625 4.55 1 5.81015625 0.8814453125 6.85 1.5 6.8869140625 1.5259765625 6.9 1.55 Z",fill:"#000000"})),t.createElement("g",{transform:"translate(-16,-12) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 5.45 -1.3 Q 4.0791015625 -2.16640625 2.45 -2 0.7294921875 -1.82890625 -0.5 -0.65 L -0.45 -0.65 Q -1.6818359375 0.5212890625 -1.95 2.2 -2.1775390625 3.9150390625 -1.35 5.35 -1.1966796875 5.58046875 -1.05 5.75 L 5.55 12.45 -1 19.1 Q -1.097265625 19.230859375 -1.2 19.35 -2.19375 20.776171875 -1.95 22.6 L -1.95 22.65 Q -1.6953125 24.294140625 -0.5 25.5 -0.4345703125 25.54921875 -0.4 25.55 0.728515625 26.63671875 2.35 26.85 2.45 26.8916015625 2.55 26.9 4.124609375 26.982421875 5.45 26.15 5.6638671875 26.0228515625 5.85 25.85 L 17.45 13.85 Q 18.0060546875 13.2640625 18 12.45 18.0060546875 11.6357421875 17.45 11.05 L 5.85 -1 Q 5.6638671875 -1.173046875 5.45 -1.3 M 0.05 2.5 Q 0.200390625 1.500390625 0.9 0.75 1.6251953125 0.0759765625 2.6 -0.05 3.575 -0.1240234375 4.4 0.4 L 16 12.4 4.4 24.45 Q 3.575 24.9740234375 2.6 24.85 1.6251953125 24.7740234375 0.9 24.05 0.200390625 23.349609375 0.05 22.3 -0.0994140625 21.275390625 0.4 20.45 L 8.3 12.4 0.4 4.3 Q -0.1244140625 3.524609375 0.05 2.5 Z"})),t.createElement("g",{transform:"translate(-16,-12.05) "},t.createElement("path",{fill:i.buildUrl(r),d:" M 2.6 0 Q 1.6251953125 0.125390625 0.9 0.8 0.200390625 1.5501953125 0.05 2.55 -0.1244140625 3.575 0.4 4.35 L 8.3 12.5 0.4 20.55 Q -0.0994140625 21.3751953125 0.05 22.4 0.200390625 23.45 0.9 24.15 1.6251953125 24.8748046875 2.6 24.95 3.575 25.0748046875 4.4 24.55 L 16 12.5 4.4 0.45 Q 3.575 -0.074609375 2.6 0 Z"})),t.createElement("mask",{id:s},t.createElement("g",{transform:"translate(-16,-12.05) "},t.createElement("path",{d:" M 2.6 0 Q 1.6251953125 0.125390625 0.9 0.8 0.200390625 1.5501953125 0.05 2.55 -0.1244140625 3.575 0.4 4.35 L 8.3 12.5 0.4 20.55 Q -0.0994140625 21.3751953125 0.05 22.4 0.200390625 23.45 0.9 24.15 1.6251953125 24.8748046875 2.6 24.95 3.575 25.0748046875 4.4 24.55 L 16 12.5 4.4 0.45 Q 3.575 -0.074609375 2.6 0 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(s)},t.createElement("g",{transform:"translate(-5.5,0) "},this.renderBg()))))},CheckAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,s=this.state.maskId,r=this.state.fillColorId,o=this.state.borderColorId,a=this.state.animationMaskId,l="draw"===this.props.model.get("animationtype");return t.createElement("svg",{className:"annotation-check",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),l&&t.createElement("mask",{id:a},t.createElement("g",{transform:"rotate(45, 21, 0.5)"},t.createElement("rect",{ref:"mask",x:"0",y:"14.25",width:"22",height:"28",fill:"#000"}))),t.createElement("g",{mask:l?i.buildUrl(a):"none"},t.createElement("g",{transform:"translate(19.95,19.9) "},t.createElement("g",{transform:"translate(-15,-12) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 24.05 -0.1 L 24.05 -0.1 Q 23.4302734375 -0.7259765625 22.65 -0.9 L 22.7 -0.9 Q 21.9412109375 -1.08046875 21.2 -0.9 21.1740234375 -0.8658203125 21.1 -0.85 20.3255859375 -0.6814453125 19.8 -0.1 L 12.35 7.4 9.25 4.25 Q 8.6302734375 3.6240234375 7.85 3.45 L 7.9 3.45 Q 7.1412109375 3.26953125 6.4 3.45 6.373828125 3.4841796875 6.3 3.5 5.489453125 3.6763671875 4.95 4.3 L 4.95 4.25 -0.15 9.4 -0.1 9.4 Q -1.0048828125 10.2978515625 -1 11.5 -1.0048828125 12.7021484375 -0.1 13.6 L 10.25 24.1 Q 11.078125 24.9927734375 12.35 25 13.6109375 24.99609375 14.5 24.1 L 29.15 9.25 Q 29.9962890625 8.3861328125 30 7.2 29.9962890625 6.0138671875 29.15 5.1 L 29.15 5.1 24.05 -0.1 M 22.65 1.3 L 22.6 1.3 27.7 6.5 27.7 6.45 Q 28.00390625 6.7861328125 28 7.2 28.0037109375 7.5962890625 27.75 7.9 L 13.1 22.7 Q 12.7890625 23.00390625 12.35 23 11.940234375 23.007421875 11.65 22.7 L 1.3 12.2 Q 1.0048828125 11.8978515625 1 11.5 1.0048828125 11.1021484375 1.3 10.8 L 1.3 10.8 6.4 5.65 Q 6.4365234375 5.6248046875 6.45 5.6 6.577734375 5.4609375 6.75 5.4 6.8255859375 5.4146484375 6.85 5.4 7.1130859375 5.3447265625 7.35 5.4 7.4125 5.425390625 7.45 5.4 7.66953125 5.4755859375 7.85 5.65 L 11.65 9.5 Q 11.940234375 9.798046875 12.35 9.8 12.7615234375 9.796875 13.05 9.5 L 21.2 1.3 Q 21.2248046875 1.2740234375 21.25 1.25 21.377734375 1.1109375 21.55 1.05 21.6255859375 1.0646484375 21.65 1.05 21.9130859375 0.9947265625 22.15 1.05 22.2125 1.075390625 22.25 1.05 22.46953125 1.1255859375 22.65 1.3 Z",fill:"#000000"})),t.createElement("g",{transform:"translate(-13,-10) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 20.4 -1.95 Q 19.9 -2.0681640625 19.35 -1.95 18.8552734375 -1.7845703125 18.45 -1.4 L 10.35 6.8 6.5 2.95 Q 6.1451171875 2.566015625 5.6 2.4 5.1 2.2818359375 4.55 2.4 4.0548828125 2.566015625 3.65 2.95 L -1.45 8.1 Q -2.001171875 8.6859375 -2 9.5 -2.0009765625 10.3150390625 -1.45 10.9 L 8.9 21.4 Q 9.5169921875 21.99609375 10.35 22 11.18359375 21.9955078125 11.75 21.4 L 26.4 6.6 Q 27.0017578125 6.014453125 27 5.2 27.001171875 4.3859375 26.4 3.8 L 21.3 -1.4 Q 20.944921875 -1.7841796875 20.4 -1.95 M 10.35 9.6 L 19.85 0 25 5.15 10.35 20 0 9.5 5.1 4.3 10.35 9.6 Z"})),t.createElement("g",{transform:"translate(-13,-10) "},t.createElement("path",{fill:i.buildUrl(r),d:" M 10.35 20 L 25 5.15 19.85 0 10.35 9.6 5.1 4.3 0 9.5 10.35 20 Z"})),t.createElement("mask",{id:s},t.createElement("g",{transform:"translate(-13,-10) "},t.createElement("path",{d:" M 10.35 20 L 25 5.15 19.85 0 10.35 9.6 5.1 4.3 0 9.5 10.35 20 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(s)},t.createElement("g",{transform:"translate(0.05,0.1) "},this.renderBg())))))},CrossAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,s=this.state.maskId,r=this.state.fillColorId,o=this.state.borderColorId,a=this.state.legMaskId,l=this.state.animationXMaskId,u=this.state.animationLegMaskId,c="draw"===this.props.model.get("animationtype");return t.createElement("svg",{className:"annotation-cross",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),t.createElement("g",{transform:"translate(6, 6)"},c&&t.createElement("mask",{id:l},t.createElement("rect",{ref:"xMask",width:"34",height:"34",fill:"#000",transform:"translate(39, 16) rotate(135)"})),t.createElement("g",{mask:c?i.buildUrl(l):"none"},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 22.7 -0.1 Q 21.8109375 -0.99609375 20.55 -1 19.2783203125 -0.9927734375 18.45 -0.1 L 14.55 3.8 10.65 -0.1 Q 9.7609375 -0.99609375 8.5 -1 7.2283203125 -0.9927734375 6.4 -0.1 L -0.1 6.35 Q -0.9927734375 7.178125 -1 8.45 -0.99609375 9.7109375 -0.1 10.6 L 3.85 14.55 -0.1 18.45 Q -1.0048828125 19.3478515625 -1 20.55 -0.99609375 21.8109375 -0.1 22.7 L 6.35 29.15 Q 7.17109375 29.996484375 8.45 30 9.6361328125 29.9962890625 10.5 29.15 L 10.55 29.15 14.5 25.2 18.45 29.15 Q 19.27109375 29.996484375 20.55 30 21.7361328125 29.9962890625 22.6 29.15 L 22.65 29.15 29.1 22.7 29.1 22.7 Q 29.99609375 21.8109375 30 20.55 29.996484375 19.27109375 29.15 18.45 L 25.2 14.5 29.1 10.65 29.1 10.65 Q 30.0048828125 9.7521484375 30 8.55 29.98828125 7.3052734375 29.15 6.4 L 29.15 6.4 22.7 -0.1 22.7 -0.1 M 20.55 1 Q 20.9890625 0.99609375 21.3 1.3 L 27.75 7.8 Q 28.011328125 8.1138671875 28 8.55 27.9951171875 8.9478515625 27.7 9.25 L 27.7 9.2 23.1 13.75 Q 22.8015625 14.076953125 22.8 14.5 22.8015625 14.909765625 23.1 15.2 L 27.75 19.85 Q 28.003515625 20.12890625 28 20.55 28.00390625 20.9890625 27.7 21.3 L 21.25 27.75 Q 20.9462890625 28.0037109375 20.55 28 20.12890625 28.003515625 19.85 27.75 L 15.2 23.1 Q 14.9087890625 22.80546875 14.5 22.8 14.0919921875 22.79296875 13.8 23.05 L 9.15 27.7 9.15 27.7 Q 8.8638671875 28.00390625 8.45 28 8.02890625 28.003515625 7.75 27.75 L 1.3 21.3 Q 0.99609375 20.9890625 1 20.55 1.0048828125 20.1521484375 1.3 19.85 L 5.95 15.25 Q 6.246484375 14.9607421875 6.25 14.55 6.246484375 14.1392578125 5.95 13.85 L 1.3 9.2 Q 0.99609375 8.8890625 1 8.45 0.992578125 8.040234375 1.25 7.75 L 7.8 1.25 Q 8.090234375 0.992578125 8.5 1 8.9390625 0.99609375 9.25 1.3 L 13.85 5.9 Q 14.1392578125 6.196484375 14.55 6.2 14.9607421875 6.196484375 15.25 5.9 L 19.85 1.25 Q 20.140234375 0.992578125 20.55 1 Z",fill:"#000000"}),t.createElement("path",{fill:i.buildUrl(o),transform:"translate(2, 2)",d:" M 7.9 -1.45 Q 7.3337890625 -2.00546875 6.5 -2 5.666015625 -2.00546875 5.05 -1.45 L -1.45 5 Q -2.00546875 5.616015625 -2 6.45 -2.00546875 7.2837890625 -1.45 7.85 L 3.2 12.5 -1.45 17.15 Q -2.003125 17.734765625 -2 18.55 -2.0017578125 19.3802734375 -1.45 19.95 L 5 26.4 Q 5.61953125 27.0017578125 6.45 27 7.2650390625 27.003125 7.85 26.4 L 12.5 21.8 17.1 26.4 Q 17.7197265625 27.001953125 18.55 27 19.36484375 27.0033203125 19.95 26.4 L 26.4 19.95 Q 26.994921875 19.3849609375 27 18.55 27.0087890625 17.7181640625 26.4 17.1 L 21.8 12.5 26.4 7.9 Q 26.9935546875 7.3453125 27 6.5 27.00625 5.69453125 26.4 5.1 L 19.95 -1.4 Q 19.3818359375 -1.9984375 18.55 -2 17.718359375 -1.9986328125 17.1 -1.4 L 12.5 3.2 7.9 -1.45 M 6.45 0 L 12.5 6 18.5 0 25 6.45 18.95 12.45 25 18.5 18.5 24.95 12.5 18.95 6.45 25 0 18.5 6 12.45 0 6.45 6.45 0 Z"}),t.createElement("path",{fill:i.buildUrl(r),transform:"translate(2, 2)",d:" M 18.5 0 L 12.5 6 6.45 0 0 6.45 6 12.45 0 18.5 6.45 25 12.5 18.95 18.5 24.95 25 18.5 18.95 12.45 25 6.45 18.5 0 Z"}),t.createElement("mask",{id:s},t.createElement("path",{d:" M 18.5 0 L 12.5 6 6.45 0 0 6.45 6 12.45 0 18.5 6.45 25 12.5 18.95 18.5 24.95 25 18.5 18.95 12.45 25 6.45 18.5 0 Z",fill:"#FFFFFF"})),t.createElement("g",{mask:i.buildUrl(s),transform:"translate(2, 2)"},t.createElement("g",{transform:"translate(12, 12)"},this.renderBg()))),c&&t.createElement("mask",{id:u},t.createElement("rect",{ref:"legMask",width:"32",height:"16",fill:"#000",transform:"translate(9, -2) rotate(45)"})),c&&t.createElement("g",{ref:"leg",mask:i.buildUrl(u)},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:"M 10.6 -0.1 Q 9.7021484375 -1.0048828125 8.5 -1 7.2283203125 -0.9927734375 6.4 -0.1 L -0.1 6.4 Q -1.0048828125 7.2978515625 -1 8.5 -1.0048828125 9.7021484375 -0.1 10.6 L 18.45 29.2 Q 19.3349609375 30.0166015625 20.55 30.1 20.5986328125 30.1037109375 20.65 30.1 21.806640625 30.02265625 22.65 29.2 L 29.2 22.65 Q 30.02265625 21.806640625 30.1 20.65 30.1037109375 20.5986328125 30.1 20.55 30.0216796875 19.3330078125 29.2 18.45 L 10.6 -0.1 M 27.8 19.85 Q 28.0626953125 20.166015625 28.1 20.6 28.0626953125 20.9935546875 27.8 21.3 L 21.3 27.8 Q 20.9927734375 28.063671875 20.6 28.1 20.163671875 28.066796875 19.85 27.8 L 1.3 9.2 Q 1.0048828125 8.8978515625 1 8.5 1.0048828125 8.1021484375 1.3 7.8 L 7.8 1.25 Q 8.090234375 0.992578125 8.5 1 8.8978515625 1.0048828125 9.2 1.3 L 27.8 19.85 Z"}),t.createElement("path",{fill:i.buildUrl(o),d:"M 28.45 21.95 Q 29.0671875 21.39609375 29.05 20.55 29.0671875 19.74140625 28.45 19.15 L 9.9 0.6 Q 9.3208984375 0.0076171875 8.5 0 7.6662109375 0.0076171875 7.05 0.6 L 0.6 7.1 Q 0.007421875 7.67890625 0 8.5 0.007421875 9.32109375 0.6 9.9 L 19.15 28.45 Q 19.7412109375 29.0673828125 20.55 29.05 21.3958984375 29.0673828125 21.95 28.45 L 28.45 21.95 M 1.95 8.5 L 8.45 2 27.05 20.6 20.55 27.05 1.95 8.5 Z"}),t.createElement("path",{fill:i.buildUrl(r),transform:"translate(2.15, 2)",d:"M 18.55 25.05 L 25.05 18.55 6.5 0 0 6.5 18.55 25.05 Z"}),t.createElement("mask",{id:a},t.createElement("path",{fill:"#fff",d:"M 18.55 25.05 L 25.05 18.55 6.5 0 0 6.5 18.55 25.05 Z"})),t.createElement("g",{mask:i.buildUrl(a),transform:"translate(2, 2)"},t.createElement("g",{transform:"translate(12, 12)"},this.renderBg())))))},CaptionIcon:function(){e("polyfills/detection");return t.createElement("svg",{
className:"cs-icon caption-icon",width:"22px",height:"18px",viewBox:"0 0 22 18"},t.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},t.createElement("g",null,t.createElement("path",{d:"M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"}))))},CarrotIcon:function(){var e='<use xlink:href="#icon-carrot" class="cs-shadow" transform="translate(1, 0)" /><polygon id="icon-carrot" points="1,1.5 5,5 1,8.5"/>';return t.createElement("svg",{className:"cs-icon cs-icon-carrot",width:"10",height:"10",viewBox:"0 0 10 10",key:e,dangerouslySetInnerHTML:{__html:e}})},CheckIcon:function(){},CheckIconMobile:function(){var e='<use xlink:href="#icon-check-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M12.685,30c-0.538,0-1.053-0.218-1.429-0.604L0,17.832l2.857-2.8l9.827,10.097L37.143,0L40,2.8L14.114,29.396C13.738,29.782,13.222,30,12.685,30z"/>';return t.createElement("svg",{className:"cs-icon check-mobile-icon",width:"40",height:"30",viewBox:"0 0 40 30",key:e,dangerouslySetInnerHTML:{__html:e}})},ClearIcon:function(){var e='<use xlink:href="#icon-clear" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-clear" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>';return t.createElement("svg",{className:"cs-icon icon-clear",width:"13",height:"14",viewBox:"0 0 13 14",key:e,dangerouslySetInnerHTML:{__html:e}})},CloseIcon:function(){var e='<use xlink:href="#close-icon" class="icon-shadow" transform="translate(0, .5)" /><path id="close-icon" d="M9,9.5L9,9.5c-0.5,0.5-1.3,0.5-1.8,0L4.9,7.3L2.6,9.6c-0.5,0.5-1.3,0.5-1.8,0l0,0c-0.5-0.5-0.5-1.3,0-1.8l2.3-2.3L0.8,3.3C0.3,2.8,0.3,2,0.9,1.4l0,0c0.5-0.5,1.3-0.5,1.8,0l2.3,2.3l2.3-2.3c0.5-0.5,1.3-0.5,1.8,0l0,0c0.5,0.5,0.5,1.3,0,1.8L6.7,5.5L9,7.7C9.5,8.2,9.5,9,9,9.5z"/>';return t.createElement("svg",{className:"icon",width:"10",height:"10",viewBox:"0 0 10 10",key:e,dangerouslySetInnerHTML:{__html:e}})},CloseIconMobile:function(){var e='<use xlink:href="#icon-close-mobile" class="icon-mobile" /><polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18   "/>';return t.createElement("svg",{className:"icon",width:"36",height:"36",viewBox:"0 0 36 36",key:e,dangerouslySetInnerHTML:{__html:e}})},DisabledOrientationIcon:function(){return t.createElement("svg",{viewBox:"0 0 161 135"},t.createElement("g",{stroke:"none",strokeWidth:"1",fill:"#fff",fillRule:"evenodd"},t.createElement("path",{d:"M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"}),t.createElement("path",{d:"M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"}),t.createElement("path",{d:"M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"})))},EmailIcon:function(){return t.createElement("svg",{className:"email-icon",width:"50",height:"50",viewBox:"0 0 50 50"},t.createElement("circle",{className:"email-icon-bg",cx:"24",cy:"24",r:"24",fill:"#3b3b3b",strokeWidth:"1"}),t.createElement("g",{className:"email-icon-envelope",fill:"none",strokeWidth:"2",transform:"translate(14, 17)"},t.createElement("rect",{x:"0",y:"0",width:"20",height:"15",rx:"1",ry:"1"}),t.createElement("path",{d:"M0 0 10 8 20 0"})))},EnterFullScreenIcon:function(){return t.createElement("svg",{className:"cs-icon exit-icon",width:"25",height:"25",viewBox:"0 0 32 32",style:{overflow:"visible"}},t.createElement("g",{transform:"translate(0, -2)"},t.createElement("path",{d:"M1.5,1.77635684e-15 L12,1.77635684e-15 L12,3 L3,3 L3,12 L-4.4408921e-16,12 L1.77635684e-15,-2.7554553e-16 L1.5,0 Z"}),t.createElement("path",{d:"M1.5,20 L12,20 L12,23 L3,23 L3,32 L-4.4408921e-16,32 L1.77635684e-15,20 L1.5,20 Z",transform:"translate(6.000000, 26.000000) scale(1, -1) translate(-6.000000, -26.000000) "}),t.createElement("path",{d:"M21.5,1.77635684e-15 L32,1.77635684e-15 L32,3 L23,3 L23,12 L20,12 L20,-2.7554553e-16 L21.5,0 Z",transform:"translate(26.000000, 6.000000) scale(-1, 1) translate(-26.000000, -6.000000) "}),t.createElement("path",{d:"M21.5,20 L32,20 L32,23 L23,23 L23,32 L20,32 L20,20 L21.5,20 Z",transform:"translate(26.000000, 26.000000) scale(-1, -1) translate(-26.000000, -26.000000) "})))},GearIcon:function(){return t.createElement("svg",{className:"cs-icon icon-gear",width:"14",height:"14",viewBox:"0 0 14 14"},t.createElement("path",{id:"icon-gear",d:"M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"}))},MenuIcon:function(){var e=['<use xlink:href="#icon-menu-mobile" class="icon-mobile" transform="translate(0, 1)" />','<g id="icon-menu-mobile">','<rect width="40" height="4"/>','<rect y="16" width="40" height="4"/>','<rect y="32" width="40" height="4"/>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon menu-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},NextIcon:function(){var e='<use xlink:href="#next-icon" class="cs-icon-shadow" transform="translate(0, 1)" /><polygon id="next-icon" points="2.7,0 0,1.7 3,5 0.3,8.3 3,10 7,5"/>';return t.createElement("svg",{className:"cs-icon",width:"8",height:"11",viewBox:"0 0 8 11",key:e,dangerouslySetInnerHTML:{__html:e}})},NextIconMobile:function(){var e='<use xlink:href="#icon-next-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>';return t.createElement("svg",{className:"cs-icon next-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},PauseIcon:function(){var e=['<use xlink:href="#icon-pause" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="icon-pause">','<rect x="0" width="4" height="14"/>','<rect x="8" width="4" height="14"/>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PauseLegacyIcon:function(){var e=['<use xlink:href="#icon-pause" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="icon-pause">','<rect x="0" width="4" height="14"/>','<rect x="8" width="4" height="14"/>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIcon:function(){var e='<use xlink:href="#icon-play" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-play" d="M1.3,0.1l8.3,5.2c0.5,0.3,0.5,1,0,1.3l-8.3,5.2c-0.5,0.3-1.3,0-1.3-0.7L0,0.8C0,0.3,0.7-0.2,1.3,0.1z"/>';return t.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIconMobile:function(){var e='<use xlink:href="#icon-play" /><path id="icon-play" d="M 11 7.15 L 0 0 0 14.3 11 7.15 Z"/>';return t.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayLegacyIcon:function(){var e='<use xlink:href="#icon-play" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-play" d="M1.3,0.1l8.3,5.2c0.5,0.3,0.5,1,0,1.3l-8.3,5.2c-0.5,0.3-1.3,0-1.3-0.7L0,0.8C0,0.3,0.7-0.2,1.3,0.1z"/>';return t.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlaybackResetIcon:function(){var e='<use xlink:href="#icon-replay" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-replay" d="M9.2,15c4.1,0,7.4-3.1,7.7-7c0-0.2,0-0.4,0-0.5C17,3.3,13.5,0,9.2,0C5.7,0,2.6,2.8,1.8,6.1H0l2.6,2.9l3-2.9H3.7c0.6-2.5,2.8-4.3,5.5-4.3c3.3,0,5.9,2.5,5.9,5.7c0,0.2,0,0.4,0,0.5c-0.3,2.9-2.8,5.2-5.9,5.2c-2,0-3.7-0.9-4.8-2.5l-1.8,1.1C4,13.9,6.7,15,9.2,15z"/>';return t.createElement("svg",{className:"cs-icon",width:"18",height:"16",viewBox:"0 0 18 16",key:e,dangerouslySetInnerHTML:{__html:e}})},PrevIcon:function(){var e='<use xlink:href="#prev-icon" class="cs-icon-shadow" transform="translate(0, 1)" /><polygon id="prev-icon" points="0,5 4,10 7,8.3 4,5 7,1.7 4.3,0"/>';return t.createElement("svg",{className:"cs-icon",width:"8",height:"11",viewBox:"0 0 8 11",key:e,dangerouslySetInnerHTML:{__html:e}})},PrevIconMobile:function(){var e='<use xlink:href="#icon-prev-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M0.586,19.413L17.174,36L20,33.174L6.825,20H40v-4H6.825L20,2.826L17.174,0L0.586,16.587C-0.195,17.367-0.195,18.632,0.586,19.413z"/>';return t.createElement("svg",{className:"cs-icon prev-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},SearchIcon:function(){return t.createElement("svg",{className:"cs-icon",width:"14",height:"14",viewBox:"0 0 14 14"},t.createElement("path",{d:"M13.8,12.5l-3.6-3.6c0,0-0.1-0.1-0.1-0.1c0.6-0.9,1-2,1-3.2C11.1,2.5,8.6,0,5.5,0S0,2.5,0,5.6c0,3.1,2.5,5.6,5.5,5.6c1.2,0,2.4-0.4,3.3-1.1c0,0,0,0.1,0.1,0.1l3.6,3.6c0.3,0.3,0.8,0.3,1.1,0l0.2-0.2 C14.1,13.3,14.1,12.8,13.8,12.5z M5.5,9.5c-2.2,0-3.9-1.8-3.9-4c0-2.2,1.8-4,3.9-4c2.2,0,3.9,1.8,3.9,4C9.5,7.8,7.7,9.5,5.5,9.5z"}))},SearchIconMobile:function(){var e=['<g id="icon-search" transform="translate(4, 0)">','<path d="M14.1378906,27.4473684 C21.6653507,27.4473684 27.7757813,21.4196023 27.7757813,13.9736842 C27.7757813,6.52776609 21.6653507,0.5 14.1378906,0.5 C6.61043053,0.5 0.5,6.52776609 0.5,13.9736842 C0.5,21.4196023 6.61043053,27.4473684 14.1378906,27.4473684 L14.1378906,27.4473684 Z M14.1378906,24.4473684 C8.25820695,24.4473684 3.5,19.7535325 3.5,13.9736842 C3.5,8.19383595 8.25820695,3.5 14.1378906,3.5 C20.0175743,3.5 24.7757813,8.19383595 24.7757813,13.9736842 C24.7757813,19.7535325 20.0175743,24.4473684 14.1378906,24.4473684 L14.1378906,24.4473684 Z" ></path>','<path d="M20.887408,24.4494377 L31.4348235,34.8541634 L32.5026823,35.9075758 L34.609507,33.7718582 L33.5416482,32.7184459 L22.9942327,22.3137202 L21.9263739,21.2603078 L19.8195492,23.3960254 L20.887408,24.4494377 L20.887408,24.4494377 Z" ></path>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon search-icon",width:"22",height:"22",viewBox:"0 0 40 40",key:e,dangerouslySetInnerHTML:{__html:e}})},VolumeIcon:function(){var e=this.props.volumeStrength>0?"":"hidden",i=this.props.volumeStrength>=5?"":"hidden",n=10==this.props.volumeStrength?"":"hidden",s=['<use xlink:href="#player-volume" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="player-volume">','<polygon points="4.3,10.7 0,10.7 0,4.3 4.3,4.3 8.6,0 8.6,15"/>','<rect class="'+e+'" x="10" y="5" width="1" height="6"/>','<rect class="'+i+'" x="12" y="4" width="1" height="8"/>','<rect class="'+n+'" x="14" y="3" width="1" height="10"/>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon",width:"15",height:"15",viewBox:"0 0 15 15",key:s,dangerouslySetInnerHTML:{__html:s}})},AppUnified:function(){var i=(e("polyfills/detection"),e("views/SvgLibrary")),n=e("views/player/Topbar"),s=e("views/presentation/MainWindow"),r=e("views/player/MobileStartOverlay"),o=e("views/player/Sidebar"),a=e("views/player/SlideLoaderOverlay"),l=(e("helpers/cssPrefix"),e("views/presentation/PopupWindow")),u=e("views/presentation/SlideLockCursor"),c=(e("helpers/svg/svgUtils"),e("helpers/utils")),h=(e("views/player/MobileDisabledOrientation"),this.state.fontScale+"%"),p=_.curry(function(e,t){return[t,e].join("")}),d=(_.flow(c.decToPct,p("vw")),_.flow(c.decToPct,p("vh")),["presentation-wrapper","cs-base","opaque","cs-custom-theme","cs-"+this.props.state.currentScheme(),"fn-"+this.props.state.currentScheme(),this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ")),f={width:"100%",height:"100%",fontSize:h,lineHeight:h};return t.createElement("div",{id:"presentation-container",className:["non-eventable",this.state.showLoader?"":"hide-slide-loader"].join(" ")},t.createElement("div",{id:"presentation",style:f,className:d},t.createElement("div",{className:"cs-brandhighlight-bg",style:{display:"none"}}),t.createElement(i,{ref:"svgLib"}),this.props.player.get("presenters")&&t.createElement(l,{presenters:this.props.player.get("presenters")}),this.hasSidebar()&&t.createElement(o,{ref:"sidebar",model:this.props.player}),this.hasSidebar()&&t.createElement("div",{className:"sidebar-overlay"}),t.createElement("div",{ref:"primary",className:"area-primary cs-area-primary"},this.props.presentation.get("debugMode")&&t.createElement("img",{src:"html5/lib/img/icon_error.png",title:"open dev tools for more information",className:"error-icon "+this.getErr()}),!!this.hasTopBar()&&t.createElement(n,{ref:"topbar",model:this.props.player,timers:this.props.presentation.timers(),presentation:this.props.presentation,sidebarPos:this.sidebarPos(),sidebarClosed:this.sidebarOpts.get("closed")}),t.createElement(s,{ref:"mainWindow",player:this.props.player})),t.createElement("div",{id:"app-top-container"}),t.createElement("div",{id:"app-top-overlay"})),t.createElement(u,null),t.createElement("div",{id:"overlay-container-controls",className:"non-eventable cs-"+this.props.state.currentScheme()}),t.createElement("div",{id:"overlay-container",className:"non-eventable"}),t.createElement("div",{id:"overlay",style:{left:0,top:0,width:"100%",height:"100%",position:"absolute"},className:[["cs-",this.props.state.currentScheme()].join(""),"non-eventable",this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ")}),t.createElement("div",{id:"overlay-mobile",className:"fn-"+this.props.state.currentScheme()},t.createElement(r,{title:this.getPath("props.player.controlOptions.sidebarOptions.titleText")})),t.createElement("div",{id:"zoomimage-container"}),t.createElement("div",{id:"presentation-canvas"}),t.createElement("div",{id:"mask-library"}),t.createElement("div",{id:"collision-library"},t.createElement("canvas",null)),this.state.showLoader&&t.createElement(a,null))},CaptionBtnUnified:function(){var i=e("views/player/Icon"),n=e("polyfills/detection"),s="captions-enabled";return n.isMobile&&(s="button-tapped"),t.createElement("button",{className:["btn","cs-button","caption-btn","inflexible",this.state.enabled?s:""].join(" "),onClick:this.toggleCaption},t.createElement(i,{key:"Caption",type:"Caption"}),t.createElement("span",{className:"accessibility"},this.state.i18ncaption))},FullscreenBtnUnified:function(){var i=e("views/player/Icon"),n=e("polyfills/detection");return t.createElement("button",{className:"fullscreen-toggle-btn cs-button exit-btn btn-unstyled force-unstyled inflexible",onTouchEnd:this.props.handleFullScreen},t.createElement("span",{className:"enterFullScreen-360"},t.createElement(i,{type:"enterFullScreen"})),t.createElement("span",{className:"exitFullScreen-360"},!n.isPhone&&t.createElement("svg",{className:"cs-icon exit-icon",width:"25",height:"25",viewBox:"-289 381 32 32",style:{overflow:"visible"}},t.createElement("g",{transform:"translate(0, -3)"},t.createElement("path",{d:"M-265.5,391h8.5v-3h-7v-7h-3v10H-265.5z"}),t.createElement("path",{d:"M-280.5,403h-8.5v3h7v7h3v-10H-280.5z"}),t.createElement("path",{d:"M-267,404.5v8.5h3v-7h7v-3h-10V404.5z"}),t.createElement("path",{d:"M-279,389.5V381h-3v7h-7v3h10V389.5z"}))),n.isPhone&&t.createElement("svg",{className:"cs-icon",width:"36",height:"36",viewBox:"0 0 36 36"},t.createElement("polygon",{points:"36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18"}))))},GlossaryUnified:function(){var i=(e("views/player/GlossaryTerms"),e("views/player/GlossaryDefinition"),e("helpers/constants"));return t.createElement("div",{className:"panel-content glossary bleed cs-glossary",role:"complementary"},this.props.collection.map(function(e,n){return t.createElement("div",{className:"glossary-item",key:n},t.createElement("div",{className:"glossary-title cs-heading"},e.get("title")),t.createElement("div",{className:"glossary-content"},e.get("content").split(i.LINE_BREAK_REGEX).map(function(e,i){return t.createElement("p",{className:0===e.length?"empty-p":"",key:i},e)})))}.bind(this)))},LightBoxUnified:function(){var i=e("views/presentation/PresentationOverlay"),n=e("views/presentation/SlideContainer"),s=e("views/player/CaptionBtn"),r=e("views/player/SlideRelatedActions"),o=e("views/player/Icon");return t.createElement("div",{className:"mobile-lightbox"},t.createElement(i,{onClick:this.close}),t.createElement("div",{ref:"lightbox",className:["lightbox wn-"+this.props.model.id,this.props.hasControls||this.hasCaption()?"":"lightbox-no-controls"].join(" "),"data-window-id":this.props.model.id},t.createElement(n,{ref:"slideContainer",lightboxed:!0,lightbox:this,hasControls:this.props.hasControls,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id,getWrapperDimensions:this.getWrapperDimensions,onPinchZoom:this.positionControls.bind(this),onPinchPan:this.positionControls.bind(this)}),t.createElement("div",{ref:"optionPane",className:"option-pane"},t.createElement("div",{className:"slide-controls"},t.createElement("button",{ref:"close",className:["lightbox-close-btn btn-unstyled",this.state.showCloseBtn?"":" hidden"].join(""),onClick:this.close},t.createElement("span",{className:"btn-icon"},t.createElement(o,{type:"close"}))),this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(s,null)),this.props.hasControls&&t.createElement(r,{ref:"actions",slide:this.state.currentSlide,lightboxed:!0,isRtl:this.props.isRtl})))),t.createElement("button",{ref:"close",className:"lightbox-close-btn lightbox-close-btn-floating btn-unstyled",onClick:this.close},t.createElement(o,{type:"close"})))},MainWindowUnified:function(){var i=e("views/presentation/SlideContainer"),n=e("views/player/Bottombar"),s=e("views/presentation/SlideWindowBackground"),r=e("polyfills/detection"),o=this.getBackground();return t.createElement("div",{id:"main-window"},t.createElement("div",{className:"main-window-slide-container cs-slide-container"},null!=o&&t.createElement(s,{bg:o}),t.createElement(i,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame"})),r.isTouchableThemeAndPhone&&t.createElement("div",{className:"left-ui-bg"}),r.isTouchableThemeAndPhone&&t.createElement("div",{className:"right-ui-bg"}),this.state.currentSlide&&this.hasBottomBar()&&t.createElement(n,{ref:"bb",player:this.props.player,slide:this.state.currentSlide}))},MainWindowUnifiedMobile:function(){var i=e("views/presentation/SlideContainer"),n=e("views/player/Captions"),s=e("views/player/UiMobile");return t.createElement("div",{ref:"primary",id:"main-window",style:{background:"red"}},t.createElement(i,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame",hasUi:this.props.hasUi}),t.createElement(n,null),this.props.hasUi&&t.createElement(s,{model:this.props.player,currentSlide:this.state.currentSlide,timers:this.props.timers}))},MenuUnified:function(){var i=e("views/player/SearchOptions"),n=e("views/player/SearchResults"),s=e("views/player/SearchFooter"),r=e("polyfills/detection"),o=this.props.options.get("wrapListItems"),a=this.props.options.get("autonumber");return t.createElement("div",{className:"outline-panel cs-outline"},r.isMobile&&t.createElement("div",{className:"mobile-menu-title"},this.props.title),!r.isMobile&&this.props.hasSearch&&t.createElement(s,{ref:"searchFooter",addFocusObjects:this.props.addFocusObjects,showClearButton:this.state.isSearchActive,onSearch:this.onSearch,onClearSearch:this.onClearSearch}),t.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:0}},this.props.hasSearch&&t.createElement(i,{ref:"searchOptions",onResults:"updateLinks",visible:this.state.isSearchActive,visitedSlides:this.state.visitedSlides,searchData:this.props.model.get("search"),notesData:this.props.notesData,addFocusObjects:this.props.addFocusObjects,links:this.props.model.outline().links()}),t.createElement(n,{ref:"searchResults",hasSearch:this.props.hasSearch,wrap:o,autonumber:a,checkFlow:this.checkFlow,shouldKillLink:this.shouldKillLink,showChildren:!this.state.isSearchActive,showDisplayText:!this.state.isSearchActive,collapsible:this.props.options.get("autocollapse"),visitedSlides:this.state.visitedSlides,hasAnyLink:this.hasAnyLink,tips:this.props.options.get("tooltips"),links:this.state.links,onSelectMenuItem:this.props.onSelectMenuItem,indexGroupName:this.props.indexGroupName,addFocusObjects:this.props.addFocusObjects})))},MessageWindowUnified:function(){var i=e("views/presentation/SlideContainer"),n=(e("polyfills/detection"),e("helpers/utils")),s=this.getPath("props.model.width"),r=.8*s,o=(r-s)/2;return t.createElement("span",null,t.createElement("div",{className:"overlay overlay-message"}),t.createElement("div",{className:["message-window ",this.windowType(),"cs-window"].join(" "),style:{width:r,height:this.getPath("props.model.height")},"data-window-id":this.props.model.id},t.createElement("header",{className:"message-window-header"},t.createElement("h3",{className:"message-window-heading",dangerouslySetInnerHTML:{__html:this.getPath("state.currentSlide.title")||""}}),t.createElement("hr",{className:"cs-diva"}),t.createElement("hr",{className:"cs-divb"})),t.createElement("div",{className:"message-slide-container-wrapper",style:{position:"absolute",left:n.pxify(o)}},t.createElement(i,{ref:"slideContainer",shouldScale:this.isScaleable,windowType:this.windowType,currentSlide:this.state.currentSlide,isMessageWindow:!0,windowId:"MessageWnd"})),t.createElement("div",{className:"message-window-text-wrapper"},t.createElement("div",{className:"message-window-text"},this.state.messageWindowText))))},MobileStartOverlayUnified:function(){var i=(e("polyfills/detection"),e("views/player/Icon"));return t.createElement("div",{className:"mobile-start-overlay "+(this.state.visible?"shown":"hidden")},!this.state.isResumePrompt&&t.createElement("svg",{className:"play-icon",ref:"playIcon",onTouchStart:this.onStartClick,onMouseDown:this.onStartClick,viewBox:"-10 -10 80 80"},t.createElement("defs",null,t.createElement("filter",{id:"shadowy"},t.createElement("feDropShadow",{dx:"2",dy:"2",stdDeviation:"2",floodOpacity:"0.2"}))),t.createElement("rect",{x:"25",y:"15",width:"15",height:"15",fill:"#636363"}),t.createElement("path",{filter:"url(#shadowy)",transform:"scale(0.5) translate(30, 15) ",d:"M30,0C13.431,0,0,13.431,0,30s13.431,30,30,30s30-13.431,30-30S46.569,0,30,0z M22,43V17l20,13L22,43z"})),this.state.isResumePrompt&&t.createElement("div",null,t.createElement("svg",{className:"play-icon",style:{top:"59%"},onTouchStart:this.onStartClick,onMouseDown:this.onStartClick,viewBox:"-10 -10 80 80"},t.createElement("defs",null,t.createElement("filter",{id:"play-icon-shadow"},t.createElement("feDropShadow",{dx:"2",dy:"2",stdDeviation:"2",floodOpacity:"0.2"}))),t.createElement("rect",{fill:"white",x:"0",y:"0",width:"60",height:"20",rx:"10",ry:"15",filter:"url(#play-icon-shadow)"}),t.createElement("polygon",{transform:"translate(7, 6.2) scale(0.5, 0.5)",fill:"#636363",points:"0 15 11.25 7.5 0 0"})),t.createElement("div",{className:"mobile-start-resume-text"},"Resume"),t.createElement("div",{className:"restart",onTouchStart:this.resetPlayer,onMouseDown:this.resetPlayer},t.createElement(i,{type:"playbackReset"}),t.createElement("div",{className:"restart-text",style:{color:"white",display:"inline-block",paddingLeft:"1em",transform:"translateY(-3px)"}},"Restart"))),t.createElement("svg",{className:"mobile-start-title-icon",width:"24px",height:"16px",viewBox:"0 0 24 16",version:"1.1"},t.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},t.createElement("g",null,t.createElement("rect",{fill:"#D8D8D8",x:"0",y:"3",width:"21",height:"13",rx:"3"}),t.createElement("rect",{stroke:"#D8D8D8",x:"3.5",y:"0.5",width:"20",height:"12",rx:"3"}),t.createElement("rect",{fill:"#1F1F1F",x:"3",y:"6",width:"15",height:"1"}),t.createElement("rect",{fill:"#1F1F1F",x:"3",y:"9",width:"15",height:"1"}),t.createElement("rect",{fill:"#1F1F1F",x:"3",y:"12",width:"15",height:"1"})))),t.createElement("div",{className:"mobile-start-course-title"},this.props.title))},NotesUnified:function(){var i=e("views/player/NotesHeader"),n=e("views/player/NotesList"),s=this.getNotesHtml();return t.createElement("div",{className:"cs-transcript transcript"},t.createElement("header",{className:"panel-header panel-section-header"},t.createElement(i,{currentSlideTitle:this.state.currentSlideTitle,ref:"notesHeader"}),t.createElement("hr",{className:"cs-div panel-relative-hr"})),t.createElement("div",{ref:"panelContent",className:"panel-content cs-editor",role:"complementary"},t.createElement(n,{ref:"notesList",commandsetId:null,pathLib:null,notesHtml:s})))},PlayPauseButtonUnified:function(){var i=e("views/player/Icon"),n=e("helpers/svg/svgUtils"),s=e("polyfills/detection"),r=e("helpers/constants"),o=this.state.isPlaying?"pause":"play";return t.createElement("button",{className:"cs-button btn-unstyled force-unstyled inflexible "+(this.state.tabFocused?"focused":""),onClick:this.toggle,onTouchStart:this.onTouchStart,onMouseDown:this.previewMouseEvent(this.onTouchStart)},s.isTouchableThemeAndPhone&&"landscape"===this.state.orientation&&t.createElement("svg",{className:"circle-progress",width:"38",height:"38",viewBox:"0 0 38 38",style:{display:"block",opacity:this.state.isPlaying?1:0}},t.createElement("circle",{className:"circle-progress-well",cx:"17",cy:"17",r:"17",stroke:"none"}),t.createElement("path",{d:n.wheelPath(17,17,17,0,360*this.state.progress),transform:"rotate(-90 17 17)",fill:r.theme.brandingHighlight,stroke:"none"}),t.createElement("circle",{className:"circle-progress-bg",cx:"17",cy:"17",r:"14.5",stroke:"none"})),t.createElement(i,{key:o,type:o}),t.createElement("span",{className:"accessibility"},this.state.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))},PlaybackProgressUnified:function(){var i=e("helpers/utils"),n=e("polyfills/detection"),s=!this.props.readonly&&n.isDesktop,r=["progress-bar cs-seekbar",this.state.tabFocused?"focused":"",this.props.readonly?"read-only-mobile read-only-progress-bar":""].join(" ");return t.createElement("div",{className:r,onMouseDown:s&&this.onMouseDown,onMouseOver:s&&this.onStartProgressDetails,onMouseOut:s&&this.onStopProgressDetails},t.createElement("div",{className:"cs-seekbar-inner progress-bar-inner slide-lockable"},t.createElement("div",{className:"cs-seek progress-bar-seek"},n.isDesktop&&t.createElement("div",{className:"progress-bar-fill-preview cs-fill",style:{width:i.pxify(this.state.previewWidth)}}),t.createElement("div",{className:"cs-brandhighlight-bg progress-bar-fill",style:{width:i.decToPct(this.state.progress,!0)}}),n.isDesktop&&t.createElement("div",{className:"prev-progress-bar-fill-preview cs-fill",style:{right:i.decToPct(i.invertPercent(this.state.progress),!0),width:this.state.prevProgWidth}})),t.createElement("input",{type:"range",min:"0",max:"1",ref:"input",style:{pointerEvents:s?"all":"none"},onChange:this.onSeek,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,disabled:this.props.readonly,"aria-label":"Seekbar",
value:this.state.progress,step:"0.001"})))},RelativeNavControlsUnified:function(){var i=e("lodash"),n=e("views/player/Icon"),s=e("views/player/Timer"),r=e("views/player/SlideControlButton"),o=e("views/player/SubmitAllButton"),a=e("polyfills/detection"),l=this.getPath("props.timers"),u=i.pick(this.props,["slide","windowId"]);return t.createElement("span",{className:["relative-nav",this.state.shrinkButtons?"relative-nav-shrink":""].join(" ")},t.createElement("span",{"aria-label":this.state.i18nacc_skipnavigation,className:"skip-nav",ref:"skipNav",role:"button",tabIndex:"-1"}),this.state.showPrev&&t.createElement(r,t.__spread({kind:"previous",ref:"prev",windowId:this.props.windowId,onButtonDown:this.triggerNavEvent.bind(this,"prev")},u),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:this.props.isRtl?"next":"prev"})),t.createElement("span",{className:"text"},this.state.i18nprev)),this.state.showNext&&t.createElement(r,t.__spread({kind:"next",ref:"next",onButtonDown:this.triggerNavEvent.bind(this,"next")},u),t.createElement("span",{className:"text"},this.state.i18nnext),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:this.props.isRtl?"prev":"next"}))),t.createElement(r,t.__spread({kind:"submit",ref:"submit",onButtonDown:this.triggerSubmit},u),t.createElement("span",{className:"text next-btn-text"},this.state.i18nsubmit),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"}))),t.createElement(r,t.__spread({kind:"finish",ref:"finish",onButtonDown:this.triggerFinish},u),t.createElement("span",{className:"text"},this.state.i18nfinish),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"}))),(a.isMobile||this.state.stateable_submitall&&!this.props.handledSubmitAll)&&t.createElement(o,t.__spread({},u)),a.isMobile&&null!=l&&l.map(function(e,i){return t.createElement(s,{ref:"timer"+i,key:i,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.player.controlOptions.sidebarOptions")})}.bind(this)))},ResourcesListUnified:function(){return t.createElement("ul",{className:"resources-list unstyled"+(this.state.tabFocused?" focused":""),role:"list"},this.props.resources.map(function(e,i){var n=this.getExtSettings(e);return t.createElement("li",{className:"resource",key:i,role:"presentation"},t.createElement("a",{href:e.get("url"),className:"cs-listitem list-item resource-ext-"+n,target:"_blank",role:"link","aria-label":e.get("title"),onClick:this.onClickResource.bind(this,e)},t.createElement("div",{className:"file-icon"},"link"!==n&&t.createElement("svg",{width:"20px",height:"27px",viewBox:"0 0 40 50"},t.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},t.createElement("g",null,t.createElement("path",{className:"file-icon-bg",d:"M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"}),t.createElement("path",{className:"file-icon-fold",d:"M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"})))),"link"!==n&&t.createElement("div",{className:"file-icon-text"},n),"link"===n&&t.createElement("svg",{preserveAspectRatio:"none",x:"0px",y:"0px",width:"18px",height:"18px",viewBox:"0 0 18 18"},t.createElement("path",{fill:"#4FBDF4",stroke:"none",d:"M 1.45 8.5 Q 0.0453125 10.0015625 0 11.9 L 0 12.15 Q 0.0453125 14.0484375 1.45 15.55 L 1.5 15.6 Q 3.0015625 17.0046875 4.85 17.05 L 5.1 17.05 Q 7.0150390625 17.0046875 8.5 15.6 L 10.65 13.45 Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75 L 9.95 11.75 Q 9.55 11.75 9.2 12.05 L 7.1 14.15 Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95 L 5 7.8 Q 5.3 7.5 5.3 7.1 L 5.3 7.05 Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4 L 1.45 8.5 M 12.05 5 Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5 L 5 10.65 Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05 L 12.05 6.4 Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5 M 15.6 1.5 L 15.55 1.45 Q 14 0 12.05 0 L 12 0 Q 10.05 0 8.5 1.45 L 6.4 3.55 Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5 L 9.95 2.85 Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1 L 12.05 9.2 Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65 L 15.6 8.5 Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"}))),t.createElement("div",{className:"file-name"},e.get("title"))))}.bind(this)))},ResourcesUnified:function(){var i=(e("helpers/utils"),e("views/player/ResourcesHeader"),e("views/player/ResourcesList"));e("views/presentation/ScrollBar");return t.createElement("div",{className:"cs-resource resources"},t.createElement("div",{className:"panel-content",ref:"panelContent"},t.createElement(i,{resources:this.props.model.resources(),ref:"resourcesList"})))},SearchFooterUnified:function(){var i=e("views/player/Icon"),n=e("polyfills/detection");return t.createElement("div",{className:"panel-footer "+(this.state.stateable_search?"":"hidden")},t.createElement("hr",{className:"cs-diva diva"}),t.createElement("hr",{className:"cs-divb divb"}),t.createElement("form",{id:"outline-search",className:"grid-row search-input cs-outlinesearch cs-searchinput",role:"presentation",onSubmit:this.search},n.isMobile&&t.createElement("div",{className:"mobile-search-icon"},t.createElement(i,{key:"Search",type:"Search"})),t.createElement("input",{className:["search-input-element cs-input",this.state.inputFocus?"focused":""].join(" "),type:"search",onChange:this.handleChange,onKeyDown:this.onInputKeyDown,onBlur:this.onBlurSearch,placeholder:this.state.i18nsearch,value:this.state.searchInput,ref:"searchInput"})),t.createElement("div",{className:"search-clear "+(this.props.showClearButton?"":"hidden")},t.createElement("button",{onClick:this.clearSearch,className:"btn cs-button "+(this.state.clearFocus?"focused":""),ref:"searchClear"},t.createElement("span",{className:"search-clear-close"},"×"))))},SidebarUnified:function(){var i=e("views/player/TabPanel"),n=e("views/player/SidebarTab"),s=e("views/player/Presenter"),r=e("views/player/Icon"),o=e("polyfills/detection"),a=this.state.activeTab||this.hasLogo()?"":"hidden",l="area-secondary cs-left inflexible "+a,u=this.getPath("props.model.controlOptions.controls.search");return t.createElement("div",{className:"area-secondary-wrapper "+a},t.createElement("div",{className:l,style:{height:this.props.height}},t.createElement("div",{className:"sidebar-contents grid-col"+(this.hasPresenter()?" has-presenter":"")+(this.hasVideo()?" has-video":"")},!o.isPhone&&this.hasLogo()&&t.createElement("div",{className:"logo inflexible cs-logo",style:{backgroundImage:"url("+this.logoUrl()+")"}}),(this.hasPresenter()||this.hasVideo())&&t.createElement(s,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),t.createElement("div",{className:"tabs-wrap grid-col"},t.createElement("ul",{className:["tabs",this.state.tabs.length>2?"fill-width":""].join(" "),role:"presentation"},this.state.tabs.map(function(e,i){return t.createElement(n,{ref:"sidebarTab"+i,config:e,key:i,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this)),u&&t.createElement("li",{className:"tab cs-tabs search-tab",role:"button",tabIndex:"-1",onMouseDown:this.onDownSearchIcon,onClick:this.onClickSearchIcon},t.createElement(r,{key:"Search",type:"Search"}))),this.state.tabs.map(function(e,n){return t.createElement(i,{config:e,key:n,ref:"sidebarPanel"+n,panelClass:"panel",model:this.props.model,activeTab:this.state.activeTab})}.bind(this)),t.createElement("div",{ref:"tabSelectedSlider",className:"tab-selected-slider cs-brandhighlight-bg"})))))},TabPanelUnified:function(){var i=(e("views/player/Icon"),e("views/player/Menu")),n=e("views/player/Glossary"),s=e("views/player/Notes"),r=e("views/player/Resources"),o=e("views/player/MicroScrollBar"),a=e("helpers/utils"),l=e("polyfills/detection"),u=this.props,c=u.config,h=u.model,p=this.getPath("props.model.controlOptions"),d=40;return t.createElement("section",{"aria-labelledby":"tab-"+c.name,className:["cs-menu cs-panel is-scrollable",c.isLive?"":"hidden",u.activeTab===c?"cs-selected active":"hidden",u.panelClass,this.state.tabFocused?"focused":""].join(" "),style:{maxHeight:l.isPhone?window.innerHeight-d:""},role:"presentation",id:"panel-"+c.name},"outline"===c.name&&t.createElement(i,{ref:"menu",model:h.navData(),notesData:h.notesData(),addFocusObjects:this.addFocusObjects,options:a.getPath(p,"menuOptions"),hasSearch:a.getPath(p,"controls.search"),title:a.getPath(p,"sidebarOptions.titleText"),onSelectMenuItem:this.onSelectMenuItem}),"glossary"===c.name&&t.createElement(n,{ref:"glossary",collection:h.glossaryData(),addFocusObjects:this.addFocusObjects}),"resources"===c.name&&t.createElement(r,{ref:"resources",model:h.resourceData(),isLive:c.isLive,addFocusObjects:this.addFocusObjects}),"transcript"===c.name&&t.createElement(s,{ref:"notes",active:u.activeTab,collection:h.notesData(),addFocusObjects:this.addFocusObjects}),t.createElement(o,{ref:"microScrollBar",parent:this,targetClass:"panel-content",name:c.name}))},TimerUnified:function(){var i=e("helpers/svg/svgUtils"),n=e("polyfills/detection"),s=18,r={width:s,height:s};return t.createElement("div",{className:["timer",this.state.timerVisible?"shown":"hidden"].join(" ")},t.createElement("div",{className:"timer-text",ref:"timerText",tabIndex:"-1"},this.state.timeText),!n.isMobile&&t.createElement("div",{className:"timer-wheel",style:r},t.createElement("svg",{style:r,width:s,height:s,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},t.createElement("circle",{className:"cs-brandhighlight-fill",cx:"9",cy:"9",r:"8.5"}),t.createElement("path",{d:i.wheelPath(9,9,9,0,360*(1-this.state.timeScale)),className:"circle-progress-well",transform:"rotate(-90 9 9)",stroke:"none"}),t.createElement("circle",{className:"circle-progress-bg",cx:"9",cy:"9",r:"6"}))))},TopTabsItemUnified:function(){var i=e("views/player/TabPanel"),n="outline"===this.props.config.name||"glossary"===this.props.config.name||"resources"===this.props.config.name||"transcript"===this.props.config.name;return t.createElement("div",{className:["cs-topmenu-item","topmenu-item",this.props.isFirst?"first-tab-item":"",this.props.activeTab===this.props.config?"active":"",this.determineVisibilty()?"":"hidden"].join(" ")},t.createElement("button",{id:"tab-"+this.props.config.name,"aria-controls":"panel-"+this.props.config.name,"data-name":this.props.name,className:["topmenu-tab","tabs-trigger","cs-tab text-compact ",this.state.tabFocused?"focused":""].join(" "),onClick:this.onClick,role:"link"},this.getTitle()),n&&t.createElement(i,{ref:"tabPanel",config:this.props.config,model:this.props.model,activeTab:this.props.activeTab,panelClass:"topmenu-panel topmenu-panel-align-"+this.props.align,onSelectMenuItem:this.onSelectMenuItem}))},TopTabsUnified:function(){var i,n,s=(e("lodash"),e("views/player/TopTabsItem")),r=e("polyfills/detection"),o=this.state.tabSliceIdx;return r.isTouchableThemeAndPhone?(i=[],n=this.state.tabs,o=0):(i=this.state.tabs.slice(0,o),n=this.state.tabs.slice(o)),t.createElement("div",{className:"top-tabs-container top-tabs-"+this.props.align,style:{opacity:this.state.opacity}},i.map(function(e,i){var n=0===i;return t.createElement(s,{key:i,isFirst:n,ref:"topTabsItem"+i,config:e,name:e.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this)),n.length>0&&t.createElement("div",{className:["topmenu-item top-tabs-drop-icon",this.state.showMenu?"open":""].join(" "),onClick:this.toggleDropDown},t.createElement("div",null),t.createElement("div",null),t.createElement("div",null),t.createElement("button",{style:{pointerEvents:"none"},className:"topmenu-tab tabs-trigger cs-tab text-compact"}," ")),t.createElement("div",{className:["top-tabs-drop",this.state.showMenu?"visible":"invisible"].join(" "),style:{overflow:this.state.dropOverflow}},n.map(function(e,i){var n=0===i;return i+=o,t.createElement(s,{key:i,isFirst:n,ref:"topTabsItem"+i,config:e,name:e.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this))))},TopbarUnified:function(){var i=e("views/player/TopTabs"),n=e("views/player/Timer"),s=e("views/player/Icon"),r=e("views/player/ElapsedAndTotalTime");return t.createElement("header",{className:"header-primary"},t.createElement("div",{className:"top-ui-bg"}),t.createElement("h1",{className:"presentation-title cs-title"}," "),this.hasTitle()&&t.createElement("div",{className:"presentation-title-wrapper"},t.createElement("div",{className:"presentation-title cs-title"},t.createElement("span",{className:"title-text"},this.getPath("props.model.controlOptions.sidebarOptions.titleText")))),this.hasElapsedAndTotalTime()&&t.createElement(r,{presentation:this.props.presentation}),this.hasTimer()&&this.getPath("props.timers").map(function(e,i){return t.createElement(n,{ref:"timer"+i,key:i,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.model.controlOptions.sidebarOptions")})}.bind(this)),(this.hasLinkRight()||this.hasLinkLeft())&&t.createElement("div",{className:"top-tabs"},t.createElement(i,{ref:"topTabsRight",model:this.props.model,tabs:this.childTopTabs,align:"none",sidebarPos:this.props.sidebarPos})),t.createElement("div",{className:"menu-icon-wrapper "+(this.state.hamburgerOver?"menu-icon-wrapper-hover":""),onMouseOver:this.hamburgerOver,onMouseOut:this.hamburgerOut,onClick:this.toggleSlide},t.createElement(s,{key:"Menu",type:"Menu"})))},VolumeControlsUnified:function(){var i=e("views/player/Icon"),n=e("helpers/constants"),s=e("polyfills/detection"),r=this.adjustVolumeVal(this.state.volumeStrength),o=50;return t.createElement("div",{className:["controls-group control-bar inflexible",s.isDesktop?"":"hidden"].join(" ")},t.createElement("div",{ref:"btn",className:"btn cs-button volume "+(!this.state.isOpen&&this.state.tabFocused?"focused":""),onClick:this.onClick,onTouchEnd:this.onClick},t.createElement("button",{className:"btn-unstyled text-align-middle"},t.createElement(i,{type:"volume",ref:"volumeIcon",isOpen:this.state.isOpen,volumeStrength:10*this.state.volumeStrength}),t.createElement("span",{className:"accessibility"},this.state.i18nvolume)),t.createElement("div",{className:["btn cs-volume cs-button slider-bar",this.state.isOpen?"":"hidden",this.state.isOpen&&this.state.tabFocused?"focused":""].join(" "),id:"control-volume-slider"},t.createElement("input",{ref:"volumeRange",className:"cs-volume",style:{opacity:0},type:"range",min:"0",max:"1.0",value:this.state.volumeStrength,onChange:this.onInputChange,step:"0.1","aria-orientation":"vertical"}),t.createElement("div",{ref:"volumeTrack",className:"volume-track"}),t.createElement("div",{ref:"volumeProgress",className:"volume-progress",style:{height:r+"%",background:n.theme.brandingHighlight}}),t.createElement("div",{ref:"volumeDot",className:"volume-dot",style:{top:o-r+"%"}}))))},CaptionIconUnified:function(){return t.createElement("span",null,t.createElement("svg",{className:"cs-icon caption-icon-disabled",preserveAspectRatio:"none",width:"19px",height:"16px",viewBox:"0 0 19 16"},t.createElement("g",{transform:"translate(-7, 1)"},t.createElement("path",{fill:"#6C6C6C",stroke:"none",d:"M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z"}),t.createElement("path",{className:"icon-stroke-only",stroke:"#6C6C6C",strokeWidth:"1.5",strokeLinejoin:"round",strokeLinecap:"round",fill:"none",d:"M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z"}))),t.createElement("svg",{className:"cs-icon caption-icon-enabled",width:"19px",height:"16px",viewBox:"0 0 19 16"},t.createElement("g",{transform:"translate(-7, 1)"},t.createElement("path",{fill:"#FFFFFF",stroke:"none",d:"M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"}))))},CarrotIconUnified:function(){return t.createElement("svg",{className:"cs-icon cs-icon-carrot",width:"30",height:"30",viewBox:"0 0 30 30"},t.createElement("rect",{x:"-10",y:"0",width:"40",height:"30",fill:"red",fillOpacity:"0"}),t.createElement("g",{transform:"translate(8, 8)"},t.createElement("polygon",{points:"1,1.5 5,5 1,8.5"})))},CheckIconUnified:function(){return t.createElement("svg",{className:"cs-icon check-icon",width:"17px",height:"16px",viewBox:"0 0 17 16"},t.createElement("path",{stroke:"none",transform:"translate(0, 1)",d:"M 17 1.4 L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"}))},MenuIconUnified:function(){return t.createElement("svg",{className:"cs-icon",width:"30px",height:"12px",viewBox:"0 10 30 12"},t.createElement("path",{d:"M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z"}))},NextIconUnified:function(){return t.createElement("svg",{className:"cs-icon next-icon",width:"10px",height:"18px",viewBox:"0 -1 10 18"},t.createElement("path",{transform:"rotate(180, 5, 8)",d:"M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z",stroke:"none",fillRule:"evenodd"}))},NextIconUnifiedMobile:function(){var e='<use xlink:href="#icon-next-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>';return t.createElement("svg",{className:"cs-icon next-mobile-icon jext",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},PauseIconUnified:function(){var e=['<g id="icon-pause" transform="translate(-4, -1)">','<rect x="0" width="3" height="14"/>','<rect x="6" width="3" height="14"/>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIconUnified:function(){var e='<path transform="translate(-11 -7)" xmlns="http://www.w3.org/2000/svg" d="M12.8386976,21.960641 C12.3689494,22.2449942 11.9881431,22.0178666 11.9881431,21.475229 L11.9881431,9.72115178 C11.9881431,9.16871298 12.3661523,8.9496935 12.8420836,9.23778943 L22.495455,15.0812738 C22.9670733,15.366759 22.9694853,15.8281618 22.4919657,16.1172192 L18.2948794,18.6578454 L12.8386976,21.960641 Z"></path>';return t.createElement("svg",{className:"cs-icon play-icon",width:"30",height:"30",viewBox:"0 0 30 30",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIconUnifiedMobile:function(){var e='<use xlink:href="#icon-play" /><path fill="green" xmlns="http://www.w3.org/2000/svg" d="M12.8386976,21.960641 C12.3689494,22.2449942 11.9881431,22.0178666 11.9881431,21.475229 L11.9881431,9.72115178 C11.9881431,9.16871298 12.3661523,8.9496935 12.8420836,9.23778943 L22.495455,15.0812738 C22.9670733,15.366759 22.9694853,15.8281618 22.4919657,16.1172192 L18.2948794,18.6578454 L12.8386976,21.960641 Z"></path>';return t.createElement("svg",{className:"cs-icon play-icon",width:"30",height:"30",viewBox:"0 0 30 30",key:e,dangerouslySetInnerHTML:{__html:e}})},PlaybackResetIconUnified:function(){return t.createElement("svg",{className:"cs-icon",preserveAspectRatio:"none",x:"0px",y:"0px",width:"13px",height:"16px",viewBox:"0 0 13 16"},t.createElement("path",{fill:"#FFFFFF",stroke:"none",d:"M 10.95 8.75 Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75 L 6 6.9 Q 6.05 7.75 6.85 7.35 L 11.35 4.3 Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2 L 6.85 0.15 Q 6.05 -0.3 6 0.6 L 6 2.75 Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75 L 10.95 8.75 Z"}))},PrevIconUnified:function(){return t.createElement("svg",{className:"cs-icon prev-icon",width:"10px",height:"18px",viewBox:"0 -1 10 18"},t.createElement("path",{transform:"translate(0, 1)",d:"M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z",stroke:"none",fillRule:"evenodd"}))},PrevIconUnifiedMobile:function(){var e='<use xlink:href="#icon-prev-mobile" class="icon-mobile" transform="translate(0, 1)" /><path transform="rotate(180)" xmlns="http://www.w3.org/2000/svg" d="M259.816852,16.6026508 L266.005289,10.4142136 L264.591076,9 L257,16.5910759 L257.011575,16.6026508 L257,16.6142258 L264.591076,24.2053017 L266.005289,22.7910881 L259.816852,16.6026508 Z" fill="#6C6C6C"/>';return t.createElement("svg",{className:"cs-icon prev-mobile-icon bad",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},SearchIconUnified:function(){return t.createElement("svg",{className:"search-icon",width:"43px",height:"13px",viewBox:"0 0 10 10"},t.createElement("g",{transform:"translate(-12, 0) scale(1.3)",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},t.createElement("g",null,t.createElement("circle",{strokeWidth:"1",cx:"4",cy:"4",r:"3"}),t.createElement("path",{d:"M 6 6 L 10 10"}))))},VolumeIconUnified:function(){var e=Math.min(1,this.props.volumeStrength/5),i=Math.min(1,Math.max(0,this.props.volumeStrength/5-.5));return t.createElement("svg",{className:["cs-icon volume-icon",this.props.isOpen?"volume-icon-selected":""].join(" "),style:{overflow:"visible"},width:"16px",height:"14px",viewBox:"0 0 16 14",version:"1.1"},t.createElement("g",{transform:"translate(0, 1)"},t.createElement("rect",{x:"0",y:"4",width:"3",height:"6"}),t.createElement("polygon",{points:"4 4 9 0 9 14 4 10"}),t.createElement("g",{transform:"translate(10.000000, 0.000000)"},t.createElement("mask",{id:"vol-mask",fill:"white"},t.createElement("rect",{id:"path-1",x:"0",y:"0",width:"8",height:"14"})),t.createElement("circle",{strokeWidth:"1.5",style:{opacity:i},mask:"url(#vol-mask)",fill:"none",cx:"-1",cy:"7",r:"6.5"}),t.createElement("circle",{strokeWidth:"1.5",style:{opacity:e},mask:"url(#vol-mask)",fill:"none",cx:"-1",cy:"7",r:"3.5"}))))}}}),define("helpers/templateManager",["require","lodash","helpers/errorManager","views/mixins/baseView","templates/templates","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=e("views/mixins/baseView"),s=e("templates/templates"),r=e("polyfills/detection"),o=i.throwError("templateManager"),a=i.backtick,l=o("getTemplate"),u=a("templateName")+" argument empty",c="tried calling for an undefined template",h=function(e){var t=s[e+"Mobile"];return r.isMobile&&null!=t?t:s[e]},p={getTemplate:function(e){e||l(u);var i=h(e);return t.isUndefined(i)&&l(c,a(e)),i}};return n.setTemplateManager(p),p}),define("views/events/doubleclick",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/events/eventHelper"),n=0,s=600;i.registerEvent("doubleclick",function(e){return function(r,o){var a=function(e){var t;return n++,setTimeout(function(){n=0},s),n>=2&&(t=!0,n=0,e.currentTarget.wasDoubleClicked=!0),(i.doesEventTargetAcceptEvents(e)||r.overrideAcceptEvents)&&t},l=t.flow(e(r,"mouseup",a,o,!0),e(r,"touchend",a,o,!0));return r.setAttribute("data-double-click",!0),{teardown:l}}})}),define("views/events/press",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/events/eventHelper"),n=function(e){return i.isLeftMouseBtn(e)&&i.doesEventTargetAcceptEvents(e)};i.registerEvent("press",function(e){return function(s,r,o){var a=function(e){return i.doesEventTargetAcceptEvents(e)?(o.triggerEvent({type:"rollover",target:e.target}),!0):void 0},l=t.flow(e(s,"mousedown",n,r),e(s,"touchstart",a,r,!1));return{teardown:l}}})}),define("views/events/release",["require","lodash","helpers/utils","views/events/eventHelper","views/events/touchHelper","polyfills/vendorOverrides","polyfills/detection"],function(e){"use strict";var t,i,n=e("lodash"),s=e("helpers/utils"),r=e("views/events/eventHelper"),o=(e("views/events/touchHelper"),e("polyfills/vendorOverrides")),a=e("polyfills/detection"),l=function(e){var t=e.currentTarget.wasDoubleClicked;return e.currentTarget.wasDoubleClicked=null,!!t},u=function(e){return e.classList.contains("slide-object")},c=function(e){return r.isLeftMouseBtn(e)&&r.doesEventTargetAcceptEvents(e,u)},h=function(e){return!l(e)},p=function(e){if(e.touches.length>0)return i=!0,!1;var n=i,o=s.dist(t.x,t.y,e.changedTouches[0].clientX,e.changedTouches[0].clientY);return i=!1,!n&&20>o&&r.doesEventTargetAcceptEvents(e)&&!l(e)},d=function(e){t={x:e.touches[0].clientX,y:e.touches[0].clientY}};r.registerEvent("release",function(e){return function(t,i,s){if(null!=o.registerAudioInitEvent){var r=o.registerAudioInitEvent(e,t,i,s);if(null!=r)return r}var l=function(s){var r,o=function(e){return r(),h(e)};!c(s)||a.isMobile&&!a.isMobilePreview||(r=n.flow(e(t,"mouseup",o,i),e(t,"mouseleave",function(){r()},n.noop)))},u=e(t,"touchstart",d,n.noop,!0),f=n.flow(e(t,"mousedown",l,n.noop),e(t,"touchend",p,i,!0));return[{teardown:u},{teardown:f}]}})}),define("views/events/rightpress",["require","views/events/eventHelper"],function(e){"use strict";var t=e("views/events/eventHelper"),i=function(e){return t.isRightMouseBtn(e)&&t.doesEventTargetAcceptEvents(e)};t.registerEvent("rightpress",function(e){return function(t,n){var s=e(t,"mousedown",i,n);return{teardown:s}}})}),define("views/events/rightrelease",["require","views/events/eventHelper"],function(e){"use strict";var t=e("views/events/eventHelper"),i=function(e){return t.isRightMouseBtn(e)&&t.doesEventTargetAcceptEvents(e)};t.registerEvent("rightrelease",function(e){return function(t,n){var s=e(t,"mouseup",i,n);return{teardown:s}}})}),define("views/events/rollover",["require","lodash","helpers/utils","views/events/eventHelper","views/events/touchHelper","views/helpers/dom"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/utils"),s=e("views/events/eventHelper"),r=(e("views/events/touchHelper"),e("views/helpers/dom")),o=function(e){return n.getPath(e,"props.model.isGroupingSlideObject")};s.registerEvent("rollover",function(e){return function(n,a,l){var u=function(e){r.updateMousePosition(e);var i=!1,a=l.props.model;if(null!=t&&null!=e.topView&&l!==e.topView&&e.topView===t&&(i=!0,!a.isGroupingSlideObject||a.isGroupingContainer))return e.stopImmediatePropagation(),!1;e.topView||(e.topView=l);var u=function(){return!i&&t&&t!==l&&"rollout"!==t.latestEvent};if(u())if(t.isObscurable)null!=t.rollOverHandler&&t.rollOverHandler();else{if(o(t))return t=l,!1;t.triggerEvent({type:"rollout",target:e.target})}return t=e.topView,function(){var e,i=0,s=function(e){i++},a=function(u){var c;if(0===i&&!l.isObscurable){if(c=document.elementFromPoint(u.pageX,u.pageY),t.el===r.closest(c,r.isSlideObject))return;e=o(t)?l.el:u.target,l.triggerEvent({type:"rollout",target:e})}document.removeEventListener("mousemove",a),n.removeEventListener("mousemove",s)};n.addEventListener("mousemove",s),document.addEventListener("mousemove",a)}(),s.doesEventTargetAcceptEvents(e)},c=function(e){return s.doesEventTargetAcceptEvents(e)},h=i.flow(e(n,"mouseover",u,a),e(n,"touchstart",c,a,!0,!1));return{teardown:h}}})}),define("views/events/rollout",["require","lodash","views/events/eventHelper","views/helpers/transformHelper","views/helpers/collisionHelper","views/helpers/dom","helpers/utils","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("views/events/eventHelper"),n=e("views/helpers/transformHelper"),s=e("views/helpers/collisionHelper"),r=e("views/helpers/dom"),o=(e("helpers/utils"),e("polyfills/vendorOverrides")),a=o.mouseOver||function(){return"mouseenter"};i.registerEvent("rollout",function(e){return function(i,o,l){var u,c,h=(l.props.model,function(){o({type:"rollout",node:i,target:i}),clearInterval(c)}),p=function(e){if(!l.isMounted())return void clearInterval(c);var t,i=r.mouseX,o=r.mouseY,a=n.globalPtToSlideObject(l,i,o),u=!1;l.props.model.isZoomable()&&(u=r.hasClass(document.elementFromPoint(i,o),"zoom-image")),t=u||s.containsPoint(l,a.x,a.y),t||h()};return u=l.isObscurable?t.flow(e(i,a(),function(e){l.isObscurable&&(l.rollOverHandler=p,clearInterval(c),c=setInterval(p,16))},t.noop),e(i,"touchend",null,o,!0,!1)):t.flow(e(i,"mouseleave",function(e){return!0},o),e(i,"touchend",null,o,!0,!1)),{teardown:u}}})}),define("views/events/clickoutsideobjects",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t,i=e("lodash"),n=e("views/events/eventHelper"),s=function(e){var s=n.parentNodesOf(e.target);t=i.compact(i.invoke(s,"getAttribute","data-model-id"))},r=function(e){return{data:t||[]}};n.registerEvent("clickoutsideobjects",function(e){return function(t,n){var o=i.flow(e(t,"mousedown",s,i.noop,!0),e(t,"touchstart",s,i.noop,!0)),a=i.flow(e(t,"mouseup",r,n,!0),e(t,"touchend",r,n,!0));
return[{teardown:o},{teardown:a}]}})}),define("views/events/clickoutside",["require","lodash","helpers/utils","views/events/eventHelper","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("views/events/eventHelper"),s=e("helpers/windowManager"),r=function(e,t,n){var r=i.getPath(s.getCurrentWindow(),"refs.slideContainer.el"),o=!e.contains(n.target)&&(!t||null!=r&&r.contains(n.target));return o?{node:e,target:n.target}:!1};n.registerEvent("clickoutside",function(e){return function(n,s,o){var a=i.getPath(o,"props.model.isSlideObject",!1),l=t.flow(e(document.body,"click",t.partial(r,n,a),s),e(document.body,"touchstart",t.partial(r,n,a),s,!1,!1));return{teardown:l}}})}),define("views/events/releaseoutside",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/events/eventHelper");i.registerEvent("releaseoutside",function(e){return function(i,n){var s,r,o=function(e,t){var i=document.elementFromPoint(t.pageX,t.pageY);return s&&s(),e.contains(i)?!1:{node:e}},a=function(e,i){return o(e,t.first(i.changedTouches))},l=function(){s=t.flow(e(document,"mouseup",t.partial(o,i),n),e(document,"touchend",t.partial(a,i),n,!0,!1))};return r=t.flow(e(i,"mousedown",l),e(i,"touchstart",l)),{teardown:function(){s&&s(),r()}}}})}),define("views/events/allEvents",["require","views/events/doubleclick","views/events/press","views/events/release","views/events/rightpress","views/events/rightrelease","views/events/rollover","views/events/rollout","views/events/clickoutsideobjects","views/events/clickoutside","views/events/releaseoutside"],function(e){"use strict";e("views/events/doubleclick"),e("views/events/press"),e("views/events/release"),e("views/events/rightpress"),e("views/events/rightrelease"),e("views/events/rollover"),e("views/events/rollout"),e("views/events/clickoutsideobjects"),e("views/events/clickoutside"),e("views/events/releaseoutside")}),define("models/presentation/SlideRef",["require","lodash","models/BaseModel","helpers/assetManager","helpers/resolver","helpers/events","helpers/utils","helpers/vow","polyfills/detection","external/superagent"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/assetManager"),s=e("helpers/resolver"),r=e("helpers/events"),o=e("helpers/utils"),a=e("helpers/vow"),l=e("polyfills/detection"),u=e("external/superagent"),c=function(e){return s.resolvePath(e,s.getPresentationContext())},h={slide:"getSlideLinkSlide",slidedraw:"getDrawLinkSlide",action:"getActionLinkSlide"},p=i.extend({shorthand:["assetIds"],subscriptions:function(){var e={};return e[r.data.INITIALIZED]="onDataInitialized",e}(),initialize:function(){this.slideDataLoaded=!1},loadSlideData:function(){var e=a.Deferred();return this.slideDataLoaded||l.isFileProtocol()?e.resolve():u.get(this.getSlide().url()).accept("text").end(function(t){t?e.reject(t):(this.setSlideDataLoaded(),e.resolve())}.bind(this)),e.promise()},setSlideDataLoaded:function(){this.slideDataLoaded=!0},onDataInitialized:function(){"slidedraw"===this.get("type")&&(this.draw=c(this.get("id")),this.listenTo(this.draw,r.draw.RESET_COMPLETE,this.buildDrawRefs.bind(this)))},loadAssets:function(e){return n.loadAssets(this.assetIds().slice(),e)},offloadAssets:function(){n.offloadAssets(this.assetIds().slice())},getSlide:function(){return c(null!=this.draw?this.draw.getFirstSlide():this.get("id"))},buildDrawRefs:function(){var e,t=this.draw.startingSlide();for(this.clearLastDrawRefs();null!=t;)e=c(t),this.addDrawSlideToCollection(e),t=this.draw.getNextSlideId(e)},clearLastDrawRefs:function(){null!=this.drawRefs&&this.drawRefs.forEach(function(e){this.collection.remove(e)}.bind(this)),this.drawRefs=[]},addDrawSlideToCollection:function(e){var i,n=this.collection.get(e.id);null!=n&&(i=new p(t.assign({},n.attributes,{id:o.stripPlayer(e.absoluteId),drawOwner:this.draw})),this.collection.add(i),this.drawRefs.push(i))},getReachableSlides:function(){return t.filter((this.get("linksTo")||[]).map(function(e){return this[h[e.type]](e)}.bind(this)),function(e){return null!=e&&!e.isMessageSlide()})},getSlideLinkSlide:function(e){for(var t=c(e.id);null!=t&&!t.isSlide;)if(t.isScene)t=c(t.startingSlide());else{if(!t.isSlideDraw)return null;t=t.getFirstSlide()}return t},getDrawLinkSlide:function(e){return o.getPath(c(e.id),"getFirstSlide")},getActionLinkSlide:function(e){var i,n=this.get("drawOwner");return"playnextdrawslide"===e.id&&null!=n?(i=n.getNextSlideId(this.getSlide()),t.isEmpty(i)?null:c(i)):null}});return p}),define("collections/presentation/SlideRefs",["require","collections/BaseCollection","models/presentation/SlideRef"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/SlideRef"),n=t.extend({model:i});return n}),define("models/presentation/SlideMap",["require","lodash","models/BaseModel","collections/presentation/SlideRefs","polyfills/detection","helpers/events","helpers/utils","helpers/resolver","helpers/errorManager","helpers/pubSub","helpers/playerGlobals"],function(e){"use strict";var t,i=e("lodash"),n=e("models/BaseModel"),s=e("collections/presentation/SlideRefs"),r=e("polyfills/detection"),o=e("helpers/events"),a=e("helpers/utils"),l=e("helpers/resolver"),u=(e("helpers/errorManager"),e("helpers/pubSub")),c=e("helpers/playerGlobals"),h=function(e){return l.resolvePath(e,c.presentation)},p=n.extend({shorthand:["queueSize"],associations:{slideRefs:s},subscriptions:function(){var e={};return e[o.loader.SILENCE]="onSilenceLoader",e[o.slide.READY]="onSlideLoaded",e}(),initialize:function(){this.loaders=[],this.silenceLoader=!1,this.slideLoaded=!1,this.once("change:queueSize",this.onQueueSizeUpdate.bind(this))},onQueueSizeUpdate:function(){t=r.isMemoryDeficientDevice?0:this.queueSize()},onSilenceLoader:function(){this.silenceLoader=!0},showLoader:function(){this.slideLoaded||this.silenceLoader||u.trigger(o.loader.SHOW),this.silenceLoader=!1},getStrippedId:function(e){var t=h(e);return a.stripPlayer(t.isScene?t.slides().first().absoluteId:e)},setCurrentSlide:function(e){this.currentSlideId=this.getStrippedId(e),this.slideLoaded=!1,this.loadQueue=[];var t=this.getReachables(this.currentSlideId);this.stopCurrentLoaders(t),this.offloadUnreachableAssets(t),this.currentReachables=t,this.showLoader()},stopCurrentLoaders:function(e){this.loaders.length>0&&this.loaders.forEach(function(t){null!=t&&null==i.find(e,{id:t.refId})&&t.dfds.forEach(function(e){e.reject()})}.bind(this)),this.loaders=[]},offloadUnreachableAssets:function(e){null!=this.currentReachables&&i.difference(this.currentReachables,e).forEach(function(e){e.offloadAssets()})},onSlideLoaded:function(){i.first(this.currentReachables).setSlideDataLoaded(),this.loadQueue=i.rest(this.currentReachables),this.slideLoaded=!0,this.loadIdx=0,this.preloadNextSlideData()},preloadNextSlideData:function(){this.slideLoaded&&(this.loadIdx<this.loadQueue.length?this.loadQueue[this.loadIdx].loadSlideData().always(function(){this.loadIdx++,this.preloadNextSlideData()}.bind(this)):this.preloadNextSlide())},preloadNextSlide:function(){if(this.slideLoaded&&0!==this.loadQueue.length){var e=this.loadQueue.shift(),t=e.loadAssets();t.refId=e.id,this.loaders.push(t),t.done(this.preloadNextSlide.bind(this))}},getReachables:function(e){var n,s=0,r=[];if(n=this.getRefById(e),null!=n)for(r.push(n);s<r.length&&r.length<=t;)r.push.apply(r,r[s].getReachableSlides().map(function(e){return this.getRefById(e.absoluteId)}.bind(this))),r=i.uniq(r),s++;return i.take(r,t+1)},getRefById:function(e){return this.slideRefs().findWhere({id:a.stripPlayer(e)})}});return p}),define("models/presentation/Window",["require","models/BaseModel"],function(e){"use strict";var t=e("models/BaseModel"),i=t.extend({});return i}),define("collections/presentation/Windows",["require","collections/BaseCollection","models/presentation/Window"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Window"),n=t.extend({model:i});return n}),define("models/presentation/Display",["require","models/BaseModel","collections/presentation/Windows"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/presentation/Windows"),n=t.extend({associations:{windows:i},shorthand:["width","height"]});return n}),define("models/presentation/Scoring",["require","lodash","helpers/pubSub","helpers/events","models/BaseModel","models/presentation/mixins/propertizable","helpers/constants","helpers/resolver","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/pubSub"),n=e("helpers/events"),s=e("models/BaseModel"),r=e("models/presentation/mixins/propertizable"),o=e("helpers/constants"),a=e("helpers/resolver"),l=e("helpers/utils"),u=s.extend({mixins:[r],playerPropNames:{Score:0,PercentScore:0,Status:o.statuses.INCOMPLETE,Completed:!1},shorthand:["type","scoreRefs"],subscriptions:function(){var e={};return e[n.slide.VIEWED]="incrementViewed",e[n.player.RESET]="reset",e}(),initialize:function(){this.viewedSlideGroups={},this.viewedSlides=0,i.once(n.data.INITIALIZED,this.setupRefs.bind(this))},setupRefs:function(){this.scoreRef=null!=this.scoreRefs()&&this.scoreRefs().length>0&&this.scoreRefs()[0],this.linkRef()},hasScoreRef:function(){return!!this.scoreRef},linkRef:function(){this.hasScoreRef()&&(this.quiz=this.getQuiz(this.scoreRef.ref),this.quiz.setScoring(this))},incrementViewed:function(e){this.viewedSlideGroups[e.getViewGroupId()]||(this.viewedSlideGroups[e.getViewGroupId()]=!0,this.viewedSlides++,this.isPastViewThreshold()&&this.isView()&&(i.trigger(n.course.VIEWED,this),this.updateStatus(!1)))},getQuiz:function(e){return a.resolvePath(l.prefixWithPlayer(e),this)},isCourseComplete:function(){return this.isView()||!(!this.quiz||!this.quiz.getIsComplete())},isPastViewThreshold:function(){return this.viewedSlides>=this.get("viewThreshold")},weightScore:function(e){return l.fix(e/this.get("weight"),2)},getStatus:function(){var e,t,i=o.statuses.INCOMPLETE;return this.isCourseComplete()&&(this.isView()?i=this.get("passStatus"):this.isType("survey")?i=this.get("passStatus"):this.isType("quiz")&&(e=this.quiz.prop("PercentScore")>=this.quiz.passPercent(),i=this.get(e?"passStatus":"failStatus"),!this.scoreRef.mustpass&&e||(t=this.quiz.isPassed()?"passStatus":"failStatus",i=this.get(t)))),i},updateStatus:function(e){var t=!e,s=this.getStatus();this.prop("Status",s),t&&i.trigger(n.status.UPDATED)},updateScore:function(e){var t=0,i=0;return this.quiz!==e?void this.quiz.updateScore():(this.quiz.maxPoints>0&&(t=this.quiz.prop("Score"),i=this.quiz.prop("PercentScore")),this.prop({Score:t,PercentScore:i}),void this.updateStatus())},setComplete:function(e){this.hasScoreRef()&&this.prop({Completed:this.quiz.getIsComplete()})},reset:function(){null!=this.quiz&&this.prop({Status:this.getStatus(),Score:this.quiz.prop("Score"),Completed:this.quiz.prop("Completed")})},checkCourseComplete:function(){var e=this.prop("Completed");this.updateStatus(),this.isCourseComplete()&&(this.setComplete(),e||this.isView()||i.trigger(n.course.COMPLETED,this,e))},isPassed:function(){return this.prop("Status")===this.get("passStatus")},getPercentScore:function(){return l.pctToDec(this.quiz.prop("PercentScore"))},markAttemptsSent:function(){this.quiz&&this.quiz.markAttemptsSent()},getViewedStatus:function(){return this.get(this.isPastViewThreshold()?"passStatus":"failStatus")}});return t.extend(u.prototype,{isView:t.partial(u.prototype.isType,"view"),isAction:t.partial(u.prototype.isType,"action"),isSurvey:t.partial(u.prototype.isType,"survey")}),u}),define("models/presentation/mixins/slideObjectContainer",["require","lodash","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils"),{init:function(){this.detachedChildren={}},reparentChild:function(e,t){if(t===this)return void this.reattachChild(e);var i=e.currView,n=t.currView;this.detachedChildren[e.absoluteId]={child:e,newParent:t},null!=i&&null!=n&&n.attachView(i)},reattachChild:function(e){var t=e.absoluteId,i=this.detachedChildren[t];delete this.detachedChildren[t],null!=i&&this.currView.attachView(e.currView)},getChildParent:function(e){var t=this.detachedChildren[e.absoluteId];return null!=t?t.newParent:this}});return t}),define("models/presentation/mixins/resumables/slideResumable",["require","models/presentation/helpers/utils","helpers/events","helpers/resume/Chunk","helpers/resume/courseStateHelper","models/presentation/helpers/collisionMap"],function(e){"use strict";var t=e("models/presentation/helpers/utils"),i=e("helpers/events"),n=e("helpers/resume/Chunk"),s=e("helpers/resume/courseStateHelper"),r=e("models/presentation/helpers/collisionMap"),o=function(e){return n.create(n.toUnsignedString64(e))},a={getResumeData:function(){return this.encodedResumeData||""},buildResumeData:function(e){var t="";if(this.viewed)if(e||this.resume()){var i=this.getBaseLayer();t=[this.getInteractionResumeData(),i.timeline().getResumeData(),i.getObjectsResumeData(e),this.getSlideLayerResumeData(e),this.slideLayers().getActiveLayersResumeData(),i.audiolib().getResumeData(e),this.variables().getResumeDataOrReturn("")].map(n.create).join("")}else this.hasInteractions()&&(t=n.create(this.getInteractionResumeData()));this.setResumeData(t,!1)},getSlideLayerResumeData:function(e){return this.slideLayers().getNonBaseLayers().filter(t.getResumeableFilter(e)).reduce(function(e,t){var i=t.getResumeDataOrReturn("");return e+n.create(i)},"")},getInteractionResumeData:function(){var e="";return this.hasInteractions()&&(e=this.interactions().map(function(e){return e.getResumeData()}).map(n.create).join("")),e},updateInteractionData:function(){var e;return this.hasInteractions()&&(e=new n({fullString:this.getResumeData()}).remainder(),this.encodedResumeData=n.create(this.getInteractionResumeData())+e),this},clearResumeData:function(){this.encodedResumeData="",this.hasResumeData=!1,this.slideLayers().forEach(function(e){e.clearResumeData()}),this.slideLayers().initialize()},resetResume:function(){this.encodedResumeData="",this.setResumeData(""),this.interactionData=""},resetBeforeView:function(){return this.viewed&&(r.clearHitStates(this.id),this.resetPropsExcept(["WindowId"]),this.variables().resetValues(),this.slideLayers().hideAllHideableLayers(),this.slideLayers().resetActiveLayers(),this.slideLayers().getBaseLayer().resetResume(),this.slideLayers().resetActiveLayers().forEach(function(e){e.resetResume()})),this.resume()||this.interactions().forEach(function(e){e.resetResume()}),this.resetCurrentTimeline(),this},setResumeData:function(e,t,i){return this.encodedResumeData=e,e.length>0?(this.interactionData=new n({fullString:e}),this.setInteractionResumeData(this.interactionData.encodedString()),(i||this.resume())&&(t!==!1&&this.setAsViewed(),this.hasResumeData=!0,this.timelineData=this.interactionData.reChunk(),this.objectData=this.timelineData.reChunk(),this.layerData=this.objectData.reChunk(),this.activeLayerData=this.layerData.reChunk(),this.audioData=this.activeLayerData.reChunk(),this.variableData=this.audioData.reChunk())):this.hasResumeData=!1,this},applyResumeData:function(){var e=!1,t=this.getBaseLayer(),n=s.getSlideStateData(this.absoluteId);return null!=n&&(e=!0,s.clearSlideStateData(this.absoluteId),this.setResumeData(n,!1,!0)),(e||this.resume())&&this.hasResumeData&&(this.hasResumeData=!1,t.timeline().setResumeData(this.timelineData.encodedString()),t.setObjectsResumeData(this.objectData.encodedString(),e),this.setSlideLayerResumeData(this.layerData,e),this.variables().setResumeData(this.variableData.encodedString()),this.slideLayers().restoreActiveLayers(this.activeLayerData.encodedString()),this.trigger(i.resume.APPLIED)),this.trigger(i.resume.COMPLETE),this},setInteractionResumeData:function(e){var t=new n({fullString:e});this.hasInteractions()&&this.interactions().forEach(function(e){e.resetResponses(),e.setResumeData(t.encodedString()),t=t.reChunk()})},setSlideLayerResumeData:function(e,i){var s=new n({fullString:e.encodedString()});this.slideLayers().getNonBaseLayers().filter(t.getResumeableFilter(i)).forEach(function(e){e.setResumeData(s.encodedString(),i),s=s.reChunk()})},onBeforeResumeBuilt:function(e){this.slideLayers().invoke("prepareResumeData",e)},onAfterResumeBuilt:function(e){this.getSceneOrDraw().saveSlideData(this),e||this.getBaseLayer().timeline().silentReset()},getWindowResumeRef:function(){var e,t,i=this.getSlideDraw();return i?(e="1",t=[this.index(),i.getScene().index(),i.index()]):(e="0",t=[this.index(),this.getScene().index()]),e+t.map(o).join("")}};return a}),define("models/presentation/mixins/resumables/slideLayerResumable",["require","lodash","models/presentation/helpers/utils","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/helpers/utils"),n=e("helpers/resume/Chunk"),s=function(e){return!!e.isSlide},r={init:function(){this.getResumeDataOrReturn=t.partial(i.meetConditionOrReturn,this,this.isViewed)},getResumeData:function(){return this.encodedResumeData},buildResumeData:function(e){(e&&this.isOpen||this.resume())&&(this.encodedResumeData=this.shownInCurrentView?[this.timeline().getResumeData(),this.getObjectsResumeData(e),this.audiolib().getResumeData(e),this.variables().getResumeDataOrReturn("")].map(n.create).join(""):this.viewed?this.cachedResumeData:"")},getObjectsResumeData:function(e){return this.objectIndex.filter(i.getResumeableFilter(e)).reduce(function(t,i){return t+n.create(i.getResumeData(e))},"")},clearResumeData:function(){this.cachedResumeData="",this.isViewed=!1,this.baseLayerPauses=[]},resetResume:function(){this.encodedResumeData="",this.resetBeforeView()},resetBeforeView:function(){return this.timeline().resetResume(),this.variables().resetValues(),this.resetProps(),this.audiolib().resetBeforeView(),this.baseLayerPauses=[],t.invoke(this.objDecendants,"resetResume"),this},setResumeData:function(e,t){if(this.cachedResumeData=e,(t||this.shouldResume())&&e){this.wasForcedResumed=t;var i=new n({fullString:e}),s=i.reChunk(),r=s.reChunk(),o=r.reChunk();this.setAsViewed(),this.timeline().setResumeData(i.encodedString()),this.setObjectsResumeData(s.encodedString(),t),this.audiolib().setResumeData(r.encodedString(),t),this.variables().setResumeData(o.encodedString())}},applyResumeData:function(){return this.setResumeData(this.encodedResumeData),this},setObjectsResumeData:function(e,t){var s=new n({fullString:e});this.objectIndex.filter(i.getResumeableFilter(t)).forEach(function(e){e.setResumeData(s.encodedString()),s=s.reChunk()})},onBeforeResumeBuilt:function(e){this.objects().invoke("prepareResumeData",e)},shouldResume:function(){return this.resume()&&this.getClosestAncestor(s).resume()}};return r}),define("models/presentation/Audio",["require","models/BaseModel","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/eventable","helpers/assetManager"],function(e){"use strict";var t=e("models/BaseModel"),i=e("mixins/actionable"),n=e("models/presentation/mixins/propertizable"),s=e("models/presentation/mixins/eventable"),r=e("helpers/assetManager"),o=t.extend({shorthand:["assetId","events"],mixins:[i,s,n],abilities:{resolveAsThis:!0,resolveAsParent:!1,beEventTarget:!0},playerPropNames:{isTimelineControlled:!1,isPlaying:!1,resumeOnTimelinePlay:!1},getSlide:function(){return this.getClosestAncestorByKind("slide")},getAsset:function(){return r.getAsset(this.assetId())},getUrl:function(){return this.getAsset().url()},getDuration:function(){return this.getAsset().get("duration")},getResumeData:function(e){var t="",i=0;return(e||this.getSlide().resume())&&(i+=this.prop("isTimelineControlled")?1:0,i+=this.prop("isPlaying")?2:0,i+=this.prop("resumeOnTimelinePlay")?4:0,t=i.toString()),t},setResumeData:function(e,t){(t||this.getSlide().resume())&&(e=parseInt(e,10),this.prop({isTimelineControlled:!!(1&e),isPlaying:!!(2&e),resumeOnTimelinePlay:!!(4&e)}))},resetBeforeView:function(){this.resetProps()}});return o}),define("collections/presentation/AudioLib",["require","lodash","collections/BaseCollection","helpers/resume/Chunk","models/presentation/Audio"],function(e){"use strict";var t=(e("lodash"),e("collections/BaseCollection")),i=e("helpers/resume/Chunk"),n=e("models/presentation/Audio"),s=t.extend({model:n,getResumeData:function(e){return this.invoke("getResumeData",e).map(i.create).join("")},setResumeData:function(e,t){var n=new i({fullString:e});this.forEach(function(e){e.setResumeData(n.encodedString(),t),n=n.reChunk()})},resetBeforeView:function(){this.invoke("resetBeforeView")}});return s}),define("models/presentation/GroupingSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/SlideObject"),n=e("helpers/utils"),s=n.createSuper(i),r=s("resolveables").concat(["objects"]),o=t.defaults({groupObjects:!0},s("abilities")),a=i.extend({resolveables:r,abilities:o,isGroupingSlideObject:!0,resolvers:{objects:function(e,t){return t.findNestedObject(e)}},getCorrectBounds:function(e,i){var n=e.getBounds(),s=e.prop("RawXPos"),r=e.prop("RawYPos");return t.extend({left:s,right:s+n.width,top:r,bottom:r+n.height,idx:i},t.pick(n,"height","width"))},killEverything:function(){s("killEverything"),this.objects().invoke("killEverything")}});return a}),define("models/presentation/StateGroupSlideObject",["require","lodash","helpers/resolver","models/presentation/SlideObject","models/presentation/GroupingSlideObject","helpers/utils","helpers/actionManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resolver"),n=e("models/presentation/SlideObject"),s=e("models/presentation/GroupingSlideObject"),r=e("helpers/utils"),o=e("helpers/actionManager"),a=(r.createSuper(n),s.extend({shorthand:["actionstates"],isStateGroupSlideObject:!0,setState:function(e,n){var s=t.findWhere(this.actionstates(),{name:i.getRef(e.stateRef,n.context,n)});return s&&(this.prop("ObjectState",s.name),t.isEmpty(s.actions)||o.executeActions(s.actions,t.extend(n,{context:this}))),this},getIsSlideableParent:function(){return this.objects().some(function(e){return!!e.dragpath()})},getStateFromIndex:function(e){return this.actionstates()[e].name},getCurrentStateIndex:function(){return this.actionstates().indexOf(this.getStateFromVar())},getIsExpandingLabel:function(){return this.isExpandingLabel=this.isExpandingLabel||!!this.objects().findWhere({kind:"expandinglabel"}),this.isExpandingLabel},getStateFromVar:function(){var e=this.get("actionstates");return e&&t.findWhere(e,{name:this.prop("ObjectState")})},getStateFromName:function(e){var i=this.get("actionstates");return i&&t.findWhere(i,{name:e})},getClickDef:function(){var e=this.getStateFromVar();return e&&e.clickdef}}));return a}),define("models/presentation/ShuffledGroupingSlideObject",["require","lodash","models/presentation/SlideObject","models/presentation/GroupingSlideObject","helpers/events","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/SlideObject"),n=e("models/presentation/GroupingSlideObject"),s=e("helpers/events"),r=e("helpers/utils"),o=r.createSuper(i),a=function(e){return r.isTrue(e.get("shuffleLock"))},l=function(e,t){e.prop("ShuffleXPos",t),e.prop("RawXPos",t)},u=function(e,t){e.prop("ShuffleYPos",t),e.prop("RawYPos",t)},c=function(e,i,n){return t.sortBy(n,e).every(function(t,n,s){var r=s[n-1];return r?t[e]>=r[e]+.75*r[i]:!0})},h=t.partial(c,"top","height"),p=t.partial(c,"left","width"),d=function(e,i,n,s,r){var o=e[s],a=this.getCorrectBounds(o),l=e[s-1],u=l&&this.getCorrectBounds(l),c=t.partial(i.updateDefaultCoord,o),h=t.partial(i.updateAltCoord,o);if(0===s)c(n[i.origin]),h(r.length>1&&"endpoint"===r[1].altAlign?n[i.altEndpoint]-a[i.dimension]:n[i.altOrigin]);else switch(c(u[i.endpoint]+n.defaultSpacing),n.altAlign){case"origin":h(u[i.altOrigin]);break;case"endpoint":h(u[i.altEndpoint]-a[i.dimension]);break;case"oOffset":h(u[i.altOrigin]+n.altSpacing);break;case"eOffset":h(u[i.altEndpoint]+n.altSpacing)}},f=function(e,t,i){var n=e[i];l(n,t.left),u(n,t.top)},m=t.defaults({resolveAsParent:!1,groupObjects:!0},o("abilities")),g=n.extend({abilities:m,initialize:function(){o("initialize").apply(this,arguments),this.shouldShuffle=!0,this.listenTo(this.getSlide(),s.resume.APPLIED,this.markAsResumed),this.listenTo(this.getSlide(),s.resume.COMPLETE,this.resumeComplete),this.get("shuffle")&&this.setShuffleBounds().determineSpacing().sortBoundsFromSpacing().shuffleAndLayout()},markAsReset:function(){this.shouldShuffle=!0},markAsResumed:function(){this.shouldShuffle=!1},resumeComplete:function(){this.shouldShuffle&&this.shuffleAndLayout()},shuffleAndLayout:function(){return this.get("shuffle")&&this.shuffleObjects().setSpacing().setShuffledPositions().setTabIndices(),this},setShuffleBounds:function(){return this.originalBounds=this.objects().map(this.getCorrectBounds),this},getShuffledArray:function(){return this.shuffledObjectIndices.map(function(e){return this.objects().at(e)}.bind(this))},shuffleObjects:function(){var e=t.shuffle(this.objects().slice());return this.repositionLockedItems(e),this.shuffledObjectIndices=e.map(function(e){return this.objects().indexOf(e)}.bind(this)),this},repositionLockedItems:function(e){this.objects().forEach(function(i,n){if(a(i)){var s=t.findIndex(this.originalBounds,{idx:n}),r=e[s],o=e.indexOf(i);e[s]=e[o],e[o]=r}}.bind(this))},determineSpacing:function(){return h(this.originalBounds)?this.spacing="vertical":p(this.originalBounds)?this.spacing="horizontal":this.spacing="none",this},sortBoundsFromSpacing:function(){var e="vertical"===this.spacing?"top":"left";return this.originalBounds=t.sortBy(this.originalBounds,e),this},setSpacing:function(){if("none"===this.spacing)return this.positionCallback=t.partial(f,this.getShuffledArray()),this;var e=this.originalBounds,i="vertical"===this.spacing,n=i?u:l,s=i?l:u,r=i?"top":"left",o=i?"left":"top",a=i?"bottom":"right",c=i?"right":"bottom",h=i?"height":"width";e.forEach(function(t,i){var n=e[i-1];n&&(t.defaultSpacing=t[r]-n[a],t[o]===n[o]?t.altAlign="origin":t[c]===n[c]?t.altAlign="endpoint":t[o]>n[c]?(t.altAlign="oOffset",t.altSpacing=t[o]-n[o]):(t.altAlign="eOffset",t.altSpacing=t[o]-n[c]))});var p={updateDefaultCoord:n,updateAltCoord:s,origin:r,altOrigin:o,endpoint:a,altEndpoint:c,dimension:h};return this.positionCallback=t.partial(d.bind(this),this.getShuffledArray(),p),this},setShuffledPositions:function(){return this.originalBounds.forEach(this.positionCallback),this},setTabIndices:function(){var e=this.originalBounds.map(function(e){return this.objects().at(e.idx).get("tabIndex")}.bind(this));return this.shuffledObjectIndices.forEach(function(t,i){this.objects().at(t).prop("tabIndex",e[i])}.bind(this)),this}});return g}),define("models/presentation/TextInputSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/actions","helpers/events","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("helpers/constants")),i=(e("models/BaseModel"),e("models/presentation/SlideObject")),n=e("helpers/actions"),s=e("helpers/events"),r=(e("helpers/utils"),i.extend({shorthand:["background"],shortEvents:{self:function(){var e=i.prototype.shortEvents.self;return e[n.SET_FOCUS]="setFocus",e}()},variableProps:{Text:{type:t.varTypes.STRING,value:""}},getPathRef:function(){return this.background().vectorData.pr},setFocus:function(){null==this.currView?this.needsFocus=!0:(this.trigger(s.slideObject.FOCUS),this.needsFocus=!1)}}));return r}),define("models/presentation/ScrollAreaSlideObject",["require","lodash","models/presentation/mixins/slideObjectContainer","models/presentation/GroupingSlideObject","helpers/actions","helpers/utils","helpers/resolver"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/mixins/slideObjectContainer"),n=e("models/presentation/GroupingSlideObject"),s=e("helpers/actions"),r=e("helpers/utils"),o=e("helpers/resolver"),a=r.createSuper(n),l=t.merge(a("shortEvents"),{self:function(){var e={};return e[s.UPDATE_SCROLL_POS]="updateScrollPos",e[s.UPDATE_SCROLL_HEIGHT]="updateScrollHeight",e}()}),u=n.extend({mixins:[i],shorthand:["background","contentheight","contentwidth"],isGroupingContainer:!0,shortEvents:l,updateScrollPos:function(e,t){this.trigger("updateScrollPos",o.getRef(e.pos,t.context))},updateScrollHeight:function(e,t){this.contentheight(o.getRef(e.height,t.context)),this.trigger("updateScrollHeight")},getPathRef:function(){var e=this.background().vectorData;return e?e.pr:{}},getBounds:function(){var e=t(this.background().vectorData).pick("top","right","bottom","left").value(),i={xPos:e.left,yPos:e.top,right:e.right,bottom:e.bottom,fullX:e.left,fullY:e.top};return i.height=i.fullHeight=Math.abs(i.bottom-i.yPos),i.width=i.fullWidth=Math.abs(i.right-i.xPos),i}});return u}),define("models/presentation/ExpandingLabelSlideObject",["require","lodash","helpers/constants","models/presentation/GroupingSlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("models/presentation/GroupingSlideObject"),s=e("helpers/utils"),r=n.extend({shorthand:["colors","background","borderColor"],isGroupingContainer:!0,initialize:function(){this.addExtraVariables().setupLabelColors()},addExtraVariables:function(){return this.variables().addVariable({name:"_expanded",type:i.varTypes.BOOL,value:!1}),this},setupLabelColors:function(){var e=t(this.colors()),i=e.findWhere({name:"border"}),n=e.findWhere({name:"bg"});if(i){var r=t.first(i.fill.colors),o=s.toRgba(r.rgb,r.alpha);this.set("borderColor",o)}n&&this.set("background",n)}});return r}),define("models/presentation/DropListSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=(e("models/BaseModel"),e("models/presentation/SlideObject")),s=e("helpers/utils"),r=s.createSuper(n),o=n.extend({variableProps:{SelectedItemIndex:{type:i.varTypes.NUM,value:-1}},initialize:function(){this.origItemsList=s.getPath(this,"data.itemlist").slice(),this.itemslist=this.origItemsList.slice(),this.createIdxHash(),this.shuffleItems()},createIdxHash:function(){this.itemsIdx=this.itemslist.reduce(function(e,t,i){return e[t.itemdata]=i,e},{})},shuffleItems:function(){this.get("shuffle")&&(this.itemslist=t.shuffle(this.itemslist))},setResumeData:function(){r("setResumeData").apply(this,arguments);var e=this.prop("SelectedItemIndex");e>=0&&this.prop("SelectedItemData",this.origItemsList[e].itemdata)}});return o}),define("models/presentation/DropareaSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/SlideObject"),n=e("helpers/utils"),s=e("helpers/constants"),r=n.createSuper(i),o=i.extend({variableProps:{SelectedItem:{type:s.varTypes.NUM,value:-1}},setResumeData:function(){r("setResumeData").apply(this,arguments);var e=n.getPath(this,"currView.refs.innard");t.result(this,"currView.isMounted",!1)&&this.currView.htmlReady(e.resumeReview)}});return o}),define("models/presentation/DragitemSlideObject",["require","lodash","models/presentation/SlideObject","helpers/constants","helpers/utils","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/SlideObject"),n=e("helpers/constants"),s=e("helpers/utils"),r=e("helpers/resume/Chunk"),o=s.createSuper(i),a=4,l=512,u=function(e,t){return 0===(e&t)?e:e-t},c=i.extend({variableProps:{SelectedItem:{type:n.varTypes.NUM,value:-1}},buildResumeData:function(){var e,t;return t=o("buildResumeData").apply(this,arguments),"wordbank"===this.get("style")&&this.prop("SelectedItem")>=0&&(e=r.fromUnsignedString64(this.encodedResumeData.slice(0,3)),e=u(e,a),e=u(e,l),this.encodedResumeData=r.toUnsignedString64(e,3)+this.encodedResumeData.slice(3)),t},unDrop:function(){t.result(this,"currView.refs.innard.unDrop")},resetForSeek:function(){var e=o("resetForSeek").apply(this,arguments);
return this.unDrop(),e},onPlayerReset:function(){var e=o("onPlayerReset").apply(this,arguments);return this.unDrop(),e},resetObjectBeforeResume:function(){var e=o("resetObjectBeforeResume").apply(this,arguments);return this.unDrop(),e}});return c}),define("models/presentation/SequenceCtrlSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=(e("models/BaseModel"),e("models/presentation/SlideObject")),s=e("helpers/utils"),r=function(){return t.range(10).reduce(function(e,t){return e["_pos"+t]={type:i.varTypes.STRING,value:"",resume:!1},e},{})},o=t.extend(r(),{ItemOrder:{type:i.varTypes.STRING,value:""}}),a=n.extend({variableProps:o,initialize:function(){this.setupItemsList()},setupItemsList:function(){var e;this.itemsListOrder=s.getPath(this,"data.itemlist").slice(),this.itemsIdx=this.itemsListOrder.reduce(function(e,t,i){return e[t.itemdata]=i,e},{}),this.itemslist=t.shuffle(this.itemsListOrder),e=this.itemslist.reduce(function(e,t,i){return e+this.itemsIdx[this.itemslist[i].itemdata]}.bind(this),""),this.prop("ItemOrder")||this.prop("ItemOrder",e)},getIndexByData:function(e){return this.itemsIdx[e]}});return a}),define("models/presentation/SlideFrameSlideObject",["require","lodash","models/presentation/SlideObject","helpers/events","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("models/presentation/SlideObject")),i=e("helpers/events"),n=e("helpers/utils"),s=n.createSuper(t),r=t.extend({shorthand:["background"],initialize:function(){s("initialize").apply(this,arguments),this.getLayer().once(i.data.UPDATED,this.onLayerDataUpdated.bind(this))},getPathRef:function(){return this.background().vectorData.pr},onLayerDataUpdated:function(){var e=this.getClosestParentRef();e.isGroupingSlideObject&&this.listenTo(e,"hide",this.onParentGroupHide.bind(this))},onParentGroupHide:function(){this.prop("OnStage",!1),this.trigger("hide")}});return r}),define("collections/presentation/SlideObjects",["require","lodash","collections/BaseCollection","models/presentation/SlideObject","models/presentation/GroupingSlideObject","models/presentation/StateGroupSlideObject","models/presentation/ShuffledGroupingSlideObject","models/presentation/TextInputSlideObject","models/presentation/ScrollAreaSlideObject","models/presentation/ExpandingLabelSlideObject","models/presentation/DropListSlideObject","models/presentation/DropareaSlideObject","models/presentation/DragitemSlideObject","models/presentation/SequenceCtrlSlideObject","models/presentation/SlideFrameSlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("collections/BaseCollection"),n=e("models/presentation/SlideObject"),s=e("models/presentation/GroupingSlideObject"),r=e("models/presentation/StateGroupSlideObject"),o=e("models/presentation/ShuffledGroupingSlideObject"),a=e("models/presentation/TextInputSlideObject"),l=e("models/presentation/ScrollAreaSlideObject"),u=e("models/presentation/ExpandingLabelSlideObject"),c=e("models/presentation/DropListSlideObject"),h=e("models/presentation/DropareaSlideObject"),p=e("models/presentation/DragitemSlideObject"),d=e("models/presentation/SequenceCtrlSlideObject"),f=e("models/presentation/SlideFrameSlideObject"),m=e("helpers/utils"),g=function(e){return e.abilities.groupObjects},v={objgroup:s,stategroup:r,shufflegroup:o,textinput:a,scrollarea:l,expandinglabel:u,droplist:c,droparea:h,dragitem:p,sequencectrl:d,slideframe:f},y=i.extend({model:function(e,t){var i=v[e.kind]||n;return m.buildDataStructure(i,t,e)},findNestedObject:function(e){var i;return t.find(this.filter(g),function(t){return i=t.objects().get(e),!!i}),i}});return[s,o,r,l,u].forEach(function(e){e.addAssociation("objects",y)}),y}),define("models/presentation/SlideLayer",["require","lodash","models/BaseModel","helpers/events","helpers/actions","helpers/actionManager","models/presentation/mixins/eventable","models/presentation/mixins/slideObjectContainer","mixins/varPropListenable","models/presentation/mixins/resumables/slideLayerResumable","models/presentation/mixins/propertizable","helpers/assetManager","mixins/actionable","collections/presentation/AudioLib","collections/presentation/SlideObjects","collections/presentation/Variables","models/presentation/Timeline","collections/presentation/Animations","helpers/resolver","helpers/pubSub","helpers/keyManager"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/events"),s=e("helpers/actions"),r=(e("helpers/actionManager"),e("models/presentation/mixins/eventable")),o=e("models/presentation/mixins/slideObjectContainer"),a=e("mixins/varPropListenable"),l=e("models/presentation/mixins/resumables/slideLayerResumable"),u=e("models/presentation/mixins/propertizable"),c=e("helpers/assetManager"),h=e("mixins/actionable"),p=e("collections/presentation/AudioLib"),d=e("collections/presentation/SlideObjects"),f=e("collections/presentation/Variables"),m=e("models/presentation/Timeline"),g=e("collections/presentation/Animations"),v=e("helpers/resolver"),y=e("helpers/pubSub"),b=e("helpers/keyManager"),w="custom",S=i.extend({mixins:[r,h,l,u,a,o],shorthand:["isBaseLayer","pauseParent","modal","resume","depth","background","events","actionGroups"],resolveables:["objects","actionGroups","audiolib","variables"],resolvers:{objects:function(e,t){return t.findNestedObject(e)}},shortEvents:{timeline:function(){var e={};return e[n.timeline.COMPLETE]="onTimelineComplete",e}(),self:function(){var e={};return e[s.SHOW_SLIDELAYER]="show",e[s.HIDE_SLIDELAYER]="hide",e[s.SET_ACTIVE_TIMELINE]="setActiveTimeline",e[s.PAUSE_TIMELINE]="onPauseTimeline",e[s.PAUSE_ANIMATIONS]="pauseTimeline",e[s.RESUME_TIMELINE]="resumeTimeline",e}()},abilities:function(){return{resolveAsThis:!this.isBaseLayer(),beEventTarget:!this.isBaseLayer(),resolveAsParent:!this.isBaseLayer()}},associations:{objects:d,audiolib:p,timeline:m,variables:f,animations:g},isSlideLayer:!0,initialize:function(){this.abilities=this.abilities(),this.isBaseLayer()&&(this.depth(0),this.baseLayerPauses=[]),this.createObjectIndex()},hasBackground:function(){return!!this.background()},backgroundImageUrl:function(){return c.getAssetUrl(this.background().imagedata.assetId)},isPenetrable:function(){return!this.modal()},setAsTopMostLayer:function(e){return this.determineObjectVisibility(e),this.executePlayerEvent(e?"ontopmostlayer":"endtopmostlayer"),this},determineObjectVisibility:function(e){var t=this.get("hideobjectsondisplay")||[];return t.forEach(function(t){var i=v.resolvePath(t.value,this);i.setHiddenByLayer(!e,this.id)}.bind(this)),setTimeout(function(){y.trigger(n.layer.RESOLVED_OBJECT_VISIBILITY)}.bind(this),0),this},toggleVisibility:function(e,t,i){var n="show"===e,s=n?"shown":"hidden",r=null!=i&&i.transition===w,o=function(){i&&"oncomplete"===i.hideOthers&&this.trigger("hideOtherLayers",this),this.trigger(s,this),this.visibleState=n,b.setCurrentModal(n&&this.get("modal")?this:void 0),this.executePlayerEvent("ontransitionincomplete")}.bind(this);if(n){if(this.setAsViewed(),this.shownInCurrentView=!0,i&&"onstart"===i.hideOthers&&this.trigger("hideOtherLayers",this),this.trigger("activated",this),this.isOpen)return this;this.resume()||this.wasForcedResumed||this.resetResume(),this.timeline().pause(),this.isOpen=!0}else{if(this.wasForcedResumed=!1,!this.isOpen)return this;this.isOpen=!1}if(this.cancelTransition(),r){var a=this.animations().get(i.animationId);this.trigger(e+w,i,this,a,o)}else o();return this},setActiveTimeline:function(e){var t=v.getRef(e.objRef,this),i=v.resolvePath(t,this),s=i.isSlide?i.slideLayers().getBaseLayer():i,r=s.timeline();return this.trigger(n.timeline.CHANGED,r),y.trigger(n.layer.TIMELINE_ACTIVATED,s),this},cancelTransition:function(){this.trigger("cancelTransition")},pauseTimeline:function(e){this.timeline().pause(e)},resumeTimeline:function(){(this.isOpen||this.isBaseLayer())&&(y.trigger(n.timeline.CURRENT_TIMELINE,this.timeline()),this.timeline().play())},getIsTimelinePaused:function(){var e=this.timeline();return e.hasStarted()&&!e.isPlaying()},pauseTimelineFromLayer:function(e){this.isBaseLayer()&&(this.baseLayerPauses.push(e),this.baseLayerPauses=t.unique(this.baseLayerPauses),1===this.baseLayerPauses.length&&(this.shouldPlayOnCloseLayer=!this.getIsTimelinePaused(),this.pauseTimeline()))},resumeTimelineFromLayer:function(e){this.isBaseLayer()&&(this.baseLayerPauses=t.without(this.baseLayerPauses,e),0===this.baseLayerPauses.length&&this.shouldPlayOnCloseLayer&&this.resumeTimeline())},isTimelineLayerPlayable:function(){return 0===this.baseLayerPauses.length},onTimelineComplete:function(){y.trigger(n.preview.NOTIFY,this.isBaseLayer()?"PREVIEW_SLIDE_COMPLETE":"PREVIEW_SLIDELAYER_COMPLETE"),this.getClosestThisRef().executePlayerEvent("ontimelinecomplete"),this.collection.onTimelineComplete()},pauseVideos:function(e){e.each(function(e){e.isKind("video")?e.trigger(n.layer.PAUSE_TIMELINE):e.isGroupingSlideObject&&this.pauseVideos(e.objects())}.bind(this))},onPauseTimeline:function(){this.pauseVideos(this.objects())},createObjectIndex:function(){var e=0;this.objectIndex=[],this.objDecendants=[];var t=function(i){i.forEach(function(i){var n=i.isKind("shufflegroup");n||(this.objectIndex.push(i),i.setSlideIndex(e++),this.objDecendants.push(i)),i.objects&&t(i.objects()),n&&this.objDecendants.push(i)}.bind(this))}.bind(this);return t(this.objects()),this},getObjectByIndex:function(e){return this.objectIndex[e]},setAsViewed:function(){return this.viewed=!0,this},isViewed:function(){return this.viewed},onAfterResumeBuilt:function(e){this.isBaseLayer()||e||!this.currView.state.renderChildren||this.timeline().silentReset()},setAsShowable:function(){this.isShowable=!0},killEverything:function(){this.currView.state.renderChildren&&this.objects().invoke("killMounted"),this.resetSubscriptions().stopListening().off(),this.timeline().killEverything(),this.objects().invoke("killEverything"),this.clear()},resetObjectTransforms:function(){this.objectIndex.forEach(function(e){null!=e.currView&&(e.transformDirty=!0)})}}),x=S.prototype;return x.show=t.partial(x.toggleVisibility,"show","ontopmostlayer"),x.hide=t.partial(x.toggleVisibility,"hide","endtopmostlayer"),S}),define("collections/presentation/SlideLayers",["require","lodash","collections/BaseCollection","models/presentation/SlideLayer","polyfills/detection","helpers/events","helpers/pubSub","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("collections/BaseCollection"),n=e("models/presentation/SlideLayer"),s=e("polyfills/detection"),r=e("helpers/events"),o=(e("helpers/pubSub"),e("helpers/resume/Chunk")),a=function(e){return!e.isBaseLayer()&&!e.isShowable},l=function(e){return e.timeline().progress()>=1},u=i.extend({model:n,shortEvents:{self:function(){var e={};return e[r.layer.HIDDEN]="onLayerHidden",e[r.layer.HIDE_OTHER_LAYERS]="onHideOtherLayers",e[r.layer.ACTIVATED]="onLayerActivated",e}()},initialize:function(){this.activeLayers=[]},getBaseLayer:function(){return this.findWhere({isBaseLayer:!0})},getNonBaseLayers:function(){return this.without(this.getBaseLayer())},onHideOtherLayers:function(e){var i=t.indexOf(this.activeLayers,e);return-1===i&&(i=this.activeLayers.length),t.invoke(t.take(this.activeLayers,i),"hide"),this},pauseBaseLayer:function(e){return this.getBaseLayer().pauseTimelineFromLayer(e),this},pauseAll:function(e){this.invoke("pauseTimeline",e),this.invoke("cancelTransition")},playBaseLayer:function(e){return this.getBaseLayer().resumeTimelineFromLayer(e),this},getSlide:function(){return this.getClosestAncestorWithAssoc(u)},hideAllHideableLayers:function(){t.invoke(this.filter(a),"hide")},onTimelineComplete:function(){var e=this.activeLayers.slice().concat([this.getBaseLayer()]);e.every(l)&&this.trigger(r.slide.ALL_TIMELINES_COMPLETE)},onLayerActivated:function(e){var i=this.getTopMostLayer(),n=i===e;this.setPrevLayers(this.activeLayers.slice()),n||null==i||i.setAsTopMostLayer(!1),e.pauseParent()&&!t(this.activeLayers).contains(e)&&this.pauseBaseLayer(e),this.bringToFront(e),e.setAsTopMostLayer(!0)},getTopMostLayer:function(){return t(this.activeLayers).last()},onLayerHidden:function(e){var i=this.getTopMostLayer(),n=e===i;this.setPrevLayers(this.activeLayers.slice()),t(this.activeLayers).contains(e)&&(n&&e.setAsTopMostLayer(!1),this.removeLayerFromActive(e),i=this.getTopMostLayer(),n&&null!=i&&i.setAsTopMostLayer(!0),this.getSlide().currentTimeline()===e.timeline()&&this.trigger(r.timeline.CHANGED,this.getBaseLayer().timeline()),e.pauseParent()&&this.playBaseLayer(e))},bringToFront:function(e){return this.activeLayers=t(this.activeLayers).without(e).push(e).value(),this.remapLayerDepths(),this},removeLayerFromActive:function(e){return this.activeLayers=t.without(this.activeLayers,e),this.remapLayerDepths(),this},remapLayerDepths:function(){this.activeLayers.forEach(function(e,t){e.depth(t+1)})},resetActiveLayers:function(){return t.forEach(this.activeLayers,function(e){e.isOpen=!1}),this.activeLayers=[],this},restoreActiveLayers:function(e){for(var t,i=new o({fullString:e});i.encodedString().length>0;)t=this.at(i.getUnsignedValue()+1),t.show().setAsShowable(),i=i.reChunk();this.getBaseLayer().shouldPlayOnCloseLayer=!0},getActiveLayersResumeData:function(){return this.activeLayers.reduce(function(e,t){return e+o.create(o.toSignedString64(t.index()-1))},"")},setPrevLayers:function(e){s.isMobileAndNotPreview&&(this.prevLayers=e)},hasModalLayerAbove:function(e){var i=t.findIndex(this.activeLayers,function(e){return!!e.modal()});return i>t.findIndex(this.activeLayers,e)},killEverything:function(){this.activeLayers=[],this.stopListening(),this.invoke("killEverything"),this.reset([],{silent:!0})}});return u}),define("models/presentation/mixins/resumables/interactionResumable",["require","lodash","helpers/constants","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("helpers/resume/Chunk"),s=[i.statuses.CORRECT,i.statuses.INCOMPLETE,i.statuses.INCORRECT,i.statuses.NEUTRAL],r=function(e,t){return e>-1?"0"+n.toUnsignedString64(e,2):"1"+n.create(t)},o=function(e,t){return[e,t].join(".")},a=t.partial(o,"statements"),l=t.partial(o,"choices"),u={init:function(){t.bindAll(this,"responseToResumeData")},updateInitialAttemptCount:function(){this.initialAttemptCount=this.prop("AttemptCount"),this.responsesBuiltOnExit=!1},getResumeData:function(){var e=this.prop("AttemptCount"),t=n.toUnsignedString64(e,2);return this.initialAttemptCount!==e||this.responsesBuiltOnExit||this.buildResponses(),t+=[this.prop("Answered")?1:0,this.prop("Unanswered")?1:0,e>0?this.getAttemptResumeData():this.getNoAttemptResumeData()].join("")},getAttemptResumeData:function(){return[s.indexOf(this.prop("Status")),n.create(n.toSignedString64(this.prop("Score"))),n.create(n.toSignedString64(this.prop("LastScore"))),n.create(n.toSignedString64(this.prop("AnswerIndex")))].join("")},getNoAttemptResumeData:function(){var e=this.responses||[],t=n.toUnsignedString64(e.length,2);return t+e.map(this.responseToResumeData.bind(this)).join("")},responseToResumeData:function(e){var i,s,o,a=this.isValidResponse(e),l=this.isPairResponse(e),u=(a?2:0)+(l?1:0),c=n.toUnsignedString64(u,1);return a&&(s=l?e.choiceResponse:e,t.isString(s)||(s=s.value()),o=t.findIndex(this.choices(),{id:s.split(".")[1]}),c+=r(o,s),l&&(i=t.findIndex(this.statements(),{id:e.statementResponse.split(".")[1]}),c+=r(i,e.statementResponse))),n.create(c)},reset:function(){this.resetResume(!0)},resetResume:function(e){e===!0?this.resetProps():this.resetPropsExcept("LastScore"),this.resetResponses()},resetResponses:function(){this.responses=[],this.curAnswer=null},setResumeData:function(e){if(null!=e&&""!==e){var t=function(t){var i=e.slice(0,t);return e=e.slice(t),i};this.prop({AttemptCount:n.fromUnsignedString64(t(2)),Answered:"1"===t(1),Unanswered:"1"===t(1)}),this.prop("AttemptCount")>0?this.setAttemptResumeData(e):this.setNoAttemptResumeData(e)}},setAttemptResumeData:function(e){var t=function(t){var i=e.slice(0,t);return e=e.slice(t),i},i=parseInt(t(1)),r=new n({fullString:e}),o=r.reChunk(),a=o.reChunk(),l=a.getSignedValue();this.prop({Status:s[i],Score:r.getSignedValue(),LastScore:o.getSignedValue(),AnswerIndex:l}),this.curAnswer=this.answers()[l]},setNoAttemptResumeData:function(e){for(var t,i,s,r,o,u,c,h,p=function(t){var i=e.slice(0,t);return e=e.slice(t),i},d=function(){return"0"===p(1)},f=function(){var t=new n({fullString:e}),i=t.encodedString();return e=t.remainder(),i},m=n.fromUnsignedString64(p(2)),g=new n({fullString:e});m--;)e=g.encodedString(),g=g.reChunk(),t=n.fromUnsignedString64(p(1),10),i=1&t,s=2&t,s&&(d()?(o=n.fromUnsignedString64(p(2)),c=this.choices()[o].id,r=l(c)):r=f(),i&&(d()?(u=n.fromUnsignedString64(p(2)),h=a(this.statements()[u].id)):h=f(),r={choiceResponse:r,statementResponse:h}),this.responses=this.responses||[],this.responses.push(r))}};return u}),define("helpers/interactionHelper",["require","lodash","backbone","helpers/utils","helpers/errorManager","helpers/conditioner","helpers/actionManager"],function(e){"use strict";var t=e("lodash"),i=(e("backbone"),e("helpers/utils"),e("helpers/errorManager")),n=e("helpers/conditioner"),s=(e("helpers/actionManager"),i.warn("interactionHelper")),r=function(e,t){return t.length===e.length},o=function(e,t){var i=e.getClosestAncestorByKind("slide");return n.evaluateStatement(t,i)},a={};a.multiplechoice=a.truefalse=a.hotspot=a.wordbank=a.multipleresponse=[r,function(e,t,i){return o(i,{kind:"and",statements:e.map(function(e){return{kind:"compare",operator:e.ignorecase?"ichas":"has",valuea:t,valueb:e.choiceid,typea:"object",typeb:"string"}})})}],a.sequence=a.matching=[function(e,i,n){if(e.length!==i.length)return!1;var s=t.zipWith(e,i,function(e,i){return t.extend({},e,i)});return o(n,{kind:"and",statements:s})}],a.numeric=[function(e,t,i){return o(i,{kind:"and",statements:e.map(function(e){return e.statement})})}],a.fillin=[function(e,t,i){var n=i.prop("Value")[0];return o(i,{kind:"or",statements:e.map(function(e,t){return{kind:"compare",operator:e.ignorecase?"iceq":"eq",valuea:n,valueb:i.getChoiceById(e.choiceid).lmstext,typea:"string",typeb:"string"}})})}];var l={setCurrInteraction:function(e){return this.interaction=e,this},getChosenAnswer:function(e){return t.find(this.interaction.answers(),function(t){return this.evaluateResponses(e,t)}.bind(this))},evaluateAnswers:function(e){if(!this.interaction)return void s("evaluateAnswers","needs to have interaction defined via `setCurrInteraction`.");var t=this.getChosenAnswer(e);return t||s("evaluateAnswers","no answer found."),t},evaluateResponses:function(e,t){return this.performEvaluation(e,t)},isOther:function(e){var i=t.first(e.evaluate.statements);return!!i&&"other"===i.kind},getEvalFns:function(){return a[this.interaction.type()]},performEvaluation:function(e,i){var n=this.interaction,s=this.getEvalFns();return this.isOther(i)||!t.isEmpty(s)&&s.every(function(t){return t(i.evaluate.statements,e,n)}.bind(this))}};return l}),define("models/presentation/interactions/Interaction",["require","lodash","models/BaseModel","helpers/constants","helpers/events","helpers/actions","helpers/conditioner","helpers/resume/resumer","views/helpers/dom","models/presentation/mixins/resumables/interactionResumable","helpers/interactionHelper","models/presentation/mixins/propertizable","mixins/actionable","helpers/actionManager","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/constants"),s=e("helpers/events"),r=e("helpers/actions"),o=e("helpers/conditioner"),a=e("helpers/resume/resumer"),l=e("views/helpers/dom"),u=e("models/presentation/mixins/resumables/interactionResumable"),c=e("helpers/interactionHelper"),h=e("models/presentation/mixins/propertizable"),p=e("mixins/actionable"),d=e("helpers/actionManager"),f=e("helpers/utils"),m=function(e){return/^choices/.test(e)},g={};g.essay=g.numeric=g.fillin=function(e){return[l.writeNode("answer"),e,l.writeCloseNode("answer")].join("")},g.likert=g.sequence=g.matching=function(e){var t=this.getChoiceById(e.choiceResponse),i=this.getStatementById(e.statementResponse);return l.writeNode("answer",{statementid:i.lmstext,choiceid:t.lmstext},!0)},g.multiplechoice=g.truefalse=g.hotspot=g.wordbank=g.multipleresponse=function(e){var t=this.getChoiceById(e);return null!=t?l.writeNode("answer",{choiceid:t.lmstext},!0):void 0};var v={numeric:function(e,t,i){return e.push(o.statementToString(t.statement,this)),e},matching:function(e,t,i){return e.push({choice:this.getChoiceById(t.choiceid),statement:this.getStatementById(t.statementid)}),e},"default":function(e,t,i){return e.push(this.getChoiceById(t.choiceid)),e}};v.sequence=v.matching;var y=function(e,i,n){return t.findWhere(e.get(i),{id:n.replace(i+".","")})},b=i.extend({mixins:[p,h,u],shorthand:["type","maxpoints","istracked","issurvey","skipenabled","choices","responseDefinition","answers","statements"],subscriptions:function(){var e={};return e[s.player.RESET]="reset",e}(),shortEvents:{self:function(){var e={};return e[r.EVAL_INTERACTION]="onEvalInteraction",e[r.ADD_CHOICE_RESPONSE]="onAddChoiceResponse",e[r.ADD_PAIR_RESPONSE]="onAddPairResponse",e}()},playerPropNames:{AttemptCount:0,Status:n.statuses.INCOMPLETE,Value:"",Description:"",Score:0,LastScore:0,AnswerIndex:-1,Answered:!1,Unanswered:!1,Viewed:!1,Sent:!1,QuestionIndex:-1},responses:null,curAnswer:null,initialize:function(){this.attempts=[],this.getChoiceById=t.partial(y,this,"choices"),this.getStatementById=t.partial(y,this,"statements"),this.prop("CorrectResponse",this.getCorrectResponse())},attempt:function(){var e=this.prop("AttemptCount")+1;return this.prop("AttemptCount",e),this},appendAttempts:function(){return this.attempts.push(t.extend(this.getPlayerPropsRaw(),{responses:this.responses.slice(),Latency:a.getCourseTime()})),this},setAsViewed:function(e){this.prop("Viewed",e),this.trigger(s.interaction.VIEWED,this.absoluteId,this.maxpoints())},setStatusFromCurAnswer:function(){var e;return e=null!=this.curAnswer?this.curAnswer.status:this.get("issurvey")?n.statuses.NEUTRAL:n.statuses.INCORRECT,this.prop("Status",e),this},setAsAnswered:function(){return this.prop({Answered:!0,Unanswered:!1}),this},setAnswerIndex:function(){return this.prop("AnswerIndex",this.answers().indexOf(this.curAnswer)),this},setScore:function(){return this.prop({LastScore:this.curAnswer.points,Score:this.curAnswer.points}),this},evaluate:function(e){return this.attempt().updateCurAnswer().setScore().setStatusFromCurAnswer().appendAttempts().trigger(s.interaction.EVALUATED,this).executeAnswerActions(e),this},updateUserResponse:function(){return this.buildResponses(),this.hasValidResponses()&&this.updateCurAnswer(),this},updateCurAnswer:function(){var e=this.isType("numeric")?parseFloat:t.identity;return this.curAnswer=c.setCurrInteraction(this).evaluateAnswers(this.responses.map(e)),this.setAsAnswered().setAnswerIndex(),this},executeAnswerActions:function(e){var t=this.curAnswer;null!=e&&t&&d.executeActions(t.actions,{context:this.getClosestAncestorByKind("slide")})},buildResponses:function(){var e=this.responseDefinition().actions;return this.responses=[],null!=e&&(d.executeActions(e,{context:this.getClosestAncestorByKind("slide")}),this.updateValue()),this},updateValue:function(){var e=this.isType("numeric"),i=e?"first":"identity",n=e?parseFloat:t.identity;return this.prop("Value",t[i](this.responses.map(n))),this},addResponse:function(e){return this.responses.push(e),this},onEvalInteraction:function(e){this.buildResponses().evaluate(e)},onAddChoiceResponse:function(e){var i={string:t.identity,"var":function(e){return this.resolvePath(e).value()}},n=i[e.type]||this.resolvePath;this.addResponse(n.call(this,e.value))},onAddPairResponse:function(e){var t=e.valuea,i=e.valueb;this.addResponse({statementResponse:t,choiceResponse:m(i)?i:this.resolvePath(i)})},getCorrectAnswer:function(){return t.find(this.answers(),{status:n.statuses.CORRECT})},getCorrectResponse:function(){var e=this.getCorrectAnswer(),i=v[this.type()]||v["default"];return t.reduce(e?e.evaluate.statements:[],i.bind(this),[])},evaluateUnanswered:function(){if(!this.hasValidResponses())return this.attempt(),this.setStatusFromCurAnswer(),this.prop("Answered",!0),void this.trigger(s.interaction.EVALUATED,this);var e=this.prop("AnswerIndex");this.prop("Score");e>-1&&(this.curAnswer=this.answers()[e],this.prop({Status:this.curAnswer.status,Score:this.curAnswer.points,LastScore:this.curAnswer.points,Unanswered:!1,Answered:!0})),this.evaluate()},isPairResponse:function(e){return null!=e&&(null!=e.statementResponse||null!=e.choiceResponse)},isValidResponse:function(e){return null!=e&&(this.isPairResponse(e)?""!==e.statementResponse&&null!=e.statementResponse&&""!==e.choiceResponse&&null!=e.choiceResponse:""!==e)},hasResponses:function(){return null!=this.responses&&this.responses.length>0},hasValidResponses:function(){return this.hasResponses()&&this.responses.every(this.isValidResponse.bind(this))},isPassing:function(){return this.prop("Status")===n.statuses.CORRECT},markAttempts:function(){this.attempts.forEach(function(e){e.Sent=!0})},getAoSoapXml:function(){return 0===this.prop("AttemptCount")||0===this.attempts.length?"":[l.writeNode("interaction",{idRef:f.stripPlayer(this.absoluteId),type:this.type()}),this.getAttemptXml(),l.writeCloseNode("interaction")].join("")},getAttemptXml:function(){return this.attempts.reduce(function(e,t,i,n){var s=i===n.length-1,r=g[this.type()].bind(this),o=[l.writeNode("attempt",{time:t.Latency,"final":s.toString(),pointsAwarded:t.Score,result:t.Status,sent:t.Sent})];return t.responses.map(r).forEach(function(e){o.push(e)}),o.push(l.writeCloseNode("attempt")),e.push(o.join("")),e}.bind(this),[]).join("")},getCorrectValues:function(){return this.prop("CorrectResponse")},getResponseValues:function(e){return(this.responses||[]).map(function(e){return t.isPlainObject(e)?{statement:this.getStatementById(e.statementResponse||e.statement),choice:this.getChoiceById(e.choiceResponse||e.choice)}:this.isType("numeric")||this.isType("fillin")||this.isType("essay")||this.isType("likert")?e.toString():this.getChoiceById(e.toString())}.bind(this))}}),w=b.prototype;return w.getLastScore=t.partial(w.prop,"LastScore"),b}),define("collections/presentation/interactions/Interactions",["require","collections/BaseCollection","models/presentation/interactions/Interaction"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/interactions/Interaction"),n=t.extend({model:i});return n}),define("helpers/audioPlaylistManager",["require","helpers/utils"],function(e){"use strict";var t,i=e("helpers/utils"),n=function(e){t=e},s=function(e){return t.load(i.stripPlayer(e.absoluteId))};return{initialize:n,load:s}}),define("models/presentation/Slide",["require","lodash","models/BaseModel","helpers/pubSub","helpers/events","helpers/actions","models/presentation/mixins/eventable","mixins/actionable","mixins/varPropListenable","models/presentation/mixins/slideObjectContainer","models/presentation/mixins/propertizable","models/presentation/mixins/resumables/slideResumable","collections/presentation/SlideLayers","collections/presentation/Variables","collections/presentation/interactions/Interactions","helpers/constants","helpers/assetManager","helpers/audioPlaylistManager","helpers/globalAudioManager","helpers/utils","helpers/scaler","helpers/vow","helpers/resolver","models/presentation/helpers/collisionMap","views/helpers/bitmapHelper","helpers/playerGlobals","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/pubSub"),s=e("helpers/events"),r=e("helpers/actions"),o=e("models/presentation/mixins/eventable"),a=e("mixins/actionable"),l=e("mixins/varPropListenable"),u=e("models/presentation/mixins/slideObjectContainer"),c=e("models/presentation/mixins/propertizable"),h=e("models/presentation/mixins/resumables/slideResumable"),p=e("collections/presentation/SlideLayers"),d=e("collections/presentation/Variables"),f=e("collections/presentation/interactions/Interactions"),m=e("helpers/constants"),g=e("helpers/assetManager"),v=e("helpers/audioPlaylistManager"),y=e("helpers/globalAudioManager"),b=e("helpers/utils"),w=e("helpers/scaler"),S=e("helpers/vow"),x=(e("helpers/resolver"),e("models/presentation/helpers/collisionMap")),T=e("views/helpers/bitmapHelper"),E=e("helpers/playerGlobals"),C=e("polyfills/detection"),A={};A[m.statuses.INCOMPLETE]=1,A[m.statuses.INCORRECT]=2,A[m.statuses.CORRECT]=3,A[m.statuses.NEUTRAL]=4;var P=function(e,t){return A[e]-A[t]},_=i.extend({isSlide:!0,mixins:[o,a,h,c,l,u],shorthand:["fullId","currentTimeline","resume","events","actionGroups","background"],playerPropNames:{Viewed:!1,WindowId:null,LastKeyCodeString:null,LastKeyCode:-1,LastKeyValue:null,LastKeyCtrl:!1,LastKeyShift:!1,LastKeyAlt:!1},resolveables:["slideLayers","variables","actionGroups","interactions"],resolvers:{slideLayers:function(e,t){var i=t.getBaseLayer();return i.objects().get(e)||i.audiolib().get(e)||i.objects().findNestedObject(e)}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slideLayers:p,variables:d,interactions:f},shortEvents:{self:function(){var e={};return e[r.ZOOMPAN]="zoomPan",e[r.SEEK_TIMELINE]="onSeekTimeline",e}(),slideLayers:function(){var e={};return e[s.timeline.CHANGED]="onTimelineChanged",e[s.slide.ALL_TIMELINES_COMPLETE]="onAllTimelinesEnded",e}(),interactions:function(){var e={};return e[s.interaction.EVALUATED]="onInteractionEvaluated",e}()},subscriptions:function(){var e={};return e[s.slide.PAUSE_TIMELINE]="onPauseTimeline",e[s.slide.PLAY_TIMELINE]="onPlayTimeline",e}(),initialize:function(e){var i=[this.parent.id,this.id].join(m.PATH_DELIMITER);this.coreState=t.clone(e),t.assign(this.coreState,{fullId:i,interactions:this.interactions()}),this.viewed=!1,this.quizzes=[],this.loadedDfd=new S.Deferred,this.fullId(i),this.onResetCurrentTimelineDelegate=this.onResetCurrentTimeline.bind(this)},beforeSlideOut:function(){this.storeInteractionResults(),this.destroyed=!0,this.removeVariableChangeSubscriptions()},resetModel:function(){null!=this.url()&&b.stripPlayer(this.absoluteId)!==E.presentation.prop("CurrentSlideId")&&(this.killEverything(),this.loadedDfd=new S.Deferred,this.clear({silent:!0}).set(this.coreState,{silent:!0}).buildAssociations().resetCurrentTimeline().rebindShortEvents())},resetCurrentTimeline:function(){return this.setCurrentTimeline(this.getBaseLayer().timeline()),this},url:function(){return this.get("html5url")},backgroundImageUrl:function(){return g.getAssetUrl(this.background().imagedata.assetId)},isLoaded:function(){return S.isResolved(this.loadedDfd)},isMessageSlide:function(){return this.getScene().isMessageScene()},load:function(){var e,t=this.loadedDfd,i=v.load(this),n=y.load(this.get("globalAudioId"));return this.isLoaded()?(t=new S.Deferred,S.when(i,n).then(t.resolve.bind(t,this))):(e=t.resolve.bind(t,this),this.isMessageSlide()?e():S.when(this.fetch(),i,n).then(e)),t.promise()},loadSlideAssets:function(){var e=E.presentation.slideMap().getRefById(this.absoluteId);return null!=e?e.loadAssets(!0):(new S.Deferred).resolve()},getBaseLayer:function(){return this.slideLayers().getBaseLayer()},getScene:function(){return this.getClosestAncestor(function(e){return e.isScene})},getSlideDraw:function(){return this.getClosestAncestor(function(e){return e.isSlideDraw})},getSceneOrDraw:function(){return this.getSlideDraw()||this.getScene()},getViewGroupId:function(){var e=this.get("viewGroupId");return e.length>0?e:this.id},getRelativeId:t.constant(m.refs.CURRENT_SLIDE),getHitType:t.constant(m.SLIDE_HIT),getTransitionAnimation:function(){return this.get("showAnimationId")?this.getBaseLayer().animations().findWhere({id:this.get("showAnimationId")}):void 0},zoomPan:function(e,t){this.trigger("zoompan",{action:e,event:t})},triggerAction:function(e){return a.triggerAction.apply(this,arguments),
a.triggerAction.apply(this.getBaseLayer(),arguments),this},onTimelineChanged:function(e){this.setCurrentTimeline(e)},onAllTimelinesEnded:function(){this.getClosestThisRef().executePlayerEvent("onallopentimelinescomplete")},setAsViewed:function(){return this.viewed=!0,this.prop("Viewed",!0),this.interactions().forEach(function(e){e.setAsViewed(!0)}),this.get("trackViews")&&n.trigger(s.slide.VIEWED,this),this},hasInteractions:function(){return this.interactions().length>0},setQuiz:function(e){this.quizzes.push(e)},onInteractionEvaluated:function(){this.updateInteractionData()},storeInteractionResults:function(){return this.interactions().forEach(function(e){e.initialAttemptCount===e.prop("AttemptCount")&&(e.responsesBuiltOnExit=!0,e.updateUserResponse())}),this},getInteractionAttempted:function(){var e=!1,t=this.interactions&&this.interactions();return t&&t.length>0&&(e=t.reduce(function(e,t){return e&&t.prop("AttemptCount")>0},!0)),e},getInteractionStatus:function(){var e,t,i=this.interactions&&this.interactions();return i&&i.length>0&&(t=i.reduce(function(e,t){return e[t.prop("Status")]=!0,e},{}),e=Object.keys(t).sort(P)[0]),e},getVariableChangeSubscriptions:function(){return null==this.varAndPropSubscriptions&&(this.varAndPropSubscriptions=null==this.events()?[]:this.setVarAndPropListeners(),this.slideLayers().forEach(function(e){null!=e.events()&&Array.prototype.push.apply(this.varAndPropSubscriptions,e.setVarAndPropListeners()),e.objectIndex.forEach(function(e){null!=e.events()&&Array.prototype.push.apply(this.varAndPropSubscriptions,e.setVarAndPropListeners())}.bind(this))}.bind(this))),this},removeVariableChangeSubscriptions:function(){return null!=this.varAndPropSubscriptions&&(this.varAndPropSubscriptions.forEach(function(e){e.listener.stopListening(e.obj,e.event,e.callback)}),this.varAndPropSubscriptions=null),this},calculateTotalScale:function(){var e,t=this.parentTransform?this.parentTransform.scale:1,i=w.getScale()||1,n=C.isClassic?b.getPath(this,"currView.props.slideContainer.props.scale"):1;return null!=this.parentTransform||null!=w.getScale()||null!=n?(e=t*i,this.pinchZoomScale&&(e*=this.pinchZoomScale),null!=n&&(e*=n),1/e):1},setCurrentTimeline:function(e){var t=this.currentTimeline();return null!=t&&t.off(s.timeline.RESET,this.onResetCurrentTimelineDelegate),this.currentTimeline(e),e.on(s.timeline.RESET,this.onResetCurrentTimelineDelegate),this.trigger(s.slide.CURRENT_TIMELINE),this},onSeekTimeline:function(e){this.currentTimeline().seek(e.position)},onPauseTimeline:function(){this.wasPlaying=[],this.slideLayers().forEach(function(e){e.getIsTimelinePaused()||this.wasPlaying.push(e)}.bind(this)),this.slideLayers().pauseAll(!0)},onPlayTimeline:function(){this.wasPlaying&&this.wasPlaying.forEach(function(e){e.timeline().play()})},onResetCurrentTimeline:function(){var e=this.getBaseLayer().timeline(),t=this.currentTimeline();e===t?this.restart():(this.slideLayers().find(function(e){return e.timeline()===t}).prepareResumeData().resetBeforeView().applyResumeData(),t.play())},restart:function(){return this.prepareResumeData().resetBeforeView().applyResumeData(),this.slideLayers().invoke("resetObjectTransforms"),this.beginPlayback()},reset:function(){return this.resetBeforeView(),this.beginPlayback()},beginPlayback:function(){return this.executePlayerEvent("onbeforeslidein"),this.executePlayerEvent("ontransitionin"),this.executePlayerEvent("ontransitionincomplete"),this.currentTimeline().play(),this.executePlayerEvent("onslidestart"),this},killEverything:function(){return x.clearSlideCache(this.id),T.clearSlideCache(this.id),this.slideLayers().killEverything(),this}});return _}),define("collections/presentation/Slides",["require","collections/BaseCollection","models/presentation/Slide"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Slide"),n=t.extend({model:i});return n}),define("models/presentation/mixins/resumables/sceneOrDrawResumable",["require","lodash","helpers/vow","models/presentation/helpers/utils","helpers/resume/Chunk","helpers/resume/resumer"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),n=(e("models/presentation/helpers/utils"),e("helpers/resume/Chunk")),s=e("helpers/resume/resumer"),r="slides",o="slidedraws",a={arrays:{slides:"slidesResume",slidedraws:"slidedrawsResume"},maps:{slides:"slidesResumeMap",slidedraws:"slidedrawsResumeMap"},arrGetters:{slides:"getResumableSlidesArray",slidedraws:"getResumableDrawsArray"},indexGetters:{slides:"getSlideMapIndexOf",slidedraws:"getDrawMapIndexOf"}},l=function(e){return e.isSlideDraw||e.resume()||e.hasInteractions()},u={postInit:function(){var e;this.isScene&&(this.createSlideResumeArray(),this.hasDraws()&&(e=this.slidedraws().invoke("getSlidePromise"),i.after.apply(i,e).done(this.createDrawResumeArray.bind(this))))},getResumableArray:function(e){return this[e]().filter(l)},createSlideResumeArray:function(){return this.slidesResumeMap=[],this.slidesResume=this.slides().filter(l).reduce(function(e,t){return this.slidesResumeMap.push(t.index()),e.push(n.EMPTY_CHUNK),e}.bind(this),[]),this},createDrawResumeArray:function(){this.slidedrawsResumeMap=[],this.slidedrawsResume=this.slidedraws().reduce(function(e,t){return t.createSlideResumeArray(),this.slidedrawsResumeMap.push(t.index()),e.push(n.create(t.getResumeData())),e}.bind(this),[])},createOrderArray:function(e){this.resumeOrder=e.map(function(e){return n.toUnsignedString64(this.sliderefs().indexOf(e),2)}.bind(this)).join("")},getMapIndexOf:function(e,t){return this[e].indexOf(t.index())},saveData:function(e,t){if(l(t)){var i=a.indexGetters[e],r=a.arrays[e],o=this[i](t);this[r][o]=n.create(t.getResumeData())}this.isScene?s.savePresentationData(this):this.getScene().saveDrawData(this)},getResumeData:function(){var e=this.isSlideDraw?"getDrawResume":"getSceneResume";return this[e]()},getDrawResume:function(){var e=this.variables();return[n.create(this.resumeOrder),this.slidesResume.join(""),e.length?n.create(e.getResumeDataOrReturn("")):""].join("")},getSceneResume:function(){var e=this.variables();return[e.length?n.create(e.getResumeDataOrReturn("")):"",this.slidesResume.join(""),(this.slidedrawsResume||[]).join("")].join("")},clearResumeData:function(){this.createSlideResumeArray()},setResumeData:function(e){if(""!==e&&null!=e){var t=this.isSlideDraw?"setDrawResume":"setSceneResume";this[t](e)}},setSceneResume:function(e){var t,i=new n({fullString:e}),s=i,r=this.variables();r.length&&(r.setResumeData(i.encodedString()),s=i.reChunk()),t=this.setSlideResumeData(s),this.setDrawsResumeData(t)},setDrawResume:function(e){var t,i=new n({fullString:e}),s=i.reChunk(),r=this.variables();this.setSlidesInResumeOrder(i.encodedString()),t=this.setSlideResumeData(s),r.length&&r.setResumeData(t.encodedString()),this.slideDfd.resolve(this.slides())},setSlidesInResumeOrder:function(e){var t,i;for(this.resumeOrder=[];e.length>0;)t=e.slice(0,2),this.resumeOrder.push(n.fromUnsignedString64(t)),e=e.slice(2);i=this.resumeOrder.map(function(e){return this.sliderefs()[e]}.bind(this)),this.generateSlides(i)},setSlidesOrDrawsResumeData:function(e,t){var i,s=a.arrGetters[e],r=this[s](),o=this[a.arrays[e]];return r.forEach(function(e,s){i=t.encodedString(),o[s]=n.create(i),e.setResumeData(i),t=t.reChunk()}),t}};return u.saveSlideData=t.partial(u.saveData,r),u.saveDrawData=t.partial(u.saveData,o),u.getSlideMapIndexOf=t.partial(u.getMapIndexOf,a.maps[r]),u.getDrawMapIndexOf=t.partial(u.getMapIndexOf,a.maps[o]),u.getResumableSlidesArray=t.partial(u.getResumableArray,r),u.getResumableDrawsArray=t.partial(u.getResumableArray,o),u.setSlideResumeData=t.partial(u.setSlidesOrDrawsResumeData,r),u.setDrawsResumeData=t.partial(u.setSlidesOrDrawsResumeData,o),u}),define("models/presentation/SlideDraw",["require","lodash","helpers/pubSub","helpers/events","helpers/actions","helpers/utils","helpers/vow","helpers/resolver","helpers/constants","collections/presentation/Slides","collections/presentation/Variables","models/BaseModel","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/resumables/sceneOrDrawResumable","helpers/actionManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/pubSub"),n=e("helpers/events"),s=e("helpers/actions"),r=e("helpers/utils"),o=e("helpers/vow"),a=e("helpers/resolver"),l=e("helpers/constants"),u=e("collections/presentation/Slides"),c=e("collections/presentation/Variables"),h=e("models/BaseModel"),p=e("mixins/actionable"),d=e("models/presentation/mixins/propertizable"),f=e("models/presentation/mixins/resumables/sceneOrDrawResumable"),m=e("helpers/actionManager"),g=function(e,i,n){var s=t.partial(t.findWhere,i);return n.filter(function(t){return null!=s({id:t.id})===e})},v=h.extend({isSlideDraw:!0,mixins:[f,p,d],resolveables:["slides","actionGroups","variables"],shorthand:["sliderefs","exitaction","slides","shufflecount","shuffle","actionGroups"],shortEvents:{self:function(){var e={};return e[s.SET_DRAW_REVIEW]="onSetDrawReview",e}()},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:c},subscriptions:function(){var e={};return e[n.player.RESET]="generateDraw",e}(),initialize:function(){this.slideDfd=new o.Deferred,i.once(n.data.INITIALIZED,this.createDraw.bind(this))},createDraw:function(){this.generateDraw().fixRefIds(),this.slideDfd.resolve(this.slides())},fixRefIds:function(){var e=[this.parent.id,this.id].join(l.PATH_DELIMITER);this.slides().forEach(function(t){t.fullId(e)})},getScene:function(){return this.getClosestAncestorByKind("scene")},getTopSlide:function(){return t.first(this.sliderefs())},getBottomSlide:function(){return t.last(this.sliderefs())},hasLockedTopSlide:function(){return this.getTopSlide().linkprev},hasLockedBottomSlide:function(){return this.getBottomSlide().linknext},startingSlide:function(){return r.stripPlayer(this.slides().first().absoluteId)},getNextSlideId:function(e){var t=e.nextSibling();return t&&t.absoluteId},getFirstSlide:function(){return this.slides().first()},performExitAction:function(){this.trigger(n.draw.EXIT),m.executeAction(this.exitaction(),{context:this})},getTop:function(){var e,i=this.sliderefs(),n=0,s=[];if(this.hasLockedTopSlide())for(s.push(this.getTopSlide());s.length&&t.last(s).linknext&&(e=i[n+1]);)s.push(i[++n]);return s},getBottom:function(){var e,i=this.sliderefs(),n=i.length-1,s=[];if(this.hasLockedBottomSlide())for(s.push(this.getBottomSlide());t.first(s).linkprev&&(e=i[n-1]);)s.unshift(i[--n]);return s},getTrimmedSlides:function(){return this.trimSpecial(this.sliderefs().slice())},trimSpecial:function(e){for(;e.length&&e[0].linkprev;)e.shift();for(;e.length&&t.last(e).linknext;)e.pop();return e},getMiddle:function(e,i){if(0>=i)return[];var n,s,r,o=this.shuffle(),a=[],l=this.getScene().getRefs(),u=t.partial(g,!1,l),c=t.partial(g,!0,l),h=u(e),p=function(e){return o?Math.floor(Math.random()*e):0};if(h.length<i)for(r=c(e);h.length<i;)h.push.apply(h,r.splice(p(r.length),1));for(;a.length<i&&h.length;){for(s=p(h.length),n=h[s];n.linkprev;)n=h[--s];for(;n;)a.push.apply(a,h.splice(s,1)),n=n.linknext&&h[s]}return a},getIncludedSlides:function(e){return e.filter(function(e){return e.shuffleinclude})},generateDraw:function(){var e,i,n,s=this.getTop(),r=this.getBottom(),o=this.getTrimmedSlides(),a=this.getIncludedSlides(o);return o=t.xor(o,a),i=(this.get("shuffle")?this.shufflecount():this.sliderefs().length)-(s.length+r.length+a.length),e=this.getMiddle(o,i),n=s.concat(a,e,r),this.generateSlides(n),this},generateSlides:function(e){this.trigger(n.draw.RESET,this);var t=this.resolveSlides(e);return this.set("slides",new u(t,{parent:this})),e.forEach(function(e){this.getScene().addRef(e)}.bind(this)),this.createOrderArray(e),this.trigger(n.draw.RESET_COMPLETE,this),this},resolveSlides:function(e){return e.map(function(e){var i=r.prefixWithPlayer(e.id),n=t.cloneDeep(a.resolvePath(i,this));return n}.bind(this))},getSlidePromise:function(){return this.slideDfd.promise()},onSetDrawReview:function(e){this.isInReview=e.review}});return v}),define("collections/presentation/SlideDraws",["require","collections/BaseCollection","models/presentation/SlideDraw"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/SlideDraw"),n=t.extend({model:i});return n}),define("models/presentation/Scene",["require","models/BaseModel","helpers/vow","lodash","collections/presentation/Slides","collections/presentation/SlideDraws","collections/presentation/Variables","models/presentation/mixins/resumables/sceneOrDrawResumable","models/presentation/mixins/propertizable"],function(e){"use strict";var t=e("models/BaseModel"),i=e("helpers/vow"),n=e("lodash"),s=e("collections/presentation/Slides"),r=e("collections/presentation/SlideDraws"),o=e("collections/presentation/Variables"),a=e("models/presentation/mixins/resumables/sceneOrDrawResumable"),l=e("models/presentation/mixins/propertizable"),u=t.extend({isScene:!0,mixins:[a,l],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slides:s,slidedraws:r,variables:o},resolveables:["slides","slidedraws","variables","actionGroups"],shorthand:["startingSlide","isMessageScene"],initialize:function(){this.usedRefs=[]},addRef:function(e){this.usedRefs.push(e)},getRefs:function(){return this.usedRefs},hasDraws:function(){return this.slidedraws().length>0},resolveDfd:function(){this.drawDfd.resolve()},getDrawPromise:function(){var e=this.slidedraws().invoke("getSlidePromise");return this.drawDfd=new i.Deferred,i.after.apply(i,e).done(this.resolveDfd.bind(this)),this.drawDfd.promise()},getAllSlides:function(){var e=this.hasDraws()?n(this.slidedraws().pluck("slides")).invoke("slice").flatten().value():[];return this.slides().slice().concat(e)}});return u}),define("collections/presentation/Scenes",["require","collections/BaseCollection","models/presentation/Scene"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Scene"),n=t.extend({model:i,getNonMessageScenes:function(){return this.reject(function(e){return e.isMessageScene()})}});return n}),define("collections/presentation/SlideBank",["require","collections/BaseCollection"],function(e){"use strict";var t=e("collections/BaseCollection"),i=t.extend({});return i}),define("helpers/VideoLoader",["require","lodash","helpers/MediaLoader","helpers/videoManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/MediaLoader"),n=e("helpers/videoManager"),s=function(e){this.init(e)};return t.assign(s.prototype,i.prototype,{isMediaElement:!0,createElement:function(){return this.setElement(n.getVideoElement(this.url)),this},teardown:function(){this.el&&this.el.pause(),this.detachElement()}}),s}),define("models/presentation/Asset",["require","lodash","helpers/AudioLoader","models/BaseModel","polyfills/detection","helpers/MediaLoader","helpers/utils","helpers/VideoLoader","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("helpers/AudioLoader"),n=e("models/BaseModel"),s=e("polyfills/detection"),r=e("helpers/MediaLoader"),o=e("helpers/utils"),a=e("helpers/VideoLoader"),l=e("helpers/vow"),u={img:"swf png jpg jpeg gif bmp".split(" "),video:"flv mov mp4 avi".split(" "),audio:"mp3".split(" ")},c={audio:i,video:a},h=n.extend({shorthand:["url","type","width","height","mobiledx","mobiledy","captions"],initialize:function(){this.url(o.resolveAssetUrl(this.url())),this.inferType()},ext:function(){return t.last(this.url().split("."))},isValid:function(){return"swf"!==this.ext()},inferType:function(){var e=this.ext();return this.type(t.reduce(u,function(i,n,s){return t.contains(n,e)?s:i},null)),this},load:function(e){if(null!=this.currentLoader)return this.currentLoader.promise;var t,i,n,o=this.type(),a="audio"===o;if(!this.isValid()||this.isLoaded&&!e&&(!a||!s.hasAudioApi()))return t=new l.Deferred,i=t.resolve().promise(),i.dfd=t,i;var u=c[o]||r;return this.currentLoader=n=new u({type:this.type(),url:this.url(),loadForView:e}),n.promise.then(function(){this.isLoaded=!0}.bind(this)).always(function(){n.teardown(),this.currentLoader=null}.bind(this)),n.promise.dfd=n.dfd,n.promise}});return h}),define("collections/presentation/Assets",["require","collections/BaseCollection","models/presentation/Asset"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Asset"),n=t.extend({model:i});return n}),define("collections/presentation/interactions/Quizzes",["require","collections/BaseCollection","helpers/resume/Chunk"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("helpers/resume/Chunk"),n=t.extend({getResumeData:function(){return this.invoke("getResumeData").map(i.create).join("")||i.create("")},setResumeData:function(e){return this.forEach(function(t){t.setResumeData(e.encodedString()),e=e.reChunk()}),e}});return n}),define("models/presentation/interactions/Quiz",["require","lodash","helpers/utils","helpers/constants","helpers/events","helpers/actions","views/helpers/dom","helpers/resolver","helpers/external/tinCan","models/BaseModel","collections/presentation/interactions/Quizzes","collections/presentation/SlideRefs","mixins/actionable","helpers/resume/resumer","models/presentation/mixins/propertizable","helpers/pubSub","helpers/vow","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/constants"),s=e("helpers/events"),r=e("helpers/actions"),o=e("views/helpers/dom"),a=e("helpers/resolver"),l=(e("helpers/external/tinCan"),e("models/BaseModel")),u=e("collections/presentation/interactions/Quizzes"),c=e("collections/presentation/SlideRefs"),h=e("mixins/actionable"),p=e("helpers/resume/resumer"),d=e("models/presentation/mixins/propertizable"),f=e("helpers/pubSub"),m=e("helpers/vow"),g=e("helpers/windowManager"),v=function(e){return!e.prop("Answered")},y=function(e){return 0===e.prop("AttemptCount")},b=function(e){return e.prop("Viewed")===!0},w=function(e){return b(e)&&v(e)},S=function(e){return b(e)&&y(e)},x=function(e){return e.get("istracked")===!0},T=function(e){return e.skipenabled()},E=function(e){return e.isSlide||C(e)},C=function(e){return e.isSlideDraw},A=function(e){return Math.floor(100*e)/100},P=l.extend({mixins:[d,h],shorthand:["issurvey","passPercent","submitunanswered","scoretype","actionGroups"],resolveables:["actionGroups","variables","quizzes"],associations:{sliderefs:c},playerPropNames:{mustPass:!0,QuizComplete:!1,AllQuestionsSubmitted:!1,AllQuestionsAnswered:!1,Score:0,PercentScore:0,PassScore:0,Evaluated:!1,Completed:!1,Passed:!1,Weight:1,model:{PassPercent:"passPercent"}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},shortEvents:{self:function(){var e={};return e[r.EVAL_ALL_UNANSWERED]="evalAllUnanswered",e[r.SET_QUIZ_COMPLETE]="setQuizComplete",e[r.NEXT_VIEWED_SLIDE]="onNextReviewedSlide",e[r.RESET_QUIZ]="onResetQuiz",e}()},subscriptions:function(){var e={};return e[s.data.INITIALIZED]="onDataInitialized",e[s.slide.HAS_CHANGED]="onSlideHasChanged",e[s.player.RESET]="onResetQuiz",e}(),maxPoints:0,currentMaxPoints:0,attempts:0,viewedInteractions:{},initialize:function(){this.referencesBuilt=new m.Deferred,this.listenTo(this.getPlayerProps(),{"change:Score":this.onChangeScoreProp})},onDataInitialized:function(){this.buildReferences(),this.referencesBuilt.then(this.updateInteractionRefs.bind(this))},updateInteractionRefs:function(){this.updateMaxPoints(),this.updatePassScore(),this.listenForViewsAndEvaluations(),this.listenForAnswered()},disconnectReferences:function(){null!=this.flatInteractions&&this.flatInteractions.forEach(function(e){this.stopListening(e)}.bind(this)),null!=this.interactions&&this.interactions.forEach(function(e){this.stopListening(e),this.stopListening(e)}.bind(this))},buildReferences:function(){return this.buildQuizzes(),this.slides=t(this.sliderefs().invoke("getSlide")).filter(E).value(),this.draws=this.slides.filter(C),this.waitForDraws(),m.after.apply(m,this.quizzes.map(t.property("referencesBuilt"))).then(this.referencesBuilt.resolve),this},waitForDraws:function(){var e=this.slides.filter(C),t=!0;e.forEach(function(e){var i=this.onDrawReceived.bind(this,e);this.listenTo(e,s.slide.CHANGE,i),this.listenTo(e,s.draw.RESET,this.onDrawReset.bind(this)),this.listenTo(e,s.draw.RESET_COMPLETE,this.onAfterDrawReset.bind(this)),null==e.slides()?t=!1:i()}.bind(this)),0===e.length&&this.afterDrawReceived()},onDrawReset:function(e){this.disconnectReferences(),e.slides().forEach(function(e){t.remove(this.slides,e)}.bind(this)),t.set(e,["spliceIdx",this.absoluteId],-1),t.set(e,["spliceNum",this.absoluteId],0)},onAfterDrawReset:function(e){this.updateInteractionRefs()},onDrawReceived:function(e){var n=["spliceIdx",this.absoluteId],s=["spliceNum",this.absoluteId],r=i.getPath(e,n,this.slides.indexOf(e)),o=i.getPath(e,s,1);t.set(e,n,r),t.set(e,s,e.slides().length),r>=0&&o>0&&this.slides.splice(r,o),this.slides=this.slides.concat(e.slides().slice()),this.afterDrawReceived()},afterDrawReceived:function(){var e;return this.interactions=t(this.slides).invoke("interactions").compact().value(),this.flatInteractions=t(this.interactions).invoke("slice").flattenDeep().filter(x).value(),this.slides.forEach(function(e){null!=e.setQuiz&&e.setQuiz(this)}.bind(this)),this.flatInteractions.forEach(function(e,t){e.prop("QuestionIndex",t)}),e=0===this.flatInteractions.length,this.prop({AllQuestionsSubmitted:this.prop("AllQuestionsSubmitted")||e,AllQuestionsAnswered:this.prop("AllQuestionsAnswered")||e}),this},onSlideHasChanged:function(e){this.currentPlayerSlideId=e},getCurrentSlideIndex:function(){return t.findIndex(this.slides,function(e){return i.stripPlayer(e.absoluteId)===this.currentPlayerSlideId}.bind(this))},onNextReviewedSlide:function(e,i){var n,r=this.getCurrentSlideIndex()+1;r===this.slides.length?f.trigger(s.request.NEXT_SLIDE,e.completed_slide_ref.value):(n=t.find(this.slides.slice(r),function(e){return t.contains(p.totalViewedSlides,e)}),null!=n&&f.trigger(s.request.NEXT_SLIDE,n.absoluteId))},onResetQuiz:function(){this.resetProps(),this.completed=!1,this.viewedInteractions={},this.currentMaxPoints=0,t.invoke(this.flatInteractions,"resetResume",!0),this.slides.forEach(function(e){e.resetResume(),e.updateInteractionData().onAfterResumeBuilt()}),t.invoke(this.draws,"generateDraw"),this.updatePassScore().updateScore(),this.hasScoring()&&this.getScoring().prop("Completed",!1),p.savePresentationData(),this.attempts++},listenForViewsAndEvaluations:function(){this.interactions.forEach(function(e){this.listenTo(e,s.interaction.VIEWED,this.onInteractionViewed),this.listenTo(e,s.interaction.EVALUATED,this.onInteractionEvaluated)}.bind(this))},listenForAnswered:function(){this.flatInteractions.forEach(function(e){this.listenTo(e.getPlayerProps(),"change:Answered",this.onInteractionAnswered)}.bind(this))},buildQuizzes:function(){var e=(this.getClosestParentRef(),this.get("quizrefs")||[]);this.quizzes=e.map(function(e){var t=a.resolvePath(i.prefixWithPlayer(e.id),this);return t.prop({mustPass:e.mustpass,weight:e.weight}),t}.bind(this)),this.hasScoring()&&this.quizzes.forEach(function(e){e.setScoring(this.scoring)}.bind(this))},isPassed:function(){return this.updatePassScore().updatePercentScore(),this.prop("Score")>=this.prop("PassScore")&&this.quizzes.every(function(e){return e.prop("mustPass")&&e.isPassed()})},calcScore:function(){return this.calcThisScore()+this.calcChildScores()},calcThisScore:function(){return t.reduce(this.flatInteractions,function(e,i){return e+t.result(i,"getLastScore",0)},0)},calcChildScores:function(){return this.reduceQuizzes(function(e,t){return e+t.calcScore()},0)},updateScore:function(){return this.prop("Score",this.calcScore()),this.hasScoring()&&this.getScoring().updateScore(this),this.prop("Passed",this.isPassed()),this},getMaxPoints:function(){return"partial"===this.scoretype()?this.currentMaxPoints:this.maxPoints},calcPassScore:function(){return A(i.pctToDec(this.prop("PassPercent"))*this.getMaxPoints())},updatePassScore:function(){return this.prop("PassScore",this.calcPassScore()),this},calcPercentScore:function(){return A(i.decToPct(this.prop("Score")/this.getMaxPoints()))},updatePercentScore:function(){return this.prop("PercentScore",this.calcPercentScore()),this},calcMaxPoints:function(){return this.calcThisMaxPoints()+this.calcChildMaxPoints()},calcThisMaxPoints:function(){return t(this.flatInteractions).invoke("maxpoints").reduce(i.add,0)},calcChildMaxPoints:function(){return this.reduceQuizzes(function(e,t){return e+t.calcMaxPoints()},0)},reduceQuizzes:function(e,t){return 0===this.quizzes.length?t:this.quizzes.reduce(e.bind(this),t)},updateMaxPoints:function(){return this.maxPoints=this.calcMaxPoints()||1,this},onInteractionEvaluated:function(e){this.updateScore().updateAllQuestionsSubmitted(),f.trigger(s.interaction.EVALUATED,this,e)},onInteractionViewed:function(e,i){null==this.viewedInteractions[e]&&(this.viewedInteractions[e]=i),this.currentMaxPoints=t.reduce(this.viewedInteractions,function(e,t){return e+t},0)},onInteractionAnswered:function(e){this.prop("AllQuestionsAnswered",this.getUnansweredInteractions().every(T))},onChangeScoreProp:function(){this.updatePercentScore()},updateAllQuestionsSubmitted:function(){return this.prop("AllQuestionsSubmitted",this.getUnsubmittedInteractions().every(T)),this},getUnsubmittedInteractions:function(){var e="viewed"===this.submitunanswered()?S:y;return this.flatInteractions.filter(e)},getUnansweredInteractions:function(){var e="viewed"===this.submitunanswered()?w:v;return this.flatInteractions.filter(e)},attempted:function(){return this.flatInteractions.length!==this.getUnansweredInteractions().length||this.quizzes.some(function(e){return e.attempted()})},evalAllUnanswered:function(){var e=g.getCurrentWindowSlide();return null!=e&&e.storeInteractionResults(),this.prop("Evaluated")||(this.getUnsubmittedInteractions().forEach(function(e){e.evaluateUnanswered()}),this.quizzes.forEach(function(e){e.evalAllUnanswered()}),this.prop("Evaluated",!0)),this.quizzes.forEach(function(e){e.evalAllUnanswered()}),this.updateScore(),this.setResumeInMotion(),this.timeComplete=this.timeComplete||new Date,this},setQuizComplete:function(){var e=this.completed;this.completed=!0,this.prop("QuizComplete",this.quizzes.every(function(e){return e.getIsComplete()})),this.updateScore(),e||f.trigger(s.quiz.COMPLETED,this),this.hasScoring()&&this.getScoring().checkCourseComplete(),this.timeComplete=new Date},getIsComplete:function(){return this.prop("QuizComplete")===!0},setResumeInMotion:function(){this.slides.forEach(function(e){e.updateInteractionData().onAfterResumeBuilt()})},getResumeData:function(){return[Number(this.prop("Evaluated")),Number(this.prop("QuizComplete"))].join("")},setResumeData:function(e){this.prop({Evaluated:"1"===e.charAt(0),QuizComplete:"1"===e.charAt(1)}),this.updateScore(),this.hasScoring()&&this.getScoring().updateStatus(),this.updateAllQuestionsSubmitted()},setScoring:function(e){this.scoring=e},getScoring:function(){return this.scoring},hasScoring:function(){return!!this.getScoring()},getAttempts:function(){return this.attempts},markAttemptsSent:function(){this.flatInteractions.forEach(function(e){e.markAttempts()}),this.quizzes.forEach(function(e){e.markAttemptsSent()})},getAoSoapXml:function(){var e=[o.writeNode("quiz",this.getQuizAttributes())];return this.quizzes.length?e.push(this.getQuizzesXml()):(e.push(o.writeNode("interactions")),this.flatInteractions.forEach(function(t){e.push(t.getAoSoapXml())}),e.push(o.writeCloseNode("interactions"))),e.push(o.writeCloseNode("quiz")),e.join("")},getQuizAttributes:function(){var e=this.isType("survey"),t=this.getIsComplete()?n.statuses.COMPLETE:n.statuses.INCOMPLETE,i=this.isPassed()?n.statuses.PASSING:n.statuses.FAILING,s=e?t:i,r={idRef:this.id,duration:0,status:s};return e||(r.score=Math.floor(100*this.prop("Score"))/100,r.possibleScore=this.maxPoints),r},getQuizzesXml:function(){var e=[o.writeNode("quizzes")];return this.quizzes.forEach(function(t){e.push(t.getAoSoapXml())}),e.push(o.writeCloseNode("quizzes")),e.join("")}});return u.prototype.model=P,P}),define("models/presentation/interactions/Timer",["require","lodash","models/BaseModel","mixins/actionable","mixins/subscribable","models/presentation/mixins/eventable","helpers/resume/Chunk","helpers/actions","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("models/BaseModel")),i=e("mixins/actionable"),n=e("mixins/subscribable"),s=e("models/presentation/mixins/eventable"),r=e("helpers/resume/Chunk"),o=e("helpers/actions"),a=e("helpers/utils"),l=t.extend({mixins:[i,s,n],shorthand:["events"],shortEvents:{self:function(){var e={};return e[o.SHOW_TIMER]="onShowTimer",e[o.HIDE_TIMER]="onHideTimer",e[o.START_TIMER]="onStartTimer",e[o.PAUSE_TIMER]="onPauseTimer",e[o.RESET_TIMER]="onResetTimer",e}()},onShowTimer:function(){this.trigger("show")},onHideTimer:function(){this.trigger("hide")},onStartTimer:function(){this.trigger("start")},onPauseTimer:function(){this.trigger("pause")},onResetTimer:function(){this.trigger("reset")},setResumeData:function(e){var t,i=this.currView;"1"===e.charAt(0)&&(null!=i?(this.trigger("show"),this.trigger("start"),t=r.fromSignedString64(e.substr(1)),i.elapsed(a.toSeconds(t),!0),this.deferredResumeData=""):this.deferredResumeData=e)},performDeferredResume:function(){null!=this.deferredResumeData&&this.setResumeData(this.deferredResumeData)},getResumeData:function(){var e=this.currView;return[e.started||e.resumeOnSlideReady?"1":"0",r.toSignedString64(a.toMilliseconds(e.elapsed()),3)].join("")}});return l}),define("collections/presentation/interactions/Timers",["require","collections/BaseCollection","models/presentation/interactions/Timer","helpers/resume/Chunk"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/interactions/Timer"),n=e("helpers/resume/Chunk"),s=t.extend({model:i,getResumeData:function(){return this.invoke("getResumeData").map(n.create).join("")||n.create("")},setResumeData:function(e){return this.forEach(function(t){t.setResumeData(e.encodedString()),e=e.reChunk()}),e}});return s}),define("models/presentation/AudioPlaylist",["require","lodash","helpers/appState","helpers/events","helpers/AudioLoader","helpers/audio/audioManager","models/BaseModel","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("helpers/appState"),n=e("helpers/events"),s=e("helpers/AudioLoader"),r=e("helpers/audio/audioManager"),o=e("models/BaseModel"),a=e("helpers/vow"),l=function(e){return["presentation_content",e].join("/")},u=(new a.Deferred).resolve().promise(),c=(new a.Deferred).reject().promise(),h=o.extend({initialize:function(){this.clips={},this.onClipEndedDelegate=this.onClipEnded.bind(this),this.listenTo(i,n.volume.CHANGE_CURRENT,this.onVolumeChanged)},isPlaying:function(){return null!=this.currentlyPlayingIdx},getRelativeVolume:function(e){return this.get("volume")*e/100},play:function(){return this.get("filenames").length>0&&this.playIdx(0),this},playIdx:function(e){var t=this.get("filenames")[e],s=r.loadUrl(l(t));return s.on(n.audioClip.ENDED,this.onClipEndedDelegate),s.setVolume(this.getRelativeVolume(i.currentVolume())),s.play(),this.clips[e]=s,this.currentlyPlayingIdx=e,this.preloadNext(),this},stop:function(){return Object.keys(this.clips).forEach(this.stopIdx.bind(this)),this.currentlyPlayingIdx=null,this},stopIdx:function(e){var t=this.clips[e];return t.off(n.audioClip.ENDED,this.onClipEndedDelegate),t.destroy(),this.clips[e]=null,this},pause:function(){return this.isPlaying()&&!this.isPaused&&(this.clips[this.currentlyPlayingIdx].pause(),this.isPaused=!0),this},resume:function(){return this.isPlaying()&&this.isPaused&&(this.clips[this.currentlyPlayingIdx].play(),this.isPaused=!1),this},load:function(){return this.get("filenames").length>0?this.loadIdx(0):u},loadIdx:function(e){var t=l(this.get("filenames")[e]),i=new s({type:"audio",url:t});return i.promise.always(i.teardown.bind(i))},preloadNext:function(){var e=this.currentlyPlayingIdx+1;if(e>=this.get("filenames").length){
if(!this.get("loop"))return c;e=0}return e===this.currentlyPlayingIdx?c:this.loadIdx(e)},onClipEnded:function(){var e=this.currentlyPlayingIdx+1;if(e>=this.get("filenames").length){if(!this.get("loop"))return void this.stopIdx(this.currentlyPlayingIdx);e=0}this.currentlyPlayingIdx!==e?(this.stopIdx(this.currentlyPlayingIdx),this.playIdx(e)):this.clips[this.currentlyPlayingIdx].seek(0).play()},onVolumeChanged:function(e,i){t.invoke(this.clips,"setVolume",this.getRelativeVolume(i))}});return h}),define("collections/presentation/AudioPlaylists",["require","lodash","models/presentation/AudioPlaylist","collections/BaseCollection","helpers/events","helpers/resolver","helpers/utils","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/AudioPlaylist"),n=e("collections/BaseCollection"),s=e("helpers/events"),r=e("helpers/resolver"),o=e("helpers/utils"),a=e("helpers/vow"),l=(new a.Deferred).resolve().promise(),u=t.memoize(function(e){return r.resolvePath(o.prefixWithPlayer(e),null,{optional:!0})}),c=n.extend({model:i,subscriptions:function(){var e={};return e[s.slide.STARTED]="onSlideStarted",e}(),initialize:function(){this.onTimelinePlayingDelegate=this.onTimelinePlaying.bind(this),this.onTimelinePausedDelegate=this.onTimelinePaused.bind(this),this.onTimelineSeekStartDelegate=this.onTimelineSeekStart.bind(this),this.onTimelineSeekEndDelegate=this.onTimelineSeekEnd.bind(this)},findPlaylist:function(e){return this.find(function(t){return t.get("slideids").indexOf(e)>=0})},load:function(e){var t=this.findPlaylist(e);return null==t||t.isPlaying()?(null!=this.timeline&&(this.timeline.off(s.timeline.PLAYING,this.onTimelinePlayingDelegate),this.timeline.off(s.timeline.PAUSED,this.onTimelinePausedDelegate),this.timeline.off(s.timeline.SEEK_START,this.onTimelineSeekStartDelegate),this.timeline.off(s.timeline.SEEK_END,this.onTimelineSeekEndDelegate),this.timeline=null),l):t.load()},onSlideStarted:function(e){var t=this.currentlyPlaying,i=this.findPlaylist(e);t!==i&&(null!=t&&t.stop(),null!=i&&i.play()),null!=i&&(this.timeline=u(e).getBaseLayer().timeline(),this.timeline.on(s.timeline.PLAYING,this.onTimelinePlayingDelegate),this.timeline.on(s.timeline.PAUSED,this.onTimelinePausedDelegate),this.timeline.on(s.timeline.SEEK_START,this.onTimelineSeekStartDelegate),this.timeline.on(s.timeline.SEEK_END,this.onTimelineSeekEndDelegate)),this.currentlyPlaying=i},onTimelinePlaying:function(){this.seeking||this.currentlyPlaying.resume()},onTimelinePaused:function(){this.seeking||this.currentlyPlaying.pause()},onTimelineSeekStart:function(){this.seeking=!0},onTimelineSeekEnd:function(){this.seeking=!1}});return c}),define("models/presentation/Presentation",["require","lodash","helpers/vow","models/BaseModel","models/presentation/SlideMap","models/presentation/Display","models/presentation/Scoring","collections/presentation/Variables","collections/presentation/Scenes","collections/presentation/SlideBank","collections/presentation/Assets","models/presentation/interactions/Quiz","collections/presentation/interactions/Quizzes","collections/presentation/interactions/Timers","models/presentation/mixins/eventable","models/presentation/mixins/propertizable","collections/presentation/AudioPlaylists","collections/presentation/AudioLib","helpers/utils","helpers/actionManager","helpers/errorManager","helpers/windowManager","helpers/events","helpers/pubSub","helpers/constants","helpers/playerGlobals","mixins/actionable","mixins/varPropListenable"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),n=e("models/BaseModel"),s=e("models/presentation/SlideMap"),r=e("models/presentation/Display"),o=e("models/presentation/Scoring"),a=e("collections/presentation/Variables"),l=e("collections/presentation/Scenes"),u=(e("collections/presentation/SlideBank"),e("collections/presentation/Assets")),c=(e("models/presentation/interactions/Quiz"),e("collections/presentation/interactions/Quizzes")),h=e("collections/presentation/interactions/Timers"),p=e("models/presentation/mixins/eventable"),d=e("models/presentation/mixins/propertizable"),f=e("collections/presentation/AudioPlaylists"),m=e("collections/presentation/AudioLib"),g=e("helpers/utils"),v=e("helpers/actionManager"),y=e("helpers/errorManager"),b=(e("helpers/windowManager"),e("helpers/events")),w=e("helpers/pubSub"),S=(e("helpers/constants"),e("helpers/playerGlobals")),x=e("mixins/actionable"),T=e("mixins/varPropListenable"),E=y.throwError("Presentation"),C=function(e){return!e.isMessageScene()},A=n.extend({mixins:[x,p,T],resolveables:["variables"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:a}}),P=n.extend({abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},mixins:[p,d],subscriptions:function(){var e={};return e[b.customlink.EVENT]="onCustomlink",e[b.actionlink.EVENT]="onActionlink",e[b.presentation.ON_OBJECT_EVENT]="onObjectAction",e[b.error.INTERFACE]="onInterfaceError",e[b.slide.HAS_CHANGED]="onSlideChanged",e[b.data.INITIALIZED]="onDataInitialized",e}(),url:function(){return g.resolveDataUrl("data")},associations:{slideMap:s,display:r,scoring:o,variables:a,scenes:l,assetLib:u,globalaudiolib:m,quizzes:c,timers:h,audioplaylists:f},resolveables:["scenes","variables","actionGroups","quizzes","slideBank","timers"],shorthand:["entryPoint","resume","events","actionGroups","playerVars"],playerPropNames:{CurrentSlideId:null,LastErrorFeature:null},resolvers:{slideBank:function(e,i){return t.findWhere(i.slides,{id:e})}},initialize:function(){S.presentation=this},getPlayerVarDefaultValues:function(){var e=this.get("playervars"),t={};return e.forEach(function(e){t[e.name]=e.value}),t},createPlayerVars:function(){var e=this.getPlayerVarDefaultValues(),t={displayCaptions:"boolean"},i=new A({variables:[{kind:"variable",name:"displayCaptions",type:t.displayCaptions||"boolean",value:e.displayCaptions||!1,resume:!1}]});this.playerVars(i)},onDataInitialized:function(){var e=t(this.scenes().models).invoke("slidedraws").map(function(e){return e.models}).flatten();e.some()?e.forEach(function(e){this.listenTo(e,b.draw.RESET_COMPLETE,this.prepareToCreateSlideIndices.bind(this))}.bind(this)).commit():this.prepareToCreateSlideIndices(),null!=this.get("playervars")&&this.createPlayerVars()},getDrawPromise:function(){return null==this.drawPromise&&(this.drawPromise=i.after.apply(i,t.invoke(this.scenes().filter(C),"getDrawPromise"))),this.drawPromise},prepareToCreateSlideIndices:function(){this.getDrawPromise().done(this.createSlideIndices.bind(this))},getFlatSlides:function(e){var i=null!=e?C:Boolean;return t(this.scenes().filter(i)).invoke("getAllSlides").flatten().value()},getUniqueSlides:function(){var e=this.getFlatSlides(!0),t={};return e.reduce(function(e,i){var n=i.getViewGroupId(),s=i.get("trackViews");return s&&null==t[n]&&(t[n]=!0,e.push(i)),e},[])},createSlideIndices:function(){var e=0;this.scenes().forEach(function(i){i.slides().forEach(function(t){t.prop("Index",e++)}),i.slidedraws().forEach(function(i){var n=i.sliderefs();i.slides().forEach(function(i){i.prop("Index",e+t.findIndex(n,{id:i.id}))}),e+=n.length})})},onCustomlink:function(e){this.executePlayerEvent(e)},onActionlink:function(e){var i=g.getPath(t.find(this.get("actionlinks"),{id:e}),"actions");null==i?E("onActionLink","No action link with id",y.backtick(e)):v.executeActions(i,{context:this})},eventByName:function(e){return t.findWhere(this.events(),{eventname:e})},onObjectAction:function(e){var t=this.eventByName(e);null!=t&&v.executeActions(t.actions,{context:this})},onInterfaceError:function(e){var t=this.get("errorMsgs").external_interface;this.prop("LastErrorFeature",e),w.trigger(b.request.NEXT_SLIDE,t.slideId,t.window)},onSlideChanged:function(e,t){t||this.prop("CurrentSlideId",e)},isPreview:t.memoize(function(){return!!g.getPath(this,"preview.enabled")})});return P}),define("models/player/Link",["require","lodash","models/BaseModel","helpers/utils","collections/player/Links"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/utils"),s=e("collections/player/Links"),r=i.extend({associations:{links:s},shorthand:["slideid"],isLink:!0,initialize:function(){this.isActionLink=this.isType("action"),this.isKind("slidedrawref")?this.collection.prepareDrawSlides(this,this.get("drawid")):this.isActionLink||t.isEmpty(this.slideid())||this.slideid(n.prefixWithPlayer(this.slideid()))},findDeep:function(e){return this.slideid()===e?this:this.links().findDeep(e)},isOrHasChild:function(e){return!!this.findDeep(e)},hasChild:function(e){return this.links().hasChildSlide(e)}});return s.prototype.model=r,r}),define("models/player/NavData",["require","models/BaseModel","models/player/Link","collections/player/Links"],function(e){"use strict";var t=e("models/BaseModel"),i=(e("models/player/Link"),e("collections/player/Links")),n=t.extend({associations:{links:i}}),s=t.extend({associations:{outline:n}});return s}),define("models/player/ResourceData",["require","models/BaseModel","collections/BaseCollection"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/BaseCollection"),n=t.extend({shorthand:["description"],associations:{resources:i}});return n}),define("models/player/Player",["require","lodash","models/BaseModel","collections/BaseCollection","models/player/NavData","models/player/ResourceData","helpers/utils","helpers/constants","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("collections/BaseCollection"),s=e("models/player/NavData"),r=e("models/player/ResourceData"),o=e("helpers/utils"),a=e("helpers/constants"),l=e("helpers/events"),u=e("helpers/pubSub"),c=i.extend({associations:{sidebarOptions:i.extend({associations:{tabs:i}}),bottomBarOptions:i,menuOptions:i,controls:i},subscriptions:function(){var e={};return e[l.controlLayout.CHANGED]="onChangeControls",e}(),onChangeControls:function(e){this.controls().set(e)}}),h=i.extend({associations:{navData:s,glossaryData:n,resourceData:r,notesData:n,controlOptions:c,layouts:i,controlLayouts:i,stringTables:i},url:function(){return o.resolveDataUrl("frame")},initialize:function(){this.on("sync",this.onDataSynced)},getTab:function(e){return this.controlOptions().sidebarOptions().tabs().get(e)||[]},getLayout:function(e){return this.layouts().get(e)},onDataSynced:function(){var e=this.getLayout(this.get("default_layout")),t=this.controlLayouts().get(e.controllayout);u.trigger(l.controlLayout.CHANGED,t),u.trigger(l.scheme.CHANGED,e.colorscheme),u.trigger(l.player.MENU_OPTIONS,this.controlOptions().menuOptions()),a.player.OUTPUT_TYPE=this.get("outputtype")}}),p=h.prototype;return p.getSidebar=t.partial(p.getTab,"sidebar"),p.getLinkLeft=t.partial(p.getTab,"linkLeft"),p.getLinkRight=t.partial(p.getTab,"linkRight"),h}),define("views/App",["require","lodash","helpers/utils","helpers/pubSub","react","views/mixins/baseView","polyfills/detection","helpers/scaler","helpers/events","helpers/appState","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/pubSub"),s=e("react"),r=e("views/mixins/baseView"),o=e("polyfills/detection"),a=e("helpers/scaler"),l=e("helpers/events"),u=e("helpers/appState"),c=e("polyfills/vendorOverrides");(c.detectVisibilityChange||function(){document.addEventListener("visibilitychange",function(e){n.trigger(l.detection["VISIBILITY_"+(document.hidden?"HIDDEN":"SHOWN")])},!1)})();var h=s.createClass({displayName:"App",mixins:[r],subscriptions:function(){var e={};return e[l.loader.SHOW]="onLoaderShow",e[l.loader.MUTE]="onLoaderMute",e[l.loader.UNMUTE]="onLoaderUnmute",e[l.loader.HIDE]="onLoaderHide",e[l.loader.REMOVE_TITLE]="onRemoveLoaderTitle",e[l.window.SCALE]="onWindowScale",e[l.detection.ORIENTATION_CHANGE]="onOrientationChange",e[l.detection.VISIBILITY_HIDDEN]="onVisibilityHidden",e[l.detection.VISIBILITY_SHOWN]="onVisibilityShown",e[l.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",e}(),shortEvents:{player:{"change:orientations":"refreshOrientations"}},getInitialState:function(){return t.extend({},this.getIsTooBig(),{hasError:!1,scale:a.getScale()})},isRtl:function(e){return"rtl"===e.toLowerCase()},componentWillMount:function(){n.once(l.player.ERROR,function(){this.setState({hasError:!0})}.bind(this)),this.sidebarOpts=this.getPath("props.player.controlOptions.sidebarOptions"),this.bottomBarOpts=this.getPath("props.player.controlOptions.bottomBarOptions"),this.setDeviceClasses().refreshOrientations()},widthChange:function(e){this.setState({isTooWide:!e.matches})},heightChange:function(e){this.setState({isTooTall:!e.matches})},refreshOrientations:function(){return this.setState({orientations:this.props.player.get("orientations")}),this},componentDidMount:function(){var e,t,i=this.props.presentation.display().get("width"),s=this.props.presentation.display().get("height");this.killMainLoader(),this.state.isTooTall&&document.body.classList.add("is-too-tall"),this.state.isTooWide&&document.body.classList.add("is-too-wide"),window.matchMedia&&(e=window.matchMedia(["(min-width: ",i,"px)"].join("")),e.addListener(this.widthChange),t=window.matchMedia(["(min-height: ",s,"px)"].join("")),t.addListener(this.heightChange)),n.trigger(l.app.COMPLETE),a.isShowAll()||(window.addEventListener("resize",this.onResize),this.onResize())},onResize:function(){document.body.clientHeight<document.body.scrollHeight||document.body.clientWidth<document.body.scrollWidth?document.body.classList.contains("has-scrollbar")||document.body.classList.add("has-scrollbar"):document.body.classList.remove("has-scrollbar")},componentDidUpdate:function(e,t){var i=this.state.isTooTall,n=this.state.isTooWide,s=t.isTooTall,r=t.isTooWide;s!==i&&document.body.classList[i?"add":"remove"]("is-too-tall"),r!==n&&document.body.classList[n?"add":"remove"]("is-too-wide")},onLoaderHide:function(){clearTimeout(this.loaderTimeout),this.setState({showLoader:!1})},onLoaderMute:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=0)},onLoaderUnmute:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=1)},showLoaderDelayed:function(e){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,e)},onLoaderShow:function(e){e>0?this.showLoaderDelayed(e):this.setState({showLoader:!0})},getSpinLoader:function(){return document.querySelector("body > .slide-loader")},killMainLoader:function(){var e=this.getSpinLoader();null!=e&&(o.isMobileOrTouchableTheme?this.onLoaderMute():e.parentNode.removeChild(e))},onRemoveLoaderTitle:function(){var e=document.querySelector("body > .mobile-load-title-overlay");null!=e&&e.parentNode.removeChild(e)},setDeviceClasses:function(){return o.isMobile?(document.body.classList.add("is-mobile"),document.getElementById("preso").setAttribute("class","")):document.body.classList.add("is-desktop"),this.isRtl(this.props.player.get("textdirection"))&&document.documentElement.classList.add("text-direction-rtl"),(o.isWebObject||o.hideFrame)&&document.body.classList.add("hide-frame"),this},hasLeftLink:function(){return i.getPath(this.sidebarOpts,"tabs.linkLeft")},hasRightLink:function(){return i.getPath(this.sidebarOpts,"tabs.linkRight")},hasTopBar:function(){return this.sidebarOpts.get("titleEnabled")||this.hasRightLink()||this.hasLeftLink()||this.getPath("props.player.controlOptions.controls.elapsedandtotaltime")||this.props.presentation.timers().length>0},hasSidebar:function(){return this.sidebarOpts.get("sidebarEnabled")},hasBottomBar:function(){return this.bottomBarOpts.get("bottomBarEnabled")},hasMobileUi:function(e){var t=this.hasRightLink()||this.hasLeftLink();return t&&document.body.classList.add("has-custom-links"),!(!(this.hasSidebar()||this.hasBottomBar()||t)&&(e?1:!o.is360||o.isDevicePreview&&!o.enableFs))},sidebarPos:function(){return this.sidebarOpts.get("sidebarPos")},getErr:function(){return this.state.hasError?"shown":"hidden"},onWindowScale:function(){this.setState(t.extend({},this.getIsTooBig(),{scale:a.getScale()})),this.forceUpdate()},onOrientationChange:function(){this.setState(this.getIsTooBig())},onVisibilityHidden:function(){this.lastVolume=u.currentVolume(),n.trigger(l.volume.CHANGED,0)},onVisibilityShown:function(){null!=this.lastVolume&&(n.trigger(l.volume.CHANGED,this.lastVolume),this.lastVolume=null)},getIsTooBig:function(){var e=this.props.presentation.display().get("width"),t=this.props.presentation.display().get("height"),i=a.getWindowDimensions(),n=a.getScale(),s=null!=n;return{isTooTall:s?!1:t>i.height,isTooWide:s?!1:e>i.width}},initKeyboardShortcuts:function(){n.trigger(l.player.ENABLE_KEYBOARD_SHORTCUTS,this.getPath("props.player.controlOptions.controls.enableKeyboardShortcuts"))},onFrameControlKey:function(e){var t=this.props.presentation;e.HOME?t.executePlayerEvent("first_slide_triggered"):e.END?t.executePlayerEvent("last_slide_triggered"):e.M&&n.trigger(l.volume.TOGGLE)}});return h}),define("helpers/authorApi",["require","lodash","helpers/automation","helpers/actionManager","helpers/resolver","helpers/utils"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/automation"),s=e("helpers/actionManager"),r=e("helpers/resolver"),o=e("helpers/utils"),a=function(e){t=e,window.GetPlayer=h},l=function(e){var i=r.resolvePath(o.prefixWithPlayer(e),t);return i},u=function(e){var t=l(e);return null!=t?t.value():null},c=function(e,i){var n,r=l(e);null!=r&&(n={kind:"adjustvar",variable:r.absoluteId,operator:"set",value:{type:r.type(),value:i}},s.executeAction(n,{context:t}))},h=function(){var e=n.getPlayer&&n.getPlayer()||{};return i.extend(p,e)},p={GetVar:u,SetVar:c},d={initialize:a};return d}),define("helpers/previewHelper",["lodash","helpers/actionManager","helpers/errorManager","helpers/pubSub","helpers/events","helpers/resolver","helpers/utils"],function(e,t,i,n,s,r,o){"use strict";var a,l,u,c=i.throwError("previewHelper"),h={kind:"adjustvar",operator:"set"},p={kind:"reset_player"},d=function(e){var t=r.resolvePath(o.prefixWithPlayer(e),{context:u,optional:!0});if(null==t)throw new Error(["No object exists at path ",o.doubleQuote(e)].join(""));return t},f=function(e){var t=d(e);return t.isVar?t.value():t},m=function(i,n){var s=d(i);if(!s.isVar)throw new Error(["Object at",o.doubleQuote(i),"is not a variable"].join(" "));t.executeAction(e.defaults({variable:s.absoluteId,value:{type:s.type(),value:n}},h),{context:u})},g=function(e){n.trigger(s.request.NEXT_SLIDE,o.prefixWithPlayer(e))},v=function(i){t.executeAction(e.defaults({startslideid:o.prefixWithPlayer(i)},p),{context:u})},y=function(e){var t=d(e);if(!t.isSlide)throw new Error(["Object at",o.doubleQuote(e),"is not a slide"].join(" "));t.reset()},b=function(e){l.set("orientations",e)},w={getValue:f,gotoSlide:g,overrideOrientations:b,resetPlayer:v,resetSlide:y,setVariable:m},S=function(e){a.postMessage(JSON.stringify(e),"*")},x=function(e,t){S({jsonrpc:"2.0",id:e,result:t})},T=function(e,t){S({jsonrpc:"2.0",id:e,error:{code:-1,message:t}})},E=function(e,t){S({jsonrpc:"2.0",method:e,params:t})},C=function(){E("notifyPreview",e.toArray(arguments))},A=function(e){var t=JSON.parse(e.data);try{x(t.id,w[t.method].apply(this,t.params))}catch(i){T(t.id,i.message)}},P=function(e,t){if(t.isPreview()){if(null==window.parent||window.parent===window)return void c("initialize","Cannot load parent window");l=e,u=t,a=window.parent,window.addEventListener("message",A),n.on(s.preview.NOTIFY,C),C("PREVIEW_FRAME_READY")}},_={initialize:P};return _}),define("helpers/svg/reactSvg",["require","react"],function(e){"use strict";var t=e("react"),i=t.Injection.DOMProperty.MUST_USE_ATTRIBUTE;return t.Injection.DOMProperty.injectDOMPropertyConfig({Properties:{accentHeight:i,accumulate:i,alignmentBaseline:i,alphabetic:i,amplitude:i,animate:i,arabicForm:i,ascent:i,attributeType:i,azimuth:i,baseFrequency:i,baselineShift:i,bbox:i,bias:i,by:i,calcMode:i,capHeight:i,clip:i,clipPathUnits:i,clipRule:i,colorInterpolation:i,colorInterpolationFilters:i,colorProfile:i,colorRendering:i,contentScriptType:i,contentStyleType:i,cursor:i,descent:i,diffuseConstant:i,direction:i,display:i,divisor:i,dominantBaseline:i,dur:i,edgeMode:i,elevation:i,enableBackground:i,end:i,exponent:i,externalResourcesRequired:i,feColorMatrix:i,feComposite:i,feGaussianBlur:i,feMorphology:i,feTile:i,fillRule:i,filter:i,filterRes:i,filterUnits:i,floodColor:i,floodOpacity:i,fontSizeAdjust:i,fontStretch:i,fontStyle:i,fontVariant:i,fontWeight:i,format:i,from:i,g1:i,g2:i,glyphName:i,glyphOrientationHorizontal:i,glyphOrientationVertical:i,glyphRef:i,hanging:i,horizAdvX:i,horizOriginX:i,horizOriginY:i,ideographic:i,imageRendering:i,in2:i,"in":i,intercept:i,k1:i,k2:i,k3:i,k4:i,k:i,kernelMatrix:i,kernelUnitLength:i,kerning:i,keyPoints:i,keySplines:i,keyTimes:i,lengthAdjust:i,letterSpacing:i,lightingColor:i,limitingConeAngle:i,local:i,markerHeight:i,markerUnits:i,markerWidth:i,mask:i,maskContentUnits:i,maskUnits:i,mathematical:i,mode:i,numOctaves:i,operator:i,order:i,orient:i,orientation:i,origin:i,overflow:i,overlinePosition:i,overlineThickness:i,panose1:i,path:i,pathLength:i,patternTransform:i,pointerEvents:i,pointsAtX:i,pointsAtY:i,pointsAtZ:i,preserveAlpha:i,primitiveUnits:i,radius:i,refX:i,refY:i,renderingIntent:i,repeatCount:i,repeatDur:i,requiredExtensions:i,restart:i,result:i,rotate:i,scale:i,seed:i,shapeRendering:i,slope:i,spacing:i,specularConstant:i,specularExponent:i,startOffset:i,stdDeviation:i,stemh:i,stemv:i,stitchTiles:i,strikethroughPosition:i,strikethroughThickness:i,strokeDashoffset:i,strokeLinejoin:i,strokeMiterlimit:i,surfaceScale:i,systemLanguage:i,tableValues:i,targetX:i,targetY:i,textDecoration:i,textLength:i,textRendering:i,to:i,u1:i,u2:i,underlinePosition:i,underlineThickness:i,unicode:i,unicodeBidi:i,unicodeRange:i,unitsPerEm:i,vAlphabetic:i,vHanging:i,vIdeographic:i,vMathematical:i,values:i,vertAdvY:i,vertOriginX:i,vertOriginY:i,viewTarget:i,visibility:i,widths:i,wordSpacing:i,writingMode:i,xChannelSelector:i,xHeight:i,xmlns:i,yChannelSelector:i,z:i,zoomAndPan:i},DOMAttributeNames:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",attributeType:"attributeType",baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",calcMode:"calcMode",capHeight:"cap-height",clipPath:"clip-path",clipPathUnits:"clipPathUnits",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",diffuseConstant:"diffuseConstant",dominantBaseline:"dominant-baseline",edgeMode:"edgeMode",enableBackground:"enable-background",externalResourcesRequired:"externalResourcesRequired",feColorMatrix:"feColorMatrix",feComposite:"feComposite",feGaussianBlur:"feGaussianBlur",feMorphology:"feMorphology",feTile:"feTile",fillRule:"fill-rule",filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",numOctaves:"numOctaves",overlinePosition:"overline-position",overlineThickness:"overline-thickness",panose1:"panose-1",pathLength:"pathLength",patternTransform:"patternTransform",pointerEvents:"pointer-events",pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",primitiveUnits:"primitiveUnits",refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",shapeRendering:"shape-rendering",specularConstant:"specularConstant",specularExponent:"specularExponent",startOffset:"startOffset",stdDeviation:"stdDeviation",stitchTiles:"stitchTiles",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashoffset:"stroke-dashoffset",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textDecoration:"text-decoration",textLength:"textLength",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",wordSpacing:"word-spacing",writingMode:"writing-mode",xChannelSelector:"xChannelSelector",xHeight:"x-height",yChannelSelector:"yChannelSelector",zoomAndPan:"zoomAndPan"}}),{}}),require([],function(){require(["features/featuresHelper"],function(e){null!=e.initialize&&e.initialize()}),require(["lodash","react","react-dom","helpers/backboneSync","helpers/extend","helpers/templateManager","views/events/allEvents"],function(e,t,i){require(["models/presentation/Presentation","models/player/Player","helpers/events","helpers/resolver","helpers/slidesController","helpers/windowManager","helpers/windowOpen","helpers/assetManager","helpers/actionator","views/App","helpers/debug","helpers/pubSub","helpers/appState","helpers/vow","helpers/errorManager","helpers/svg/svgManager","helpers/stringTabler","helpers/automation","helpers/resume/resumer","helpers/keyManager","helpers/scaler","helpers/audio/audioManager","helpers/videoManager","helpers/authorApi","helpers/audioPlaylistManager","helpers/globalAudioManager","helpers/captionsManager","helpers/webObjectHelper","helpers/previewHelper","helpers/printer","helpers/GsapTweenLite","helpers/svg/reactSvg"],function(e,n,s,r,o,a,l,u,c,h,p,d,f,m,g,v,y,b,w,S,x,T,E,C,A,P,_,I,k,R){var O,L=new e,M=new n,D=function(){var e,n;r.initialize(L),o.initialize(L),n=E.initialize(L),e=w.initialize(L,n),b.initialize(o,L),a.initialize(L.display()),S.initialize(a),l.initialize(L),u.initialize(L.assetLib()),A.initialize(L.audioplaylists()),P.initialize(L.globalaudiolib()),c.initialize(M,L),y.initialize(M),C.initialize(L),I.initialize(L),R.initialize(L),d.trigger(s.data.INITIALIZED),_.initialize(L.assetLib(),M,a,null!=L.playerVars()?L.playerVars().variables().get("displayCaptions"):null),O=i.render(t.createElement(h,{presentation:L,player:M,state:f,needsOverlay:n}),document.body.querySelector("#preso")),x.initialize(),p.initialize(L,M,O),k.initialize(M,L),e.always(function(){O.initKeyboardShortcuts(),d.trigger(s.loader.REMOVE_TITLE),T.prepare(),E.prepare(),m.isRejected(this)&&d.trigger(s.request.NEXT_SLIDE),w.courseStarted(m.isResolved(this))})},N=function(){g.throwError("init","initialization","Could not load presentation data")};m.when(L.fetch(),M.fetch(),v.fetch()).done(D).fail(N)})})}),define("main",function(){}),function(){"use strict";require.config({paths:{almond:"../../bower_components/almond/almond",lodash:"../../bower_components/lodash/lodash",backbone:"../../bower_components/backbone/backbone",shorthand:"../../bower_components/backbone.shorthand/src/backbone.shorthand",react:"../../bower_components/react/react-with-addons-dark-spider-patched","react-dom":"../../bower_components/react/react-dom",jquery:"../../bower_components/jquery/jquery","prefix-free":"../../bower_components/prefix-free/prefixfree.min","tween-lite":"../../bower_components/gsap/src/minified/TweenLite.min","timeline-lite":"../../bower_components/gsap/src/minified/TimelineLite.min","ease-pack":"../../bower_components/gsap/src/minified/easing/EasePack.min","css-plugin":"../../bower_components/gsap/src/minified/plugins/CSSPlugin.min","bezier-plugin":"../../bower_components/gsap/src/minified/plugins/BezierPlugin.min",tincan:"../../bower_components/tincan/build/tincan",pathseg:"../../bower_components/pathseg/pathseg",captionator:"../../bower_components/captionator/js/captionator-min"},map:{"*":{underscore:"lodash",react:"helpers/ReactOverride"},"helpers/ReactOverride":{react:"react"}},shim:{shorthand:{deps:["backbone"]},react:{exports:"React"},"prefix-free":{exports:"PrefixFree"},"tween-lite":{exports:"TweenLite"},"timeline-lite":{exports:"TimelineLite",deps:["tween-lite"]},"ease-pack":{exports:"EasePack"},"css-plugin":{exports:"CSSPlugin"},"bezier-plugin":{exports:"BezierPlugin"},captionator:{exports:"captionator"}}}),require(["./main"])}(),define("init.generated",function(){});