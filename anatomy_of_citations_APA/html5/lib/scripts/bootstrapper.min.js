/*! ds-bootstrap - v1.0.0.32080 - 2024-03-21 7:26pm UTC
* Copyright (c) 2024 ; Not Licensed */(function(){var __webpack_modules__={3847:function(t,e,n){var i,r;i=[n(8087)],void 0===(r=function(){Promise.resolve().then((function(){var t=[n(6486),n(6407),n(5273),n(5812),n(6295)];(function(t,e,i){Promise.resolve().then((function(){var e=[n(7510),n(9739),n(857),n(292),n(9229),n(1421),n(5611),n(4698),n(8766),n(7812),n(3754),n(4839),n(9343),n(8579),n(1251),n(8939),n(8880),n(5626),n(1419),n(2581),n(3034),n(373),n(7228),n(3716),n(3563),n(2371),n(8901),n(9835),n(3400),n(9032),n(1070),n(3797),n(9904),n(6882),n(3005),n(4481),n(1291),n(8935),n(2972),n(9447),n(1681),n(7097),n(2075),n(5641),n(2499),n(1294),n(82),n(6194),n(4811),n(118),n(7235),n(7300),n(520),n(3586),n(5173),n(262),n(6978),n(5337),n(6334),n(6159),n(9005),n(4427),n(8945),n(4403),n(5485),n(6936),n(5470),n(3707),n(8467),n(8351)];(function(e,n,r,o,a,s,l,u,c,h,d,f,p,v,g,m,y,b,w,S,A,E,T,C,x,_,k,M,O,P,I,L,D,R,N,H,V,j,F,B,U,W,z,G,q,Y,X,J,K,Z,$,Q,tt,et,nt,it,rt,ot,at,st,lt,ut,ct,ht,dt){if(!window.globals.unsupportedBrowser){var ft,pt=v.deviceView.isMobile?"MOBILE":"DESKTOP",vt=h.frameLocations[pt],gt=h.cssLocations[pt];if(window.globals.useJson&&i.loadFromJson(),!window.globals.AUTHORING_HOST_MODE){ft=function(){return DS.loadScript(h.slideLocation)},(v.deviceView.isMobile||v.theme.isUnified)&&(window.globals.scale="noscale"),window.globals.HAS_SLIDE&&window.globals.HAS_FRAME||D.initialize(window.globals.HAS_SLIDE);var mt=document.createElement("link");mt.type="text/css",mt.href=gt,mt.rel="stylesheet",mt.dataset.noprefix=!0,document.head.appendChild(mt)}if(window.DS=window.DS||{},Object.assign(window.DS,{_:t,globalEventHelper:e,analyticsHelper:n,animationClock:r,AnimationTimeline:o,appState:a,audioContext:s,automation:l,BaseModel:u,captionsManager:c,constants:h,DropIn:d.DropIn,DropInDOM:d.DropInDOM,debug:f,debugWindow:p,detection:v,dom:g,errorManager:m,events:y,fileProtocolOverrides:b,flagManager:w,focusManager:S,fontManager:A,jsAssetStore:E,jsonLoader:T,keyManager:C,localizationManager:x,xliffStore:_,MicroScrollBar:k,mobileChromeKiller:M,pinchZoomController:O,pubSub:P,playerGlobals:I,previewHelper:L,rangeSliders:R,requestAnimationFrame:N,scaler:H,shortcutManager:V,slideNumberManager:j,slideObjectUtils:F,slidesController:B,stringTabler:U,svgUtils:W,tabFocusBox:z,TimelineLite:G,ThreeSixtyImage:q,TransMatrix:Y,TweenLite:TweenLite,utils:X,vendorOverrides:J,vow:K,resolver:Z,webObjectHelper:$,windowOpen:Q,windowManager:tt,mixer:et,PostMessaging:nt,ancestral:it,resolveable:rt,shortEventable:ot,subscribable:at,Chunk:st,courseStateHelper:lt,resumer:ut,lmsManager:ct,superagent:ht,Backbone:dt,clientHeight:document.body.clientHeight,clientWidth:document.body.clientWidth,loadScript:w.multiLangSupport||w.aiCourseTranslation?function(t,e){var n=document.createElement("script");return null!=e&&Object.keys(e).forEach((function(t){n.addEventListener(t,e[t])})),n.src=t,document.head.appendChild(n),n}:function(t,e){var n=document.createElement("script");return n.src=t,n.onload=e,document.head.appendChild(n),n}}),!window.globals.AUTHORING_HOST_MODE){var yt=function(){P.once(y.ds.PRESO_LOADED,(function(t){P.trigger(y.ds.PRESO_READY,DS.presentation,h.els.PRESO),Z.initialize(),B.initialize(DS.presentation),l.initialize(B,DS.presentation),C.initialize(),tt.initialize(),Q.initialize(DS.presentation),$.initialize(DS.presentation),n.initialize(DS.presentation),DS.flagManager.aiCourseTranslation&&_.initialize(DS.presentation.get("translationStyleMap")),f.initialize(window.globals.HAS_SLIDE?DS.presentation:void 0,window.globals.HAS_FRAME?DS.frame:void 0),L.initialize(DS.frame,DS.presentation,t),P.trigger(y.app.COMPLETE)}))};P.once(y.ds.FRAME_DATA_LOADED,(function(t){DS.frame=t,yt(),window.globals.HAS_SLIDE?ft():(DS.playerGlobals.presentation=DS.presentation,H.initialize(),P.trigger(y.ds.PRESO_LOADED),DS.frameModel.frame.controlOptions.controls.closed_captions&&P.trigger(y.captions.SHOW_BUTTON))})),window.globals.HAS_FRAME?DS.loadScript(vt):(yt(),ft(),document.querySelector("body > .slide-loader").style.display="none")}}}).apply(null,e)})).catch(n.oe)}).apply(null,t)})).catch(n.oe)}.apply(e,i))||(t.exports=r)},292:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=n(82),r=n(6295),o=n(5641),a=n(857),s=function(t,n){return e.findIndex(t,{id:n})},l=function(t){return t instanceof r||t instanceof o},u=function(t){this.playing=!1,this.currentTime=0,this.lastCallbackTime=-1,this.labels={},this.duration=0,this.callbacks=[],this.seekables=[],this.activeSeekables=[],null!=t&&(["onUpdate","onComplete"].forEach(function(e){this[e]=t[e]}.bind(this)),t.tweens&&t.tweens.forEach(function(t){var e=t.delay();l(t)&&(this.wrapGsap(t),e=i.toMilliseconds(e)),this.addSeekable(t,e,!0)}.bind(this)))};return e.extend(u.prototype,{add:function(t,n,i){if(e.isString(t))this.labels[t]=n;else{if(n=e.isString(n)?this.labels[n]:n||0,e.isFunction(t))return this.insertCallback(this.wrapCallback(t,n)),void this.updateDuration(n);l(t)&&this.wrapGsap(t),e.isFunction(t.stepAnimation)&&this.addSeekable(t,n,i)}},remove:function(t){var n,i,r,o;e.isString(t)?this.labels[t]=null:null!=t.timelineData&&(n=t.timelineData.seekableId,(i=s(this.callbacks,n))>=0&&(this.callbacks.splice(i,1),(r=s(this.seekables,n))>=0&&(this.seekables.splice(r,1),(o=s(this.activeSeekables,n))>=0&&(this.activeMutated=!0,this.activeSeekables.splice(o,1)))),t.timelineData=null,this.mutated=!0)},updateDuration:function(t){t>this.duration&&(this.duration=t,null!=this.timelineData&&this.timelineData.parent.childDurationChanged(this))},childDurationChanged:function(t){this.updateDuration(t.timelineData.startTime+t.totalTime())},wrapGsap:function(t){t.pause(),t.totalTime=function(){return i.toMilliseconds(t.duration())},t.stepAnimation=function(e,n){var r=i.toSeconds(e);t.seek(r,!0),t.render(r,!!n,!0)}},addSeekable:function(t,e,n){var r=t.totalTime(),o=i.clamp(0,r,this.currentTime-e),a=this.wrapSeekable(t,e);this.seekables.push(a),this.insertCallback(a),!n&&this.currentTime>=e&&((this.executingCallbacks||o<=r)&&a.timelineCallback(),this.executingCallbacks||t.stepAnimation(o)),this.updateDuration(e+t.totalTime())},wrapCallback:function(t,n){return{startTime:n,id:e.uniqueId("wc"),timelineCallback:t}},wrapSeekable:function(t,n){var i=e.uniqueId("ws"),r={startTime:n,id:i,seekable:t};return r.timelineCallback=function(){r.seekable.killed||this.activeSeekables.push(r)}.bind(this),t.timelineData={parent:this,seekableId:i,startTime:n},r},insertCallback:function(t){0===this.callbacks.length||t.startTime>=e.last(this.callbacks).startTime?this.callbacks.push(t):this.callbacks.splice(e.sortedLastIndexBy(this.callbacks,t,"startTime"),0,t)},hasParentTimeline:function(){return null!=this.timelineData},pause:function(){this.playing&&!this.hasParentTimeline()&&(this.playing=!1,this.currentTime=this.executingCallbacks?this.lastCallbackTime:a.time()-this.startTime)},play:function(){!this.playing&&!this.hasParentTimeline()&&this.currentTime<this.duration&&(this.playing=!0,this.startTime=a.time()-this.currentTime,a.requestAnimationFrame(this.tick.bind(this)))},seek:function(t,e){this.hasParentTimeline()||(t<=this.lastCallbackTime&&this.reset(),this.startTime=a.time()-t,this.currentTime=t,this.executingCallbacks&&!this.renderDirty||this.update(e))},reset:function(){this.killed||(this.renderDirty=!0,this.lastCallbackTime=-1,this.activeSeekables=[],this.seekables.forEach((function(t){null!=t.seekable.reset&&t.seekable.reset()})))},progress:function(t,e){return null==t?i.clamp(0,1,this.currentTime/(this.duration||1)):(this.seek(t*this.duration,e),this)},isActive:function(){return this.hasParentTimeline()?this.timelineData.parent.isActive():this.playing},time:function(){return i.clamp(0,this.duration,this.currentTime)},totalTime:function(t){if(null==t)return this.duration;this.duration=t},tick:function(){var t;this.killed||(t=this.currentTime,this.playing&&(this.currentTime=a.time()-this.startTime),this.playing&&(t<this.duration||this.activeSeekables.length>0)&&!this.hasParentTimeline()&&(this.update(),a.requestAnimationFrame(this.tick.bind(this))))},stepAnimation:function(t,e){this.currentTime;this.currentTime=i.clamp(0,this.duration,t),this.update(e)},update:function(t){this.renderDirty=!1,!this.silent&&this.executeCallbacks()&&(this.updateActiveSeekables(t),this.onUpdate&&this.onUpdate(),this.currentTime>=this.duration&&(this.playing=!1,t||null==this.onComplete||this.onComplete()))},executeCallbacks:function(){this.executingCallbacks=!0;var t=e.sortedLastIndexBy(this.callbacks,{startTime:this.lastCallbackTime},"startTime");if(t>=this.callbacks.length)return this.executingCallbacks=!1,!0;for(var n=this.callbacks.slice(t),i=n.length,r=0,o=this.currentTime;!this.killed&&r<i&&n[r].startTime<=o;){if(this.lastCallbackTime=n[r].startTime,n[r].timelineCallback(),o>this.currentTime)return this.executingCallbacks=!1,!1;o=this.currentTime,r++}return this.executingCallbacks=!1,!0},updateActiveSeekables:function(t){var e,n,i,r=this.activeSeekables.length-1;for(this.activeMutated=!1;r>=0&&!this.killed;)(!this.activeMutated||r<this.activeSeekables.length)&&(e=(i=this.activeSeekables[r]).seekable,n=i.startTime,e.stepAnimation(this.currentTime-n,t),this.currentTime>=n+e.totalTime()&&(!this.activeMutated||i===this.activeSeekables[r])&&this.activeSeekables.splice(r,1)),r--},kill:function(){this.killed||(this.killed=!0,null!=this.timelineData&&this.timelineData.parent.remove(this),this.timelineData=null,this.onUpdate=null,this.onComplete=null,this.labels=null,this.callbacks=null,this.activeSeekables=null,this.seekables.forEach((function(t){null!=t.seekable.kill&&t.seekable.kill()})),this.seekables=null)}}),u}.call(e,n,e,t))||(t.exports=i)},4698:function(t,e,n){var i;i=function(t){"use strict";n(3934);var e=n(5485),i=n(6486),r=n(8880),o=n(8939),a=n(6334),s=n(6978),l=n(262),u=n(5337),c=n(3586),h=n(82),d=o.throwError("BaseModel"),f=function(){},p=h.createSuper(e.Model),v=e.Model.extend({abilities:{resolveAsThis:!1,resolveAsParent:!1,beEventTarget:!1},mixins:[a,s,l,u],autoParse:!1,isModel:!0,constructor:function(t,n){i.bindAll(this,"createAbsoluteId");var o=this.initialize;this.initialize=f,this.autoParse&&((n=n||{}).parse=!0),e.Model.call(this,t,n),this.on(r.data.UPDATED,this.createAbsoluteId),this.createParentReference(n).buildAssociations().bindAssociations().createAbsoluteId(),c.initMixinsOf(this),this.initialize=o,this.initialize.apply(this,arguments),c.postInitMixinsOf(this)},index:function(){return this.collection||d("index","must have a `collection` defined"),this.collection.indexOf(this)},sibling:function(t){return this.collection||d("sibling","must have a `collection` defined"),t=t||0,this.collection.at(this.index()+t)},prevSibling:function(){return this.sibling(-1)},nextSibling:function(){return this.sibling(1)},toJSON:function(t){return h.isTrue(t)?h.cloneDeeply(this):p("toJSON").call(this)},buildAssociations:function(t){for(var e in this.associations)this.associations.hasOwnProperty(e)&&this.buildAssociation(e);return this},buildAssociation:function(t,e){var n=e||this.get(t),i={parent:this},r=this.associations[t];return n instanceof r||(this.attributes[t]=h.buildDataStructure(r,i,n)),this},bindAssociation:function(t){return this.on("change:"+t,(function(e,n,o){var a=this.previous(t);i.isFunction(a.set)?(a.set(n,{parent:this}),a.trigger(r.data.UPDATED),a.isCollection&&a.invoke("trigger",r.data.UPDATED),this.set(t,a,{silent:!0})):this.buildAssociation(t,n)})),this},bindAssociations:function(){for(var t in this.associations)this.associations.hasOwnProperty(t)&&this.bindAssociation(t);return this},buildAbsoluteId:function(){if(!this.id)return null;for(var t=this,e=[this.id];t=t.parent;)t.id&&e.push(t.id);return e.reverse().join(".")},createAbsoluteId:function(){this.absoluteId=this.buildAbsoluteId()},isType:function(t){return this.get("type")===t},isKind:function(t){return this.get("kind")===t}});v.addAssociation=function(t,e){this.prototype.associations.hasOwnProperty(t)||(this.prototype.associations[t]=e,this.shorthandify(t))};var g=v.extend;return v.extend=function(){var t=g.apply(this,arguments);return t.prototype.associations=i.extend({},t.prototype.associations,this.prototype.associations),t.shorthandify().shorthandify(i.keys(t.prototype.associations)),t},v}.call(e,n,e,t),void 0===i||(t.exports=i)},3511:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}void 0===(i=function(t){"use strict";var e=n(6486),i=n(8880),r=n(8766),a=n(1419),s=n(82),l=n(9032);return function(){function t(e){var n=e.type,i=e.slideId,r=e.assetId,o=e.slideOwner,a=e.captions,s=e.parentEl,l=e.mediaElName,u=e.isMediaVisible;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=n,this.assetId=r,this.slideId=i,this.slideOwner=o,this.parentEl=s,this.mediaElName=l,this.isMediaVisible=u,this.captions=a,this.currentCaptions=[],this.init()}var n,u,c;return n=t,(u=[{key:"setCurrentTime",value:function(t){this.currTime=t}},{key:"getCurrentTime",value:function(){return this.currTime}},{key:"isVideo",value:function(){return"video"===this.type}},{key:"ended",value:function(){var t=this.parentEl[this.mediaElName];if(null!=t)return t.ended}},{key:"getAssetId",value:function(){return this.assetId}},{key:"init",value:function(){r.mount(this,this.slideId),r.checkHasCaptions()}},{key:"initShow",value:function(){var t=this;a.multiLangSupport&&(this.captions=r.getCaptions(this.assetId),this.removeUpdateListener=l.addListener(i.captions.LANGUAGE_UPDATED,(function(){t.clearCaptions(),t.captions=r.getCaptions(t.assetId),t.adjustCaptions()})))}},{key:"destroy",value:function(){this.clearCaptions(),r.unmount(this,this.slideId),null!=this.removeUpdateListener&&this.removeUpdateListener()}},{key:"toggleCaptioning",value:function(){r.toggleCaptioning()}},{key:"isCaptionEnabled",value:function(){return r.isCaptionEnabled()}},{key:"adjustCaptions",value:function(){var t=this,n=this.slideOwner.currView.props.slideContainer;if(null!=n){var r=this.getCurrentTime();this.currentCaptions.length>0&&(this.currentCaptions=this.currentCaptions.reduce((function(t,e){return s.isWithinRange(e.startTime,e.endTime,r)?t.push(e):n.trigger(i.captions.REMOVE,e.getCueAsHTML()),t}),[])),e.difference(this.captions,this.currentCaptions).forEach((function(e){s.isWithinRange(e.startTime,e.endTime,r)&&(t.currentCaptions.push(e),n.trigger(i.captions.ADD,e.getCueAsHTML()))}))}return this}},{key:"clearCaptions",value:function(){var t=this.slideOwner.currView.props.slideContainer;return null!=t&&this.currentCaptions.length>0&&this.currentCaptions.forEach((function(e){t.trigger(i.captions.REMOVE,e.getCueAsHTML())})),this.currentCaptions=[],this}}])&&o(n.prototype,u),c&&o(n,c),Object.defineProperty(n,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},3754:function(t,e,n){var i;function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}i=function(t){"use strict";var e,n,i,r="dv_",l="updateText",u="update",c="add",h="remove",d=/([A-Z])/g,f=/Unknown|SVG/,p=function(t){return t.replace(d,"-$1").toLowerCase()},v="http://www.w3.org/2000/svg",g={image:"svg"},m={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y={};function b(t,e,n){DS.flagManager.dropInVectors?t[n?"innerHTML":"textContent"]=e:t.innerHTML=e}function w(t,e){return null==e||"boolean"==typeof e||""===e?"":isNaN(e)||0===e||m.hasOwnProperty(t)&&m[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}function S(t){if("html"===g[t])return!0;var e=!f.test(t+"");return e&&(g[t]="html"),e}function A(t){return r+t}function E(t,e,n,i,r){t.view=n,i.el=n,n.instance=i,n.dataset.displayName=i.displayName,n.dataset[A("comp")]=V.getDisplayNameIdx(i.displayName),null!=e&&e.ref&&r&&(r.refs[e.ref]=i),n.isComponent=!0,null!=r&&DS.flagManager.dropInVideo&&r[A("allComps")].push(i)}["acceptCharset","alignmentBaseline","baselineShift","clipPath","clipRule","colorInterpolation","colorInterpolationFilters","colorRendering","dominantBaseline","enableBackground","fillOpacity","fillRule","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","imageRendering","letterSpacing","lightingColor","markerEnd","markerMid","markerStart","overlinePosition","overlineThickness","paintOrder","pointerEvents","renderingIntent","shapeRendering","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textAnchor","textDecoration","textRendering","transformOrigin","underlinePosition","underlineThickness","unicodeBidi","vectorEffect","vertAdvY","vertOriginX","vertOriginY","wordSpacing","writingMode"].forEach((function(t){return y[t]=p(t)})),["xmlnsXlink","xlinkHref"].forEach((function(t){return y[t]=t.replace(d,":$1").toLowerCase()})),["crossOrigin"].forEach((function(t){return y[t]=t.toLowerCase()})),y.htmlFor="for";var T={findDOMNode:function(t){return null==t.isDropIn?t:t.el},unmountComponentAtNode:function(t){null!=t.firstElementChild&&(null!=t.firstElementChild.view&&t.firstElementChild.view.componentWillUnmount(),t.firstElementChild.remove())},semanticTextRenderer:function(){},updateWithProps:function(t,e,n){t.props=e,n.appendChild(t.el),t.doRender()},create:function(t,e){if("string"==typeof t||DS.flagManager.dropInInteractions&&"number"==typeof t)return document.createTextNode(t);if(t){var n=t.tag,i=t.attrs,r=t.children;if(n){if(i&&(i=i()),n.isComponent)return function(t,e,n,i){var r=new t;null!=e&&(r.props=e),function(t){for(var e in t)"function"==typeof t[e]&&(t[e]=t[e].bind(t))}(r),r.dropInInit(),r.state=r.getInitialState(),r.componentWillMount();var o=r.render();r.prevRender=o;var a=T.create(o,r);return DS.flagManager.dropInVectors?(r.rebuild=function(){r.wipeChildComps(),r.refs={};var t=r.render();r.prevRender=t;var o=T.create(t,r);if("VectorSlideObject"===r.displayName&&o.classList.contains("slideobject-maskable")){var a=r.prevRender.attrs().style;for(var s in a)r.el.style[s]=o.style[s];for(r.el.innerHTML="";o.firstChild;)r.el.append(o.firstChild);o=r.el,r.prevRender.el=o}else r.el.replaceWith(o);r.hasRebuilt=!0,E(n,e,o,r,i)},E(n,e,a,r,i)):(n.view=a,r.el=a,a.instance=r,a.dataset.displayName=r.displayName),r.mounted=!0,r.componentDidMount(),a}(n,i,t,e);DS.flagManager.dropInVectors||function(t){null!=t&&t.ref&&(t["data-"+A("ref")]=t.ref,delete t.ref)}(i);var o=t.el=function(t){var e=g[t];if(null!=e){if("html"===e)return document.createElement(t);if("svg"===e)return document.createElementNS(v,t)}var n=document.createElement(t);return S(n)?n:(g[t]="svg",document.createElementNS(v,t))}(n);return _(o,i),function(t,e,n){if(null!=e)for(var i=0;i<e.length;i++)if(null!=e[i]){var r=T.create(e[i],n);null!=r&&t.appendChild(r)}}(o,r,e),o.nodeDef=t,o.view=e,DS.flagManager.dropInVectors&&null!=i&&null!=i.ref&&null!=o.view&&(o.view.refs[i.ref]=o),o}console.warn("no tag or component")}},render:function(t,e){var n=T.create(t);return null!=e&&e.appendChild(n),null!=n.instance?n.instance:n}};function C(t){var e="";for(var n in t){var i=w(n,t[n]);i.length>0&&(e+="".concat(p(n),": ").concat(i,";"))}return e}var x={setInnerHtml:function(t,e){var n=Object.keys(e);if(1===n.length&&"0"===n[0]&&"object"!==s(e[0]))return b(t,e[0]?e[0]:""),!0;null!=e.dangerouslySetInnerHTML&&b(t,e.dangerouslySetInnerHTML.__html,!0)},applyStyle:function(t,e,n){if("style"===n)return t.style=C(e[n]),!0},applyEvent:function(t,e,n){if(n.startsWith("on"))return t[n.toLowerCase()]=e[n],!0},normalizeSrc:function(t,e,n){if("src"===n){if(t.dataset[A("src")]===e[n])return!0;t.dataset[A("src")]=e[n]}},exclude:function(t,e){if(null!=e.view&&null!=e.view.dropInSettings&&null!=e.view.dropInSettings.excludeAttribute)for(var n=e.view.dropInSettings.excludeAttribute,i=0;i<n.length;i++)if(n[i](t,e))return!0},setElAttrsAndProps:function(t,e,n){if(!("children"===n||"dangerouslySetInnerHTML"===n||"key"===n||DS.flagManager.dropInVectors&&x.exclude(n,t))){var i=t instanceof SVGElement&&!S(t),r=e[n];if(DS.flagManager.dropInVectors&&"ref"===n&&(n="data-"+A("ref")),"className"===n&&DS.flagManager.dropInVectors?n="class":i||t[n]===r||(t[n]=r),null==r||DS.flagManager.dropInInteractions&&!1===r)t.removeAttribute(n);else if(DS.flagManager.dropInVideo&&"SELECT"===t.tagName&&"value"===n)requestAnimationFrame((function(){t.value=r}));else if("boolean"!=typeof r&&t.getAttribute(n)!==r){var o=y[n];null!=o&&o.includes(":")?t.setAttributeNS("http://www.w3.org/1999/xlink",o,r):t.setAttribute(o||n,r)}}},removals:function(t,e,n){if(DS.flagManager.dropInVectors&&null!=n)for(var i in n)if(i!=="data-"+A("ref")&&"ref"!==i&&null==e[i]&&null!=n[i]){var r=t instanceof SVGElement&&!S(t);if("className"!==i&&!r&&null!=t[i])try{t[i]=null}catch(e){console.warn("error setting",i,"on",t)}"className"===i&&(i="class"),t.removeAttribute(i)}}};function _(t,e,n){if(null!=e){if(x.setInnerHtml(t,e))return;for(var i in e)(DS.flagManager.dropInVectors||"className"!==i)&&i%1!=0&&(x.applyStyle(t,e,i)||x.applyEvent(t,e,i)||x.normalizeSrc(t,e,i)||x.setElAttrsAndProps(t,e,i))}x.removals(t,e,n)}var k=Symbol("element-slot"),M={createNewEl:function(t){var e=t.prev,n=t.curr,i=t.i,r=T.create(n.children[i],e.el.view);e.el.appendChild(r),DS.flagManager.dropInVideo&&e.children[i]===k&&(e.children[i]=n.children[i]),e.children[i].el=r,e.pool[i]=r},needsRemoval:function(t){var e=t.prev,n=t.curr,i=t.i,r=t.currChildAsBoolean,o=t.prevChildIsSlot;if(!r&&o)return e.children[i]=n.children[i],null==e.pool[i]||DS.flagManager.dropInVideo&&null==e.pool[i].parentNode||(e.pool[i].remove(),e.children[i]=k,t.mutation=!0),!0},needsRemovalWithPoolUpdate:function(t){var e=t.prev,n=(t.curr,t.i),i=t.currChildAsBoolean,r=t.prevChildIsSlot;if(!i&&!r)return null!=e.children[n]&&(e.pool[n]=e.children[n].el,null==e.children[n].el||DS.flagManager.dropInVideo&&null==e.children[n].el.parentNode||(e.children[n].el.remove(),e.children[n]=k,t.mutation=!0)),!0},needsCreateOrRestore:function(t){var e=t.prev,n=(t.curr,t.i),i=t.currChildAsBoolean,r=t.prevChildIsSlot;if(i&&r)return e.pool[n]?e.children[n]=e.pool[n].nodeDef:M.createNewEl(t),t.mutation=!0,!0},needsCreateFromNull:function(t){var e=t.prev,n=t.curr,i=t.i,r=t.currChildAsBoolean,o=t.prevChildIsSlot;if(r&&!o)return null==e.children[i]&&"object"===s(n.children[i])&&(e.children[i]=n.children[i],M.createNewEl(t)),!0}};function O(t,e,n){(null==e.pool||DS.flagManager.dropInInteractions)&&(e.pool={}),function(t,e){return 0===t.children.length&&0===e.children.length}(e,n)||function(t,e){if(1===t.children.length&&1===e.children.length&&!1===t.children[0]&&!1===e.children[0])return t.children.pop(),e.children.pop(),!0}(e,n)||function(t,e,n){if(1===e.children.length&&1===n.children.length&&"string"==typeof e.children[0]&&"string"==typeof n.children[0])return b(t,n.children[0]),!0}(t,e,n)||(e.children.length===n.children.length?function(t,e,n,i){if(t){for(var r=0;r<n.children.length;r++)null!=n.children[r]&&null!=n.children[r].el&&n.children[r].el.remove();for(var o=0;o<n.children.length;o++)n.children[o]!==k&&n.children[o]&&null!=n.children[o].el&&e.appendChild(n.children[o].el)}}(function(t,e){for(var n,i=0;i<t.children.length;i++)if("string"==typeof t.children[i]&&"string"==typeof e.children[i]&&null!=t.children[i].el)b(t.children[i].el,e.children[i]),t.el.appendChild(t.children[i].el);else{var r=!!e.children[i],o=t.children[i]===k,a=!1===t.children[i]&&!o;a&&(t.children[i]=k);var s={mutation:!1,i:i,prev:t,curr:e,currChildAsBoolean:r,prevChildIsSlot:DS.flagManager.dropInInteractions?o||a:o};(M.needsRemoval(s)||M.needsRemovalWithPoolUpdate(s)||M.needsCreateOrRestore(s)||M.needsCreateFromNull(s))&&(n=s.mutation)}return n}(e,n),t,e):n.children.length>e.children.length?function(t,e){for(var n=0;n<e.children.length;n++)if(null!=t.children[n]&&null!=t.children[n].el&&t.el.appendChild(t.children[n].el),null==t.children[n]&&null!=e.children[n]){var i=t.pool[n];if(null!=i)t.el.appendChild(i),t.children.push(i.nodeDef);else if("object"===s(e.children[n])){var r=T.create(e.children[n],t.el.view);t.el.appendChild(r),t.children.push(r.nodeDef)}}}(e,n):n.children.length<e.children.length&&function(t,e){for(var n=t.children.length-1;n>=0;n--)null==e.children[n]&&null!=t.children[n]&&null!=t.children[n].el&&(t.pool[n]=t.children[n].el,t.children[n].el.remove(),t.children.pop())}(e,n))}function P(t){return t.prev&&t.prev.tag&&"function"==typeof t.prev.tag}function I(t,e,n){var i=function(t,e){for(var n=[],i=Math.max(t.length,e.length),r=0;r<i;r++){var o=t[r],a=e[r];o&&a&&o.el&&!a.el&&(a.el=o.el),o&&a&&o.view&&!a.view&&(a.view=o.view),"string"==typeof o||"string"==typeof a||(!o&&a?n.push({action:c,index:r,curr:a,prev:o}):!a&&o?n.push({action:h,index:r,curr:a,prev:o}):o&&a&&o.tag!==a.tag&&n.push({action:u,prevTag:o.tag,currTag:a.tag,index:r,curr:a,prev:o}))}return n}(e.children,n.children);i.length>0&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.action;if(r===l)i.el.nodeValue=i.curr;else if(r===u)if(i.prevTag!==i.currTag){var o=T.create(i.curr,t.view);P(i)&&(i.prev.view.instance.componentWillUnmount(),i.prev.view.remove()),i.prev.view?i.prev.view.replaceWith(o):(i.prev.el.replaceWith(o),i.curr.el=o,i.prev.el=o)}else i.prev.el.innerText=i.curr.text;else if(r===c){var a=T.create(i.curr,t.view);s=t,d=a,(f=i.index)>=s.childNodes.length?s.appendChild(d):0===f?s.prepend(d):s.insertBefore(d,s.childNodes[f]),i.curr&&(i.curr.el=a),i.prev&&(i.prev.el=a)}}var s,d,f;e.filter((function(t){return t.action===h})).forEach((function(t){P(t)&&(t.prev.view.instance.componentWillUnmount(),t.prev.view.remove()),t.curr&&t.curr.el&&t.curr.el.remove(),t.prev&&t.prev.el&&t.prev.el.remove()}))}(t,i)}function L(t,e,n,i){if(!DS.flagManager.dropInVectors||null!=e)if(null==t||null==t.view){if(null!=t&&null!=t.children&&null!=e&&null!=e.children&&(DS.flagManager.dropInCore?I(t.el||i.el,t,e):O(t.el||i.el,t,e)),null!=t&&t.style){var r=C(t.style),o=C(e.style);r!==o&&(t.el?t.el.style=o:i.el&&(i.el.style=o))}for(var a in t)if("style"!==a&&"el"!==a)if("dangerouslySetInnerHTML"!==a){var l=t[a],u=e[a];"object"===s(l)&&"object"===s(u)&&"dangerouslySetInnerHTML"!==a?L(l,u,t):l!==u&&(null!=i&&null!=i.el&&_(i.el,e,t),"attrs"===a?function(){var i=t.attrs(),r=e.attrs();L(i,r,n,t),t.attrs=function(){return r}}():null!=n&&n.el&&_(n.el,e,t))}else null!=i&&null!=i.el&&x.setInnerHtml(i.el,e)}else{if(DS.flagManager.dropInCore?t.view.instance.props=Object.assign(t.view.instance.getDefaultProps(),e.attrs()):t.view.instance.props=e.attrs(),DS.flagManager.dropInInteractions&&!DS.flagManager.dropInCore){var c=t.view.instance.storedPrevProps,h=t.view.instance.props;null!=c&&null!=h.key&&h.key!==c.key&&(t.view.instance.state=t.view.instance.getInitialState())}t.view.instance.doRender()}}var D=["getInitialState","getDefaultProps","componentWillMount","componentDidMount","componentWillUpdate","componentDidUpdate","componentWillUnmount"];function R(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],i=[],r=0;r<t.length;r++)n.push(t[r]),t[r].mixins&&i.push(t[r].mixins);e.push(n);for(var o=0;o<i.length;o++)R(i[o],e);return e}var N={},H=[],V={isDropIn:!0,debug:{reactWrappers:N},injectReact:function(t,e){n=t,i=e},replaceReact:function(){return[T,V]},restoreReact:function(){return[i,n]},componentSelector:function(t){var e=V.getDisplayNameIdx(t);return"[data-".concat(A("comp"),'="').concat(e,'"]')},findComponent:function(t,e){var n=t.querySelector(V.componentSelector(e));return null!=n?n.view:null},findAllComponents:function(t,e){for(var n=t.querySelectorAll(V.componentSelector(e)),i=[],r=0;r<n.length;r++)i.push(n[r].view);return i},getDisplayNameIdx:function(t){return H.indexOf(t)},createClass:function(t){DS.flagManager.dropInVectors&&null!=t.displayName&&-1===H.indexOf(t.displayName)&&H.push(t.displayName);var e=function(){};return e.prototype=Object.assign(Object.create(F),t),e.isComponent=!0,e},createElement:function(t,e){DS.flagManager.dropInVectors||null!=e&&e.className&&(e.class=e.className);for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return{tag:t,attrs:function(){return e},children:i.flat()}},wrapReactChild:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",r=Object.keys(t);if(1===r.length){var o="dv_"+r;if(null!=N[o])return N[o];var a=V.createClass({displayName:"ReactWrapper",componentWillUnmount:function(){DS.flagManager.dropInVideo&&null!=this.el.parentNode&&i.unmountComponentAtNode(this.el.parentNode)},render:function(){var o=this;return null!=this.el&&(this.props.ref&&(this.wrappedRef=this.props.ref,delete this.props.ref),DS.flagManager.dropInVideo?this.reactView=i.render(n.createElement(t[r],this.props),this.el):window.requestAnimationFrame((function(){o.reactView=i.render(n.createElement(t[r],o.props),o.el)}))),V.createElement(e,{className:"r-wrap","data-ref":this.wrappedRef})}});return N[o]=a,a}}};function j(t){if("object"!==s(t)||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t){var i=t[n];"object"===s(i)&&null!==i&&i.constructor===Object?e[n]=o({},i):e[n]=i}return e}var F=(a(e={isDropIn:!0,mounted:!1,props:{},isMounted:function(){return this.mounted},setState:function(t,e){var n=this;if(DS.flagManager.dropInCore)this.state=Object.assign(this.state,t);else{var i=!0;if(DS.flagManager.dropInVideo)for(var r in t){var o=this.state[r],a=t[r];if(o!==a){if(Array.isArray(o)&&Array.isArray(a)&&0===o.length&&0===a.length)continue;this.state[r]=t[r],i=!1}}else for(var s in t)this.state[s]!==t[s]&&(this.state[s]=t[s],i=!1);if(i)return}null!=e&&(null==this.stateCallbacks&&(this.stateCallbacks=[]),this.stateCallbacks.push(e.bind(this))),clearTimeout(this.dropInUpdate),this.dropInUpdate=setTimeout((function(){return n.doRender()}),1)},wipeChildComps:function(){var t=this[A("allComps")];if(null!=t&&0!==t.length){for(var e in t){var n=t[e];n.isDropIn&&n.componentWillUnmount()}this[A("allComps")]=[]}},getInitialState:function(){return{}},getDefaultProps:function(){return{}},componentWillMount:function(){},componentDidMount:function(){},componentWillUpdate:function(){},componentDidUpdate:function(){},componentWillUnmount:function(){}},A("componentWillMount"),(function(){})),a(e,A("componentDidMount"),(function(){})),a(e,A("componentWillUpdate"),(function(){})),a(e,A("componentDidUpdate"),(function(){})),a(e,A("componentWillUnmount"),(function(){this.prepareToUnmount=!0;var t=this[A("allComps")];for(var e in t){var n=t[e];n.isDropIn&&(n.componentWillUnmount(),this.mounted=!1)}})),a(e,"dropInInit",(function(){var t=this;this.constructor.displayName=this.displayName,DS.flagManager.dropInVectors?this.refs={}:this.refs=new Proxy({},{get:function(e,n){return t.el.querySelector("[data-".concat(A("ref"),"=").concat(n,"]"))}}),DS.flagManager.dropInVideo&&(this[A("allComps")]=[]),null!=this.mixins&&this.mixinOrder(),DS.flagManager.dropInInteractions&&(this.props=Object.assign(this.getDefaultProps(),this.props))})),a(e,"mixinOrder",(function(){var t=this,e=R(this.mixins).reverse().flat();e.push(this);var n={};D.forEach((function(t){for(var i=0;i<e.length;i++){var r=e[i][t];null!=r&&(null==n[t]?n[t]=[r]:n[t].push(r))}})),n.componentDidMount.push(this.firstRender);for(var i=0;i<e.length;i++)for(var r in e[i])if(-1===D.indexOf(r))if("function"==typeof e[i][r])"mixins"===r||"getInitialState"===r||DS.flagManager.dropInInteractions&&"getDefaultProps"===r||e[i]===this||(this[r]=e[i][r].bind(this));else{var o=r;this[o]=e[i][o]}var a=function(e){if("getInitialState"===e||DS.flagManager.dropInInteractions&&"getDefaultProps"===e)return t[e]=function(){for(var i=n[e],r=[],o=0;o<i.length;o++)r.push(i[o].bind(t)());return Object.assign.apply({},r)},"continue";t[e]=function(){var i=n[e];DS.flagManager.dropInVideo&&t[A(e)].apply(t,arguments);for(var r=0;r<i.length;r++)i[r].bind(t).apply(void 0,arguments)}};for(var s in n)a(s)})),a(e,"firstRender",(function(){this.isWrapped||this.doRender()})),a(e,"shouldRebuild",(function(){var t=this.dropInSettings;if(null!=t&&null!=this.prevProps){var e=!!t.forceRebuild;if(e&&null!=t.noRebuildForProps)for(var n in this.props)if(this.props[n]!==this.prevProps[n]&&t.noRebuildForProps[n]){e=!1;break}return e}})),a(e,"updatePrevStateAndProps",(function(){DS.flagManager.dropInCore?(this.prevProps=j(this.props),this.prevState=j(this.state)):(this.prevProps=Object.assign({},this.props),this.prevState=Object.assign({},this.state))})),a(e,"forceUpdate",(function(){DS.flagManager.dropInVectors&&(L(this.prevRender,this.render()),this.didUpdate())})),a(e,"didUpdate",(function(t){var e=this;DS.flagManager.dropInVideo&&this.prepareToUnmount||(window.cancelAnimationFrame(this.didUpdateId),this.didUpdateId=window.requestAnimationFrame((function(){var n=DS.flagManager.dropInVectors?e.prevProps:t;e.componentDidUpdate(DS.flagManager.dropInVideo?e.storedPrevProps||e.prevProps:n,DS.flagManager.dropInVideo?e.storedPrevState||e.prevState:null),null!=e.stateCallbacks&&(e.stateCallbacks.forEach((function(t){return t()})),e.stateCallbacks=null)})))})),a(e,"doRender",(function(){var t=this;if(!DS.flagManager.dropInVideo||!this.prepareToUnmount){var e=this.props;if(DS.flagManager.dropInVideo&&!DS.flagManager.dropInCore&&(null!=this.prevProps&&(this.storedPrevProps=o({},this.prevProps)),null!=this.prevState&&(this.storedPrevState=o({},this.prevState))),DS.flagManager.dropInInteractions&&null!=this.componentWillReceiveProps&&this.componentWillReceiveProps(this.props),DS.flagManager.dropInCore&&null!=this.prevProps&&null!=this.shouldComponentUpdate){if(!this.shouldComponentUpdate(this.prevProps,this.prevState))return;this.componentWillUpdate(this.props,this.state)}if(DS.flagManager.dropInVectors){var n=this.shouldRebuild();if(null!=this.shouldUpdate){if(null!=this.prevProps&&!this.shouldUpdate(this.prevProps,this.prevState))return void this.updatePrevStateAndProps();null==this.prevProps&&this.shouldUpdate(this.props,this.state,!0)}if(this.updatePrevStateAndProps(),n)this.refs={},this.isWrapped?requestAnimationFrame((function(){return t.rebuild()})):this.rebuild();else if(DS.flagManager.dropInCore){var i=this.render();i.el=this.prevRender.el,i.view=this.prevRender.view,L(this.prevRender,i),this.prevRender=i}else L(this.prevRender,this.render());this.dropInRendered&&this.dropInRendered()}else L(this.prevRender,this.render());this.didUpdate(e)}})),e);return{DropIn:V,DropInDOM:T}}.call(e,n,e,t),void 0===i||(t.exports=i)},5641:function(t,e,n){var i;void 0===(i=function(t){"use strict";n(3707);return n(3707),n(8467),n(8351),TimelineLite}.call(e,n,e,t))||(t.exports=i)},6295:function(t,e,n){var i;void 0===(i=function(t){"use strict";n(3707);return n(8467),n(8351),TweenLite.defaultOverwrite=!1,TweenLite}.call(e,n,e,t))||(t.exports=i)},8901:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function a(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}i=function(t){"use strict";var e,i=n(6486),r=n(1251),s=n(8880),l=n(82),u=n(9032),c=n(7812),h=n(8579),d=n(7510),f=d.addWindowListener,p=d.addDocumentListener,v=n(7812).ANIMATION_DURATION;p("wheel",(function(){document.body.classList.add("document-scrolling"),clearTimeout(e),e=setTimeout((function(){document.body.classList.remove("document-scrolling")}),200)}));var g=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"onTouchMovePrevent",(function(t){t.preventDefault()})),a(this,"onMouseOver",(function(){n.hovered=!0,n.update()})),a(this,"onMouseOut",(function(){n.hovered=!1,n.update()})),i.bindAll(this,"onScrollBtnDown","onEndScrollDrag","onDragBtn","onScroll","onResize","unHighlight","delayedUpdate","update","onFocus","onKeyDown"),this.enabled=!0,this.hScroll=o,this.targetEl=e,this.hasTabIndex=l,this.isHidden=!1,this.highlight=!1,this.cls="".concat(r,"-").concat(o?"h":"","scroll"),this.targetId=r,this.marginTop=s,this.showOnlyOnHover=!1,this.hovered=!1,this.showOnlyWhenScrolling=!1,this.scrolling=!1,h.theme.isUnified){var u="".concat(this.cls,"-id");null==document.getElementById(u)&&this.createElements(u)}else this.createElements(null);this.update()}var e,n,d;return e=t,(n=[{key:"addOrRemoveClass",value:function(t,e,n){r[t?"addClass":"removeClass"](e,n)}},{key:"changeHighlight",value:function(){this.addOrRemoveClass(this.highlight,this.scrollBar,"highlight-scrollbar")}},{key:"changeHidden",value:function(){this.addOrRemoveClass(this.isHidden,this.scrollBar,"hidden")}},{key:"disableMobile",value:function(){this.targetEl.addEventListener("touchmove",this.onTouchMovePrevent)}},{key:"enableMobile",value:function(){this.targetEl.removeEventListener("touchmove",this.onTouchMovePrevent)}},{key:"initScroll",value:function(){this.targetEl.addEventListener("scroll",this.onScroll),f("resize",this.onResize),this.targetEl.style.overflowY="hidden !important",this.targetEl.style.overflowX="hidden !important",this.hasInited=!0}},{key:"createElements",value:function(t){this.scrollBar=document.createElement("div"),null!=t&&(this.scrollBar.id=t),this.scrollBar.setAttribute("class","scrollarea-scrollbar micro-scrollbar ".concat(this.hScroll?"horizontal-scroll ":"").concat(this.cls)),!this.hScroll&&this.marginTop>0&&(this.scrollBar.style.marginTop="".concat(this.marginTop,"px")),this.hasTabIndex&&this.scrollBar.setAttribute("tabindex",0),this.scrollBar.addEventListener("focus",this.onFocus),this.scrollBar.addEventListener("keydown",this.onKeyDown),this.scrollBtn=document.createElement("div"),this.scrollBtn.setAttribute("class","scrollarea-btn micro-scrollbar-btn"),this.scrollBtn.addEventListener("mousedown",this.onScrollBtnDown),this.scrollBtn.addEventListener("touchstart",this.onScrollBtnDown),this.scrollBar.appendChild(this.scrollBtn),this.targetEl.parentNode.appendChild(this.scrollBar),this.initScroll(),this.setupUpdateEvents()}},{key:"setupUpdateEvents",value:function(){var t=this;this.removeTabShowListener=u.addListener(s.tab.SHOW,(function(e){t.targetId===e&&t.delayedUpdate()})),this.removePanelShowListener=u.addListener(s.tabLink.SHOW_PANEL,(function(e){var n=e.model.name;t.targetId===n&&t.delayedUpdate()})),"search"===this.targetId?this.removeTargetListener=u.addListener(s.search.UPDATE_PANEL,(function(){setTimeout(t.delayedUpdate,v)})):"outline"===this.targetId?this.removeTargetListener=u.addListener(s.menuLinksListItem.TOGGLE,this.delayedUpdate):"transcript"===this.targetId&&(this.removeTargetListener=u.addListener(s.transcript.CHANGED,this.delayedUpdate)),DS.detection.deviceView.isMobile&&(this.teardownResize=f("resize",this.delayedUpdate))}},{key:"delayedUpdate",value:function(){var t=this;window.requestAnimationFrame((function(){return t.update(!1)}))}},{key:"onScroll",value:function(){var t=this;this.update(!0),this.showOnlyWhenScrolling&&(this.scrollStartTime=Date.now(),this.scrolling||(this.scrolling=!0,this.scrollHideInterval=setInterval((function(){Date.now()-t.scrollStartTime>=1e3&&(clearInterval(t.scrollHideInterval),t.scrolling=!1,t.update())}),200)))}},{key:"onFocus",value:function(t){DS.focusManager.setFocusRectOn(this.targetEl)}},{key:"onKeyDown",value:function(t){switch(t.which){case c.keys.LEFT:this.targetEl.hScrollEnabled&&(this.targetEl.scrollLeft-=10);break;case c.keys.RIGHT:this.targetEl.hScrollEnabled&&(this.targetEl.scrollLeft+=10);break;case c.keys.DOWN:this.targetEl.scrollTop+=10;break;case c.keys.UP:this.targetEl.scrollTop-=10;break;case c.keys.PAGE_DOWN:this.targetEl.scrollTop+=this.btnLength;break;case c.keys.PAGE_UP:this.targetEl.scrollTop-=this.btnLength;break;case c.keys.HOME:this.targetEl.scrollTop=0;break;case c.keys.END:this.targetEl.scrollTop=this.targetEl.scrollHeight}}},{key:"onResize",value:function(){this.update()}},{key:"canScroll",value:function(){var t=this.getTargetMetrics();return t.contentLength>t.scrollbarLength}},{key:"getTargetMetrics",value:function(){var t=this.targetEl,e=t.scrollHeight,n=t.scrollWidth,i=t.clientHeight,r=t.clientWidth,o=t.scrollTop,a=t.scrollLeft;return this.hScroll?{contentLength:n,scrollbarLength:r,currScrollPos:a}:{contentLength:e,scrollbarLength:i,currScrollPos:o}}},{key:"setEnabled",value:function(t){this.enabled=t,this.update()}},{key:"setShowOnlyOnHover",value:function(t){this.showOnlyOnHover=!0,this.hoverTargetEl=t,this.hoverTargetEl.addEventListener("mouseover",this.onMouseOver),this.hoverTargetEl.addEventListener("mouseout",this.onMouseOut)}},{key:"setShowOnlyWhenScrolling",value:function(){this.showOnlyWhenScrolling=!0}},{key:"update",value:function(t){if(this.hasInited&&null!=this.scrollBtn){this.targetEl.hScrollEnabled=this.hScroll&&this.enabled;var e=this.getTargetMetrics(),n=e.contentLength,i=e.scrollbarLength,r=e.currScrollPos;this.isHidden=this.shouldHideScrollbar(n,i);var o=i-(this.hsScroll?0:this.marginTop),a=n-o,s=l.clamp(0,1,r/a);this.btnLength=o/n*o,this.scrollBtn.style[this.hScroll?"width":"height"]=l.pxify(this.btnLength),this.scrollBtn.style[this.getPosAttrib()]=l.pxify(s*l.invertPercent(this.btnLength/i)*i),this.highlight=t,t&&(clearTimeout(this.colorId),this.colorId=setTimeout(this.unHighlight,1e3)),this.changeHighlight(),this.changeHidden(),null!=this.updateScroll&&this.updateScroll()}}},{key:"shouldHideScrollbar",value:function(t,e){return Math.abs(t-e)<2||!this.enabled||(this.showOnlyOnHover?!this.hovered&&!this.scrollByButton:!!this.showOnlyWhenScrolling&&!this.scrolling)}},{key:"getPosAttrib",value:function(){return this.hScroll?"left":"top"}},{key:"getPagePostion",value:function(t){return this.hScroll?t.pageX:t.pageY}},{key:"getParentPos",value:function(){return this.targetEl.getBoundingClientRect()[this.getPosAttrib()]}},{key:"onScrollBtnDown",value:function(t){this.scrollByButton=!0,this.startPos=this.getPagePostion(t)-this.getParentPos()-parseFloat(this.scrollBtn.style[this.getPosAttrib()]),document.body.addEventListener("mousemove",this.onDragBtn),document.body.addEventListener("mouseup",this.onEndScrollDrag)}},{key:"onEndScrollDrag",value:function(){this.scrollByButton=!1,document.body.removeEventListener("mouseup",this.onEndScrollDrag),document.body.removeEventListener("mousemove",this.onDragBtn),this.showOnlyOnHover&&this.update()}},{key:"onDragBtn",value:function(t){var e=this.getTargetMetrics(),n=e.contentLength,i=e.scrollbarLength,r=n-i,o=i-this.btnLength,a=this.getPagePostion(t)-this.getParentPos()-this.startPos,s=l.clamp(0,1,a/o);this.scrollBtn.style[this.getPosAttrib()]=l.pxify(s*l.invertPercent(this.btnLength/i)*i),this.targetEl[this.hScroll?"scrollLeft":"scrollTop"]=r*s}},{key:"unHighlight",value:function(){this.highlight=!1,this.changeHighlight()}},{key:"teardown",value:function(){this.scrollBar.removeEventListener("focus",this.onFocus),this.scrollBar.removeEventListener("keydown",this.onKeyDown),this.scrollBtn.removeEventListener("mousedown",this.onScrollBtnDown),this.scrollBtn.removeEventListener("touchstart",this.onScrollBtnDown),this.targetEl.removeEventListener("scroll",this.onScroll),this.enableMobile(),this.showOnlyOnHover&&null!=this.hoverTargetEl&&(this.hoverTargetEl.removeEventListener("mouseover",this.onMouseOver),this.hoverTargetEl.removeEventListener("mouseout",this.onMouseOut)),this.removeTabShowListener(),this.removePanelShowListener(),null!=this.removeTargetListener&&this.removeTargetListener(),null!=this.teardownResize&&this.teardownResize()}}])&&o(e.prototype,n),d&&o(e,d),Object.defineProperty(e,"prototype",{writable:!1}),t}();return g}.call(e,n,e,t),void 0===i||(t.exports=i)},5173:function(t,e,n){var i;i=function(t){"use strict";var e,i=n(4811),r=n(8939),o=n(7510).addWindowListener,a={},s="request",l="response",u="SUCCESS",c="ERROR",h=[s,l],d=function(t){var e,n=r.throwError("PostMessaging");if(null!=t.data){try{e=JSON.parse(t.data)}catch(t){return}(function(t){return null!=t&&null!=t.id&&null!=t.type&&-1!==h.indexOf(t.type)})(e)&&(null!=a[e.connectionId]?a[e.connectionId](e,t):n("No listener exists for connectionId: ",e.connectionId))}};return function(t,n){var h,f,p,v=r.throwError("PostMessaging"),g={},m=0,y=i.Deferred(),b=n,w=function(t,e,n,r,o){var a=++m,l=i.Deferred(),c={type:e,connectionId:b};return g[a]=l,e===s?(c.method=n,c.params=r,c.id=a):(c.id=n,c.data=r,c.status=null!=o?o:u),t.postMessage(JSON.stringify(c),"*"),l.always((function(){delete g[a]})).catch((function(t){delete g[a],v(t.message)})),l.promise()},S=function(t){h=function(e,n){return y.then((function(){return w(t,s,e,n)}))},f=function(e,n,i){return y.then((function(){return w(t,l,e,n,i)}))}};null==e&&(e=o("message",d,!1)),p=function(t,e){return a[t]=e,function(){delete a[t]}}(b,(function(e,n){var i,r,o;if(e.type===s)if("connect"===e.method)S(n.source),w(n.source,l,e.id),y.resolve();else if(null!=t[e.method])try{r=t[e.method].apply(void 0,Array.isArray(e.params)?e.params:[e.params]),null!=(o=r)&&"function"==typeof o.then?r.then((function(t){f(e.id,t)})):f(e.id,r)}catch(t){f(e.id,t.message,c)}else f(e.id,["No handler for this method ",e.method].join(""),c);else{if(null!=(i=g[e.id]))return void(e.status===u?i.resolve(e.data,n):i.reject(e.data,n));f(e.id,["No pending requests for this response id ",e.id].join(""),c)}})),this.ready=function(){return y},this.connect=function(t){return S(t),w(t,s,"connect").then(y.resolve),y},this.request=function(){if(null!=h)return h.apply(void 0,arguments);v("request","A destination iframe needs to be connected before sending requests to it.  Try using `connect` first.")},this.tearDown=function(){p(),_.isEmpty(Object.keys(a))&&null!=e&&(e(),e=null)}}}.call(e,n,e,t),void 0===i||(t.exports=i)},2499:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function a(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}i=function(t){"use strict";var e,i=n(82),r=n(8400),s=n(3508),l=n(9032),u=n(8880),c=n(1294),h=n(6486),d=n(6295),f=n(1251),p=n(118),v=n(1681),g=(n(8579),n(1419),n(520)),m=n(7545).createBackSpriteCanvas,y=n(3163),b=y.FOCUS_ON_TITLE,w=y.FOCUS_ON_BODY,S=y.FOCUS_ON_IMAGE,A=y.FOCUS_ON_BUTTON,E=y.FOCUS_ON_VIDEO,T=y.FOCUS_ON_AUDIO,C=y.FOCUS_ON_NONE,x=y.FOCUS_ON_DESELECT,_=n(49),k=n(7552),M=n(7812),O=M.math,P=(O.TWO_PI,O.HALF_PI),I=M.MOBILE_360_IMAGE_SCALE_THRESHOLD,L=n(8579),D=L.device.isMobile,R=L.browser.isSafariMac,N=n(9337),H=N.angle,V=N.angleDiff,j=(N.getPinchDistance,N.textureSettings),F=N.isPanelBody,B=N.isPanelTitle,U=N.isHintContent,W=N.isTooltipContent,z=N.isButtonContent,G=N.adjustVariable,q=(N.toScreenPosition,N.touchify),Y=N.createBoundingBoxEl,X=N.isLeftClickOrTouch,J=N.isRightClick,K=n(5505),Z=K.clickOrTouchEnd,$=K.downOrTouchStart,Q=K.moveOrTouchMove,tt=K.upOrTouchEnd,et=n(9045),nt=et.formatMessage,it=et.getSpanStyle,rt=et.crosshairsSvg,ot=et.bottomUi,at=et.BOTTOM_UI_HEIGHT,st=et.modes,lt=n(1815),ut=lt.freeNavigation,ct=lt.guidedNavigtion,ht=lt.navigation,dt="",ft="crosshair",pt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"updateMarker",(function(t){var e=n.getMarker(t.id);null!=e&&e.adjust(t)})),a(this,"onMarkerUpdated",(function(t){null!=n.editorApi&&n.editorApi.onMarkerUpdated(t.getData())})),a(this,"onTransitionIn",(function(){n.nudgeOnLoad?n.nudge():n.cancelNudge()})),a(this,"onResize",(function(){for(var t in n.sprites){n.sprites[t].userData.cssMarker.resize()}})),a(this,"onForceRender",(function(t){t===n.id&&(n.renderer.render(n.scene,n.camera),n.cssRenderer.render(n.cssScene,n.camera))})),a(this,"renderSpriteBoundingBox",(function(t,e){var i=e.scale.x*n.sceneRect.width/2,r=e.scale.y*n.sceneRect.height/2;n.spriteWidth=i,n.spriteHeight=r,Object.assign(n.boundingBox.style,{left:"".concat(t.x-i/2+n.sceneRect.width/2,"px"),top:"".concat(t.y-r/2+n.sceneRect.height/2,"px"),width:"".concat(i,"px"),height:"".concat(r,"px")})})),a(this,"onBoxDown",(function(t){if(null!=n.currMarker){var e=q(t,n),r=e.pageX,o=e.pageY,a=n.getBoxCenter(),s=a.cx,l=a.cy;n.handleData={isNonUniform:t.target.classList.contains("non-uniform"),dir:t.target.dataset.axis};var u=n.currMarker.scale.x,c=n.currMarker.scale.y,h=i.dist(r,o,s,l);n.scaleRatioX=u/h,n.scaleRatioY=c/h,document.addEventListener("mousemove",n.onBoxMove),document.addEventListener("mouseup",n.onBoxUp)}})),a(this,"onBoxMove",(function(t){var e,r=q(t,n),o=r.pageX,a=r.pageY,s=n.getBoxCenter(),l=s.cx,u=s.cy,c=n.currMarker.userData.cssMarker,h=i.dist(o,a,l,u);if(n.handleData.isNonUniform)"x"===n.handleData.dir?(e=Math.max(50,h*n.scaleRatioX),c.scaleX(e)):"y"===n.handleData.dir&&(e=Math.max(50,h*n.scaleRatioY),c.scaleY(e));else if(n.currMarker.userData.cssMarker.isHotspot()){var d=Math.max(50,h*n.scaleRatioX),f=Math.max(50,h*n.scaleRatioY);c.scale(d,f)}else e=i.clamp(50,200,h*n.scaleRatioX),c.scale(e,e)})),a(this,"onBoxUp",(function(t){n.handleData=null,document.removeEventListener("mousemove",n.onBoxMove),document.removeEventListener("mouseup",n.onBoxUp)})),a(this,"fixCssScrolling",(function(){n.cssRenderer.domElement.scrollLeft>0&&(n.cssRenderer.domElement.scrollLeft=0),n.cssRenderer.domElement.scrollTop>0&&(n.cssRenderer.domElement.scrollTop=0),n.cssScrollingId=window.requestAnimationFrame(n.fixCssScrolling)})),a(this,"onTextureReady",(function(){for(var e=t.loadTracker[n.slideObject.currSlideId],i=0;i<e.length;i++)if(e[i].id===n.slideObject.props.model.absoluteId){e[i].ready=!0;break}})),a(this,"onSetInitialCamDone",(function(){if(n.mode===st.SET_INITIAL_CAMERA_ANGLE){n.setCamUi.threeLatLonTextEl.innerHTML="<div>\n        ".concat(n.localizedText.initialViewSet,"\n      </div>");var t=document.createElement("div");f.setStyles(t,{position:"absolute",width:"100%",height:"100%",left:0,top:0,background:"white",opacity:1}),n.el.appendChild(t),d.to(t,.3,{opacity:0,onComplete:function(){n.el.removeChild(t)}}),n.hideCrosshairUi(),n.initialLat=n.lat,n.initialLon=n.lon,null!=n.editorApi&&n.editorApi.onInitialCameraAngleSet(n.lat,n.lon),n.setMode(st.DEFAULT)}})),a(this,"onNavClicked",(function(t){t.stopPropagation()})),a(this,"goPrevGuidedClick",(function(t){n.guidedNavClicked=!0,n.goPrevGuided(),t.stopPropagation()})),a(this,"goPrevGuided",(function(){n.prevMarker=n.markersByIdx[n.markerIdxInView],n.nextMarker=n.markersByIdx[n.markerIdxInView-1],n.markerIdxInView--,n.isGuidedPrevShow=!0,n.nextMarker.disablePulse(),n.nextMarker.downActiveState(),n.prevMarker.active=!1,n.hideShowGuidedArrows()})),a(this,"goNextGuidedClick",(function(t){n.guidedNavClicked=!0,n.goNextGuided(),t.stopPropagation()})),a(this,"goNextGuided",(function(){n.markerIdxInView++,n.prevMarker=n.markersByIdx[n.markerIdxInView-1],n.nextMarker=n.markersByIdx[n.markerIdxInView],n.isGuidedNextShow=!0,n.nextMarker.disablePulse(),n.nextMarker.downActiveState(),n.prevMarker.active=!1,n.hideShowGuidedArrows()})),a(this,"animate",(function(t){t=t||performance.now();var e=n.kpPanAnimation,i=Math.min(t-n.lastTimeStampMs,1/e);n.lastTimeStampMs=t,n.width==n.newWidth&&n.height==n.newHeight||n.changeSize(),n.editMode&&null!=n.currMarker&&!n.currMarker.userData.cssMarker.isHotspot()&&n.moved&&(n.downOnMarker||n.hotspotLayer.down)&&n.moveCameraWithElement(),n.panToCoord?(n.phi+=e*(n.panCoord.phi-n.phi)*i,n.theta+=e*(n.panCoord.theta-n.theta)*i,n.lat=THREE.MathUtils.radToDeg(P-n.phi),n.lon=THREE.MathUtils.radToDeg(n.theta),Math.abs(n.phi-n.panCoord.phi)<.005&&Math.abs(n.theta-n.panCoord.theta)<.005&&n.panComplete()):(n.applyVelocity(),n.lat=Math.max(n.latMin,Math.min(n.latMax,n.lat)),n.phi=THREE.MathUtils.degToRad(90-n.lat),n.theta=THREE.MathUtils.degToRad(n.lon)),n.targetX=n.radius*Math.sin(n.phi)*Math.cos(n.theta),n.targetY=n.radius*Math.cos(n.phi),n.targetZ=n.radius*Math.sin(n.phi)*Math.sin(n.theta),n.camera.target.set(n.targetX,n.targetY,n.targetZ),n.camera.lookAt(n.camera.target),n.renderer.render(n.scene,n.camera),n.cssRenderer.render(n.cssScene,n.camera),n.editMode&&(n.updateHotspotStrokes(),n.displayBoundingBox(),null!=n.currMarker&&n.showMarkerBounds(),n.mode===st.SET_INITIAL_CAMERA_ANGLE&&n.updateLatLonUi()),n.animateId=window.requestAnimationFrame(n.animate)})),a(this,"onMouseDown",(function(t){n.contextMenuOrigin=null,n.hotspotLayer.lastHotspotIntersection=null,n.lastMouseEvent=t,n.moved=!1;var e=t.touches||[t];n.startX=e[0].screenX,n.startY=e[0].screenY;var i=X(t),r=J(t);if(n.editMode){if(!i&&!r)return}else if(!i)return;n.calcSceneRect();var o=q(t,n),a=o.pageX,s=o.pageY,l=o.gesture;if(n.startPageX=a,n.startPageY=s,r&&n.editMode){if(n.hotspotLayer.getHotspotIntersection(a,s))return;return n.contextMenuOrigin={pageX:a,pageY:s},t.preventDefault(),void n.editorApi.onRightClickImage()}if(!(l||n.mobileZoom>I||n.allowSwiping||n.hotspotLayer.onMouseDown(t,a,s)&&n.editMode)){if(n.editMode&&n.mode===st.ADD_MARKER)return t.stopPropagation(),n.placeMarker(a,s,n.upcomingMarkerData.props,n.upcomingMarkerData.id),void t.preventDefault();if(n.panToCoord=!1,n.editMode&&n.mode!=st.SET_INITIAL_CAMERA_ANGLE&&n.getMarkerIntersection(a,s,"over"))return n.boundingBox.style.display="block",void(n.downOnMarker=!0);null==n.hotspotLayer.draggableHotspot&&n.setCurrMarker(null),n.boundingBox.style.display="none",n.hideMarkerBounds(),n.isDragging=!0,n.forcingCameraTarget=!1,n.downX=a,n.downY=s,n.locX=a,n.locY=s,n.locXvel=0,n.locYvel=0,n.downLon=n.lon,n.downLat=n.lat,n.locDist=0}})),a(this,"setupSuppressOnSelectionChange",(function(){n.suppressOnSelectionChange+=1})),a(this,"teardownSuppressOnSelectionChange",(function(){n.suppressOnSelectionChange>0&&(n.suppressOnSelectionChange-=1)})),a(this,"withOnSelectionChange",(function(t){n.withoutOnSelectionChange(t),n.onSelectionChange()})),a(this,"withoutOnSelectionChange",(function(t){n.setupSuppressOnSelectionChange(),t(),n.teardownSuppressOnSelectionChange()})),a(this,"onSelectionChange",(function(){if(null!=n.editorApi&&0==n.suppressOnSelectionChange){var t,e=n.getCurrInputElement(),r=n.getInputType(e),o=n.getCurrMediaElementType(),a=n.getIsMediaShowing();if(null==e)t={isCollapsed:!0,isRightToLeft:!1,textInputType:r,supportsParagraphs:!1,type:"none",mediaType:o,isMediaShowing:a,spanStyle:null};else{var s=document.getSelection();t={isCollapsed:s.isCollapsed,isRightToLeft:null!=s.anchorNode?i.isRtlText(s.anchorNode.textContent):null,textInputType:r,supportsParagraphs:F(e),type:s.rangeCount>0?s.type.toLowerCase():"none",mediaType:o,isMediaShowing:a,spanStyle:s.rangeCount>0?it(e,s.getRangeAt(0)):null}}var l=JSON.stringify(t);n.lastSelectionChangedEventArgs!==l&&(n.editorApi.onSelectionChanged(t),n.lastSelectionChangedEventArgs=l)}})),a(this,"onMouseMove",(function(t){var e=q(t,n),r=e.pageX,o=e.pageY,a=e.gesture;if(n.lastMouseEvent=t,!(a||n.mobileZoom>I||n.allowSwiping)){n.pageX=r,n.pageY=o;var s=t.touches||[];if(!(!n.moved&&1===s.length&&Math.abs(n.startX-s[0].screenX)<1&&Math.abs(n.startY-s[0].screenY)<1||(n.moved=!0,n.hotspotLayer.onMouseMove(t,r,o),n.editMode&&n.hotspotLayer.isEditing())))if(n.canDragMarker())n.checkHideHotspotPanel(),n.dragMarker(r,o);else if(n.isDragging){n.prevLocX=n.locX,n.prevLocY=n.locY;var l=q(t,n),u=l.pageX,c=l.pageY;n.locX=u,n.locY=c,n.locDist=i.dist(n.locX,n.locY,n.prevLocX,n.prevLocY),n.locTheta=H(n.locX,n.locY,n.prevLocX,n.prevLocY),n.locXvel=n.locDist*Math.cos(n.locTheta),n.locYvel=n.locDist*Math.sin(n.locTheta),n.setLonLat(n.locX,n.locY),n.lastDragTime=performance.now()}else n.getMarkerIntersection(r,o,"move")}})),a(this,"onMouseUp",(function(t){if(n.lastMouseEvent){var e=q(n.lastMouseEvent,n),i=e.pageX,r=e.pageY;if(n.lastUpX=i,n.lastUpY=r,n.hotspotLayer.onMouseUp(t,i,r),n.getMarkerIntersection(i,r,"click"),null!=n.pinch.currMatrix&&(n.pinch.scale=n.pinch.currMatrix.getScale().x-.19999999999999996,n.pinch.matrix=n.pinch.currMatrix),n.draggingOffEdge&&(n.stopVelocity(),n.draggingOffEdge=!1),n.isDragging&&(performance.now()-n.lastDragTime>100&&n.stopVelocity(),n.isDragging=!1),n.downOnMarker){if(n.downOnMarker=!1,n.drag.started=!1,null!=n.currMarker)n.currMarker.userData.cssMarker.dragging=!1}else n.hotspotLayer.lastHotspotIntersection||"360-image"!==n.lastMouseEvent.target.dataset.canvasType||null!=n.threeSixtyAcc&&"CANVAS"===t.target.tagName&&n.threeSixtyAcc.el.focus()}})),this.model=e.model,this.el=e.el,this.cssEl=e.cssEl,this.overlaysEl=e.overlaysEl,this.editorApi=e.editorApi,this.suppressOnSelectionChange=0,this.markerShownCounter=0,this.mobileZoom=1,this.editorSettings=e.editorSettings,this.id="three-canvas-".concat(i.getPath(this,"slideObject.props.model.id",h.uniqueId("edit-mode"))),null!=this.editorApi&&this.setEditMode(!0),this.localizedText=e.localizedText||{},this.isDragging=!1,this.forcingCameraTarget=!1,this.newWidth=e.width,this.newHeight=e.height,this.origWidth=e.width,this.origHeight=e.height,this.nudgeOnLoad=e.nudgeOnLoad,this.downX=0,this.downY=0,this.downLon=0,this.downLat=0,this.lastTimeStampMs=performance.now(),this.kpPanAnimation=.008,this.lon=0,this.lat=0,this.phi=0,this.theta=0,this.radius=21,this.latMin=-89.8,this.latMax=89.5,this.oldIntersections={},this.drag={},this.sprites={},this.markersByIdx={},this.markerCount=0,this.initialLatOffset=0,this.assetManager=e.assetManager,this.slideObject=e.slideObject,this.overlaySvgEl=e.overlaySvgEl,this.miscOverlaysEl=e.miscOverlaysEl,this.playerAccentColor=e.playerAccentColor,this.setHotspotColor(e.hotspotColor),this.setHotspotReveal(e.hotspotReveal),this.pulseHotspots=e.pulseHotspots,this.pulseMarkers=e.pulseMarkers,this.altText=e.altText||"",this.navigation=e.navigation||{type:ht.NONE,visible:!1},this.bind=e.bind,this.spherical=new THREE.Spherical,this.orientation=0,this.pinch={scale:1,matrix:new c},this.setupEditorMessages(),this.setMode(st.DEFAULT),this.setupScene(e),this.setupDom(e),this.setupBackSpriteTex(),this.setupVelocityToss(),this.setupRaycasting(),this.hotspotLayer=new k(this),this.setupMarkers(e.markerData),this.setMarkerPulse(e.pulseMarkers),this.setHotspotPulse(e.pulseHotspots),this.setInitialCameraTarget(e.initialLat,e.initialLon),this.setupVars(),this.setupNavigation(),window.addEventListener("resize",this.onResize),l.on("forceRender",this.onForceRender),null!=this.editorApi&&l.on(u.threeSixtyImage.MARKER_UPDATED,this.onMarkerUpdated),this.ready()}var e,n,g;return e=t,n=[{key:"updateEditorSettings",value:function(t){this.editorSettings=t,l.trigger(u.threeSixtyImage.EDITOR_SETTINGS_CHANGED)}},{key:"setInitialCameraTarget",value:function(t,e){this.editMode||!this.nudgeOnLoad?this.initialLat=t:(this.initialLatOffset=t-2>=this.latMin?-2:2,this.initialLat=t+this.initialLatOffset),this.initialLon=e,this.setCameraTarget(this.initialLat,this.initialLon)}},{key:"setupEditorMessages",value:function(){var t,e=this;this.editorMessages=(a(t={updateText:function(t){return e.updateText(t)},updateMarker:function(t){return e.updateMarker(t)},updateMarkers:function(t){return e.updateMarkers(t)},batchUpdateMarkers:function(t){return e.batchUpdateMarkers(t)},removeMarker:function(t){return e.removeMarker(t.id)},forceRemoveMarker:function(t){return e.removeMarker(t.id,!0)},placeMarkerFromContextMenu:function(t){return e.placeMarkerFromContextMenu(t)},panToMarker:function(t){return e.panToMarker(t.id)},selectMarker:function(t){return e.selectMarker(t)},setFocus:function(t){return e.setFocus(t)},showMedia:function(t){return e.showMedia()},hideMedia:function(t){return e.hideMedia()},setEffects:function(t){return e.setEffect(t)},duplicateMarker:function(t){return e.duplicateMarker(t.sourceId,t.duplicatedMarkerData)},pasteMarker:function(t){return e.pasteMarker(t)},resetMode:function(t){return e.setMode(st.DEFAULT)}},st.ADD_MARKER,(function(t){e.setMode(st.ADD_MARKER),e.upcomingMarkerData=t})),a(t,st.SET_INITIAL_CAMERA_ANGLE,(function(t){return e.setMode(st.SET_INITIAL_CAMERA_ANGLE)})),a(t,"saveInitialCameraAngle",(function(t){return e.onSetInitialCamDone()})),a(t,st.SET_CROP_IMAGE_MEDIA,(function(t){return e.setMode(st.SET_CROP_IMAGE_MEDIA)})),a(t,"saveCropImageMedia",(function(t){return e.saveCropImageMedia()})),a(t,"updateEditorSettings",(function(t){return e.updateEditorSettings(t)})),t)}},{key:"ready",value:function(){var t=this;window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){Object.values(t.sprites).forEach((function(t){null!=t&&t.userData.cssMarker.panoReady()})),null!=t.model&&t.model.trigger(u.threeSixtyImage.READY,t)}))}))}},{key:"cancelNudge",value:function(){clearTimeout(this.nudgeTimeout),this.nudgeTimeout=null}},{key:"nudge",value:function(){var t=this;clearTimeout(this.nudgeTimeout),this.nudgeTimeout=setTimeout((function(){t.spherical.setFromCartesianCoords(t.camera.target.x,t.camera.target.y,t.camera.target.z);var e=THREE.MathUtils.radToDeg(P-t.phi);e+=-1*t.initialLatOffset,t.spherical.phi=THREE.MathUtils.degToRad(90-e);var n=new THREE.Vector3;n.setFromSpherical(t.spherical),t.setPanToCoord(n)}),250)}},{key:"setMarkerPulse",value:function(t){this.pulseMarkers=t,Object.values(this.sprites).forEach((function(e){if(null!=e){var n=e.userData.cssMarker;n.isHotspot()||n.adjust({props:{animation:t?"pulse":"normal"}})}}))}},{key:"setHotspotPulse",value:function(t){this.pulseHotspots=t}},{key:"setupBackSpriteTex",value:function(){var t=this,e=m("none",this.maxAnisotropy),n=e.canvas,i=e.tex,r=e.mat;e.render,this.backSpriteTex={normal:function(){return{canvas:n,tex:i,mat:r}},pulse:function(){t.pulseAnimation||(t.pulseAnimation=m("pulse",t.maxAnisotropy));var e=t.pulseAnimation;return{canvas:e.canvas,tex:e.tex,mat:e.mat}},empty:function(){t.emptyTexture||(t.emptyTexture=m("empty",t.maxAnisotropy));var e=t.emptyTexture;return{canvas:e.canvas,tex:e.tex,mat:e.mat}}}}},{key:"getMarker",value:function(t){var e=this.sprites[t];if(null!=e)return e.userData.cssMarker}},{key:"removeMarker",value:function(t,e){var n=this.getMarker(t);if(null!=n){if(null!=n.polyHotspot&&n.polyHotspot.delete(e))return;n.remove(),this.boundingBox.style.display="none",this.cssScene.remove(n.object),this.scene.remove(n.sprite),this.scene.remove(n.backSprite),delete this.sprites[n.id],delete this.markersByIdx[n.idx],null!=this.editorApi&&this.editorApi.onMarkerRemoved(n.id)}}},{key:"getCurrInputElement",value:function(){var t=document.activeElement;return null==t||t===document.body?null:F(t)||B(t)||U(t)||W(t)||z(t)?t:null}},{key:"getInputType",value:function(t){return[{test:function(t){return null==t},type:"none"},{test:F,type:"panelBody"},{test:B,type:"panelTitle"},{test:U,type:"hint"},{test:W,type:"tooltip"},{test:z,type:"button"},{test:function(){return!0},type:"none"}].find((function(e){return(0,e.test)(t)})).type}},{key:"getCurrMediaElementType",value:function(){var t=this.currMarker;if(null==t)return C;var e=t.userData.cssMarker.panel;if(null==e)return C;var n=function(t){if(null==t)return!1;var n=e.getSelectionBox(t);return null!=n&&n.shown};return n(e.mediaImageEl)?S:n(e.mediaAudioEl)?T:n(e.mediaVideoPosterEl)?E:null!=e.panelButton&&e.panelButton.el===document.activeElement?A:C}},{key:"getIsMediaShowing",value:function(){var t=this.currMarker;if(null==t)return!1;var e=t.userData.cssMarker.panel;return null!=e&&e.mediaShowing}},{key:"getAccHtml",value:function(){var t='<div class="three-sixty-image-acc-markers">',e=D?66:33,n=e/this.origWidth*100,i=e/this.origHeight*100;if(t+="\n        <style>\n        .acc-three-sixty-marker {\n          left: ".concat(50-n/2,"%;\n          top:  ").concat(50-i/2,"%;\n          width: ").concat(n,"%;\n          height: ").concat(i,"%;\n        }\n        </style>\n      "),Object.values(this.sprites).forEach((function(e){null!=e&&(t+=e.userData.cssMarker.getAccHtml())})),this.isGuidedNav()){var r=v.getString("three_image_interaction_next"),o=v.getString("three_image_interaction_prev");t+='\n          <button\n            class="acc-shadow-el acc-button acc-three-sixty-nav-btn acc-three-sixty-nav-next"\n            tabindex="0" type="button"\n            aria-label="'.concat(r,'"\n          ><p><span>').concat(r,'</span></p></button>\n          <button\n            class="acc-shadow-el acc-button acc-three-sixty-nav-btn acc-three-sixty-nav-prev"\n            tabindex="0" type="button"\n            aria-label="').concat(o,'"\n          ><p><span>').concat(o,"</span></p></button>\n        ")}return t+="</div>"}},{key:"connectAccChildren",value:function(t,e){var n=this;this.threeSixtyAcc=t,this.accChildContainerEl=e,Object.values(this.sprites).forEach((function(t){null!=t&&t.userData.cssMarker.setAccChild(e)})),this.isGuidedNav()&&(this.nextAccBtn=e.querySelector(".acc-three-sixty-nav-next"),this.prevAccBtn=e.querySelector(".acc-three-sixty-nav-prev"),this.updateGuidedArrows()),this.isFreeNav()&&this.accDidResume&&(Object.values(this.markersByIdx).forEach((function(t){n.markerIdxInView!=t.idx&&(t.accChildEl.style.display="none")})),this.freeAccShowMarkers=function(){Object.values(n.markersByIdx).forEach((function(t){t.accChildEl.style.display=null}))})}},{key:"updateText",value:function(t){if(null!=this.getMarker(t.id)){var e=this.getCurrInputElement();null!=e&&this.withOnSelectionChange((function(){nt(e,t)}))}}},{key:"updateMarkers",value:function(t){for(var e in this.sprites)this.sprites[e].userData.cssMarker.adjustProps(t);null!=this.editorApi&&this.editorApi.onMarkersUpdated(this.getAllMarkerData())}},{key:"batchUpdateMarkers",value:function(t){var e=this;t.forEach((function(t){return e.updateMarker(t)}))}},{key:"selectMarker",value:function(t){var e=document.querySelector(".three-sixty-image-media-panel-overlay");if(this.mode!==st.SET_CROP_IMAGE_MEDIA&&!e){if(null!=this.currMarker){var n=this.currMarker.userData.cssMarker.panel;null!=n&&n.hide()}if(this.hideMarkerBounds(),null==t.id)this.selectNextSprite=!1,this.setCurrMarker(null);else{var i=this.getMarker(t.id);null!=i&&(this.selectNextSprite=!0,this.setCurrMarker(i.sprite),this.panToMarker(t.id))}}}},{key:"deselectFocus",value:function(){if(this.mode!==st.SET_CROP_IMAGE_MEDIA&&null!=this.currMarker){var t=this.currMarker.userData.cssMarker.panel;if(null!=t&&t.shown)return null!=document.activeElement&&f.closest(document.activeElement,(function(t){return f.hasClass(t,"panel-el")}))?void document.activeElement.blur():void t.hide();this.deselectCurrentMarkerOrHotspot()}}},{key:"setFocus",value:function(t){var e=this;this.editMode&&(t.focus!=x?null!=this.currMarker&&this.withOnSelectionChange((function(){var n=e.currMarker.userData.cssMarker.panel,r=t.focus;null!=n&&(n.shown||r==C||(n.marker.isHotspot()?n.showHotspotPanel():n.show()),r===b?(n.showSelectionBox(n.titleEl,!0),n.titleEl.focus()):r===w?(n.showSelectionBox(n.bodyEl.parentNode,!0),n.bodyEl.focus()):r===S?n.showSelectionBox(n.mediaImageEl,!0):r===T?n.showSelectionBox(n.mediaAudioEl,!0):r===E?n.showSelectionBox(n.mediaVideoPosterEl,!0):n.hideSelectionBoxes());var o=i.getPath(e,"currMarker.userData.cssMarker.tooltip");null!=o&&r!=C&&o.showEditMode()})):this.deselectFocus())}},{key:"showMedia",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker.panel;null!=t&&t.showMediaType(this.getCurrMediaElementType())}}},{key:"hideMedia",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker.panel;null!=t&&t.hideAllMedia()}}},{key:"setEffect",value:function(t){null!=t.color&&this.setHotspotColor(t.color),null!=t.reveal&&this.setHotspotReveal(t.reveal),null!=t.pulseMarkers&&this.setMarkerPulse(t.pulseMarkers),null!=t.pulseHotspots&&this.setHotspotPulse(t.pulseHotspots),null!=this.currMarker&&this.currMarker.userData.cssMarker.updateProps()}},{key:"editorMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.editorMessages[t](e)}},{key:"setupDom",value:function(t){var e=this,n=t.width*t.scale,i=t.height*t.scale;this.renderer.setSize(n,i),this.renderer.domElement.id=this.id,this.renderer.domElement.dataset.canvasType="360-image",this.renderer.domElement.style.pointerEvents="all",this.renderer.domElement.addEventListener($,this.onMouseDown),this.cssRenderer.setSize(n,i),document.addEventListener(tt,this.onMouseUp,!1),document.addEventListener(Q,this.onMouseMove),this.el.appendChild(this.renderer.domElement),this.cssEl.appendChild(this.cssRenderer.domElement);var r=setInterval((function(){e.calcSceneRect(),e.sceneRect.width>0&&clearInterval(r)}),16)}},{key:"toDomCoords",value:function(t,e){this.calcSceneRect();var n=t/window.innerWidth,i=e/window.innerHeight;return{x:n*this.sceneRect.width,y:i*this.sceneRect.height}}},{key:"toScreenPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new THREE.Vector3;e||this.calcSceneRect();var i=this.sceneRect.width/2,r=this.sceneRect.height/2;return t.updateMatrixWorld(),n.setFromMatrixPosition(t.matrixWorld).project(this.camera),{x:n.x*i+i,y:-n.y*r+r}}},{key:"vecToScreenPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.calcSceneRect();var n=D&&e?{width:this.newWidth,height:this.newHeight}:this.sceneRect,i=n.width,r=n.height,o=t.clone().project(this.camera);return o.x=(o.x+1)/2,o.x*=i,o.y=-(o.y-1)/2,o.y*=r,o}},{key:"duplicateMarker",value:function(t,e){this.calcSceneRect();var n=this.sprites[t],i=this.toScreenPosition(n),r=this.scaleCoord(i.x,i.y),o=new THREE.Vector2(r.x,r.y);this.placeMarkerWithOffset(o,e)}},{key:"pasteMarker",value:function(t){this.calcSceneRect();var e=this.scaleCoord(this.sceneRect.width/2,this.sceneRect.height/2),n=new THREE.Vector2(e.x,e.y);this.placeMarkerWithOffset(n,t)}},{key:"placeMarkerWithOffset",value:function(t,e){for(var n=THREE.MathUtils.degToRad(20),i=new THREE.Vector2(15*Math.cos(n),20*Math.sin(n)),r=.8*i.lengthSq();this.isScreenPositionNearbySprite(t,r);)t.add(i);this.placeMarker(t.x,t.y,e.props,e.id)}},{key:"isScreenPositionNearbySprite",value:function(t,e){for(var n in this.sprites){var i=this.sprites[n],r=this.toScreenPosition(i),o=this.scaleCoord(r.x,r.y);if(t.distanceToSquared(o)<e)return!0}return!1}},{key:"setHotspotColor",value:function(t){t||(t="#00ccff"),this.hotspotColor=t,this.hotspotTransColor=i.rgbify(t,.4),null!=this.hotspotLayer&&this.hotspotLayer.updateColors(),Object.values(this.sprites).forEach((function(t){if(null!=t){var e=t.userData.cssMarker;e.isHotspot()&&e.updateHotspotColor()}}))}},{key:"setHotspotReveal",value:function(t){this.hotspotReveal=t}},{key:"projection",value:function(t,e){if(null!=t){this.viewMatrix.copy(this.camera.matrixWorldInverse),this.viewProjectionMatrix.multiplyMatrices(this.camera.projectionMatrix,this.viewMatrix),this.renderData=this.projector.projectScene(this.scene,this.camera),this.elements=this.renderData.elements,this.normalViewMatrix.getNormalMatrix(this.camera.matrixWorldInverse),this.calcSceneRect();var n=this.elements.find((function(e){return e.object===t}));if(null!=n){var i=n,r={x:i.x,y:i.y};i.x*=this.sceneRect.width/2,i.y*=-this.sceneRect.height/2,e(i,n,r)}}}},{key:"displayBoundingBox",value:function(){!this.currMarker||!i.getPath(this,"currMarker.userData.cssMarker")||"hotspot"===this.currMarker.userData.cssMarker.props.type&&i.getPath(this,"currMarker.userData.cssMarker.polyHotspot")||(this.currMarker.userData.cssMarker.isHotspot()?this.boundingBox.classList.add("hotspot-bb"):this.boundingBox.classList.remove("hotspot-bb"),this.boundingBox.style.display="block",this.projection(this.currMarker,this.renderSpriteBoundingBox))}},{key:"displayBoundingBoxOnMarker",value:function(t){this.projection(t.sprite,this.renderSpriteBoundingBox)}},{key:"setupProjector",value:function(){this.projector=new THREE.Projector,this.viewMatrix=new THREE.Matrix4,this.viewProjectionMatrix=new THREE.Matrix4,this.normalViewMatrix=new THREE.Matrix3}},{key:"getBoxCenter",value:function(){var t=this.boundingBox,e=this.scaleCoord(parseFloat(t.style.left),parseFloat(t.style.top)),n=this.scaleCoord(parseFloat(t.style.width),parseFloat(t.style.height));return{cx:e.x+n.x/2,cy:e.y+n.y/2}}},{key:"setupScene",value:function(t){this.setupProjector(),this.scene=new THREE.Scene,this.cssScene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,t.width/t.height,1,5e3),this.camera.layers.enable(1),this.camera.zoom=.8,this.camera.updateProjectionMatrix(),this.camera.target=new THREE.Vector3(0,0,0);var e={antialias:!0};if(R){var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.origGetContext=n.getContext,n.getContext=function(t,e){return e.xrCompatible=null,n.origGetContext(t,e)},e.canvas=n}this.renderer=new THREE.WebGLRenderer(e),this.renderer.setPixelRatio(window.devicePixelRatio||2),this.cssRenderer=new THREE.CSS3DRenderer,this.maxAnisotropy=this.renderer.capabilities.getMaxAnisotropy();var i=D?50:64;this.sphere=new THREE.SphereGeometry(1e3,i,i),this.sphere.scale(-1,1,1),this.sphere.rotateY(P),null!=t.croppedHeight?this.croppedTextureSphere(t):this.createSphere(t.dataUri),this.overlaysEl.classList.add("three-sixty-overlay"),this.createBoundingBox()}},{key:"createBoundingBox",value:function(){this.boundingBox=Y(),this.overlaysEl.appendChild(this.boundingBox),this.boundingBox.addEventListener("mousedown",this.onBoxDown)}},{key:"croppedTextureSphere",value:function(t){var e=this,n=new Image;n.src=t.dataUri,n.addEventListener("load",(function i(){var r=n.width/t.croppedWidth,o=document.createElement("canvas"),a=o.getContext("2d");o.width=t.fullWidth*r,o.height=t.fullHeight*r,a.fillStyle="black",a.fillRect(0,0,o.width,o.height),a.drawImage(n,t.croppedX*r,t.croppedY*r),e.createSphere(o.toDataURL()),n.removeEventListener("load",i)}))}},{key:"createSphere",value:function(t){var e=new THREE.MeshBasicMaterial;e.depthTest=!1;var n=(new THREE.TextureLoader).load(t,this.onTextureReady);n.anisotropy=this.maxAnisotropy,e.map=n,this.sphereMesh=new THREE.Mesh(this.sphere,e),this.scene.add(this.sphereMesh)}},{key:"calcSceneRect",value:function(){this.sceneRect=this.renderer.domElement.getBoundingClientRect(),this.sceneScale=this.newWidth/this.origWidth}},{key:"scaleCoord",value:function(t,e){return{x:t*=window.innerWidth/this.sceneRect.width,y:e*=window.innerHeight/this.sceneRect.height}}},{key:"setEditMode",value:function(t){this.editMode=t,l.trigger(u.threeSixtyImage.EDIT_MODE_CHANGED),this.editMode?(f.addClass(this.overlaysEl,"edit-mode"),document.addEventListener("focusin",this.onSelectionChange),document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("focusout",this.onSelectionChange)):(f.removeClass(this.overlaysEl,"edit-mode"),document.removeEventListener("focusin",this.onSelectionChange),document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("focusout",this.onSelectionChange))}},{key:"setMode",value:function(t){this.mode!==t&&(this.mode===st.SET_INITIAL_CAMERA_ANGLE?this.cancelSetInitialCam():this.mode===st.SET_CROP_IMAGE_MEDIA&&this.cancelCropImageMedia(!1),this.mode=t,t===st.DEFAULT?(this.el.style.cursor=dt,null!=this.hotspotLayer&&this.hotspotLayer.deleteUnfinishedHotspot()):t===st.ADD_MARKER?(this.deselectCurrentMarkerOrHotspot(),this.el.style.cursor=ft):t===st.SET_INITIAL_CAMERA_ANGLE?this.setInitialCameraAngle():t===st.SET_CROP_IMAGE_MEDIA&&this.setCropImageMedia())}},{key:"setupRaycasting",value:function(){this.raycaster=new THREE.Raycaster,this.mouseRay=new THREE.Vector2}},{key:"getBackSpriteMaterial",value:function(t,e){this.editMode||e?t.animation="normal":this.pulseMarkers&&(t.animation="pulse");var n="hotspot"===t.type?"empty":t.animation;return this.backSpriteTex[n||"normal"]().mat}},{key:"initSprite",value:function(t,e){var n,i,r,o,a,s;return i=(n=document.createElement("canvas")).getContext("2d"),n.width=512,n.height=512,r=new THREE.CanvasTexture(n),o=new THREE.SpriteMaterial({map:r}),j(r,o,this.maxAnisotropy),(a=new THREE.Sprite(o)).material.opacity=1,a.renderOrder=10,(s=new THREE.Sprite(this.getBackSpriteMaterial(e))).renderOrder=1,s.dynamic=!0,s.userData.isBackSprite=!0,s.position.normalize(),s.scale.set(50,50,1),s.position.copy(t),{sprite:a,canvas:n,ctx:i,tex:r,mat:o,backSprite:s}}},{key:"markerHasTrigger",value:function(t){return i.getPath(this,"model.events",[]).filter((function(t){return"onlinkrelease"===t.kind})).map((function(t){return t.triggerid})).includes(t.id)}},{key:"createSprite",value:function(t,e,n){var i=this,o=this.initSprite(t,n),a=o.sprite,s=o.canvas,l=o.ctx,u=o.tex,c=(o.mat,o.backSprite);a.position.normalize(),a.scale.set(50,50,1),a.position.copy(t),a.userData.backSprite=c,this.scene.add(a),window.requestAnimationFrame((function(){return i.scene.add(c)}));var d=new r({pano:this,loc:t,sprite:a,id:e,idx:this.markerCount++,canvas:s,backSprite:c,ctx:l,tex:u,props:h.merge({type:"normal"},n||{})});return a.userData.cssMarker=d,this.sprites[e]=a,this.markersByIdx[d.idx]=d,{sprite:a,marker:d}}},{key:"setupMarkers",value:function(t){var e=this;null!=t&&t.forEach((function(t){var n=new THREE.Vector3(t.xPos,t.yPos,t.zPos),i=e.createSprite(n,t.id,t.props).sprite;if(i.userData.id=t.id,"hotspot"===t.props.type)if(i.userData.cssMarker.hide(),i.userData.cssMarker.el.style.display="none",i.userData.cssMarker.object.visible=!1,null!=t.props.hotspotData){var r=t.props.hotspotData;e.hotspotLayer.createHotspot(r,i.userData.cssMarker)}else e.hotspotLayer.createHotspotAtPoint(n,i.userData.cssMarker);"normal"===t.props.type&&e.makeMarkerSwitchable(i.userData.cssMarker,n)}))}},{key:"setupVelocityToss",value:function(){this.locX=0,this.locY=0,this.prevLocX=0,this.prevLocY=0,this.locXvel=0,this.locYvel=0,this.enableVelocityDamping()}},{key:"enableVelocityDamping",value:function(){this.velDamp=.95}},{key:"disableVelocityDamping",value:function(){this.velDamp=0}},{key:"setLonLat",value:function(t,e){this.lon=.1*(this.downX-t)+this.downLon,this.lat=.1*(e-this.downY)+this.downLat}},{key:"stopVelocity",value:function(){this.locYvel=this.locXvel=0}},{key:"applyVelocity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.isDragging||this.forcingCameraTarget||this.downOnMarker)&&!t||(this.locX+=this.locXvel,this.locY+=this.locYvel,this.locXvel*=this.velDamp,this.locYvel*=this.velDamp,this.lat>89?this.locY>this.maxLocY&&(this.locY=this.maxLocY):this.maxLocY=this.locY,this.lat<-89?this.locY<this.minLocY&&(this.locY=this.minLocY):this.minLocY=this.locY,this.setLonLat(this.locX,this.locY))}},{key:"removeNavListeners",value:function(){if(null!=this.navUi){var t=this.navUi,e=t.threeNavContentEl,n=t.threeGuidedLeftBtnEl,i=t.threeGuidedRightBtnEl;e&&e.removeEventListener(Z,this.onNavClicked),n&&n.removeEventListener(Z,this.goPrevGuidedClick),i&&i.removeEventListener(Z,this.goNextGuidedClick)}}},{key:"removeLoadTracker",value:function(){for(var e=t.loadTracker[this.slideObject.currSlideId],n=0;n<e.length;n++)if(e[n].id===this.slideObject.props.model.absoluteId){e.splice(n,1);break}}},{key:"destroy",value:function(){this.removeLoadTracker(),Object.values(this.sprites).forEach((function(t){null!=t&&t.userData.cssMarker.remove()})),this.renderer.domElement.removeEventListener($,this.onMouseDown),document.removeEventListener(tt,this.onMouseUp),document.removeEventListener(Q,this.onMouseMove),this.el.removeChild(this.renderer.domElement),this.killAnimation(),window.removeEventListener("resize",this.onResize),l.off("forceRender",this.onForceRender),this.hotspotLayer.destroy(),null!=this.editorApi&&l.off(u.threeSixtyImage.MARKER_UPDATED,this.onMarkerUpdated),this.removeNavListeners(),this.renderer.dispose(),this.sphere.dispose(),window.cancelAnimationFrame(this.cssScrollingId)}},{key:"killAnimation",value:function(){window.cancelAnimationFrame(this.animateId)}},{key:"changeSize",value:function(){this.camera.aspect=this.newWidth/this.newHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.newWidth,this.newHeight),this.cssRenderer.setSize(this.newWidth,this.newHeight),this.width=this.newWidth,this.height=this.newHeight}},{key:"updateLatLonUi",value:function(){var t=Math.round(this.lat),e=i.normalizeDeg(Math.round(this.lon));this.setCamUi.threeLatLonTextEl.innerHTML="<div>\n      ".concat(this.localizedText.initialView," ").concat(t,"&#176;, ").concat(e,"&#176;\n      </div>")}},{key:"resetCropImageMedia",value:function(){this.cancelCropImageMedia(!1),this.setCropImageMedia(!0)}},{key:"cancelCropImageMedia",value:function(t){null!=this.cropTool&&(this.cropTool.hide(),this.cropTool=null),this.cropToolShown=!1,this.bottomCropUiEl.style.display="none";var e=this.lastActiveMarker.userData.cssMarker.panel;null!=e&&e.cancelCrop(),null!=this.editorApi&&null!=this.editorApi.restoreFit&&this.editorApi.restoreFit(),t&&(this.setMode(st.DEFAULT),null!=this.editorApi&&this.editorApi.onCancelImageMediaCrop())}},{key:"saveCropImageMedia",value:function(){if(this.cropToolShown){var t=this.cropTool.getCropRect(),e=this.lastActiveMarker.userData;t.markerId=e.cssMarker.id,e.cssMarker.panel.saveCrop(t),this.cancelCropImageMedia(!1),null!=this.editorApi&&this.editorApi.onImageMediaCrop(t)}}},{key:"setCropImageMedia",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cropToolShown){null!=this.cropTool&&(this.cropTool.hide(),this.cropTool=null);var n=this.lastActiveMarker.userData.cssMarker.panel,i=n.prepCrop(),r=e?null:n.marker.getEditorVar("imageMediaCropRectangle");if(this.cropTool=new _(".panel-image-container"),this.cropTool.show(),null!=r&&this.cropTool.setCropRect(r),this.cropToolShown=!0,!this.bottomCropUiEl){var o=this.localizedText,a=o.cropReset,s=o.cropCancel,l=o.cropDone;this.bottomCropUiEl=document.createElement("div"),this.bottomCropUiEl.innerHTML=ot({reset:a,cancel:s,done:l}),this.bottomCropUiEl=this.bottomCropUiEl.firstElementChild,this.bottomCropUiEl.style.zIndex=1e4,this.setCropUiBottom={},f.selectAllByRef(this.setCropUiBottom,this.bottomCropUiEl);var u=document.querySelector("#wrapper");null!=u&&u.appendChild(this.bottomCropUiEl),this.setCropUiBottom.threeBottomUiResetEl.addEventListener("click",(function(){t.resetCropImageMedia()})),this.setCropUiBottom.threeBottomUiDoneEl.addEventListener("click",(function(){t.saveCropImageMedia(),t.setMode(st.DEFAULT)})),this.setCropUiBottom.threeBottomUiCancelEl.addEventListener("click",(function(){t.cancelCropImageMedia(!0)}))}null!=this.editorApi&&null!=this.editorApi.forceFitInWindow&&this.editorApi.forceFitInWindow(),i(),this.bottomCropUiEl.style.display="block",this.updateSize(this.newWidth,this.newHeight),this.positionCropUi()}}},{key:"hideCrosshairUi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8;null!=this.editorApi&&null!=this.editorApi.restoreFit&&this.editorApi.restoreFit(),d.to(this.setCamUi.threeCrosshairsEl,t,{opacity:0}),this.bottomCamUiEl.style.display="none",d.to(this.setCamUi.threeLatLonPillEl,t,{opacity:0,delay:e}),this.el.parentNode.classList.remove("three-setting-intial-camera"),this.enableVelocityDamping()}},{key:"cancelSetInitialCam",value:function(){this.hideCrosshairUi(0,0)}},{key:"updateVisitedMarkers",value:function(){if(null!=this.vars&&this.visitedMarkers<this.vars.total.value()){var t=this.getAllMarkers((function(t){return t.isVisited&&t.shouldTrack()})).length;this.visitedMarkers=t}}},{key:"visitedMarkers",get:function(){if(this.vars)return p.resolvePath(this.vars.visitedPath).value()},set:function(t){this.vars&&(G(this.vars.visitedPath,t,this),this.updateNavigationText())}},{key:"setupVars",value:function(){null!=this.bind&&null!=this.navigation&&(this.vars={visitedPath:this.bind.visited,total:p.resolvePath(this.bind.total),visited:p.resolvePath(this.bind.visited)})}},{key:"hasNavigationVars",value:function(){return null!=this.bind&&null!=this.vars&&null!=this.vars.visitedPath&&null!=this.vars.total&&null!=this.vars.visited}},{key:"resetView",value:function(){this.visitedMarkers=0,this.resetMarkers(),this.setCameraTarget(this.initialLat,this.initialLon)}},{key:"updateResumeProps",value:function(){this.model.prop("CameraLat",this.lat),this.model.prop("CameraLon",this.lon)}},{key:"applyResume",value:function(){this.resumeVisitedMarkers(),this.visitedMarkersChanged(),this.cancelNudge(),this.setCameraTarget(this.model.prop("CameraLat"),this.model.prop("CameraLon")),this.downLat=this.lat,this.downLon=this.lon,this.accDidResume=!0}},{key:"resetMarkers",value:function(){Object.values(this.markersByIdx).forEach((function(t){t.reset()}))}},{key:"resumeVisitedMarkers",value:function(){for(var t=this.model.indexValues,e=this.model.labelValues,n=0;n<t.length;n++){var i=t[n];this.markersByIdx[i]&&this.markersByIdx[i].resumeVisited(e[i])}this.updateVisitedMarkers()}},{key:"getTokenValues",value:function(){var t=this.vars.total.value();return{count:this.isFreeNav()?this.visitedMarkers:Math.min(this.markerIdxInView+1,t),total:t}}},{key:"getNavigationText",value:function(){var t=this.getTokenValues(),e=t.count,n=t.total;return this.isFreeNav()?0===e?1===n?v.replaceTokens(this.navigation.totalItemText||v.getString("three_image_total_item"),t):v.replaceTokens(this.navigation.totalItemsText||v.getString("three_image_total_items"),t):v.replaceTokens(this.navigation.countOfTotalVisitedText||v.getString("three_image_count_of_total_visited"),t):this.isGuidedNav()?v.replaceTokens(this.navigation.countOfTotalText||v.getString("three_image_count_of_total"),t):void 0}},{key:"getVerboseNavigationText",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getTokenValues(),i=n.total,r=v.getString("three_image_interaction"),o=e?v.getString("three_image_instructions"):"",a=this.isFreeNav()?v.getString("three_image_interaction_free"):v.getString("three_image_interaction_guided");if(this.isFreeNav()){var s=e?"".concat(this.altText," : ").concat(r,". ").concat(a,". "):"",l=1===i?v.getString("acc_three_image_count_of_total_item_visited",n):v.getString("acc_three_image_count_of_total_items_visited",n);t="".concat(s).concat(l)}else if(this.isGuidedNav()){var u=e?"".concat(this.altText," : ").concat(r,". ").concat(a,"."):"",c=v.getString("acc_three_image_step_count_of_total",n);t="".concat(u).concat(c)}return"".concat(t,". ").concat(o)}},{key:"updateNavigationText",value:function(){null!=this.navUi&&(this.navUi.threeNavContentEl.innerHTML=this.getNavigationText())}},{key:"setupNavigation",value:function(){if(this.hasNavigationVars()){var t=this.getAllMarkers((function(t){return t.shouldTrack()})).length;G(this.bind.total,t,this),this.isFreeNav()&&!0===this.navigation.visible?(this.navigationEl=this.miscOverlaysEl,null!=this.navigationEl&&(this.navigationEl.innerHTML=ut(this.navigation.textColor,this.navigation.backgroundColor),this.navUi={},f.selectAllByRef(this.navUi,this.navigationEl),this.updateNavigationText(),this.setLocVarsCenter())):this.isGuidedNav()&&(this.navigationEl=this.miscOverlaysEl,null!=this.navigationEl&&(this.setupGuidedUi(),this.goFirstGuidedMarker(),this.updateNavigationText()))}}},{key:"visitedMarkersChanged",value:function(){this.isGuidedNav()&&this.updateGuidedArrows()}},{key:"isFreeNav",value:function(){return this.navigation.type===ht.FREE}},{key:"isGuidedNav",value:function(){return this.navigation.type===ht.GUIDED}},{key:"setupGuidedUi",value:function(){!0===this.navigation.visible&&(this.navigationEl.innerHTML=ct(this.navigation.textColor,this.navigation.backgroundColor,this.playerAccentColor),this.navUi={},f.selectAllByRef(this.navUi,this.navigationEl),d.from(this.navUi.threeNavigationEl,.4,{opacity:0,delay:.4}),this.navUi.threeNavContentEl.addEventListener(Z,this.onNavClicked),this.navUi.threeGuidedLeftBtnEl.addEventListener(Z,this.goPrevGuidedClick),this.navUi.threeGuidedRightBtnEl.addEventListener(Z,this.goNextGuidedClick)),Object.values(this.markersByIdx).forEach((function(t){t.hide()}))}},{key:"goFirstGuidedMarker",value:function(){var t=this;this.slideObject.afterHtmlReady((function(){if(t.isGuidedNav()){var e=t.markersByIdx[t.markerIdxInView];null!=e&&(t.isNavigationPan=!0,e.show(),e.isHotspot()&&(e.polyHotspot.visible=t.hotspotReveal,e.polyHotspot.canClick=!0),t.panToMarker(e.id),t.updateGuidedArrows(),t.updateNavigationText())}}))}},{key:"isFirstMarkerWithNoResume",value:function(){return 0===this.markerIdxInView&&0===this.model.indexValues.length}},{key:"canNavNextMarker",value:function(){return-1!=this.model.indexValues.indexOf(this.markerIdxInView)&&this.markerIdxInView<this.vars.total.value()-1}},{key:"updateAccArrowBtns",value:function(t,e){var n=this;if(null!=this.prevAccBtn&&null!=t){var i=function(){t?n.prevAccBtn.setAttribute("aria-disabled",t):n.prevAccBtn.removeAttribute("aria-disabled")};this.prevAccBtn===document.activeElement?this.prevAccBtn.addEventListener("blur",(function t(){i(),n.prevAccBtn.removeEventListener("blur",t)})):i()}if(null!=this.nextAccBtn&&null!=e){var r=function(){e?n.nextAccBtn.setAttribute("aria-disabled",e):n.nextAccBtn.removeAttribute("aria-disabled")};this.nextAccBtn===document.activeElement?this.nextAccBtn.addEventListener("blur",(function t(){r(),n.nextAccBtn.removeEventListener("blur",t)})):r()}}},{key:"updateGuidedArrows",value:function(){if(null!=this.navUi){if(this.isFirstMarkerWithNoResume())return this.navUi.threeGuidedRightBtnEl.classList.add("three-guided-disabled"),this.navUi.threeGuidedLeftBtnEl.classList.add("three-guided-disabled"),void this.updateAccArrowBtns(!0,!0);this.canNavNextMarker()?(this.navUi.threeGuidedRightBtnEl.classList.remove("three-guided-disabled"),this.updateAccArrowBtns(null,!1)):(this.navUi.threeGuidedRightBtnEl.classList.add("three-guided-disabled"),this.updateAccArrowBtns(null,!0)),this.markerIdxInView>0?(this.navUi.threeGuidedLeftBtnEl.classList.remove("three-guided-disabled"),this.updateAccArrowBtns(!1)):(this.navUi.threeGuidedLeftBtnEl.classList.add("three-guided-disabled"),this.updateAccArrowBtns(!0))}}},{key:"markerIdxInView",get:function(){return this.model&&this.model.prop("MarkerInView")},set:function(t){this.model&&this.model.prop("MarkerInView",t)}},{key:"hideShowGuidedArrows",value:function(){if(null!=this.prevMarker&&(this.prevMarker.hide(),null!=this.prevMarker.panel&&(this.model.updateLabelState(this.prevMarker.idx,this.prevMarker.panel.shown),this.model.setVisitedMarkers()),this.prevMarker.isHotspot()&&(this.prevMarker.polyHotspot.visible=!1,this.prevMarker.polyHotspot.canClick=!1)),null!=this.nextMarker)if(this.nextMarker.show(),this.nextMarker.isHotspot()&&(this.nextMarker.polyHotspot.canClick=!0),this.isNavigationPan=!0,this.accNavConfig){var t=this.accNavConfig,e=t.isAcc,n=t.cb;this.panToMarker(this.nextMarker.id,e,n),this.accNavConfig=null}else this.panToMarker(this.nextMarker.id);this.updateNavigationText(),this.updateGuidedArrows()}},{key:"setAccNavPanConfig",value:function(t){this.accNavConfig={isAcc:!0,cb:t}}},{key:"positionInitialCamUi",value:function(){if(this.mode===st.SET_INITIAL_CAMERA_ANGLE){var t=document.querySelector("#container");if(null!=t){var e=t.getBoundingClientRect();this.bottomCamUiEl.style.top="".concat(e.bottom,"px"),this.bottomCamUiEl.style.left="".concat(e.left,"px"),this.bottomCamUiEl.style.width="".concat(e.width,"px")}}}},{key:"positionCropUi",value:function(){if(this.mode===st.SET_CROP_IMAGE_MEDIA){var t=document.querySelector(".panel-image-frame");if(null!=t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top,bottom:e.bottom,width:e.width};if(n.width<410){n.width=410;var i=(410-e.width)/2;n.left=e.left-i}this.bottomCropUiEl.style.top="".concat(n.bottom,"px"),this.bottomCropUiEl.style.left="".concat(n.left,"px"),this.bottomCropUiEl.style.width="".concat(n.width,"px")}}}},{key:"setInitialCameraAngle",value:function(){var t=this;if(this.deselectMarker(),this.hotspotLayer.currHotspot=null,this.el.parentNode.classList.add("three-setting-intial-camera"),this.disableVelocityDamping(),this.panToCoord=!1,this.setCameraTarget(this.initialLat,this.initialLon),Object.values(this.sprites).forEach((function(t){if(null!=t){var e=t.userData.cssMarker;null!=e.panel&&e.panel.shown&&e.panel.hide()}})),null!=this.editorApi&&null!=this.editorApi.forceFitInWindow&&this.editorApi.forceFitInWindow(),this.crossHairsEl)this.crossHairsEl.style.display="block",this.setCamUi.threeCrosshairsEl.style.opacity=1,this.setCamUi.threeLatLonPillEl.style.opacity=1,this.bottomCamUiEl.style.display="block";else{this.bottomCamUiEl=document.createElement("div");var e=this.localizedText,n=e.initialCameraReset,i=e.initialCameraCancel,r=e.initialCameraDone;this.bottomCamUiEl.innerHTML=ot({reset:n,cancel:i,done:r}),this.bottomCamUiEl=this.bottomCamUiEl.firstElementChild,this.setCamUiBottom={},f.selectAllByRef(this.setCamUiBottom,this.bottomCamUiEl);var o=document.querySelector("#wrapper");null!=o&&o.appendChild(this.bottomCamUiEl),this.crossHairsEl=document.querySelector(".three-misc-overlays"),null!=this.crossHairsEl&&(this.crossHairsEl.innerHTML=rt()),this.setCamUi={},f.selectAllByRef(this.setCamUi,this.crossHairsEl),this.setCamUiBottom.threeBottomUiDoneEl.addEventListener("click",this.onSetInitialCamDone),this.setCamUiBottom.threeBottomUiResetEl.addEventListener("click",(function(){t.panToCoord=!1,t.deselectMarker(),t.setCameraTarget(0,0)})),this.setCamUiBottom.threeBottomUiCancelEl.addEventListener("click",(function(){null!=t.editorApi&&null!=t.editorApi.onCancelInitialCameraAngleSet&&t.editorApi.onCancelInitialCameraAngleSet(),t.setMode(st.DEFAULT)}))}this.positionInitialCamUi(),this.updateSize(this.newWidth,this.newHeight),d.from(this.setCamUi.threeCrosshairsEl,.2,{opacity:0})}},{key:"panComplete",value:function(){var t=this;if(this.panToCoord&&(this.setLocVarsCenter(),this.panToCoord=!1,null!=this.panCallback&&(this.panCallback(this.showNextSprite),this.panCallback=null)),this.selectNextSprite&&setTimeout((function(){t.currMarker&&(t.displayBoundingBox(),t.showMarkerBounds(),t.boundingBox.style.display="block",t.selectNextSprite=!1)}),300),null!=this.showNextSprite){var e=this.showNextSprite,n=e.userData.cssMarker,i=n.polyHotspot,r=n.isHotspot(),o=this.editMode||!this.isGuidedNav()||this.markerShownCounter>0,a=this.isAccPan;this.isAccPan&&(this.isAccPan=!1),a||(this.hotspotLayer.currHotspot=r&&o?i:null),(n.panel||n.hotspotHint)&&this.mode!==st.SET_INITIAL_CAMERA_ANGLE?(null!=n.panel&&(n.panel.forcePlaceCenter=!0),window.requestAnimationFrame((function(){if(!a&&(0!==t.markerShownCounter||t.editMode||t.model.labelValues[n.idx])){if(r){if(n.panel){t.calcSceneRect();var e=t.vecToScreenPosition(i.getCenterPoint(i.shapeMesh));n.panel.show(!0,e)}else l.trigger(u.threeSixtyImage.PUSH_DOWN_BY_LABEL);null!=n.hotspotHint&&n.hotspotHint.show()}else n.panel.show();null!=n.tooltip&&n.tooltip.toggleEditMode(!0)}null!=n.panel&&n.panel.hideSelectionBoxes(),t.markerShownCounter++}))):this.markerShownCounter++,this.isNavigationPan&&(window.requestAnimationFrame((function(){t.isFirstMarkerWithNoResume()||n.addToVisitedMarkers()})),this.isGuidedNav()&&(this.markerShownCounter>0&&n.triggerEvent("onlinkrelease",e.userData.id),r&&(i.visible=this.hotspotReveal,i.canClick=!0))),this.showNextSprite=null}this.isNavigationPan=!1}},{key:"moveCameraWithElement",value:function(){var t=50*this.sceneScale,e=.4,n=this.sceneRect.width-t,i=this.sceneRect.height-t,r=t,o=t,a=this.startPageX-this.pageX,s=this.startPageY-this.pageY,l=this.pageX/(window.innerWidth/this.sceneRect.width),u=this.pageY/(window.innerHeight/this.sceneRect.height);this.lat<89&&this.lat>-89&&(l>n&&a<0?(this.changeLocX(-.4),this.needsElementPan=!0):l<r&&a>0&&(this.changeLocX(e),this.needsElementPan=!0)),u<o&&s>0?(this.changeLocY(e),this.needsElementPan=!0):u>i&&s<0&&(this.changeLocY(-.4),this.needsElementPan=!0),this.needsElementPan&&(this.dragMarker(this.pageX,this.pageY),this.applyVelocity(!0),this.draggingOffEdge=!0,this.needsElementPan=!1)}},{key:"updateHotspotStrokes",value:function(){(Math.abs(this.locXvel)>.005||Math.abs(this.locYvel)>.005)&&Object.values(this.sprites).forEach((function(t){if(null!=t){var e=t.userData.cssMarker;e.isHotspot()&&e.displayBounds()}}))}},{key:"showMarkerBounds",value:function(){var t=this.currMarker.userData.cssMarker.displayBounds();t!=this.currMarkerBounds&&(this.hideMarkerBounds(),this.currMarkerBounds=t)}},{key:"hideMarkerBounds",value:function(){null!=this.currMarkerBounds&&(this.currMarkerBounds.hideShowControlPoints(!1),this.currMarkerBounds.isHotspot()||(this.currMarkerBounds.boundsEl.style.display="none"),this.currMarkerBounds=null)}},{key:"triggerEvent",value:function(t,e){this.model.executeFilteredPlayerEvent((function(t){return t.triggerid===e}),t)}},{key:"executeMarkerEvent",value:function(t,e){"click"===e?this.triggerEvent("onlinkrelease",t.userData.id):"move"!==e||t.userData.isOver?"out"===e&&(t.userData.isOver=!1):t.userData.isOver=!0}},{key:"getMarkerIntersection",value:function(t,e,n){var i=this,r=!1;this.mouseRay.x=t/window.innerWidth*2-1,this.mouseRay.y=-e/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouseRay,this.camera);var o=this.scene.children.filter((function(t){return"Sprite"===t.type&&!t.userData.isBackSprite&&!t.userData.isHotspotControlPoint})),a=this.raycaster.intersectObjects(o,!1),s={};return a.forEach((function(t){if(r=!0,s[t.object.userData.id]=t.object,!t.object.visible)return null;"over"===n&&i.setCurrMarker(t.object)})),r}},{key:"deselectMarker",value:function(){this.setCurrMarker(null),this.boundingBox.style.display="none",this.hideMarkerBounds(),this.forcingCameraTarget=!1}},{key:"deselectCurrentMarkerOrHotspot",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker;t.props.hasPanel&&t.panel.hide(),t.isHotspot()&&this.hotspotLayer.currHotspot.deselect(),this.deselectMarker()}}},{key:"setCurrMarker",value:function(t){(null==this.hotspotLayer.currHotspot||this.hotspotLayer.currHotspot.finished)&&(this.currMarker=t,null!=t&&(this.lastActiveMarker=t),l.trigger(u.threeSixtyImage.SELECTED_MARKER_CHANGED,i.getPath(this,"currMarker.userData.cssMarker.id",null)),this.editMode&&null!=this.editorApi&&this.editorApi.onMarkerSelected(null!=this.currMarker?this.currMarker.userData.cssMarker.id:null))}},{key:"panToMarker",value:function(t,e,n){var i=this.sprites[t];if(null!=i){n&&(this.panCallback=n);var r=i.userData.cssMarker;if(null!=this.threeSixtyAcc&&this.isAccNav&&this.isNavigationPan&&null!=r.hotspotHint)return r.el.style.opacity=0,r.hotspotHint.show(),this.threeSixtyAcc.syncHotspotHint(r),void(r.hotspotHint.opened?(r.accHotspotHintBubbleEl.focus(),this.threeSixtyAcc.onInterceptShadowFocus({target:r.accHotspotHintBubbleEl})):(r.accHotspotHintEl.focus(),this.threeSixtyAcc.onInterceptShadowFocus({target:r.accHotspotHintEl})));if(this.isNavigationPan&&!this.hotspotReveal&&r.isHotspot()&&!e&&!this.isAccNav)return r.el.style.opacity=0,null!=r.hotspotHint&&r.hotspotHint.show(),void l.trigger(u.threeSixtyImage.PUSH_DOWN_BY_LABEL);this.isAccPan=e,this.setPanToCoord(i.position),this.showNextSprite=i}}},{key:"setPanToCoord",value:function(t){this.spherical.setFromCartesianCoords(t.x,t.y,t.z),this.panCoord=this.spherical;var e=P-this.panCoord.theta,n=V(this.theta,e);this.panCoord.theta=this.theta+n,this.panToCoord=!0}},{key:"getMarkerData",value:function(t){var e=this.getMarker(t);if(null!=e)return e.getData()}},{key:"getAllMarkers",value:function(t){return h.reduce(this.sprites,(function(e,n){var i=n.userData.cssMarker;return(null==t||t(i))&&e.push(i),e}),[])}},{key:"getAllMarkerData",value:function(t){var e=[];for(var n in this.sprites){var i=this.sprites[n].userData.cssMarker;(null==t||t.includes(i.id))&&e.push(i.getData())}return e}},{key:"getCentermostMarker",value:function(){this.calcSceneRect();var t=[],e={x:this.sceneRect.width/2,y:this.sceneRect.height/2};this.camera.updateMatrix(),this.camera.updateMatrixWorld();var n=new THREE.Frustum;for(var r in n.setFromProjectionMatrix((new THREE.Matrix4).multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse)),this.sprites){var o=this.sprites[r].userData.cssMarker,a=o.isHotspot()?o.polyHotspot.shapeMesh:o.sprite;if(n.containsPoint(a.position)){var s=this.toScreenPosition(a,!0);if(null!=s){var l=i.dist(e.x,e.y,s.x,s.y);t.push({dist:l,marker:o})}}}var u=t.sort((function(t,e){return t.dist-e.dist}))[0];return null!=u&&u.marker}},{key:"mouseIntersect",value:function(t,e){return this.mouseRay.x=t/window.innerWidth*2-1,this.mouseRay.y=-e/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouseRay,this.camera),this.raycaster.intersectObject(this.sphereMesh,!1)}},{key:"placeMarkerFromContextMenu",value:function(t){null!=this.contextMenuOrigin&&this.placeMarker(this.contextMenuOrigin.pageX,this.contextMenuOrigin.pageY,t.props,t.id)}},{key:"placeMarker",value:function(t,e){var n,i,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,s=this.mouseIntersect(t,e);if(s.length>0){var l=s[0].point;l.lerp(new THREE.Vector3(0,0,0),.05);var u=function(){null!=r.editorApi&&r.editorApi.onMarkerPlaced(n.marker.getData())};if(i=(n=this.createSprite(l,a,o)).marker.isHotspot())if(n.marker.hide(),n.marker.el.style.display="none",null==n.marker.props.hotspotData)this.setMode(st.DRAWING_HOTSPOT),this.hotspotLayer.beginHotspot(l,n.marker,u);else{var c=this.hotspotLayer.createHotspot(n.marker.props.hotspotData,n.marker);c.drag(l),u(),this.setCurrMarker(c.marker.sprite),this.setFocus({focus:b})}else u(),this.makeMarkerSwitchable(n.marker,l);this.stopVelocity(),this.hideMarkerBounds(),this.setCurrMarker(n.sprite),i||this.setFocus({focus:b})}i||this.setMode(st.DEFAULT)}},{key:"makeMarkerSwitchable",value:function(t,e){this.editMode&&"normal"===t.props.type&&(this.hotspotLayer.createHotspotAtPoint(e,t),t.polyHotspot.visible=!1)}},{key:"dragMarker",value:function(t,e){this.boundingBox.style.display="block",this.mouseRay.x=t/window.innerWidth*2-1,this.mouseRay.y=-e/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouseRay,this.camera);var n=this.raycaster.intersectObject(this.sphereMesh,!1);if(n.length>0){var i=n[0].point;i.lerp(new THREE.Vector3(0,0,0),.05),this.drag.started||(this.drag.startX=i.x-this.currMarker.position.x,this.drag.startY=i.y-this.currMarker.position.y,this.drag.startZ=i.z-this.currMarker.position.z,this.drag.started=!0,this.drag.count=0),this.drag.started&&(i.set(i.x-this.drag.startX,i.y-this.drag.startY,i.z-this.drag.startZ),this.drag.count++),this.currMarker.position.copy(i);var r=this.currMarker.userData.cssMarker;r.updateLoc(i),null!=r.polyHotspot&&r.polyHotspot.drag(i,!0)}}},{key:"canDragMarker",value:function(){return this.editMode&&this.downOnMarker&&null!=this.currMarker&&this.mode!=st.SET_INITIAL_CAMERA_ANGLE}},{key:"checkHideHotspotPanel",value:function(){if(this.drag.started&&this.drag.count>4){var t=this.currMarker.userData.cssMarker;t.isHotspot()&&t.panel.shown&&(t.panel.hide(!0),this.hotspotLayer.currHotspot=null)}}},{key:"setLocVarsCenter",value:function(){this.calcSceneRect(),this.forcingCameraTarget=!1,this.downX=this.sceneRect.width/2,this.downY=this.sceneRect.height/2,this.locX=this.downX,this.locY=this.downY,this.locXvel=this.locYvel=this.locDist=this.locTheta=0,this.downLon=this.lon,this.downLat=this.lat,this.prevLocX=this.lastUpX=this.locX,this.prevLocY=this.lastUpY=this.locY,this.setLonLat(this.locX,this.locY)}},{key:"updateSize",value:function(t,e){var n=this;if(this.mode===st.SET_INITIAL_CAMERA_ANGLE||this.mode===st.SET_CROP_IMAGE_MEDIA){var r=(e-at)/e;t*=r,e*=r,window.ResizeContainer(t,e),document.getElementById("container").scrollIntoView({inline:"center",block:"center"}),this.calcSceneRect()}if(this.positionInitialCamUi(),this.positionCropUi(),clearTimeout(this.uiPositionId),this.uiPositionId=setTimeout((function(){n.positionInitialCamUi(),n.positionCropUi()}),100),this.newWidth=t,this.newHeight=e,l.trigger(u.threeSixtyImage.RESIZED,{scale:i.getPath(this,"slideObject.props.winScale",1),width:t,height:e}),null!=this.currMarker){var o=this.currMarker.userData.cssMarker;if(null!=o.panel&&o.panel.shown){var a=o.isHotspot();window.requestAnimationFrame((function(){return o.panel.update(a)}))}}}},{key:"hideLastPanel",value:function(){s.hideLast()}},{key:"lastPanel",value:function(){return s.last}},{key:"hidePanelAndDeselect",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker,e=t.panel;null!=e&&e.hide(!0),t.disableActive()}else if(this.hotspotLayer.currHotspot){var n=this.hotspotLayer.currHotspot.marker;null!=n&&n.panel&&n.panel.hide(!0),this.hotspotLayer.currHotspot.deselect()}}},{key:"changeLocX",value:function(t){return this.hidePanelAndDeselect(),this.panToCoord=!1,this.forcingCameraTarget=!1,this.locXvel+=t,!0}},{key:"changeLocY",value:function(t){return this.hidePanelAndDeselect(),this.panToCoord=!1,this.forcingCameraTarget=!1,this.locYvel+=t,!0}},{key:"setCameraTarget",value:function(t,e){this.forcingCameraTarget=!0,this.lat=t||0,this.lon=e||0}}],n&&o(e.prototype,n),g&&o(e,g),Object.defineProperty(e,"prototype",{writable:!1}),t}();return pt.loadTracker={},pt.isWaitingLoad=function(t,n){var i=!1,r=g.getCurrentWindowSlide().absoluteId,o=pt.loadTracker[r];return null==o||0===o.length||(pt.loadTracker[r].forEach((function(t){t.ready||(i=!0)})),!t&&i&&(clearInterval(e),e=setInterval((function(){pt.isWaitingLoad(!0)||(clearInterval(e),n())}),16))),i},pt}.call(e,n,e,t),void 0===i||(t.exports=i)},1294:function(t,e,n){var i;i=function(t){"use strict";var e=n(6486),i=n(7097),r=n(82),o=n(7812),a=o.math.TO_RADIANS,s=function(){this.reset()};return e.extend(s.prototype,{adjustByViewProps:function(t){return this.translate(t.RawXPos,t.RawYPos).scale(t.ScaleX,t.ScaleY,t.rotateXPos,t.rotateYPos).rotate(t.Rotation,t.rotateXPos,t.rotateYPos),this},reset:function(){return this.a=this.d=1,this.c=this.b=this.tx=this.ty=0,this},translate:function(t,e){return this.tx+=t*this.a+e*this.b,this.ty+=t*this.c+e*this.d,this},scale:function(t,e,n,i){var r=n||i;return r&&this.translate(n,i),this.a*=t,this.c*=t,this.b*=e,this.d*=e,r&&this.translate(-n,-i),this},rotate:function(t,e,n){t*=a;var i=Math.cos(t),r=Math.sin(t),o=e-e*i+n*r,s=n-e*r-n*i,l=this.a,u=this.b,c=this.c,h=this.d;return this.a=i*l+r*u,this.b=-r*l+i*u,this.c=i*c+r*h,this.d=-r*c+i*h,this.tx+=o*l+s*u,this.ty+=o*c+s*h,this},skew:function(t,e,n,i){var r=n||i,o=this.a,s=this.c;return t=Math.tan(t*a),e=Math.tan(e*a),r&&this.translate(n,i),this.a+=e*this.b,this.c+=e*this.d,this.b+=t*o,this.d+=t*s,r&&this.translate(-n,-i),this},transform:function(t,e){return{x:t*this.a+e*this.b+this.tx,y:t*this.c+e*this.d+this.ty}},copy:function(){var t=new s;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},invert:function(){var t=1/(this.a*this.d-this.b*this.c),e=this.d*t,n=-this.b*t,i=-this.c*t,r=this.a*t,o=t*(this.b*this.ty-this.d*this.tx),a=t*(this.c*this.tx-this.a*this.ty);return this.a=e,this.b=n,this.c=i,this.d=r,this.tx=o,this.ty=a,this},toCssTransform:function(){var t=r.fix(this.a,6),e=r.fix(this.b,6),n=r.fix(this.c,6),o=r.fix(this.d,6),a=r.fix(this.tx,6),s=r.fix(this.ty,6);return i.buildTransformFn("matrix",t,n,e,o,a,s)},getScale:function(){return{x:r.hypot(this.a,this.c),y:r.hypot(this.b,this.d)}},transformPoint:function(t,e){return{x:t*this.a+e*this.b+this.tx,y:t*this.c+e*this.d+this.ty}},unTransformPoint:function(t,e){return this.copy().invert().transformPoint(t,e)},decompose:function(){var t,e,n,i=this.a,r=this.b,o=this.c,a=this.d;return n=i*a-r*o,Math.abs(n)<=1e-12?null:(r/=t=Math.sqrt(i*i+r*r),(i/=t)*(a/=e=Math.sqrt(o*o+a*a))<r*(o/=e)&&(i=-i,r=-r,t=-t),{scaling:{x:t,y:e},rotation:180*-Math.atan2(r,i)/Math.PI})},delta:function(t){var e=new s;return e.a=this.a-t.a,e.b=this.b-t.b,e.c=this.c-t.c,e.d=this.d-t.d,e.tx=this.tx-t.tx,e.ty=this.ty-t.ty,e},add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new s;return n.a=this.a+t.a*e,n.b=this.b+t.b*e,n.c=this.c+t.c*e,n.d=this.d+t.d*e,n.tx=this.tx+t.tx*e,n.ty=this.ty+t.ty*e,n},append:function(t){var e=this.a,n=this.b,i=this.c,r=this.d,o=t.a,a=t.b,s=t.c,l=t.d,u=t.tx,c=t.ty;return this.a=o*e+s*n,this.b=a*e+l*n,this.c=o*i+s*r,this.d=a*i+l*r,this.tx+=u*e+c*n,this.ty+=u*i+c*r,this},isEqual:function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},isOnlyTranslated:function(t){return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d}}),s}.call(e,n,e,t),void 0===i||(t.exports=i)},9739:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i,r,o=n(6486),a=n(5470),s=n(8880),l=n(82),u=n(4811),c=n(9032),h=!1===window.globals.suppressAnalytics&&-1===window.location.protocol.indexOf("file");if(h){e=document.createElement("iframe"),i=function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}(),r=u.Deferred();e.setAttribute("aria-hidden","true"),e.id="analytics-frame",e.src="analytics-frame.html#"+i,e.style.position="fixed",e.style.left="-1000px",e.style.top=0,window.addEventListener("message",(function t(n){n.data.id===i&&("loaded"===n.data.message?r.resolve():"xhr sent"===n.data.message&&(document.body.removeChild(e),window.removeEventListener("message",t),e=null,i=null))})),document.body.appendChild(e)}var d={initialize:function(t){o.bindAll(this,"onMounted"),this.confirmValidProps(),this.dfd=r,t.assetLib(),t.slideMap(),c.once(s.slide.HAS_MOUNTED,this.onMounted)},confirmValidProps:function(){this.hasValidProps=["productChannel","publishSource","aid","cid","playerVersion"].every((function(t){return null!=window.globals[t]}))},getDevicePixelRatio:function(){return window.devicePixelRatio},formatScreenResolution:function(){return"".concat(window.screen.width,"x").concat(window.screen.height)},onMounted:function(t){var e=Math.round(performance.now()),n=l.getPath(t,"props.model.parent.isMessageScene",!1),i=document.getElementById("font-test"),r=document.getElementById("font-test-download"),o=document.getElementById("font-test-default"),s=Math.floor(r.getComputedTextLength())!==Math.floor(o.getComputedTextLength()),u={os:[a.osname,a.osversion].join(" "),browser:[a.name,a.version].join(" "),playerVersion:window.globals.playerVersion,playerType:"HTML5-A",playerFrame:"unified"===window.globals.themeName?"modern":"classic",publishTimestamp:window.globals.publishTimestamp,lmsPresent:window.globals.lmsPresent,tinCanPresent:window.globals.tinCanPresent,cmi5Present:window.globals.cmi5Present,aoSupport:window.globals.aoSupport,protocol:window.location.protocol.slice(0,-1),productChannel:window.globals.productChannel,publishSource:window.globals.publishSource,cid:window.globals.cid,timeToLoad:e,resumePrompt:n,canDownloadFonts:s,screenResolution:d.formatScreenResolution(),pixelRatio:d.getDevicePixelRatio()};i.parentNode.removeChild(i),this.sendMessage("player_course_load",u)},sendMessage:function(t,n){h&&this.hasValidProps&&r.then((function(){e.contentWindow.postMessage({id:i,event:t,properties:n,aid:window.globals.aid},"*")}))}};return d}.call(e,n,e,t))||(t.exports=i)},857:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=n(8880),r=n(9032),o=(n(1419),{callbacks:[],endFrameCallbacks:[],frameRequested:!1,staleFrameRequested:!1,timeStale:!0,staleTime:-1,lastCpuTime:Date.now(),lastEndFrameTime:0,currentTime:0,locks:[],locked:!1,waitingLock:!1,clockOverridden:!1,playbackSpeed:1,overrideClock:function(t){this.clockOverridden=!0,this.frameTimeMs=t,this.currentTime=0},requestAnimationFrame:function(t,e){e?this.endFrameCallbacks.push(t):this.callbacks.push(t),this.frameRequested||(this.frameRequested=!0,this.staleFrameRequested||this.clockOverridden||window.requestAnimationFrame(this.tick.bind(this)),this.staleFrameRequested=!1)},lock:function(){var t=e.uniqueId("lock-");return this.locks.push(t),this.locked=!0,t},unlock:function(t){e.pull(this.locks,t),this.locked=this.locks.length>0,!this.locked&&this.waitingLock&&(this.waitingLock=!1,this.tick())},playbackSpeedUpdated:function(t){this.playbackSpeed=t},startMediaSync:function(t){if(this.mediaInterface!==t&&!(null!=this.mediaInterface&&t.getRemainingTime()<this.mediaInterface.getRemainingTime())){var e=0;null!=this.mediaInterface?e=this.mediaInterface.getTime()-this.lastMediaTime:(e=Date.now()-this.lastCpuTime)>132&&(e=33),this.mediaInterface=t,this.lastMediaTime=this.mediaInterface.getTime()-e}},endMediaSync:function(t){this.mediaInterface===t&&(this.mediaInterface=null)},updateTime:function(){var t=Date.now(),e=t-this.lastCpuTime;if(this.lastCpuTime=t,e>132&&(e=33),null!=this.mediaInterface){var n=this.mediaInterface.getTime(),i=this.mediaInterface.getPlaybackRate();e=(n-this.lastMediaTime)/i,this.lastMediaTime=n}return this.currentTime+=this.clockOverridden?this.frameTimeMs:e*this.playbackSpeed,this.currentTime},requestStaleFrame:function(){this.frameRequested||this.staleFrameRequested||this.clockOverridden||(this.staleFrameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},requestEndFrameTick:function(){this.frameRequested||this.clockOverridden||(this.frameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},time:function(){return this.timeStale&&(this.requestStaleFrame(),-1===this.staleTime&&(this.staleTime=this.updateTime()),this.frameTime=this.staleTime),this.frameTime},tick:function(){if(this.locked)this.waitingLock=!0;else{var t=this.frameRequested;this.staleFrameRequested=!1,this.frameRequested=!1,this.frameTime=this.updateTime(),this.staleTime=-1,this.timeStale=!1,this.callbacks.length>0&&this.executeCallbacks(),this.endFrameCallbacks.length>0&&(this.currentTime-this.lastEndFrameTime>=33?(this.lastEndFrameTime=this.currentTime,this.executeCallbacks(!0)):this.requestEndFrameTick()),t?this.requestStaleFrame():this.timeStale=!0}},executeCallbacks:function(t){var e,n;t?(e=this.endFrameCallbacks.slice(0),this.endFrameCallbacks=[]):(e=this.callbacks.slice(0),this.callbacks=[]),n=e.length;for(var i=0;i<n;i++)e[i](this.frameTime)}});return r.on([i.detection.VISIBILITY_SHOWN,i.detection.VISIBILITY_HIDDEN].join(" "),o.updateTime.bind(o)),r.on(i.player.PLAYBACK_SPEED_CHANGED,o.playbackSpeedUpdated.bind(o)),o}.call(e,n,e,t))||(t.exports=i)},9229:function(t,e,n){var i;i=function(t){"use strict";var e,i=n(6486),r=n(7812),o=n(8880),a=n(4811),s=n(9032),l=n(4698),u=n(8579),c=l.extend({accessibleTextVar:null,playbackSpeed:1,shorthand:["currentLayout","currentVolume","accessibleTextOn"],subscriptions:(e={},e[o.app.COMPLETE]="onAppComplete",e[o.controlLayout.CHANGED]="onLayoutChanged",e),initialize:function(){var t=this;i.bindAll(this,"setAccessibleTextFromVar"),this.appCompleteDfd=new a.Deferred,this.setVolume(r.DEFAULT_VOLUME),u.device.isDesktop&&!u.os.isMac&&window.addEventListener("keydown",(function(e){"F11"===e.key&&(e.preventDefault(),t.toggleFullScreen())}))},connectVariables:function(t){var e=this,n=t.accessibleTextVar,i=t.fullScreenModeVar;if(null!=n){this.accessibleTextVar=n;var r=this.accessibleTextVar.value();this.accessibleTextOn(r),this.accessibleTextVar.on("change:value",this.setAccessibleTextFromVar),r&&this.onToggleAccessibleText(r)}var o=DS.utils.fullScreen;if(null!=i&&o.isSupported()){var a=this.getPresoEl();this.fullScreenModeVar=i,o.addChangeListener((function(){e.fullScreenModeVar.changeValue(o.getEl()===a)})),this.fullScreenModeVar.on("change:value",(function(){e.fullScreenModeVar.value()?e.enterFullScreen():e.exitFullScreen()}))}},getPresoEl:function(){return document.getElementById(r.els.PRESO)},toggleFullScreen:function(){DS.utils.fullScreen.getEl()!==this.getPresoEl()?this.enterFullScreen():this.exitFullScreen()},enterFullScreen:function(){DS.presentation.isPreview()?s.trigger(o.preview.NOTIFY,"PREVIEW_FULLSCREEN"):u.theme.isClassic||DS.utils.fullScreen.request(this.getPresoEl())},exitFullScreen:function(){DS.utils.fullScreen.exit()},setAccessibleTextFromVar:function(t){this.onToggleAccessibleText(t.value())},getAppCompletePromise:function(){return this.appCompleteDfd.promise()},onAppComplete:function(){this.appCompleteDfd.resolve()},unsetAttrs:function(){return this.set(i.toArray(arguments).reduce((function(t,e){return t[e]=null,t}),{})),this},onLayoutChanged:function(t,e){this.currentLayout(t),this.trigger(o.layout.CHANGED,this,t,e)},setVolume:function(t){this.volumeToggle=!1,this.currentVolume(t),s.trigger(o.volume.CHANGED,t)},getVolume:function(){return this.currentVolume()},onToggleVolume:function(){this.volumeToggle||(this.lastVolume=this.currentVolume()),this.volumeToggle=!this.volumeToggle;var t=this.volumeToggle?0:this.lastVolume;this.currentVolume(t),s.trigger(o.volume.CHANGED,t)},onToggleAccessibleText:function(t){var e=null==t?!this.accessibleTextOn():t;this.accessibleTextOn(e),null!=this.accessibleTextVar&&this.accessibleTextVar.value()!==e?this.accessibleTextVar.changeValue(e):this.trigger(DS.events.player.ACCESSIBLE_TEXT_CHANGED,e)},setPlaybackSpeed:function(t){this.playbackSpeed=t,s.trigger(o.player.PLAYBACK_SPEED_CHANGED,t)},getPlaybackSpeed:function(){return this.playbackSpeed}});return new c}.call(e,n,e,t),void 0===i||(t.exports=i)},1421:function(t,e,n){var i;void 0===(i=function(){"use strict";return window.AudioContext||window.webkitAudioContext||null}.call(e,n,e,t))||(t.exports=i)},5611:function(t,e,n){var i;i=function(t){"use strict";var e,i,r,o=n(6486),a=n(5641),s=n(857),l=n(8880),u=n(9032),c=n(82),h=n(8579),d=n(9995),f=n(9005),p=n(520),v=n(7510).addBodyListener,g={},m=window.vInterfaceObject||window,y={mainWindow:null,updateTime:function(){var t=p.getCurrentWindowSlide();return null!=t&&s.tick(),this.getIsPlaying(t)||r},getIsPlaying:function(t){var e=this,n=t.getBaseLayer(),i=t.slideLayers().activeLayers,r=this.isLayerTimelinePlaying(n);return!r&&i.length>0&&(r=i.some((function(t){return e.isLayerTimelinePlaying(t)}))),r},isLayerTimelinePlaying:function(t){return!t.getHasTimelineFinished()&&!t.getIsTimelinePaused()},nextSlide:function(){var t=e.shift();t&&u.trigger(l.request.NEXT_SLIDE,c.prefixWithPlayer(t))},pausePlayer:function(){u.trigger(l.detection.VISIBILITY_HIDDEN)},playPlayer:function(){u.trigger(l.detection.VISIBILITY_SHOWN)}},b={silenceActions:{trigger_next_slide:!1,close_player:!1},initialize:function(t,n){var r=c.parseParams();if("1"===r.automation&&(window.autoSpider=!0,this.silenceActions.trigger_next_slide=!0,this.silenceActions.close_player=!0),window.autoSpider){i=r.frametimems?parseFloat(r.frametimems):33.33,v("mousedown",this.onPlayerClicked.bind(this)),v("touchstart",this.onPlayerClicked.bind(this)),window.g_nWidth=n.display().width(),window.g_nHeight=n.display().height(),"1"===r.overrideclock&&(a.prototype.play=o.noop,s.overrideClock(i),this.clockIsOverridden=!0,u.on(l.video.STATE_CHANGED,this.onVideoEvent.bind(this)));e=o(n.slideMap().slideRefs().where({type:"slide"})).map("id").filter((function(t){return!/^MsgScene|^PromptScene/.test(t)})).tap((function(e){e.forEach((function(e){var n=t.getSlide(c.prefixWithPlayer(e)).get("showAnimationId");null!=n&&(g[n]=e)}))})).tail().value();var m={playerTime:0,type:"dark-spider",AdvanceFrame:function(){return y.updateTime()},AutoUpdateTime:function(){s.tick()},UpdateAutomationTime:function(t){var e=s.frameTimeMs;s.frameTimeMs=t-s.currentTime,s.tick(),s.frameTimeMs=e},TriggerNextSlide:function(){y.nextSlide()},TriggerPause:function(){h.env.is360&&y.pausePlayer()},TriggerPlay:function(){h.env.is360&&y.playPlayer()},JumpToLocation:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_frame",n=DS.presentation.getFlatSlides().find((function(e){return e.id===t}));return null!=n?p.requestSlideForReview(n,e):Promise.reject("Slide with id '".concat(t,"' not found"))},UpdateSegmentPartText:function(t,e){return DS.xliffStore.updateSegmentPart(t,e)},UpdateUnitText:function(t){DS.xliffStore.updateUnit(t)},UpdateXliffText:function(t){DS.xliffStore.updateXliff(t)},CaptureSlideImage:function(){return d.generate()},GetCourseStateData:function(){return f.getState()},GetTargetDuration:function(e){var n=g[e];return n?t.getSlide(c.prefixWithPlayer(n)).getTransitionAnimation().duration():t.getSlide(c.prefixWithPlayer(e)).getBaseLayer().timeline().duration()}};this.getPlayer=function(){return m},o.bindAll(this,"onSlideStarted","onSlideTransition","onNextSlideRequesting","onMainWindowCreated","onEnterFullscreen","onExitFullscreen","onLoaderShown","onLoaderHidden","onTincanStatement","onPlayButtonShown");var b={};b[l.slide.STARTED]=this.onSlideStarted,b[l.slide.TRANSITION_STARTED]=this.onSlideTransition,b[l.layer.TIMELINE_ACTIVATED]=this.onLayerTimelineActivated,b[l.loader.SHOW]=this.onLoaderShown,b[l.loader.HIDE]=this.onLoaderHidden,b[l.window.MAIN_CREATED]=this.onMainWindowCreated,b[l.request.NEXT_SLIDE]=this.onNextSlideRequesting,b[l.presentation.ENTER_FULLSCREEN]=this.onEnterFullscreen,b[l.presentation.EXIT_FULLSCREEN]=this.onExitFullscreen,b[l.startOverlay.READY]=this.onPlayButtonShown,h.env.isRise&&(b[l.tincan.STATEMENT]=this.onTincanStatement),u.on(b)}},onPlayerClicked:function(){this.callIfExists("OnPlayerClicked")},onEnterFullscreen:function(){this.callIfExists("OnEnterFullscreen")},onExitFullscreen:function(){this.callIfExists("OnExitFullscreen")},onMainWindowCreated:function(t){y.mainWindow=t,this.callIfExists("AutomationReady")},onSlideTransition:function(t,e,n){this.callIfExists("OnSlideTransition",t,e,n)},onSlideStarted:function(t){r=!1,this.callIfExists("OnSlideStarted",t)},onMediaStarted:function(t){this.callIfExists("OnMediaStarted",t)},onMediaPaused:function(t){this.callIfExists("OnMediaPaused",t)},onNextSlideRequesting:function(){r=!0,this.callIfExists("OnNextSlideRequesting")},onPlayButtonShown:function(){this.callIfExists("OnPlayButtonShown")},onLoaderShown:function(){this.callIfExists("OnLoaderShown")},onLoaderHidden:function(){this.callIfExists("OnLoaderHidden")},onVideoEvent:function(t,e,n){this.callIfExists("OnVideoEvent",t,e,n)},onTincanStatement:function(t){this.callIfExists("LmsUpdate",t)},onLayerTimelineActivated:function(t){if(t.isBaseLayer()){var e=t.getClosestAncestorByKind("slide").absoluteId;b.onSlideStarted(c.stripPlayer(e))}},callIfExists:function(t){var e=m[t];"function"==typeof e&&e.apply(m,o.tail(arguments))}};return b}.call(e,n,e,t),void 0===i||(t.exports=i)},6407:function(t,e,n){var i,r;i=[n(5485),n(153)],void 0===(r=function(t,e){t.ajax=e}.apply(e,i))||(t.exports=r)},3934:function(t,e,n){!function(){var t=null;t=n(5485);var i=Array.prototype.slice;function r(t,e){t.prototype[e]=function(){var t=arguments.length?"set":"get",n=i.call(arguments);return n.unshift(e),this[t].apply(this,n)}}t.Model.shorthandify=function(t){if(!(t=t||this.prototype.shorthand))return this;"string"==typeof t&&(t=[t]);for(var e=0,n=t.length;e<n;e++)r(this,t[e]);return this},e.shorthandify=t.Model.shorthandify}()},5273:function(t,e,n){var i;i=function(t){"use strict";var e=n(6486),i=n(5485),r=n(4811),o="Could not fetch model",a={},s=function(t){return e.first(e.last(t.split("/")).split("."))},l=function t(e){return new Promise((function(n,i){DS.connection.requiredAsset(e,DS.connection.lastSlideLoaded,(function(){t(e).then((function(){n()})).catch((function(){i()}))}));var r=document.createElement("script"),o=function(){r.removeEventListener("load",a),r.removeEventListener("error",s),document.head.removeChild(r),r.src="",r=null},a=function(){n(),o(),DS.connection.assetLoaded(e)},s=function(){i(),o(),DS.connection.assetFailed(e)};r.addEventListener("load",a),r.addEventListener("error",s),r.src=e,document.head.appendChild(r)}))},u={origSync:i.sync,scriptSync:function(t,n,i){var u,c=i.url||e.result(n,"url"),h=r.Deferred(),d=h.promise();return c?(u=n.id||s(c),l(c).then((function(){var t=a[u];a[u]=null,i.success(t),h.resolve(t)})).catch((function(){i.error(o),h.reject(o)})),d):(h.reject("Must provide a url to fetch model"),d)},sync:function(t,e,n){return u["read"===t?"scriptSync":"origSync"].apply(this,arguments)}};return i.sync=u.sync,window.globalProvideData=function(t,e){var n=JSON.parse(e),i="slide"===t?n.id:t;a[i]=n},u.loadFromJson=function(){u.scriptSync=function(t,n,i){var u=i.url||e.result(n,"url"),c=u.replace(".js",".json"),h=r.Deferred(),d=n.id||s(c),f=["paths","data","frame"].includes(d)?d:"slide",p=new XMLHttpRequest;return p.overrideMimeType("application/json"),p.onreadystatechange=function(){if(4===p.readyState&&200===p.status){window.globalProvideData(f,p.responseText.replace(/\\'/g,"'").replace(/\\"/g,'"'));var t=a[d];a[d]=null,i.success(t),h.resolve(t)}else 4===p.readyState&&404===p.status&&l(u).then((function(){var t=a[d];a[d]=null,i.success(t),h.resolve(t)})).catch((function(){i.error(o),h.reject(o)}))},p.open("GET",c,!0),p.send(null),h.promise()}},u}.call(e,n,e,t),void 0===i||(t.exports=i)},8766:function(t,e,n){var i;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}void 0===(i=function(t){"use strict";var e=n(5273),i=n(8880),o=n(9032),a=n(82),s=n(4811),l=n(6486),u=n(7228),c=n(373),h=n(1419),d=n(3563),f=n(2753);f=window.captionator;var p,v,g,m=[],y='"Open Sans Full", Helvetica, Arial, sans-serif',b={},w=[],S={},A=!1,E="",T=function(t){return null!=t.captions()},C=function(t){A=t,null!=v&&v.value()!==A?v.changeValue(A):o.trigger(i.captions.ENABLED,A)},x=function(t){var e=t.getCueAsSource();return null!=e&&!l.isEmpty(e.trim())},_={initialize:function(t,e,n){var r=this,a=t.getCaptionData().font;g=null!=a?['"',a,'", ',y].join(""):y,p=e,null!=n?(A=(v=n).value(),v.on("change:value",(function(t){return C(t.value())})),A&&C(A)):A=!1,o.on(i.slide.STARTED,this.checkHasCaptions),o.on(i.layer.PLAYING,this.checkHasCaptions),o.on(i.layer.STACKING_CHANGED,this.checkHasCaptions),o.on(i.captions.ENABLE,C),h.multiLangSupport&&o.on(i.localization.LANGUAGE_UPDATED,(function(t){r.setLangCode(t)}))},syncAfterResume:function(){null!=v&&A!==v.value()&&C(v.value())},toggleCaptioning:function(){A=v.value(),C(!A)},checkHasCaptions:function(){var t=p.getCurrentWindowSlide();if(null!=t&&!t.isMessageSlide()){var e=(b[t.id]||[]).some((function(t){return a.getPath(t,"isMediaVisible")}));o.trigger(e?i.captions.SHOW_BUTTON:i.captions.HIDE_BUTTON)}},isCaptionEnabled:function(){return A},mount:function(t,e){S[t.getAssetId()]&&(null==b[e]&&(b[e]=[]),b[e].push(t))},unmount:function(t,e){var n=l.findIndex(b[e],(function(e){return e.getAssetId()===t.getAssetId()}));-1!==n&&b[e].splice(n,1)},hasCaptions:function(t){return Array.isArray(t)||(t=[t]),t.some((function(t){return null!=S[t]}))},getCaptions:function(t){return S[t]},getCaptionFont:function(){return g},excludeMedia:function(t){-1===w.indexOf(t)&&w.push(t)},includeMedia:function(t){var e=w.indexOf(t);-1!==e&&w.splice(e,1)}};return Object.assign(_,h.multiLangSupport?{prepare:function(t){var e=this;return Promise.all(t.filter(T).map((function(t){var n=DS.utils.resolveAssetUrl(t.captions()),i=t.id;return new Promise((function(t,e){u.load(n,{load:function(){var e=c.getJsAssetValue(n);c.clearAsset(n),e.assetId=i,m[i]=e,t()},error:function(t){e(t)}})})).then((function(){e.setLangCode(d.getCurrentLangCode())}))}))).then((function(){return!1}))},setLangCode:function(t){E=t,S=m.reduce((function(t,e){var n=e.captions.find((function(t){var e=t.langCode;return null==E||e===E}));return null!=n&&(t[e.assetId]=f.parseCaptions(decodeURI(n.data)).filter(x)),t}),{}),o.trigger(i.captions.LANGUAGE_UPDATED)}}:{prepare:function(t){return s.after.apply(s,r(t.filter(T).map((function(t){return s.promiseToVow(new Promise((function(n,i){e.scriptSync("read",{id:"caption"},{url:t.captions(),success:function(e){null!=e&&(S[t.id]=f.parseCaptions(decodeURI(e.data)).filter(x))},error:function(t){console.error(t)}}).then((function(){n()})).catch((function(){i()}))})))}))))}}),_}.call(e,n,e,t))||(t.exports=i)},7812:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=window.globals||{},n=window.location.protocol+"//",i=window.location.host,r=window.location.pathname.split(/\/+/).slice(0,-1).join("/"),o=e.DATA_PATH_BASE+"/html5/data/js",a=n+i+r+e.DATA_PATH_BASE+"/html5/lib/scripts",s=n+i+r+e.DATA_PATH_BASE+"/html5/lib/stylesheets",l={slideLocation:a+"/slides.min.js",frameLocations:{MOBILE:a+"/frame.mobile.min.js",DESKTOP:a+"/frame.desktop.min.js"},cssLocations:{MOBILE:s+"/mobile.min.css",DESKTOP:s+"/desktop.min.css"},player:{},LINE_BREAK_REGEX:/\n|\r/,theme:{},setThemeConstant:function(t,e){l.theme[t]=e},strings:{PROJECT_TITLE:"project-title",RESUME:"resume",RESTART:"restart"},els:{PRESO:"preso",LIB:"lib",MASK_LIB:"mask-library"},docked:{LEFT:"left",RIGHT:"right",NONE:"none"},SVG_HIT:"svgHit",RECT_HIT:"rectHit",GROUP_HIT:"groupHit",SLIDE_HIT:"slideHit",PATH_DELIMITER:".",NODE_DELIMITER:"-",SVG_NODE_PREFIX:"commandset",PRESENTATION_URL:[e.DATA_PATH_BASE,r].join(""),PRESENTATION_DATA_URL:[r,o].join(""),STORY_CONTENT_URL:"story_content/",QUIZ_MAKER_URL:"quiz_content/",PRESENTER_URL:"presentation_content/",PLAYER_PROPS_KEYPATH:"playerProps",DEFAULT_VOLUME:.8,DESKTOP_LOADER_DELAY:200,XAPI_RETRY_INTERVALS_MS:[100,400,400,600,600],LIGHTBOX_SCALAR:.85,UNIFIED_PORTRAIT_UI_SIZE:65,UNIFIED_LANDSCAPE_UI_SIZE:58,UNIFIED_LIGHTBOX_UI_SIZE:50,MOBILE_UI_SIZE:58,DOUBLE_MOBILE_UI_SIZE:116,MOBILE_ANIMATION_DURATION:260,ANIMATION_DURATION:300,MOBILE_WIDTH_MIN:320,MOBILE_360_PHONE_LARGE:380,MOBILE_360_PHONE_MEDIUM:375,MOBILE_360_IMAGE_SCALE_THRESHOLD:1.4,MOBILE_MIN_LANDSCAPE_FULL:314,MOBILE_MIN_LANDSCAPE:250,MOBILE_FONT:"Open Sans Full",XMLNS_XLINK:"http://www.w3.org/1999/xlink",XMLNS_XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/svg",refs:{PLAYER:"_player",FRAME:"_frame",PARENT:"_parent",CURRENT_SLIDE:"_currentSlide",CHILDREN:"_children",SELF:"_this",CHOICES:"choices",STMTS:"statements",PLAYER_VARS:"_playerVars"},varTypes:{STRING:"string",NUM:"number",BOOL:"boolean"},statuses:{CORRECT:"correct",INCORRECT:"incorrect",INCOMPLETE:"incomplete",COMPLETE:"complete",NEUTRAL:"neutral",PASSING:"pass",FAILING:"fail"},reviewResetTypes:{ALL:"all",INCORRECTONLY:"incorrectonly"},dynamicTabEls:{},tabIndices:{SKIP:0,LIGHTBOX_CLOSE:1,SUBMIT_ALL:2,PREV:3,NEXT:4,SUBMIT:5,SIDEBAR:10,SEARCH_RESULTS_TREE_MODE:0,SEARCH_INPUT:1,SEARCH_SUBMIT:2,SEARCH_FILTER:3,SEARCH_NOTES:4,SEARCH_TEXT:5,SEARCH_RESULTS_LIST_MODE:6,SEARCH_CLEAR:17,TIME:39,TOP_TAB_LEFT:30,TOP_TAB_RIGHT:40,VOLUME:50,CAPTIONS:55,PLAYBACK_PLAY:60,PLAYBACK_PROGRESS:65,PLAYBACK_RESET:70},math:{QUARTER_PI:.25*Math.PI,HALF_PI:.5*Math.PI,THREE_QUARTER_PI:.75*Math.PI,TWO_PI:2*Math.PI,TO_RADIANS:Math.PI/180,TO_DEGREES:180/Math.PI},keys:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126},printSettings:{android:{pageW:960,pageStyle:"@page { size: letter landscape; }"},ios:{pageW:670},desktop:{pageW:1056}},TINY_VIDEO:"data:video/mp4;base64, AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=",TINY_AUDIO:"data:audio/mp3;base64,//MgxAAAAANIAAAAAExBTUUzLjk3VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zIsQnAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//MgxE8AAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zIMR2AAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/8yDEnQAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVEFHOWVmMTRlNzg4YzVhNDQ5AAAAAAAAAAAAAAAAAAAAYjZiYWQ3ZjY2NjFkZWZhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="};return Object.freeze(l),Object.freeze(l.refs),Object.freeze(l.varTypes),Object.freeze(l.statuses),Object.freeze(l.tabIndices),Object.freeze(l.math),Object.freeze(l.keys),l}.call(e,n,e,t))||(t.exports=i)},4839:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(9032),i=n(8880);return{initialize:function(t,e,n){this.debugMode=void 0!==t&&t.get("debugMode"),this.setGlobals(t,e,n)},setGlobals:function(t,e,n){this.debugMode&&(window.presentation=t,window.player=e,window.app=n)},throwError:function(){!0===this.debugMode&&e.trigger(i.player.ERROR)}}}.call(e,n,e,t))||(t.exports=i)},8260:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}void 0===(i=function(t){var e=n(6486),i=n(82),r=n(9032),a=n(1251),l=n(8880),u=n(3669),c=u.formatAuth,h=u.getLockIcon,d=u.buildRefs;return function(){function t(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.windows={},this.props=n,this.props.auth=c(atob(n.param1||""),atob(n.param2||"")),this.endpointLocked=this.props.manualConfiguration&&!e.isEmpty(this.props.endpoint),this.authLocked=this.props.manualConfiguration&&!e.isEmpty(this.props.auth),this.el=document.createElement("div"),a.addClass(this.el,"debug-custom-settings"),this.render(),this.refs=d(this.el),this.addListeners(),this.populateWithQueryString()}var n,u,f;return n=t,(u=[{key:"render",value:function(){this.el.innerHTML='\n        <div class="debug-section" data-ref="settings">\n          <div class="border"></div>\n          <div class="title">Settings</div>\n          <div class="content">\n            <p>\n              <label '.concat(this.endpointLocked?'class="locked"':"",'>Endpoint:<br>\n                <input \n                  tabindex="0"\n                  data-prevent-focus \n                  name="endpoint"\n                  data-ref="endpoint" \n                  type="text" \n                  placeholder="').concat(this.props.endpoint||"",'" \n                  ').concat(this.endpointLocked?"disabled":"","\n                />").concat(h(),"\n              </label>\n            </p>\n            <p>\n              <label ").concat(this.authLocked?'class="locked"':"",'>Auth:<br>\n                <input \n                  tabindex="0"\n                  data-prevent-focus \n                  data-ref="auth"\n                  name="auth"\n                  type="text" \n                  placeholder="').concat(this.props.auth||"",'" \n                  ').concat(this.authLocked?"disabled":"","\n                />").concat(h(),'\n                <button tabindex="0" data-ref="buildAuth" data-prevent-focus class="open-wnd-btn">...</button>\n              </label>\n            </p>  \n            <p>\n              <label>Actor:<br>\n                <textarea tabindex="0" data-ref="actor" type="text" data-prevent-focus rows="6"></textarea>\n                <button tabindex="0" data-ref="buildActor" data-prevent-focus class="open-wnd-btn">...</button>\n              </label>\n            </p>\n            <p>\n              <label>Activity Id:<br>\n                <input \n                  tabindex="0"\n                  data-prevent-focus \n                  data-ref="activityId"\n                  name="activity-id"\n                  type="text" \n                  placeholder="').concat(this.props.activityId,'"\n                />\n              </label>\n            </p>            \n            <p>\n              <label>Registration:<br>\n                <input \n                  tabindex="0"\n                  data-prevent-focus \n                  name="registration"\n                  data-ref="registration" \n                  type="text"\n                />\n              </label>\n            </p>\n          </div>\n        </div>\n        <div class=\'tooltip\' data-ref=\'tooltip\'>Selecting <b>Manual</b> in LRS publish settings overrides querystring values.</div> \n      ')}},{key:"populateWithQueryString",value:function(){var t=this,n=(i.queryStringToObj()||{}).slxapi;null!=n&&(this.endpointLocked&&delete n.endpoint,this.authLocked&&delete n.auth,["endpoint","auth","registration","actor","activityId"].forEach((function(i){var r=n[i];e.isEmpty(r)||(e.isPlainObject(r)?t.refs[i].value=JSON.stringify(r,null,2):t.refs[i].value=r)})),this.onValueChanged())}},{key:"addListeners",value:function(){var t=this;e.bindAll(this,"onValueChanged","onBuildActor","onBuildAuth","showTip","hideTip"),this.refs.buildActor.addEventListener("click",this.onBuildActor),this.refs.buildAuth.addEventListener("click",this.onBuildAuth),o(this.el.querySelectorAll(".lock-icon")).forEach((function(e){e.addEventListener("mouseover",t.showTip),e.addEventListener("mouseout",t.hideTip)})),["activityId","endpoint","auth","actor","registration"].forEach((function(e){null!=t.refs[e]&&(t.refs[e].addEventListener("change",t.onValueChanged),t.refs[e].addEventListener("keyup",t.onValueChanged))}))}},{key:"showTip",value:function(t){var e=this.el.getBoundingClientRect(),n=t.currentTarget.getBoundingClientRect();Object.assign(this.refs.tooltip.style,{opacity:1,top:"".concat(n.top-e.top+(n.bottom-n.top)/2,"px"),left:"".concat(n.left-(e.left+10),"px")})}},{key:"hideTip",value:function(){Object.assign(this.refs.tooltip.style,{opacity:0})}},{key:"openSupportWnd",value:function(t,n,i){var r;null==this.windows[t]?(r=this.createSupportWnd(t,n,i),this.windows[t]=r):(r=this.windows[t]).style.display="block";var o=d(r),a=function(t){i(n.reduce((function(t,e){var n=e.dataref;return t[n]=o[n].value,t}),{})),l()},s=function(t){return l()},l=function(){r.style.display="none",o.ok.removeEventListener("click",a),o.cancel.removeEventListener("click",s)};o.ok.addEventListener("click",a),o.cancel.addEventListener("click",s),o[e.first(n).dataref].focus()}},{key:"createSupportWnd",value:function(t,e,n){var i=document.createElement("div");return a.addClass(i,"debug-build-actor"),i.innerHTML='\n        <div class="panel">\n          '.concat(e.map((function(t){var e=t.name,n=t.dataref;return"\n              <p>\n                <label>".concat(e,'<br>\n                  <input\n                    data-prevent-focus\n                    name="').concat(n,'"\n                    data-ref="').concat(n,'" \n                    type="text"\n                  />\n                </label>\n              </p>')})).join(""),"\n          <p class='button-wrapper'>\n            <button data-prevent-focus data-ref='ok'>OK</button><button data-prevent-focus data-ref='cancel'>Cancel</button>\n          </p>\n        </div>"),this.el.parentElement.appendChild(i),i}},{key:"onBuildAuth",value:function(t){var e=this;this.openSupportWnd("build-auth",[{name:"Key:",dataref:"key"},{name:"Secret:",dataref:"secret"}],(function(t){var n=t.key,i=t.secret;e.updateAuth(n,i)}))}},{key:"onBuildActor",value:function(t){var e=this;this.openSupportWnd("build-actor",[{name:"Learner Name:",dataref:"learnerName"},{name:"Learner Email:",dataref:"learnerEmail"}],(function(t){var n=t.learnerName,i=t.learnerEmail;e.updateActor(n,i)}))}},{key:"updateAuth",value:function(t,n){e.isEmpty(t)&&e.isEmpty(n)||(this.refs.auth.value=c(t,n),this.onValueChanged())}},{key:"updateActor",value:function(t,e){var n={mbox:"mailto:".concat(e),objectType:"Agent",name:t};this.refs.actor.value=JSON.stringify(n,null,2),this.onValueChanged()}},{key:"onValueChanged",value:function(){var t=this,n={};["activityId","endpoint","auth","registration"].forEach((function(i){var r=t.refs[i].value;e.isEmpty(r)||(n[i]=r)}));var i=function(t){try{return JSON.parse(t)}catch(t){return""}}(this.refs.actor.value);e.isEmpty(i)||(n.actor=i),r.trigger(l.debug.lrs.SETTINGS_CHANGED,n)}},{key:"getComponentEl",value:function(){return this.el}}])&&s(n.prototype,u),f&&s(n,f),Object.defineProperty(n,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},748:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}void 0===(i=function(t){var e=n(6486),i=n(9032),r=n(1251),a=n(8880),l=n(3669),u=l.getCopyButton,c=l.buildRefs;return function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.el=document.createElement("div"),r.addClass(this.el,"debug-settings"),this.render(),this.refs=c(this.el),this.addListeners()}var n,l,h;return n=t,(l=[{key:"render",value:function(){this.el.innerHTML='\n        <div class="debug-section" data-ref="settings">\n          <div class="border"></div>\n          <div class="title">'.concat(this.type.toUpperCase(),' Settings</div>\n          <div class="content">\n            <p>\n              <label>Endpoint:<br>\n              <input data-ref="endpoint" name="').concat(this.type,'-endpoint" type="text" readonly/></label>').concat(u(),'\n            </p>\n            <p>\n              <label>Auth:<br>\n              <input data-ref="auth" name="').concat(this.type,'-auth" type="text" readonly/></label>').concat(u(),'\n            </p>\n            <p>\n              <label>Actor:<br>\n              <textarea data-ref="actor" name="').concat(this.type,'-actor" type="text" rows="6" readonly></textarea></label>').concat(u(),'\n            </p>\n            <p>\n             <label>Activity Id:<br>\n             <input data-ref="activityId" name="').concat(this.type,'-activity-id" type="text" readonly/></label>').concat(u(),'\n            </p>            \n            <p>\n              <label>Registration:<br>\n              <input data-ref="registration" name="').concat(this.type,'-registration" type="text" readonly/></label>').concat(u(),"\n            </p>\n          </div>\n        </div>          \n      ")}},{key:"addListeners",value:function(){var t=this;e.bindAll(this,"onInitialized","onCopy"),i.on(a.debug[this.type].INITIALIZED,this.onInitialized),i.on(a.debug[this.type].STATEMENT_SENT,this.onStatementSent),i.on(a.debug[this.type].STATEMENT_RESPONSE,this.onStatementResponse),o(this.refs.settings.querySelectorAll(".copy-btn")).forEach((function(e){e.addEventListener("click",t.onCopy)}))}},{key:"onInitialized",value:function(t){var n=this;t=e.pickBy(t,(function(t){return null!=t})),Object.keys(t).forEach((function(i){null!=n.refs[i]&&(e.isPlainObject(t[i])?n.refs[i].value=JSON.stringify(t[i],null,2):n.refs[i].value=t[i])}))}},{key:"onCopy",value:function(t){var e=t.currentTarget;null!=navigator.clipboard?navigator.clipboard.writeText(e.previousSibling.lastChild.value).then((function(t){console.log(t)})):(e.previousSibling.lastChild.focus(),e.previousSibling.lastChild.select(),document.execCommand("copy"))}},{key:"getComponentEl",value:function(){return this.el}}])&&s(n.prototype,l),h&&s(n,h),Object.defineProperty(n,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},4366:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}void 0===(i=function(t){var e=n(6486),i=n(9032),r=n(8880),a=n(82),l=n(1251),u=n(3669),c=u.getCopyButton,h=u.buildRefs,d=u.getLangValue,f=u.getDownloadIcon;return function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.el=document.createElement("div"),this.awaitingResponse={},this.render(),this.refs=h(this.el),this.addListeners()}var n,u,p;return n=t,(u=[{key:"render",value:function(){this.el.innerHTML='\n        <div class="debug-section debug-statements">\n          <div class="border"></div>\n          <div class="title">Statements</div>\n          <button class="download" data-ref="downloadAll">'.concat(f(),'</button>\n          <div data-ref="statements" class="content">\n          </div>\n        </div>')}},{key:"addListeners",value:function(){e.bindAll(this,"onStatementSent","onStatementResponse","onError","onDownloadAll"),this.refs.downloadAll.addEventListener("click",this.onDownloadAll),i.on(r.debug[this.type].STATEMENT_SENT,this.onStatementSent),i.on(r.debug[this.type].STATEMENT_RESPONSE,this.onStatementResponse),i.on(r.debug[this.type].ERROR,this.onError)}},{key:"onError",value:function(t){var e=document.createElement("div");l.addClass(e,"statement"),l.addClass(e,"failed"),e.innerHTML='<div class="error">'.concat(t,"</div>"),this.refs.statements.insertAdjacentElement("afterbegin",e)}},{key:"onStatementSent",value:function(t){var e=this.getStatementSummary(t),n=e.actorName,i=e.verbName,r=e.objectName,o=document.createElement("div");l.addClass(o,"statement"),o.innerHTML='\n        <div class="summary">'.concat(n," ").concat(i," ").concat(r,'</div>\n        <div class="error"></div>\n        <div class="details">').concat(JSON.stringify(t,null,2)).concat(c(),"</div>"),this.refs.statements.insertAdjacentElement("afterbegin",o);var a=o.querySelector(".details"),s=o.querySelector(".copy-btn");this.awaitingResponse[t.id]=o,s.addEventListener("click",(function(t){if(null!=navigator.clipboard)navigator.clipboard.writeText(a.innerText).then((function(t){console.log(t)}));else{window.getSelection().removeAllRanges();var e=document.createRange();e.selectNode(a.firstChild),window.getSelection().addRange(e),document.execCommand("copy")}t.stopPropagation()})),o.addEventListener("click",(function(t){t.target!==a&&(l.hasClass(o,"open")?l.removeClass(o,"open"):l.addClass(o,"open"))}))}},{key:"onStatementResponse",value:function(t,e,n){var i=this.awaitingResponse[t];if(null!=i)if(null!=e){n=n||{responseText:"",status:""};var r=i.querySelector(".error"),o="Statement Failed: ".concat(n.responseText," : ").concat(n.status," : error ").concat(e);r.innerText=o,l.addClass(i,"failed")}else l.addClass(i,"success")}},{key:"getStatementSummary",value:function(t){var n=t.actor,i=t.verb,r=t.object,o=["name","mbox","account.name"].find((function(t){return!e.isEmpty(a.getPath(n,t))}));return{actorName:null!=o?a.getPath(n,o):JSON.stringify(n),verbName:null!=i.display?d(i.display):e.last(i.id.split("/")),objectName:null!=r.definition&&null!=r.definition.name?d(r.definition.name):r.id}}},{key:"getComponentEl",value:function(){return this.el}},{key:"onDownloadAll",value:function(){var t=o(this.refs.statements.children).map((function(t){return["summary","error","details"].reduce((function(n,i){var r=t.querySelector(".".concat(i)),o=r&&r.innerText;return e.isEmpty(o)||(n[i]="details"===i?JSON.parse(o):o),n}),{})})).reverse(),n=new Blob([JSON.stringify(t)],{type:"application/json"});if(navigator.msSaveBlob)navigator.msSaveBlob(n,"logs.json");else{var i=document.createElement("a");i.setAttribute("href",URL.createObjectURL(n)),i.setAttribute("download","logs.json"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}}])&&s(n.prototype,u),p&&s(n,p),Object.defineProperty(n,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},8680:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(t){u=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}void 0===(i=function(t){var e=n(6486),i=n(9032),r=n(1251),s=n(8880),l=n(3669),c=l.getCopyButton,h=l.buildRefs;return function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=document.createElement("div"),r.addClass(this.el,"debug-storyline-launch"),this.render(),this.refs=h(this.el),this.addListeners(),this.updateLaunchLink()}var n,l,d;return n=t,(l=[{key:"render",value:function(){this.el.innerHTML='\n        <div class="debug-section" data-ref="settings">\n          <div class="border"></div>\n          <div class="title">Storyline Launch Link</div>\n          <div class="content">\n            <p>\n             <label>Launch Link:<br>\n             <input \n               data-prevent-focus \n               data-ref="launchLink" \n               name="launch-link" \n               type="text" \n               readonly\n             /></label>'.concat(c(),'\n            </p>\n            <p class="launch">\n              <button data-prevent-focus data-ref="launch">Relaunch</button>\n            </p>            \n          </div>\n        </div>    \n      ')}},{key:"onCopy",value:function(t){var e=t.currentTarget;null!=navigator.clipboard?navigator.clipboard.writeText(e.previousSibling.lastChild.value).then((function(t){console.log(t)})):(e.previousSibling.lastChild.focus(),e.previousSibling.lastChild.select(),document.execCommand("copy"))}},{key:"addListeners",value:function(){var t=this;e.bindAll(this,"updateLaunchLink","relaunch"),i.on(s.debug.lrs.SETTINGS_CHANGED,this.updateLaunchLink),this.refs.launch.addEventListener("click",this.relaunch),a(this.refs.settings.querySelectorAll(".copy-btn")).forEach((function(e){e.addEventListener("click",t.onCopy)}))}},{key:"relaunch",value:function(){var t=this;window.requestAnimationFrame((function(){document.location=t.refs.launchLink.value}))}},{key:"updateLaunchLink",value:function(t){if(e.isEmpty(t))this.refs.launchLink.value=document.location.href;else{var n=o(document.location.href.split("?"),2),i=n[0],r=n[1],a=(void 0===r?"":r).split("&").filter((function(t){return!t.includes("slxapi=")}));a.push("slxapi=".concat(encodeURIComponent(JSON.stringify(t)))),this.refs.launchLink.value="".concat(i,"?").concat(a.join("&"))}}},{key:"getComponentEl",value:function(){return this.el}}])&&u(n.prototype,l),d&&u(n,d),Object.defineProperty(n,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},3669:function(t,e,n){var i;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}void 0===(i=function(t){var e=n(6486);return{getCopyButton:function(){return'<button data-prevent-focus tabindex="0" class="copy-btn" type="button">\n        <svg viewBox="0 0 19 19" width="19" height="19">\n            <path fill="white" stroke="black" d="M1,1 L1,13 13,13 13,1 1,1 Z"/>\n            <path fill="white" stroke="black" d="M6,6 L6,18 18,18 18,6 6,6 Z"/>\n        </svg>\n    </button>'},buildRefs:function(t){var e={};return r(t.querySelectorAll("[data-ref]")).forEach((function(t){e[t.getAttribute("data-ref")]=t})),e},getLangValue:function(t){return t[Object.keys(t)[0]]},getLockIcon:function(){return'<svg class="lock-icon" viewBox="0 0 28 36" width="28" height="36" >\n      <path d="M26,36 L2,36 C1,36 0,35 0,34 L0,34 L0,19 C0,18 1,17 2,17 L2,17 L3,17 3,10 C3,5 8,0 14,0 19,0 24,5 24,10 L24,10 L24,17 26,17 C26,17 27,18 27,19 L27,19 L27,34 C27,35 26,36 26,36 z M19,11 C19,8 17,5 14,5 10,5 8,8 8,11 L8,11 L8,17 19,17 19,11 19,11 z"/>\n    </svg>'},getDownloadIcon:function(){return'<svg class="download-icon" viewBox="0 0 52 38" width="52" height="38" >\n      <g>\n        <path d="M42,31 L31,31 31,29 42,29 C46,29 50,26 50,22 50,18 46,15 42,15 40,15 38,15 37,17 37,16 37,16 37,16 37,9 32,3 25,3 19,3 13,7 12,13 11,12 11,12 10,12 6,12 3,16 3,21 3,25 6,29 11,29 11,29 11,29 11,29 L11,29 L11,29 21,29 21,31 11,31 C5,31 0,27 0,21 0,15 5,10 10,10 13,4 18,0 25,0 32,0 38,5 40,12 41,12 41,12 42,12 48,12 52,16 52,22 52,27 48,31 42,31 z"/>\n        <path stroke="none" fill="white" d="M21,29 L42,29 C46,29 50,26 50,22 50,18 46,15 42,15 40,15 38,15 37,17 37,16 37,16 37,16 37,9 32,3 25,3 19,3 13,7 12,13 11,12 11,12 10,12 6,12 3,16 3,21 3,25 6,29 11,29 11,29 11,29 11,29 L11,29 L11,29 21,29"/>\n        <path d="M24,20 L28,20 28,33 31,33 26,38 21,33 24,33 z"/>\n      </g>\n    </svg>'},formatAuth:function(t,n){return e.isEmpty(t)&&e.isEmpty(n)?"":"Basic ".concat(btoa("".concat(t,":").concat(n)))}}}.call(e,n,e,t))||(t.exports=i)},9343:function(t,e,n){var i;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(t){u=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}void 0===(i=function(t){var e=n(6603),i=n(6885),a=n(7271),s=n(8579),l=n(1251),u=n(82),c=n(7510).addWindowListener,h=s.device.isMobile?{up:"touchend",down:"touchstart",move:"touchmove"}:{up:"mouseup",down:"mousedown",move:"mousemove"},d={init:function(t){this.props=t,(this.props.lmsEnabled||this.props.lrsEnabled)&&(this.tabs=[],this.render(),this.buildRefs(),this.addTabs(),this.addListeners(),this.onScrollContentUpdated())},enabled:function(){var t=window.globals,e=t.launchDebug;t.productChannel;return e&&!s.env.isPerpetual},buildRefs:function(){var t=this;this.refs={},o(this.debugWnd.querySelectorAll("[data-ref]")).forEach((function(e){t.refs[e.getAttribute("data-ref")]=e}))},addTabs:function(){this.props.lrsEnabled&&this.addTab("xAPI LRS",e),this.props.lmsEnabled&&this.addTab("xAPI LMS",i),this.props.lrsEnabled&&this.addTab("LRS Tools",a)},addListeners:function(){var t=this;if(["startDrag","dragging","endDrag","closeClicked","minClicked","tabClicked","startResize","resizing","endResize","startScroll","scrolling","endScroll","onScrollWheel","onScrollContentUpdated","orientationChange"].forEach((function(e){t[e]=t[e].bind(t)})),this.refs.titlebar.addEventListener(h.down,this.startDrag),this.refs.resize.addEventListener(h.down,this.startResize),this.refs.scrollbar.addEventListener(h.down,this.startScroll),this.refs.content.addEventListener("wheel",this.onScrollWheel),this.refs.close.addEventListener("click",this.closeClicked),this.refs.minimize.addEventListener("click",this.minClicked),this.tabs.forEach((function(e){e.tabEl.addEventListener("click",t.tabClicked)})),s.deviceView.isMobile&&(c("orientationchange",this.orientationChange),this.orientationChange()),null!=window.ResizeObserver)this.scrollContentObserver=new ResizeObserver((function(){t.frameRequested||(t.frameRequested=!0,window.requestAnimationFrame(t.onScrollContentUpdated))})),this.scrollContentObserver.observe(this.refs.content),this.scrollContentObserver.observe(this.selectedTab.contentEl);else{!function e(){var n=t.refs.content,i=n.clientHeight,r=n.scrollHeight;i===t.lastClientHeight&&r===t.lastScrollHeight||t.onScrollContentUpdated(),window.requestAnimationFrame(e)}()}},orientationChange:function(){var t=window.innerHeight-20,e=window.innerWidth-20;this.refs.window.style.width="".concat(e,"px"),this.refs.window.style.height="".concat(t,"px")},onScrollContentUpdated:function(){this.frameRequested=!1;var t=this.refs.content,e=t.clientHeight,n=t.scrollHeight,i=e/n*e,r=t.scrollTop*(e-i)/(n-e);this.refs.scrollbar.style.height="".concat(i,"px"),this.refs.scrollbar.style.top="".concat(r,"px"),this.refs.scrollbar.style.display=e>=n-10?"none":"block"},updateScrollPosition:function(){var t=this.refs.content,e=t.clientHeight,n=t.scrollHeight,i=this.refs.scrollbar,r=i.offsetTop/(e-i.clientHeight);this.refs.content.scrollTop=(n-e)*r},tabClicked:function(t){var e=this.selectedTab,n=e.tabEl,i=e.contentEl;null!=n&&l.removeClass(n,"selected"),null!=i&&null!=i.parentElement&&(i.parentElement.removeChild(i),this.scrollContentObserver&&this.scrollContentObserver.disconnect(i)),this.selectedTab=this.tabs.find((function(e){return e.tabEl===t.target})),l.addClass(this.selectedTab.tabEl,"selected"),null!=this.selectedTab.contentEl&&(this.refs.content.appendChild(this.selectedTab.contentEl),this.scrollContentObserver&&this.scrollContentObserver.observe(this.selectedTab.contentEl))},onScrollWheel:function(t){var e=parseInt(this.refs.scrollbar.offsetTop)+.1*t.deltaY;e=u.clamp(0,this.refs.content.clientHeight-this.refs.scrollbar.clientHeight,e),this.refs.scrollbar.style.top="".concat(e,"px"),this.updateScrollPosition()},startScroll:function(t){var e=r(t.touches||[t],1)[0],n=this.refs.scrollbar.getBoundingClientRect();this.scrollYOffset=e.pageY-n.top,document.body.addEventListener(h.move,this.scrolling),document.body.addEventListener(h.up,this.endScroll)},scrolling:function(t){var e=this.refs.content.getBoundingClientRect(),n=r(t.touches||[t],1)[0].pageY-e.top-this.scrollYOffset;n=u.clamp(0,this.refs.content.clientHeight-this.refs.scrollbar.clientHeight,n),this.refs.scrollbar.style.top="".concat(n,"px"),this.updateScrollPosition()},endScroll:function(t){document.body.removeEventListener(h.move,this.scrolling),document.body.removeEventListener(h.up,this.endScroll)},startResize:function(t){var e=r(t.touches||[t],1)[0],n=this.refs.resize.getBoundingClientRect();this.resizeOffset={x:e.pageX-n.right,y:e.pageY-n.bottom},l.addClass(this.refs.window,"resizing"),document.body.addEventListener(h.move,this.resizing),document.body.addEventListener(h.up,this.endResize)},resizing:function(t){var e=r(t.touches||[t],1)[0],n=e.pageX-this.refs.window.offsetLeft-this.resizeOffset.x,i=e.pageY-this.refs.window.offsetTop-this.resizeOffset.y;n=Math.max(100,n),i=Math.max(60,i),this.refs.window.style.width="".concat(n,"px"),this.refs.window.style.height="".concat(i,"px")},endResize:function(){l.removeClass(this.refs.window,"resizing"),document.body.removeEventListener(h.move,this.resizing),document.body.removeEventListener(h.up,this.endResize)},closeClicked:function(t){this.refs.window.style.display="none"},minClicked:function(t){l.hasClass(this.refs.window,"minified")?l.removeClass(this.refs.window,"minified"):l.addClass(this.refs.window,"minified")},startDrag:function(t){var e=r(t.touches||[t],1)[0];this.ptStart={x:e.pageX-this.refs.window.offsetLeft,y:e.pageY-this.refs.window.offsetTop},document.body.addEventListener(h.move,this.dragging),document.body.addEventListener(h.up,this.endDrag)},dragging:function(t){var e=r(t.touches||[t],1)[0],n=e.pageX-this.ptStart.x,i=e.pageY-this.ptStart.y;n=Math.max(2,Math.min(window.innerWidth-this.refs.window.clientWidth-4,n)),i=Math.max(2,Math.min(window.innerHeight-this.refs.window.clientHeight-4,i)),this.refs.window.style.left="".concat(n,"px"),this.refs.window.style.top="".concat(i,"px")},endDrag:function(){document.body.removeEventListener(h.move,this.dragging),document.body.removeEventListener(h.up,this.endDrag)},render:function(){this.debugWnd=document.createElement("div"),this.debugWnd.innerHTML='\n      <div class="debug-window" data-ref="window">\n        <div class="titlebar" data-ref="titlebar">\n          <div class="lineA"></div>\n          <div class="close" data-ref="close"></div>\n          <div class="min" data-ref="minimize"></div>\n          <div class="tabs" data-ref="tabs"></div>\n          <div class="lineB"></div>\n        </div>\n        <div class="scroll-wrapper">\n          <div class="scroll-content" data-ref="content"></div>\n          <div class="scrollbar" data-ref="scrollbar"></div>\n        </div>\n        <div class="resize" data-ref="resize">\n          <svg fill="#E7EAED" stroke="darkgrey" viewBox="0 0 18 18" width="18" height="18">\n            <path d="M0,18 L18,0 18,18 0,18 Z"></path>\n            <path stroke="white" d="M1,18 L18,1"></path>\n            <path d="M6,18 L18,6"></path>\n            <path stroke="white" d="M7,18 L18,7"></path>\n            <path d="M12,18 L18,12"></path>\n            <path stroke="white" d="M13,18 L18,13"></path>\n          </svg>\n        </div>\n      </div>',document.body.appendChild(this.debugWnd)},addTab:function(t,e){var n=document.createElement("div");l.addClass(n,"debug-tab"),n.innerText=t,this.refs.tabs.appendChild(n),null!=e&&e.init(this.props),this.tabs.push({tabEl:n,contentEl:e&&e.getComponentEl()}),1===this.tabs.length&&(l.addClass(n,"selected"),this.selectedTab=this.tabs[0],this.refs.content.appendChild(this.selectedTab.contentEl))}};return window.globals.launchDebug?d:{init:function(){},enabled:function(){return!1}}}.call(e,n,e,t))||(t.exports=i)},7271:function(t,e,n){var i;void 0===(i=function(t){var e=n(8260),i=n(8680);return{init:function(t){this.props=t,this.el=document.createElement("div"),this.render()},render:function(){this.el.appendChild(new i(this.props).getComponentEl()),this.el.insertAdjacentElement("afterbegin",new e(this.props).getComponentEl())},getComponentEl:function(){return this.el}}}.call(e,n,e,t))||(t.exports=i)},6885:function(t,e,n){var i;void 0===(i=function(t){var e=n(4366),i=n(748);return{init:function(){this.el=document.createElement("div"),this.render()},render:function(){this.el.appendChild(new i("lms").getComponentEl()),this.el.appendChild(new e("lms").getComponentEl())},getComponentEl:function(){return this.el}}}.call(e,n,e,t))||(t.exports=i)},6603:function(t,e,n){var i;void 0===(i=function(t){var e=n(4366),i=n(748);return{init:function(){this.el=document.createElement("div"),this.render()},render:function(){this.el.appendChild(new i("lrs").getComponentEl()),this.el.appendChild(new e("lrs").getComponentEl())},getComponentEl:function(){return this.el}}}.call(e,n,e,t))||(t.exports=i)},9140:function(t,e,n){var i;i=function(t){var e="pending",n="resolved",i="rejected";return function(){var t=this,r=e,o=[],a=[],s=[],l=[];this.resolve=function(){for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r===e&&(o=a,r=n,s.forEach((function(e){return e.apply(t,a)})),l=s=null),t},this.reject=function(){for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return r===e&&(a=o,r=i,l.forEach((function(e){return e.apply(t,o)})),l=s=null),t},this.state=function(){return r},this.then=function(i){return r===n?i.apply(t,o):r===e&&s.push(i),t},this.catch=function(n){return r===i?n.apply(t,a):r===e&&l.push(n),t},this.always=function(e){return t.then(e).catch(e)};var u={then:this.then,catch:this.catch,always:this.always,state:this.state};this.promise=function(){return u},Object.freeze(this)}}.call(e,n,e,t),void 0===i||(t.exports=i)},8579:function(t,e,n){var i;void 0===(i=function(t){var e,i,r=n(5470),o=n(8880),a=n(9032),s=n(1421),l=n(7510).addWindowListener,u=window.globals&&window.globals.parsedParams||{},c=function(t){return"1"===u[t]},h=c("forcemobile"),d=c("devicepreview"),f=c("phone"),p=c("noframe"),v=c("enableFs"),g=u.videocontrolsfont,m=window.navigator.userAgent.toLowerCase(),y="ActiveXObject"in window||null!=window.MSBlobBuilder,b=window.isMobile.apple.device,w=b?parseInt((/os[x\s]+([0-9]+)_/.exec(m)||/version\/([0-9]+)/.exec(m))[1]):NaN,S=b&&m.indexOf("version")<0,A="file:"===document.location.protocol,E=null!=window.vInterfaceObject&&window.autoSpider,T=E&&h&&d,C=window.top!==window.self,x=C&&function(){try{return!window.top.location.hostname}catch(t){return!0}}(),_=(e=document.createElement("canvas"),i=e.getContext("webgl")||e.getContext("experimental-webgl"),e=null,null!=i),k=window.globals,M=k.deviceView,O=k.themeName,P=window,I=P.isMobile,L=P.isMobile.apple.tablet,D="classic"===O,R="unified"===O,N="perpetual"===window.globals.productChannel,H={device:{isDesktop:I.desktop,isMobile:I.mobile,isPhone:I.phone,isTablet:I.tablet},deviceView:{isDesktop:M.desktop,isMobile:M.mobile,isPhone:M.phone,isTablet:M.tablet,isClassicMobile:D&&M.mobile,isClassicDesktop:D&&M.desktop,isUnifiedMobile:R&&M.mobile,isUnifiedDesktop:R&&M.desktop},theme:{isClassic:D,isUnified:R},os:{isAndroid:window.isMobile.android.device,isIOS:b,iOSVersion:w,isIosPhoneBefore10:I.phone&&w<10,isMac:r.mac},browser:{isWebKit:m.includes("webkit"),isSafariMac:!(!r.mac||!r.safari),isSafari:r.safari,safariVersion:function(){if(r.safari){var t=/\/([\d]+)([.\d]+|[\w\d]+)\ssafari/.exec(m);if(null!==t)return parseInt(t[1])}return NaN}(),isFF:m.includes("firefox"),isChrome:r.chrome,isWebView:S,isUIWebView:S&&!window.indexedDB,isIE:y,isEdge:y&&null==window.msCrypto&&_},env:{is360:E,isDevicePreview:T,isPerpetual:N,isMobilePreview:h,isPhonePreview:T&&f,isRise:null!=window.vInterfaceObject&&window.vInterfaceObject.isRise,isInIframe:C,isXOriginIframe:x,isWebObject:/(\?|&)wo=1(&|$)/.test(window.location.search),isFileProtocol:A,enableFs:v&&T&&!f,hideFrame:p,videoControlsFont:null!=g&&"'".concat(window.decodeURIComponent(g),"'")},capabilities:{hasAudioApi:s&&(!A||I.mobile),isMemoryDeficientDevice:L&&(768===screen.height||768===screen.width)},orientation:{forceHideWarning:!1,prev:null}},V=H.os.isAndroid?function(){var t=window.screen,e=t.width,n=t.height>e?"portrait":"landscape",i=H.orientation;i.forceHideWarning=i.value!==n}:function(){},j=function(){var t=H.orientation;t.value=window.innerWidth>window.innerHeight?"landscape":"portrait",H.innerHeight=window.innerHeight,H.innerWidth=window.innerWidth,V(),(t.value!==t.prev||H.forceHideWarning)&&(document.body.classList.add("orientation-changing"),"portrait"===t.value?(document.body.classList.remove("is-landscape"),document.body.classList.add("is-portrait"),t.isPortrait=!0,t.isLandscape=!1):(document.body.classList.add("is-landscape"),document.body.classList.remove("is-portrait"),t.isPortrait=!1,t.isLandscape=!0),a.trigger(o.detection.ORIENTATION_CHANGE,{orientation:t.value}),t.prev=t.value,requestAnimationFrame((function(){requestAnimationFrame((function(){document.body.classList.remove("orientation-changing")}))})))};if(H.device.isMobile&&H.env.isInIframe){document.body.style.position="fixed";var F=function(){document.body.style.width=window.innerWidth+"px",document.body.style.height=window.innerHeight+"px"};l("resize",F),F()}return H.isRise&&(document.body.classList.add("is-rise"),document.body.styles.background="transparent"),H.isMobile&&!H.theme.isUnified&&document.getElementById("preso").setAttribute("class",""),j(),l("orientationchange",j),H}.call(e,n,e,t))||(t.exports=i)},1251:function(t,e,n){var i;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}void 0===(i=function(t){"use strict";var e=n(6486),i=n(82),o=(n(4481),n(7812)),a=n(118),s=n(7510).addBodyListener,l=function(t,e,n){t.removeEventListener(e,n)},u=function(t){return 1===t.nodeType},c=function(t,e,n){var r=[];for(e=e||i.alwaysTrue;t&&u(t)&&(r.push(t),null==n||!n(t));)t=t.parentNode;return r.slice(1).filter(e)},h=function(t,e){return S.closest(t,(function(t){return S.hasClass(t,e)}))},d=function(t,e){return!!h(t,e)},f=function(t,e){return e.tagName.toLowerCase()===t.toLowerCase()},p=function(t){return null==t?"":e.isString(t)?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):t},v=function(t,e){if(null!=t.classList)return t.classList.contains(e);var n=t.getAttribute("class");return null!=n&&n.split(/[ ,]+/).includes(e)},g=function(t,n){if(null!=t.classList)t.classList.remove(n);else{var i=t.getAttribute("class").split(/[ ,]+/);t.setAttribute("class",e.without(i,n).join(" "))}},m=function(t,e){if(null!=t.classList)t.classList.add(e);else{var n=t.getAttribute("class").split(/[ ,]+/);n.includes(e)||n.push(e),t.setAttribute("class",n.join(" "))}},y=["date","datetime-local","email","month","number","password","search","tel","text","time","url","week"],b=function(t,n,i){var r=["<",t];return n&&e.isPlainObject(n)&&e.forOwn(n,(function(t,e){r.push(" ",e,'="',p(t),'"')}),r),r.push(!0===i||!0===n?" />":">"),r.join("")},w=e.partialRight((function(t,e,n){return t.classList.add(e),setTimeout((function(){t.classList.remove(e)}),n)}),"button-tapped",o.MOBILE_ANIMATION_DURATION),S={on:function(t,n,i,r){return t.addEventListener(n,i,!!r),e.partial(l,t,n,i)},off:l,parentNodesOf:c,closest:function(t,e,n){return(e=e||i.alwaysTrue)(t)?t:c(t,e,n)[0]},isNodeOfType:f,isInput:function(t){return null!=t&&(f("input",t)&&function(t){return y.some((function(e){return t.type===e}))}(t)||f("textarea",t))},isLink:e.partial(f,"a"),isVideoNode:e.partial(f,"video"),isIconNode:function(t){return v(t,"svg-icon-wrapper")},isSlideObject:function(t){return v(t,"slide-object")},selectAllByRef:function(t,n){r(n.querySelectorAll("[data-ref]")).forEach((function(n){var i=n.classList||n.getAttribute("class").split(),r=e.first(i);null!=r&&(t[e.camelCase(r)+"El"]=n)}))},setAttributes:function(t,n){return e.forOwn(n,(function(e,n){t.setAttribute(n,e)})),t},setStyles:function(t,n){return e.forOwn(n,(function(e,n){t.style[n]=e})),t},getScrollRecommendation:function(t,e){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.height>i.height||i.top>n.top?t.scrollTop-(i.top-n.top):i.bottom<n.bottom?t.scrollTop+(n.bottom-i.bottom):-1},resizeToFit:function(t,n,r,o){var a=!!e.isFinite(r)&&n.length>r,s=t.getBoundingClientRect().width,l=s,u=0,c=l/n.length;o=o||0,e(n).map((function(t,e){t.style.width="";var n=t.getBoundingClientRect().width+o;return u+=n,{el:t,width:n}})).sortBy("width").forEach((function(t,e){var r=e+1,h=Math.min(t.width,c);u>s?(t.el.style.width=i.pxify(h-o),c=(l-=h)/(n.length-r)):a&&(t.el.style.width=i.pxify(t.width+(l-u)/n.length))}))},hasClass:v,addClass:m,removeClass:g,toggleClasses:function(t,e,n,i){var r=i?[m,g]:[g,m];r[0](t,e),r[1](t,n)},writeNode:b,writeCloseNode:function(t){return b(t).replace("<","</")},tappedClass:w,trigger:function(t,n,i){if(i=i||{ignoreDisabled:!0},null!=t){var r=function(t,n){var i=document.createEvent("Event");return i.initEvent(t,!0,!0),e.defaults(i,n),i}(n);return i.ignoreDisabled&&t.disabled||t.dispatchEvent(r),r}},getParentFrame:function(){try{for(var t,e=window.parent.document.getElementsByTagName("iframe"),n=e.length,i=0;i<n;i++)if((t=e[i]).contentDocument===document)return t}catch(t){}},getParentWithClass:h,isWithin:d,isWithinSlide:function(t){return d(t,"slide")},isWithinShadowDom:function(t){return d(t,"acc-shadow-dom")},mapShadowToModel:function(t){if(null==t)return null;var e=t;if(S.isWithinShadowDom(e)){for(;null!==e&&null==e.dataset.represents;)e=e.parentElement;return null==e?null:a.resolvePath(e.dataset.represents)}return null},xmlEncodeValue:p,updateMousePosition:function(t){null!=t.pageX&&null!=t.pageY&&(S.mouseX=t.pageX,S.mouseY=t.pageY)},mouseX:0,mouseY:0};return s("mousemove",(function(t){S.updateMousePosition(t)})),s("touchstart",(function(t){t.touches&&t.touches.length>0&&(S.mouseX=t.touches[0].pageX,S.mouseY=t.touches[0].pageY)}),!0),S}.call(e,n,e,t))||(t.exports=i)},8939:function(t,e,n){var i;i=function(t){"use strict";var e=n(6486),i=n(4839),r=e.curry((function(t,n,i,r){t([n,"::",i," - ",e.slice(arguments,3).join(" ")].join(""))}),4);return{throwFatal:r((function(t){throw new Error(t)})),throwError:r((function(t){var e=i.debugMode?"error":"warn";console[e](t),i.throwError()})),throwErrorSoft:r((function(t){i.debugMode&&console.warn(t)})),warn:r((function(t){console.warn(t)})),backtick:function(t){return["`",t,"`"].join("")}}}.call(e,n,e,t),void 0===i||(t.exports=i)},8880:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e={ds:{FRAME_DATA_LOADED:"ds:frameLoaded",PRESO_LOADED:"ds:presoLoaded",PRESO_READY:"ds:presoReady"},actionlink:{EVENT:"actionlink:event",VIEWED:"actionlink:viewed"},animation:{CREATED:"animation:created",DESTROYED:"animation:destroyed"},app:{COMPLETE:"app:complete",BRANDING_COLOR:"app:brandingColor",PRESENTATION_POSITION:"app:presentationPosition",SHOW_LOADER:"app:showLoader",HIDE_LOADER:"app:hideLoader"},audioClip:{ENDED:"audioClip:ended",TIME_UPDATE:"audioClip:timeUpdate"},backgroundAudio:{CONTROL:"backgroundAudio:control",SWITCH_PLAYLIST:"backgroundAudio:switchPlaylist",TOGGLE:"backgroundAudio:toggle",HAS_TOGGLED:"backgroundAudio:hasToggled"},captions:{SHOW_BUTTON:"captions:showbutton",HIDE_BUTTON:"captions:hidebutton",ENABLED:"captions:enabled",ENABLE:"captions:enable",ADD:"captions:add",REMOVE:"captions:remove",LANGUAGE_UPDATED:"captions:languageUpdated"},ccOptions:{CHANGED:"ccoptions:changed"},controlLayout:{CHANGED:"controllayout:changed",UPDATE:"controlLayout:update"},controlOptions:{CHANGED:"controlOptions:changed",RESET:"controlOptions:reset"},course:{COMPLETED:"course:completed",VIEWED:"course:viewed",MANUALLY_COMPLETED:"course:manuallyCompleted",SEND_XAPI_STATEMENT:"course:sendXApiStatement",AUDIO_START:"course:audioStart",ANY_SOUND_STARTED:"course:anySoundStarted",ALL_SOUNDS_STOPPED:"course:allSoundsStopped",ANY_VIDEO_STARTED:"course:anyVideoStarted",ALL_VIDEOS_STOPPED:"course:allVideosStopped",ANY_MEDIA_STARTED:"course:anyMediaStarted",ALL_MEDIA_STOPPED:"course:allMediaStopped",PAUSED:"course:paused",PLAYING:"course:playing"},customlink:{EVENT:"customlink:event"},currTimeline:{TICK:"currTimeline:tick"},data:{INITIALIZED:"data:initialized",UPDATED:"data:updated"},debug:{lms:{INITIALIZED:"debug:lms:initialized",STATEMENT_SENT:"debug:lms:statement:sent",STATEMENT_RESPONSE:"debug:lms:statement:response"},lrs:{INITIALIZED:"debug:lrs:initialized",STATEMENT_SENT:"debug:lrs:statement:sent",STATEMENT_RESPONSE:"debug:lrs:statement:response",SETTINGS_CHANGED:"debug:lrs:settings:changed",ERROR:"debug:lrs:error"}},detection:{VISIBILITY_HIDDEN:"detection:visibilityhidden",VISIBILITY_SHOWN:"detection:visibilityshown",ORIENTATION_CHANGE:"detection:orientationChange"},draw:{RESET:"draw:reset",RESET_COMPLETE:"draw:resetcomplete",EXIT:"draw:exit"},error:{INTERFACE:"error:interface"},frame:{LAYOUT_READY:"frame:layoutReady",REFLOW:"frame:reflow",MODEL_READY:"frame:modelReady",SCALE:"frame:scale",RESIZE:"frame:resize",FONT_SCALE:"font:scale"},frameModel:{LAYOUT_CHANGED:"frameData:layoutChanged",CHROMELESS_CHANGED:"frameData:chromelessChanged",BLOCKED_CHANGED:"frameData:blockedChanged"},localization:{LANGUAGE_UPDATED:"localization:languageUpdated",REVIEW_STRING_UPDATED:"localization:reviewStringUpdated"},glossary:{UPDATE:"glossary:update",REFRESH_VIEW:"glossary:refreshView"},hamburger:{TOGGLE:"hamburger:toggle"},interaction:{EVALUATED:"interaction:evaluated",VIEWED:"interaction:viewed"},keyManager:{FRAME_CONTROL_KEY:"keyManager:frameControlKey"},layer:{HIDDEN:"hidden",HIDE_OTHER_LAYERS:"hideOtherLayers",STACKING_CHANGED:"layer:stackingChanged",ACTIVATED:"activated",TIMELINE_ACTIVATED:"layer:timelineActivated",PAUSE_TIMELINE:"layer:pauseTimeline",PLAYING:"layer:playing",DIALOG_SHOWN:"layer:dialogShown",DIALOG_HIDDEN:"layer:dialogHidden",HIDE_OR_SHOW:"layer:hideOrShow"},layout:{CHANGED:"layout:changed"},loader:{MUTE:"loader:mute",UNMUTE:"loader:unmute",HIDE:"loader:hide",SHOW:"loader:show",SILENCE:"loader:silence",REMOVE_TITLE:"loader:removeTitle"},main:{PREPARE_AUDIO:"main:prepareAudio"},media:{CURRENT_TIME:"media:currentTime"},menuLinksListItem:{ITEM_SELECTED:"menuLinksListItem:itemSelected",TOGGLE:"menuLinksListItem:toggle"},messageWindow:{SHOWN:"messageWindow:shown"},mobile:{PRESENTATION_VISIBLE:"mobileChromeKiller:presentationVisible",ENTER_THUMB_VIEW:"mobileStartOverlay:enterThumbView",EXIT_THUMB_VIEW:"mobileStartOverlay:exitThumbView",MENU_OPEN:"uiMobile:menuOpen",OUTLINE_SHOWN:"panelsMobile:outlineShown",NOTES_SHOWN:"panelsMobile:notesShown"},navcontrols:{CHANGED:"navcontrols:changed"},navData:{UPDATE:"navData:update",REFRESH_VIEW:"navData:refreshView",SELECT_FIRST_SLIDE_LINK:"navData:selectFirstSlideLink"},player:{RESET:"player:reset",CLOSING:"player:closing",ERROR:"player:error",MENU_OPTIONS:"player:menuOptions",ENABLE_KEYBOARD_SHORTCUTS:"player:enableKeyboardShortcuts",INITIALIZED:"player:initialized",ACCESSIBLE_TEXT_CHANGED:"player:accessibleTextChanged",TOGGLE_PLAYBACK:"player:togglePlayback",SEEK:"player:seek",PLAYBACK_SPEED_CHANGED:"player:playbackSpeedChanged"},popup:{SHOW:"popup:show",HIDE:"popup:hide",TOGGLE:"popup:toggle",EMAIL:"popup:email"},presentation:{ENTER_FULLSCREEN:"presentation:enterFullscreen",EXIT_FULLSCREEN:"presentation:exitFullscreen",ON_OBJECT_EVENT:"presentation:onobjectevent",ON_BEFORE_SLIDE_JUMP:"presentation:onbeforeslidejump"},preview:{NOTIFY:"preview:notify"},quiz:{INTERACTION_ANSWERED:"quiz:interactionAnswered",COMPLETED:"quiz:completed",RETRIED:"quiz:retried"},renderTree:{DESTROYED:"renderTree:destroyed"},request:{START:"start:requesting",NEXT_SLIDE:"nextSlide:requesting",PREV_SLIDE:"prevSlide:requesting",NEXT_DRAW_SLIDE:"nextDrawSlide:requesting",PREV_HISTORY_GROUP:"prevHistoryGroup:requesting"},resources:{LINK_CLICKED:"resources:linkClicked",UPDATE_DESCRIPTION:"resources:updateDescription",UPDATE:"resources:update",REFRESH_VIEW:"resources:refreshView"},resume:{SET_DATA:"resume:setdata",RESET:"resume:reset",APPLIED:"resume:applied",COMPLETE:"resume:complete",RESET_DATA:"resume:resetData",COURSE_SETTING_UPDATED:"resume:courseSettingUpdated"},scheme:{CHANGED:"scheme:changed"},search:{START:"search:start",CLEAR:"search:clear",BLUR:"search:blur",SHOW:"search:show",UPDATE_PANEL:"search:updatePanel"},sidebar:{ACTIVE_TAB_SET:"sidebar:activeTabSet",SHOW_SEARCH:"sidebar:showSearch",HIDE_SEARCH:"sidebar:hideSearch",RESIZING:"sidebar:resizing",FORCE_OPEN:"sidebar:forceOpen",OPEN:"sidebar:open",CLOSE:"sidebar:close"},playbackControls:{TIMELINE_CHANGED:"playbackControls:timelineChanged"},skipNav:{FOCUSED:"skipNav:focused"},slide:{WILL_CHANGE:"slide:willChange",JUMPING:"slide:jumping",CHANGE:"change:slides",READY:"slide:ready",STARTED:"slide:started",VIEWED:"slide:viewed",TRANSITION_STARTED:"slide:transitionStarted",ON_TRANSITION_IN:"slide:ontransitionin",CURRENT_TIMELINE:"slide:currentTimeline",PAUSE_TIMELINE:"slide:pauseTimeline",PLAY_TIMELINE:"slide:playTimeline",HAS_MOUNTED:"slide:hasMounted",HAS_CHANGED:"slide:hasChanged",ALL_TIMELINES_COMPLETE:"slide:allTimelinesComplete",ARIA_TOGGLE:"slide:ariaToggle",SLIDE_NUMBERS_UPDATED:"slide:slideNumbersUpdated",ZOOMED:"slide:zoomed",PREVENT_SWIPE:"slide:preventSwipe",ALLOW_SWIPE:"slide:allowSwipe",SCALE_COMPLETE:"slide:scaleComplete",TEARDOWN:"slide:tearDown"},slideWindow:{CLEAR_HISTORY:"slideWindow:clearHistory"},slideContainer:{POSITIONED:"slideContainer:positioned"},slideObject:{FOCUS:"slideobject:focus",TRANSFORM_DIRTY:"slideobject:transformdirty",TOGGLE_VISIBILITY:"slideobject:toggleVisibility",ON_TRANSITION_IN:"ontransitionin"},startOverlay:{READY:"startOverlay:ready"},status:{UPDATED:"status:updated"},strings:{UPDATE_STRINGS:"strings:updateStrings"},swipe:{CHANGED:"swipe:changed"},tab:{SHOW:"tab:show",HIDE:"tab:hide"},tabLink:{SHOW_PANEL:"tabLink:showPanel",PANEL_SHOWN:"tabLink:panelShown",HIDE_PANEL:"tabLink:hidePanel"},textItem:{MOUSEOVER:"textItem.mouseover",MOUSEDOWN:"textItem.mousedown",MOUSEOUT:"textItem.mouseout"},threeSixtyImage:{EDIT_MODE_CHANGED:"threeSixtyImage:editModeChanged",EDITOR_SETTINGS_CHANGED:"threeSixtyImage:editorSettingsChanged",SELECTED_MARKER_CHANGED:"threeSixtyImage:selectedMarkerChanged",MARKER_UPDATED:"threeSixtyImage:markerUpdated",UN_PUSH_LABEL:"threeSixtyImage:unPushLabel",PUSH_UP_BY_LABEL:"threeSixtyImage:pushUpByLabel",PUSH_DOWN_BY_LABEL:"threeSixtyImage:pushDownByLabel",APPLY_RESUME_DATA:"threeSixtyImage:applyResumeData",RESET_VIEW:"threeSixtyImage:resetView",UPDATE_RESUME_PROPS:"threeSixtyImage:updateResumeProps",READY:"threeSixtyImage:ready",RESIZED:"threeSixtyImage:resize",MEDIA_CLOSED:"threeSixtyImage:mediaClosed",MEDIA_TOGGLE_PLAY:"threeSixtyImage:mediaTogglePlay",MEDIA_RESTART:"threeSixtyImage:mediaRestart"},timeline:{PLAYING:"timeline:playing",PAUSED:"timeline:paused",BEFORE_RESET:"timeline:beforereset",RESET:"timeline:reset",TICK:"timeline:tick",ENDED:"timeline:ended",COMPLETE:"timeline:complete",BEFORE_SEEK_UPDATE:"timeline:beforeSeekUpdate",AFTER_SEEK_UPDATE:"timeline:afterSeekUpdate",SEEK_START:"timeline:seekStart",SEEK_END:"timeline:seekEnd",CHANGED:"timeline:changed",CURRENT_TIMELINE:"timeline:currentTimeline"},timer:{SHOW:"timer:show",HIDE:"timer:hide",SHOWN:"timer:shown",HIDDEN:"timer:hidden",COMPLETE:"timer:complete"},tincan:{STATEMENT:"tincan:statement"},topbar:{CLOSED_SIDEBAR:"topbar:closedSidebar",OPENED_SIDEBAR:"topbar:openedSidebar"},topEllipsesPanel:{HIDE:"topEllipsesPanel:hide",PANEL_SHOWN:"topEllipsesPanel:panelShown",HIDE_PANEL:"topEllipsesPanel:hidePanel"},topTabs:{OPEN_DROPDOWN:"topTabs:openDropDown",OPEN_PANEL:"topTabs:openPanel"},topTabsItem:{ACTIVATE:"topTabsItem:activate",HIDE:"topTabsItem:hide"},touchHelper:{TOUCH_START:"touchHelper:touchStart"},transcript:{CHANGED:"transcript:changed",REFRESH_VIEW:"transcript:refeshView"},tween:{UPDATE:"tween:update"},variable:{CHANGED:"variable:changed",REFRESH_VIEW:"variable:refreshView"},video:{STATE_CHANGED:"video:stateChanged",PIP_MODE_CHANGED:"video:pipModeChanged",CHANGE_TRANSCRIPT_TRACK:"video:changeTranscriptTrack"},videoManager:{PLAY:"videoManager:play",PAUSE:"videoManager:pause"},utilityWindow:{WINDOW_TOGGLED:"utilityWindow:windowToggled",TOGGLE_WINDOW:"utilityWindow:toggleWindow",DOCKED:"utilityWindow:docked"},elso:{TOGGLE_EXPANDED:"elso:toggleExpanded",SHOW_CONTENT_START:"elso:showContentStart",HIDE_CONTENT_COMPLETE:"elso:hideContentCompelete"},volume:{CHANGED:"volume:changed",CHANGE_CURRENT:"change:currentVolume"},window:{CLOSING:"window:closing",CLOSED:"window:closed",CREATED:"window:created",OPEN_EXTERNAL:"externalWindow:open",MAIN_CREATED:"mainWindow:created",MAIN_CHANGED:"mainWindow:slideChanged",SCALE:"window:scale",AFTER_SCALE:"window:afterScale",STACKING_CHANGED:"window:stackingChanged",ZOOM_MODE_CHANGED:"window:zoomModeChanged"},windowManager:{CREATED:"windowManager:created",TOP_MOST_CHANGED:"windowManager:topMostChanged"}};return Object.freeze(e),Object.freeze(e.actionlink),Object.freeze(e.animation),Object.freeze(e.app),Object.freeze(e.audioClip),Object.freeze(e.captions),Object.freeze(e.controlLayout),Object.freeze(e.course),Object.freeze(e.customlink),Object.freeze(e.data),Object.freeze(e.debug),Object.freeze(e.detection),Object.freeze(e.draw),Object.freeze(e.error),Object.freeze(e.hamburger),Object.freeze(e.interaction),Object.freeze(e.keyManager),Object.freeze(e.layer),Object.freeze(e.layout),Object.freeze(e.loader),Object.freeze(e.media),Object.freeze(e.menuLinksListItem),Object.freeze(e.mobile),Object.freeze(e.navcontrols),Object.freeze(e.player),Object.freeze(e.popup),Object.freeze(e.presentation),Object.freeze(e.preview),Object.freeze(e.quiz),Object.freeze(e.request),Object.freeze(e.resources),Object.freeze(e.resume),Object.freeze(e.scheme),Object.freeze(e.search),Object.freeze(e.sidebar),Object.freeze(e.slide),Object.freeze(e.slideContainer),Object.freeze(e.status),Object.freeze(e.swipe),Object.freeze(e.timeline),Object.freeze(e.timer),Object.freeze(e.topbar),Object.freeze(e.topTabsItem),Object.freeze(e.tween),Object.freeze(e.variable),Object.freeze(e.volume),Object.freeze(e.window),Object.freeze(e.windowManager),e}.call(e,n,e,t))||(t.exports=i)},5812:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=n(5485),r=n(3586),o=e.partialRight(e.omit,"mixins"),a=i.Model.extend,s=function(t,n){var i;return t=t||{},e.isArray(t)||(t=[t]),t=t.filter(e.isPlainObject),(i=e.extend.apply(e,t.map(o))).mixins=e(t).map("mixins").unshift(this.prototype.mixins).flatten().filter(e.isPlainObject).uniq().value(),r.mix(i),a.call(this,i,n)};return"Model Collection View Router History".split(" ").forEach((function(t){i[t].extend=s})),s}.call(e,n,e,t))||(t.exports=i)},5613:function(t,e,n){var i;i=function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}return e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},e.prototype.once=function(t,e){var n=this;function i(){n.off(t,i),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length},e}.call(e,n,e,t),void 0===i||(t.exports=i)},8150:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}i=function(t){"use strict";var e=n(6486),i=n(4811),r=n(9032),a=n(8880),l=n(82),u=n(1419),c=window.TinCan||n(5932),h=n(7812).XAPI_RETRY_INTERVALS_MS,d=n(5964),f=d.getCourseAttemptedStmt,p=d.getCourseCompleteStmt,v=d.getSlideViewedStmt,g=d.getSlideLeftStmt,m=d.getViewedCompleteStmt,y=d.getQuizCompleteStmt,b=d.getQuestionStmt,w=d.getLikertStmts,S=d.formatCustomStatement,A="resume",E=function(){function t(n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activityId=n,this.scoring=i.first(),this.resumer=r,this.pending={},e.bindAll(this,"sendResumeReady"),this.resolveLrsSettings(),this.valid&&(this.lrs=new c.LRS(this.lrsConfig))}var n,d,E;return n=t,d=[{key:"getDataLaunchConfig",value:function(){var t=DS.presentation.get("xapi")||{},n={};e.isEmpty(t.endpoint)||(n.endpoint=t.endpoint);var i=atob(t.param1||""),r=atob(t.param2||"");return e.isEmpty(i)||e.isEmpty(r)||(n.auth="Basic ".concat(btoa("".concat(i,":").concat(r)))),n}},{key:"getTinCanLaunchConfig",value:function(t){var e=window.globals,n=e.tinCanPresent,i=e.cmi5Present,r=n||i,o={};return null!=t.actor&&(o.actor=t.actor),r||["auth","endpoint","registration"].forEach((function(e){null!=t[e]&&(o[e]=t[e])})),o}},{key:"getStorylineXApiLaunchConfig",value:function(t){var e={};return null!=t.slxapi&&["auth","endpoint","actor","registration"].forEach((function(n){null!=t.slxapi[n]&&(e[n]=t.slxapi[n])})),e}},{key:"getJsActor",value:function(){return null!=window.getActor?{actor:window.getActor()}:{}}},{key:"resolveLrsSettings",value:function(){var t=this,n=DS.presentation.get("xapi"),i=l.queryStringToObj()||{},s=n&&n.manualConfiguration,u=this.getDataLaunchConfig(),c=this.getTinCanLaunchConfig(i),h=this.getStorylineXApiLaunchConfig(i),d=this.getJsActor();this.lrsConfig=Object.assign.apply(Object,[{}].concat(o(s?[c,h,u,d]:[u,c,h,d]))),this.valid=["auth","endpoint","actor"].every((function(n){var i=!e.isEmpty(t.lrsConfig[n]);if(!i){var o="The value of '".concat(n,"' is not defined. This course will be unable to send learner data to the LRS");console.error(o),DS.debugWindow.enabled()&&r.trigger(a.debug.lrs.ERROR,o)}return i})),DS.debugWindow.enabled()&&r.trigger(a.debug.lrs.INITIALIZED,Object.assign({activityId:this.activityId},e.cloneDeep(this.lrsConfig))),this.actor=this.lrsConfig.actor,this.registration=this.lrsConfig.registration,delete this.lrsConfig.actor,delete this.lrsConfig.registration}},{key:"isValid",value:function(){return this.valid}},{key:"sendStatement",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;null==this.registration||null!=t.context&&null!=t.context.registration||(t.context=t.context||{},t.context.registration=this.registration);var o=Object.assign({},t,{actor:this.actor}),s=i||Math.random()+"-lms";DS.connection.requiredAsset(s),this.lrs.saveStatement(new c.Statement(o),{callback:function(i,l){null!=i?DS.connection.useConnectionMessages&&0===i?(DS.connection.assetFailed(s),setTimeout((function(){e.sendStatement(t,n+1,s)}),DS.connection.retryDelay),DS.debugWindow.enabled()&&r.trigger(a.debug.lrs.STATEMENT_RESPONSE,o.id,i,l)):n<h.length?setTimeout((function(){return e.sendStatement(t,n+1)}),h[n]):(e.pending[o.id]=!1,DS.debugWindow.enabled()&&r.trigger(a.debug.lrs.STATEMENT_RESPONSE,o.id,i,l)):(DS.connection.assetLoaded(s),e.pending[o.id]=!1,DS.debugWindow.enabled()&&r.trigger(a.debug.lrs.STATEMENT_RESPONSE,o.id))}}),0===n&&DS.debugWindow.enabled()&&(this.pending[o.id]=!0,r.trigger(a.debug.lrs.STATEMENT_SENT,o))}},{key:"isCloseReady",value:function(){return e.every(this.pending,(function(t){return!t}))}},{key:"courseStarted",value:function(t){this.sendStatement(f(this.scoring,t))}},{key:"courseComplete",value:function(t,e){e||this.isCourseCompletionReported||(this.isCourseCompletionReported=!0,this.sendStatement(p(t,this.resumer.getCourseTime())))}},{key:"slideViewed",value:function(t){this.sendStatement(v(t))}},{key:"slideLeft",value:function(t){this.sendStatement(g(t))}},{key:"viewedComplete",value:function(t){this.isCourseCompletionReported||(this.isCourseCompletionReported=!0,this.sendStatement(m(t,this.resumer.getCourseTime())))}},{key:"manualCourseComplete",value:function(t,e){this.courseComplete(e,!1)}},{key:"interactionAnswered",value:function(t,e){e.hasResponses()&&(e.isType("likert")?this.logLikert(t,e):this.logQuestion(t,e))}},{key:"logLikert",value:function(t,e){var n=this;w(t,e).forEach((function(t){n.sendStatement(t)}))}},{key:"logQuestion",value:function(t,e){this.sendStatement(b(t,e))}},{key:"quizComplete",value:function(t){this.isCourseCompletionReported||(this.lastScoredScoring=t.scoring,this.sendStatement(y(t)))}},{key:"quizRetried",value:function(t){u.multipleQuizTracking&&this.lastScoredScoring===t&&(this.isCourseCompletionReported=!1)}},{key:"sendXApiStatement",value:function(t){this.sendStatement(S(t))}},{key:"getResumeConfig",value:function(t){return{agent:new c.Agent(this.actor),activity:{id:this.activityId},callback:t,overwriteJSON:!0,registration:this.registration}}},{key:"getItem",value:function(){return this.resumeDfd=i.Deferred(),this.lrs.retrieveState(A,this.getResumeConfig(this.sendResumeReady)),DS.detection.env.isFileProtocol&&this.resumeDfd.resolve(""),this.resumeDfd.promise()}},{key:"setItem",value:function(t,n){this.lrs.saveState(A,n,this.getResumeConfig(e.noop))}},{key:"sendResumeReady",value:function(t,e){null==t?this.resumeDfd.resolve(e&&e.contents):this.resumeDfd.resolve("")}}],d&&s(n.prototype,d),E&&s(n,E),Object.defineProperty(n,"prototype",{writable:!1}),t}();return E}.call(e,n,e,t),void 0===i||(t.exports=i)},5053:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}i=function(t){"use strict";var e,i,r=n(6486),a=n(9842),s=n(6295),l=n(4811),u=n(82),c=n(7510).addWindowListener,h=n(1419),d=n(6776),f=(window.TinCan||n(5932)).Utils.convertMillisecondsToISO8601Duration,p={complete:function(t){if(h.multipleQuizTracking){if(i)return;i=!0}t.api.SetReachedEnd()},incomplete:function(t){t.api.ResetStatus()},fail:function(t){if(h.multipleQuizTracking){if(i)return;i=!0}t.isCmi5&&t.api.SetReachedEnd(),t.api.SetFailed()},pass:function(t){if(h.multipleQuizTracking){if(i)return;i=!0}t.isCmi5&&t.api.SetReachedEnd(),t.api.SetPassed()}},v={queue:[],resumer:null,scorings:[],api:null,lessonCompleted:!1,setTotalSlides:r.noop,quizComplete:r.noop,courseStarted:function(t){if(this.isCmi5){var e=this.api.cmi5.prepareStatement(d.verbs.VERB_ATTEMPTED),n=this.scorings.first();this.setCmi5StatementDefinitionParams(e,d.objects.OBJECT_COURSE,n.get("lmstext"),n.get("description")),t||(e.result=new this.api.TinCan.Result({completion:!1})),this.sendCmi5Statement(e)}},slideViewed:function(t){if(this.isCmi5){var e=this.api.cmi5.prepareStatement(d.verbs.VERB_EXPERIENCED),n=DS.flagManager.multiLangSupport?t.get("lmsTitle"):t.get("title");this.setCmi5StatementDefinitionParams(e,d.objects.OBJECT_MODULE,n,n),this.sendCmi5Statement(e)}},slideLeft:function(t){if(this.isCmi5){var e=this.api.cmi5.prepareStatement(d.verbs.VERB_LEFT),n=DS.flagManager.multiLangSupport?t.get("lmsTitle"):t.get("title");this.setCmi5StatementDefinitionParams(e,d.objects.OBJECT_MODULE,n,n),e.verb.display={"en-US":"left"},e.result=new this.api.TinCan.Result({duration:f(t.elapsedTime)}),this.sendCmi5Statement(e)}},setCmi5StatementDefinitionParams:function(t,e,n,i){t.target.definition=new this.api.TinCan.ActivityDefinition({type:e,name:{},description:{}}),t.target.definition.name[d.lang]=n,t.target.definition.description[d.lang]=i},sendCmi5Statement:function(t,e){var n=this;if(DS.connection.useConnectionMessages){var i=e||Math.random()+"-lms";DS.connection.requiredAsset(i),this.api.cmi5.sendStatement(t,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];null!=r[0]&&0==r[0].message?(DS.connection.assetFailed(i),setTimeout((function(){return n.sendCmi5Statement(t,i)}),DS.connection.retryDelay)):DS.connection.assetLoaded(i)}))}else this.api.cmi5.sendStatement(t,(function(){}))},buildCMI5Statement:function(t){var e={actor:this.api.cmi5.getActor(),context:this.api.cmi5._prepareContext()},n=this.api.cmi5.getProgress();return"http://adlnet.gov/expapi/verbs/completed"!==t.verb.id&&null!==n&&(e.result={extensions:o({},"https://w3id.org/xapi/cmi5/result/extensions/progress",n)}),new this.api.TinCan.Statement(Object.assign(e,t))},sendXApiStatement:function(t){this.isCmi5&&this.sendCmi5Statement(this.buildCMI5Statement(t))},initialize:function(t,e,n){var i=this.startWindow();return i&&(window.lmsAPI=window.parent,this.scorings=e,this.courseId=t,this.isCmi5=n,c("pagehide",this.lmsUnload.bind(this)),this.initCommitTimeout()),!0===i?this:i},startWindow:function(){this.api=window;var t=r.isFunction(this.api.Start);return t&&this.api.Start(),t},setResumer:function(t){this.resumer=t},getItem:function(t){if(this.resumeDfd=this.resumeDfd||l.Deferred(),null!=this.api.IsLoaded&&this.api.IsLoaded()){var e=this.api.GetDataChunk();this.resumeDfd.resolve(e),this.listenToResumer(),this.lessonCompleted=this.api.GetStatus()===this.api.LESSON_STATUS_COMPLETED}else s.delayedCall(.5,this.getItem,void 0,this);if(null!=t)return this.resumeDfd.promise()},listenToResumer:function(){var t=this;this.resumer.resumeDfd.catch((function(){t.lastStatus="incomplete",p.incomplete(t)}))},setItem:function(t,e){this.resumeData=e,this.sendDataCall||(this.sendDataCall=s.delayedCall(.5,this.sendData,void 0,this))},initCommitTimeout:function(){var t=parseInt(u.getPath(window,"FORCED_COMMIT_TIME",6e4),10);t>0&&s.delayedCall(u.toSeconds(t),this.onCommitDelayComplete,void 0,this)},onCommitDelayComplete:function(){this.commit().initCommitTimeout()},sendData:function(){return this.sendDataCall&&this.sendDataCall.kill(),this.sendDataCall=null,null!=this.resumeData&&this.api.SetDataChunk(this.resumeData),this},interactionAnswered:function(t,e){this.scorings.length>0&&(0,a[e.type()])(t,e,this.resumer.getCourseTime())},reportStatus:function(t){return this.updateScore(t),this.updateStatus(),this},updateStatus:function(){var t=this.scorings.getStatus(),e=p[t]||r.noop;return this.lastStatus&&this.lastStatus===t||(this.lastStatus=t,e(this)),this},updateScore:function(t){if((!h.multipleQuizTracking||!i)&&(null==t&&(t=this.scorings.guessCurrentScoring()),null!=t&&t.isType("quiz"))){var n=t.prop("PercentScore");this.lastScore!==n&&(e=t,this.lastScore=n,this.api.SetScore(n,100,0))}},viewedComplete:function(){return p[this.scorings.getStatus()](this),this.resumer.savePresentationData(),this.commit(),this},forceCommit:function(){return this.resumer.savePresentationData(),this.sendData().commit(),this},lmsUnload:function(t){null==this.unloaded&&(this.unloaded=!0,this.reportStatus(null),null!=this.sendDataCall&&this.forceCommit(),this.api.ConcedeControl(!0===t),this.api.Unload())},commit:function(){return this.api.CommitData(),this},courseComplete:function(t){return this.reportStatus(t).forceCommit(),this},quizRetried:function(t){h.multipleQuizTracking&&e===t&&(i=!1)},manualCourseComplete:function(t,e){v.courseComplete(e)}};return v}.call(e,n,e,t),void 0===i||(t.exports=i)},9842:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=(n(7812),function(t){return null==t&&(t=""),window.CreateResponseIdentifier(t.substr(0,1),t)}),r=function(t,e){return t.push(i(e)),t},o=function(t,e,n){var i=e.statement.lmstext||e.statement,r=e.choice.lmstext||e.choice,o=window.CreateResponseIdentifier(n.toString(),i),a=window.CreateResponseIdentifier(i.charAt(0),r);return t.push(new window.MatchingResponse(o,a)),t},a=function(t){return null==t.choice&&""===t?t="_":""===t.choice&&(t.choice="_"),t},s={C:window.INTERACTION_RESULT_CORRECT,I:window.INTERACTION_RESULT_WRONG,W:window.INTERACTION_RESULT_WRONG,U:window.INTERACTION_RESULT_UNANTICIPATED,N:window.INTERACTION_RESULT_NEUTRAL},l=function(t){var n=e.first(t).toUpperCase();return s[n]||t},u=function(t){return null!=t&&"true"===t.lmstext.toLowerCase()},c=function(t,e){var n,i=e,r=[e.prop("AttemptCount")-1,t.getAttempts()];do{(n=i.get("lmsId"))&&r.push(n)}while(i=i.parent);return r.reverse().join("_")},h={truefalse:function(t,n,i){window.RecordTrueFalseInteraction(c(t,n),u(e.first(n.getResponseValues())),l(n.prop("Status")),u(e.first(n.getCorrectValues())),n.get("lmstext"),t.prop("Weight")*n.get("maxpoints"),i,t.get("lmstext"))},multiEtc:function(t,n,o,s){var u,h,d,f;o.isType("sequence")?(h=function(t,e,n){return t.push(i(e.statement.lmstext),i(e.choice.lmstext)),t},d=o.getResponseValues().reduce(h,[]),f=a(o.getCorrectValues()).reduce(h,[])):(u=function(t){return e.isString(t)?t:null!=t.choice?t.choice.lmstext:t.lmstext},d=o.getResponseValues().map(u).reduce(r,[]),f=a(o.getCorrectValues().map(u)).reduce(r,[])),window[t](c(n,o),d,l(o.prop("Status")),f,o.get("lmstext"),n.prop("Weight")*o.get("maxpoints"),s,n.get("lmstext"))},numeric:function(t,e,n,i){window.RecordFillInInteraction(c(t,e),e.getResponseValues(),l(e.prop("Status")),i||e.getCorrectValues(),e.get("lmstext"),t.prop("Weight")*e.get("maxpoints"),n,t.get("lmstext"))},fillin:function(t,e,n){var i=e.getCorrectValues().map((function(t){return t.lmstext})).join("|#|");h.numeric(t,e,n,i)},matching:function(t,e,n){var i=e.getResponseValues().reduce(o,[]),r=e.getCorrectValues();r=a(r).reduce(o,[]),window.RecordMatchingInteraction(c(t,e),i,l(e.prop("Status")),r,e.get("lmstext"),t.prop("Weight")*e.get("maxpoints"),n,t.get("lmstext"))},likert:function(t,n,i){var r=e.flatten(n.getResponseValues().map((function(t){return[t.statement.lmstext,t.choice.lmstext]}))).join("|#|");window.RecordLikertInteraction(c(t,n),window.CreateResponseIdentifier(r.substr(0,1),r),l(n.prop("Status")),"",n.get("lmstext"),t.prop("Weight")*n.get("maxpoints"),i,t.get("lmstext"))}};return h.wordbank=h.hotspot=h.multiplechoice=h.multipleresponse=e.partial(h.multiEtc,"RecordMultipleChoiceInteraction"),h.sequence=e.partial(h.multiEtc,"RecordSequencingInteraction"),h.essay=h.numeric,h}.call(e,n,e,t))||(t.exports=i)},8945:function(t,e,n){var i;i=function(t){"use strict";var e,i=n(6486),r=n(8579),o=n(8880),a=n(9032),s=n(82),l=n(4170),u=n(5053),c=n(8150),h=n(5964),d=n(4811),f={initialize:function(t,n){e=t,this.resumer=n,this.learningInterfaces=[];var i=e.get("xapi");null!=i&&(i.manualConfiguration||(i=Object.assign({},i,{endpoint:"",param1:"",param2:""}),DS.presentation.set("xapi",i)),DS.debugWindow.init(Object.assign({},i,{lmsEnabled:window.globals.tinCanPresent})),h.setConfig(this.getXApiStatementConfig())),this.initLms(),this.initLrs(),this.addPartials(),this.addListeners()},getXApiStatementConfig:function(){return{version:e.get("tincanVersion"),lang:e.get("tincanLanguage"),activityId:this.getActivityId()}},getActivityId:function(){var t=s.queryStringToObj()||{};return s.getPath(t,"activity_id",s.getPath(t,"slxapi.activityId",s.getPath(e,"xapi.activityId","")))},getItem:function(t){var e=i.first(this.learningInterfaces);if(null==e){var n=d.Deferred();return n.resolve(),n.promise()}return e.getItem(t)},setItem:function(t,e){i.first(this.learningInterfaces).setItem(t,e)},getScorings:function(){var t=e.get("scoring"),n=e.scorings()||[];return 0===n.length&&null!=t&&n.push(t),n},initLms:function(){var t,n=this.getScorings(),i=e.get("courseId"),o=window.globals,a=o.lmsPresent,s=o.tinCanPresent,c=o.cmi5Present,h=r.env.isRise;s||h?t=l.initialize(i,e.get("tincanVersion"),n,e,h):a&&(t=u.initialize(i,n,c)),t&&(t.setResumer(this.resumer),this.learningInterfaces.push(t))},initLrs:function(){var t=e.get("xapi");if(t&&t.lrsEnabled){var n=new c(this.getActivityId(),this.getScorings(),this.resumer);n.isValid()&&this.learningInterfaces.push(n)}},lmsPresent:function(){return this.learningInterfaces&&this.learningInterfaces.length>0},addListeners:function(){var t={};t[o.interaction.EVALUATED]=this.onInteractionEvaluated.bind(this),t[o.quiz.COMPLETED]=this.quizComplete,t[o.course.COMPLETED]=this.courseComplete,t[o.course.MANUALLY_COMPLETED]=this.manualCourseComplete,t[o.course.VIEWED]=this.viewedComplete,t[o.status.UPDATED]=this.reportStatus,t[o.quiz.RETRIED]=this.quizRetried,t[o.course.SEND_XAPI_STATEMENT]=this.sendXApiStatement.bind(this),a.on(t)},onInteractionEvaluated:function(t,e){var n=this.getScorings();(t.hasScoring()||n.length>0&&n.hasQuiz(t))&&this.learningInterfaces.forEach((function(n){return n.interactionAnswered(t,e)}))},sendXApiStatement:function(t){null!=t.result&&null!=t.result.duration&&(t.result.duration=h.formatTime(t.result.duration)),this.callInterfaceMethod("sendXApiStatement",t)},callInterfaceMethod:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.learningInterfaces.forEach((function(e){i.isFunction(e[t])&&e[t].apply(e,n)}))},addPartials:function(){var t=this;this.callInterfaceMethod=this.callInterfaceMethod.bind(this);["courseStarted","slideViewed","slideLeft","setTotalSlides","quizComplete","courseComplete","manualCourseComplete","viewedComplete","reportStatus","quizRetried"].forEach((function(e){t[e]=i.partial(t.callInterfaceMethod,e)}))},lmsUnload:function(t){return this.learningInterfaces.some((function(e){return!!i.isFunction(e.lmsUnload)&&(e.lmsUnload(t),!0)}))},checkAllInterfacesCloseReady:function(){return this.learningInterfaces.every((function(t){return null==t.isCloseReady||t.isCloseReady()}))},whenCloseReady:function(){var t=this;return new Promise((function(e){window.requestAnimationFrame((function n(){t.checkAllInterfacesCloseReady()?e():window.requestAnimationFrame(n)}))}))}};return f}.call(e,n,e,t),void 0===i||(t.exports=i)},4403:function(t,e,n){var i;i=function(t){var e=n(5613),i="undefined"==typeof window?this||self:window;function r(){}function o(t){switch({}.toString.call(t)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}d.getXHR=function(){if(!(!i.XMLHttpRequest||i.location&&"file:"==i.location.protocol&&i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var a="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function s(t){return t===Object(t)}function l(t){if(!s(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function u(t){for(var e,n={},i=t.split("&"),r=0,o=i.length;r<o;++r)e=i[r].split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function c(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=function(t){var e,n,i,r,o=t.split(/\r?\n/),s={};o.pop();for(var l=0,u=o.length;l<u;++l)e=(n=o[l]).indexOf(":"),i=n.slice(0,e).toLowerCase(),r=a(n.slice(e+1)),s[i]=r;return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function h(t,n){var i=this;e.call(this),this._query=this._query||[],this.method=t,this.url=n,this.header={},this._header={},this.on("end",(function(){var t=null,e=null;try{e=new c(i)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,i.callback(t)}if(i.emit("response",e),t)return i.callback(t,e);if(e.status>=200&&e.status<300||0===e.status)return i.callback(t,e);var n=new Error(e.statusText||"Unsuccessful HTTP response");n.original=t,n.response=e,n.status=e.status,i.callback(t||n,e)}))}function d(t,e){return"function"==typeof e?new h("GET",t).end(e):1==arguments.length?new h("GET",t):new h(t,e)}return d.serializeObject=l,d.parseString=u,d.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":l,"application/json":JSON.stringify},d.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},c.prototype.get=function(t){return this.header[t.toLowerCase()]},c.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=e.split(/ *; */).shift();var n=function(t){return function(t,e,n){for(var i=0,r=t.length,o=3==arguments.length?n:t[i++];i<r;)o=e.call(null,o,t[i],++i,t);return o}(t.split(/ *; */),(function(t,e){var n=e.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(t[i]=r),t}),{})}(e);for(var i in n)this[i]=n[i]},c.prototype.parseBody=function(t){var e=d.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},c.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},c.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,i="cannot "+e+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=e,r.url=n,r},d.Response=c,e(h.prototype),h.prototype.use=function(t){return t(this),this},h.prototype.timeout=function(t){return this._timeout=t,this},h.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},h.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},h.prototype.set=function(t,e){if(s(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},h.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},h.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},h.prototype.type=function(t){return this.set("Content-Type",d.types[t]||t),this},h.prototype.accept=function(t){return this.set("Accept",d.types[t]||t),this},h.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},h.prototype.query=function(t){return"string"!=typeof t&&(t=l(t)),t&&this._query.push(t),this},h.prototype.field=function(t,e){return this._formData||(this._formData=new i.FormData),this._formData.append(t,e),this},h.prototype.attach=function(t,e,n){return this._formData||(this._formData=new i.FormData),this._formData.append(t,e,n),this},h.prototype.send=function(t){var e=s(t),n=this.getHeader("Content-Type");if(e&&s(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||o(t)||n||this.type("json"),this},h.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},h.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},h.prototype.withCredentials=function(){return this._withCredentials=!0,this},h.prototype.end=function(t){var e=this,n=this.xhr=d.getXHR(),i=this._query.join("&"),a=this._timeout,s=this._formData||this._data;this._callback=t||r,n.onreadystatechange=function(){if(4==n.readyState){try{n.status}catch(t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var l=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=l);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=l)}catch(t){}if(a&&!this._timer&&(this._timer=setTimeout((function(){e.timedout=!0,e.abort()}),a)),i&&(i=d.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!o(s)){var u=d.serialize[this.getHeader("Content-Type")];u&&(s=u(s))}for(var c in this.header)null!=this.header[c]&&n.setRequestHeader(c,this.header[c]);return this.emit("request",this),n.send(s),this},d.Request=h,d.get=function(t,e,n){var i=d("GET",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},d.head=function(t,e,n){var i=d("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.del=function(t,e){var n=d("DELETE",t);return e&&n.end(e),n},d.patch=function(t,e,n){var i=d("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.post=function(t,e,n){var i=d("POST",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.put=function(t,e,n){var i=d("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d}.call(e,n,e,t),void 0===i||(t.exports=i)},4170:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i,r,o=n(6486),a=n(4811),s=n(82),l=n(8880),u=n(9032),c=window.TinCan||n(5932),h=n(7812),d=n(1419),f=n(5964),p=n(9343),v="resume",g=/file/.test(window.location.protocol);return{queue:[],tinCan:null,resumer:null,scoring:null,scorings:null,version:0,retryCount:0,setTotalSlides:o.noop,reportStatus:o.noop,initialize:function(t,e,n,i,r){if(window.globals.tinCanPresent||r){if(this.activityId=t,this.setPreso(i),this.urlParams=s.queryStringToObj(),this.version=e,this.scoring=n.first(),this.tinCan=g||r?new c:new c({url:window.location.toString().replace("&tincan=true","")}),this.pending={},p.enabled()){var a=o.first(this.tinCan.recordStores)||{},h=null!=this.tinCan.actor&&null!=this.tinCan.actor.asVersion?this.tinCan.actor.asVersion(this.version):"";u.trigger(l.debug.lms.INITIALIZED,{activityId:s.getPath(this,"tinCan.activity.id"),endpoint:a.endpoint,auth:a.auth,actor:h,registration:this.tinCan.registration})}return this.sendData=r?this.sendStatementLocal:this.sendStatement,this}},setPreso:function(t){e=t},setResumer:function(t){this.resumer=t},createConfig:function(t){return null==this.urlParams.activity_id&&(t.activity={id:e.get("xapi").activityId}),t},getItem:function(){this.resumeDfd=a.Deferred();var t=this.createConfig({callback:this.sendResumeReady.bind(this),overwriteJSON:!0});return this.tinCan.getState(v,t),g&&this.resumeDfd.resolve(""),this.resumeDfd.promise()},setItem:function(t,e){var n=this.createConfig({callback:o.noop});this.tinCan.setState(v,e,n)},sendResumeReady:function(t,e){null==t&&this.resumeDfd.resolve(e&&e.contents)},courseStarted:function(t){this.queueStatement(f.getCourseAttemptedStmt(this.scoring,t))},quizComplete:function(t){r||(i=t.scoring,this.queueStatement(f.getQuizCompleteStmt(t)))},courseComplete:function(t,e){e||r||(r=!0,this.queueStatement(f.getCourseCompleteStmt(t,this.resumer.getCourseTime())))},manualCourseComplete:function(t,e){this.courseComplete(e,!1)},quizRetried:function(t){d.multipleQuizTracking&&i===t&&(r=!1)},viewedComplete:function(t){r||(r=!0,this.queueStatement(f.getViewedCompleteStmt(t,this.resumer.getCourseTime())))},slideViewed:function(t){this.queueStatement(f.getSlideViewedStmt(t))},slideLeft:function(t){this.queueStatement(f.getSlideLeftStmt(t))},interactionAnswered:function(t,e){e.hasResponses()&&(e.isType("likert")?this.logLikert(t,e):this.logQuestion(t,e))},logLikert:function(t,e){var n=this;f.getLikertStmts(t,e).forEach((function(t){n.queueStatement(t)}))},logQuestion:function(t,e){this.queueStatement(f.getQuestionStmt(t,e))},sendXApiStatement:function(t){this.queueStatement(f.formatCustomStatement(t))},queueStatement:function(t){0===this.queue.length?this.sendData(t):this.queue.unshift(t)},sendStatementCallback:function(t,e){var n=this;if(DS.connection.requiredAsset(e.id),DS.connection.useConnectionMessages&&0===t[0].err)DS.connection.assetFailed(e.id),setTimeout((function(){return n.sendStatement(e)}),DS.connection.retryDelay);else if(!DS.connection.useConnectionMessages&&0===t[0].err&&this.retryCount<h.XAPI_RETRY_INTERVALS_MS.length)setTimeout((function(){return n.sendStatement(e)}),h.XAPI_RETRY_INTERVALS_MS[this.retryCount++]);else{if(p.enabled())if(null!=t[0].err){var i=t[0],r=i.err,o=i.xhr;u.trigger(l.debug.lms.STATEMENT_RESPONSE,e.id,r,o)}else u.trigger(l.debug.lms.STATEMENT_RESPONSE,e.id);DS.connection.assetLoaded(e.id),this.pending[e.id]=null,this.retryCount=0,this.popQueue()}},isCloseReady:function(){return o.every(this.pending,(function(t){return!t}))},popQueue:function(){this.queue.length>0&&this.sendData(this.queue.pop())},sendStatement:function(t){if(DS.connection.requiredAsset(t.id),this.tinCan.sendStatement(t,this.sendStatementCallback.bind(this)),!this.pending[t.id]&&(this.pending[t.id]=!0,p.enabled())){var e=this.tinCan.prepareStatement(t).asVersion(this.version);u.trigger(l.debug.lms.STATEMENT_SENT,e)}},sendStatementLocal:function(t){u.trigger(l.tincan.STATEMENT,t),this.popQueue()}}}.call(e,n,e,t))||(t.exports=i)},5964:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}i=function(t){"use strict";var e,i=n(6486),r=n(82),a=window.TinCan||n(5932),l=a.Utils,u=l.convertMillisecondsToISO8601Duration,c=l.getUUID,h="choice",d="matching",f="sequencing",p="completed",v="answered",g={id:"http://activitystrea.ms/schema/1.0/leave",display:{"en-US":"left"}},m="http://adlnet.gov/expapi/activities/course",y="http://adlnet.gov/expapi/activities/module",b="http://adlnet.gov/expapi/activities/cmi.interaction",w=function(t){var e={id:t.id,description:{}};return e.description[k]=t.lmstext,e},S=function(t,e){t.choices=e.choices().map(w)},A=(s(e={},h,S),s(e,f,S),s(e,d,(function(t,e){t.target=e.choices().map(w),t.source=e.statements().map(w)})),e),E={likert:"likert",sequence:f,numeric:"numeric",fillin:"fill-in",essay:"long-fill-in",matching:d,multiplechoice:h,truefalse:h,hotspot:h,wordbank:h,multipleresponse:h},T=function(t){var e=t&&t.choiceResponse,n=null!=e?e:t;return r.stripChoice(n)},C=function(t){return t},x={multiplechoice:T,hotspot:T,wordbank:T,sequence:T,truefalse:T,multipleresponse:T,essay:C,fillin:C,numeric:C,matching:function(t){return[r.stripStatement(t.statementResponse),r.stripChoice(t.choiceResponse)].join("[.]")}},_="/",k="und",M="",O=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return[M].concat(o(i.compact(e))).join(_)},P=function(t){var e=new a.Verb(t);return null==e.display["en-US"]&&null!=e.display.und&&(e.display["en-US"]=e.display.und,delete e.display.und),e},I=function(t,e){i.isPlainObject(t)&&(e=t,t=void 0);var n={name:s({},k,e.name||""),description:s({},k,e.description||""),type:e.type};return i.isArray(t)||(t=[t]),{id:c(),object:{id:O.apply(void 0,o(t)),definition:n},context:{contextActivities:{grouping:[{id:O(),objectType:"Activity"}],parent:[{id:e.parent||M,objectType:"Activity"}]}},verb:e.verb,objectType:"Activity"}},L=function(t){return null==t||t.isType("survey")?p:t.isPassed()?"passed":"failed"},D=function(t){var e=t.prop("CorrectResponse"),n=t.isType("sequence");return e.map((function(t){var e=t.id;return n?e=t.choice.id:t.choice&&t.statement&&(e=[t.statement.id,t.choice.id].join("[.]")),e})).join("[,]")};return{setConfig:function(t){var e;e=t.version,_=e<1?".":"/",M=t.activityId.replace(/\/$/,""),k=t.lang},formatCustomStatement:function(t){return Object.assign({id:c(),context:{contextActivities:{grouping:[{id:M,objectType:"Activity"}],parent:[{id:M,objectType:"Activity"}]}}},t)},getCourseAttemptedStmt:function(t,e){var n=I({type:m,name:t.get("lmstext"),description:t.get("description"),verb:P("attempted")});return e||(n.result={completion:!1}),n},getSlideViewedStmt:function(t){var e=DS.flagManager.multiLangSupport?t.get("lmsTitle"):t.get("title");return I(t.id,{type:y,name:e,description:e,verb:P("experienced")})},getSlideLeftStmt:function(t){var e=DS.flagManager.multiLangSupport?t.get("lmsTitle"):t.get("title"),n=I(t.id,{type:y,name:e,description:e,verb:P(g)});return n.result={duration:u(t.elapsedTime)},n},getCourseCompleteStmt:function(t,e){var n=I({type:m,name:t.get("lmstext"),description:t.get("description"),verb:P(L(t))});return n.result={duration:u(e),completion:!0},t.isSurvey()||t.isAction()||(n.result.score={scaled:t.getPercentScore()},n.result.success=t.isPassed()),n},getViewedCompleteStmt:function(t,e){var n=I({type:m,name:t.get("lmstext"),description:t.get("description"),verb:P(p)});return n.result={duration:u(e),completion:!0,extensions:s({},O("viewcount"),t.viewedSlides)},n},getQuizCompleteStmt:function(t){var e=t.get("lmstext"),n=I(t.id,{type:"http://adlnet.gov/expapi/activities/objective",name:e,description:e,verb:P(L(t))});return t.get("issurvey")||(n.result={score:{scaled:t.prop("PercentScore")/100,raw:t.prop("Score"),min:0,max:t.maxPoints},success:t.isPassed()}),n},getLikertStmts:function(t,e){return e.responses.map((function(n,i){var o=e.statements()[i].lmstext,a=[e.parent.id,e.id,r.stripStatement(n.statementResponse)],s=I(a,{type:b,name:o,description:o,verb:P(v),parent:O(t.id)});return s.result={response:r.stripChoice(n.choiceResponse)},Object.assign(s.object.definition,{scale:e.choices().map(w),interactionType:E.likert}),s}))},getQuestionStmt:function(t,e){var n=r.getPath(e.getClosestAncestorByKind("slide"),"elapsedTime",0),o=e.get("lmstext"),a=e.type(),s=[e.parent.id,e.id],l=I(s,{type:b,name:o,description:o,verb:P(v),parent:O(t.id)}),c=E[a],p={interactionType:c},g=A[c]||i.noop;(function(t){return t===d||t===f||t===h})(c)&&(p.correctResponsesPattern=[D(e)]),g(p,e),Object.assign(l.object.definition,p);var m=x[a],y={response:e.responses.map(m).join("[,]"),duration:u(n)};return e.get("issurvey")||(y.success=e.isPassing(),y.score={raw:e.prop("Score")}),l.result=y,l},formatTime:function(t){var e=parseInt(t);return isNaN(e)?t:u(t)}}}.call(e,n,e,t),void 0===i||(t.exports=i)},6776:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e={verbs:{VERB_EXPERIENCED:"http://adlnet.gov/expapi/verbs/experienced",VERB_ATTEMPTED:"http://adlnet.gov/expapi/verbs/attempted",VERB_LEFT:"http://activitystrea.ms/schema/1.0/leave"},objects:{OBJECT_MODULE:"http://adlnet.gov/expapi/activities/module",OBJECT_COURSE:"http://adlnet.gov/expapi/activities/course"},lang:"und"};return Object.freeze(e),Object.freeze(e.verbs),Object.freeze(e.objects),e}.call(e,n,e,t))||(t.exports=i)},5626:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=n(8579);return{formatSrcUrl:i.env.isFileProtocol&&i.browser.isIE?function(t){return document.location.origin+t}:e.identity}}.call(e,n,e,t))||(t.exports=i)},1419:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=[{flagName:"MultipleQuizTracking",alias:"multipleQuizTracking"},{flagName:"UpdatedThemeEditor",alias:"updatedThemeColorsEnabled"},{flagName:"DropInBase",alias:"dropInBase"},{flagName:"DropInVectors",alias:"dropInVectors"},{flagName:"DropInMisc",alias:"dropInMisc"},{flagName:"DropInVideo",alias:"dropInVideo"},{flagName:"DropInInteractions",alias:"dropInInteractions"},{flagName:"DropInCore",alias:"dropInCore"},{flagName:"IncreaseMax360ImageAssetSize",alias:"increaseMax360ImageAssetSize"},{flagName:"SlideLevelScale",alias:"slideLevelScale"},{flagName:"JsApi",alias:"jsApi"},{flagName:"MultiLanguageSupport",alias:"multiLangSupport"},{flagName:"ClosedCaptionsCustomization",alias:"closedCaptionsCustomization"},{flagName:"AiCourseTranslation",alias:"aiCourseTranslation"}];document.body.classList.add("ff-on");var n={},i=(window.globals||{}).features;return(void 0===i?"":i).split(",").forEach((function(t){var i=e.find((function(e){var n=e.flagName;e.alias;return n===t}))||{},r=i.alias,o=i.flagName;null!=r&&(n[r]=!0,document.body.classList.add("ff-".concat(_.kebabCase(o))))})),Object.freeze(n),n}.call(e,n,e,t))||(t.exports=i)},2581:function(t,e,n){var i;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}i=function(t){"use strict";var e=n(1251),i=n(8880),o=n(9032),a=n(82),s=a.getPath,l=a.fullScreen,u=n(7510),c=u.addWindowListener,h=(u.addDocumentListener,document.createElement("div"));h.id="focusBoxes",document.body.appendChild(h);var d,f=document.getElementById("focus-sink"),p=!window.globals.HAS_FRAME,v={initialize:function(){var t=this;_.bindAll(this,"onSlideStarted","takeFocusOff","onFullScreenChange"),o.on(i.slide.STARTED,this.onSlideStarted),c("resize",(function(){t.takeFocusOff()})),l.addChangeListener(this.onFullScreenChange)},setFocusRectOn:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!p)if(null!=t&&t.classList.contains("acc-text"))v.takeFocusOff();else if(document.querySelectorAll(".acc-shadow-dom").forEach((function(t){t.scrollTop=0,t.scrollLeft=0})),null!=t){var o=[];o=null==n?t.getClientRects():Array.isArray(n)?r(n):[n],o=_.map(o,(function(n){var r={left:n.left,top:n.top,width:n.width,height:n.height,bottom:n.bottom,right:n.right};if(e.hasClass(t,"acc-shadow-el")&&!t.hasAttribute("data-top-level")){var o=DS.views.getTopNameSpace().slide.el.getBoundingClientRect();r.left=Math.max(r.left,o.left),r.top=Math.max(r.top,o.top),r.right=Math.min(r.right,o.right),r.bottom=Math.min(r.bottom,o.bottom),r.width=r.right-r.left,r.height=r.bottom-r.top}else r.bottom=r.right="";for(var a in r.left-=i,r.top-=i,r.width+=2*i,r.height+=2*i,r)r[a]+="px";return r})),h.innerHTML="",_.forEach(o,(function(t){var n=document.createElement("div");n.className="tab-focus-box",h.appendChild(n),e.setStyles(n,t)})),d=t}else console.warn('cannot set focus rect on "null"')},takeFocusOff:function(t){null!=t&&t!==d||(h.innerHTML="")},onFullScreenChange:function(t){l.getEl()===document.getElementById(DS.constants.els.PRESO)?document.getElementById("preso").insertAdjacentElement("afterbegin",f):document.getElementById("preso").insertAdjacentElement("beforebegin",f);var e=l.getEl();if(null==e)document.body.appendChild(h);else{var n=function(){var t=e.querySelector(".focus-container");null!=t&&t.appendChild(h)};DS.flagManager.dropInVideo?window.setTimeout(n,100):window.requestAnimationFrame(n)}},reCenter:function(){document.body.focus(),this.takeFocusOff()},onSlideStarted:function(t,n){var i=this;if(!p&&null!=n.currView&&document.hasFocus()){var r=e.closest(n.currView.el,(function(t){return"label"===t.firstElementChild.getAttribute("data-ref")}));null==r||r.contains(document.activeElement)||(f.focus({preventScroll:!0}),window.setTimeout((function(){return r.focus({preventScroll:!0})}),100));var o=s(n,"lastFocusedItem.accShadowView");null!=o?(n.lastFocusedItem=null,o.takeFocus()):null!=r&&window.setTimeout((function(){return i.setFocusRectOn(r)}),16)}},updateFocusBox:function(){null!=d&&this.setFocusRectOn(d)},lastFocusedElement:function(){return d}};return v.initialize(),v}.call(e,n,e,t),void 0===i||(t.exports=i)},3034:function(t,e,n){var i;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}void 0===(i=function(t){"use strict";var e=n(6194),i=n(8939),o=n(4811),a=i.warn("fontHelper");return{loadFonts:function(t){if(null!=e.loadFonts){var n=DS.frame.getFonts().reduce((function(t,e){return t.push.apply(t,r(e.files.map((function(t){var n=t.bold,i=t.italic;return{name:e.name,bold:n,italic:i}})))),t}),[]);return e.loadFonts([].concat(r(t.get("fontLib")||[]),r(n)),a)}return o.promiseToVow(Promise.all(Array.from(document.fonts).map((function(t){return t.load()}))))}}}.call(e,n,e,t))||(t.exports=i)},7510:function(t,e,n){var i;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}i=function(t){var e,i,o=n(9032),a=n(8880),s=new Map([[document,"document"],[document.body,"body"],[window,"window"]]),l=["before","on","after"],u={},c=window,h=c.lastWidth,d=c.lastHeight,f=function(t,e,n){return((u[t]||{})[e]||{})[n]},p=function(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"on",a=t===window&&("resize"===e||"orientationchange"===e);i=!!i&&!a;var c=s.get(t),h=u[c]=u[c]||{},d=h[e]=h[e]||{},f=d[i]=d[i]||{callbacks:{before:new Set,on:new Set,after:new Set},listener:null,customEvent:a};return l.reduce((function(t,e){return f.callbacks[e].has(n)||t}),!1)||(f.callbacks[o].add(n),null===f.listener&&(f.listener=function(t){return l.forEach((function(e){return r(f.callbacks[e]).forEach((function(e){return e(t)}))}))},a||t.addEventListener(e,f.listener,i))),function(){return v(t,e,n,i)}},v=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=s.get(t),o=f(r,e,i);null!=o&&(l.forEach((function(t){return o.callbacks[t].delete(n)})),o.customEvent||0!==l.reduce((function(t,e){return o.callbacks[e].size+t}),0)||t.removeEventListener(e,n,i))},g=function(t,e,n){var i=f(t,e,!1);null!=i&&i.listener(n)},m=function t(e){h!==window.innerWidth||d!==window.innerHeight?(i=null,y()):e-i<1e3?window.requestAnimationFrame(t):i=null},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t){var n=window.innerWidth>window.innerHeight;e!==n&&(e=n,g("window","orientationchange",t))}(t),function(t){h===window.innerWidth&&d===window.innerHeight||(h=window.innerWidth,d=window.innerHeight,g("window","resize",t))}(t),null==i&&(i=window.performance.now(),window.requestAnimationFrame(m))};return window.addEventListener("orientationchange",y),window.addEventListener("resize",y),o.on(a.window.ZOOM_MODE_CHANGED,(function(){g("window","resize",null)})),{addBodyListener:function(t,e,n,i){return p(document.body,t,e,n,i)},removeBodyListener:function(t,e,n){return v(document.body,t,e,n)},addDocumentListener:function(t,e,n,i){return p(document,t,e,n,i)},removeDocumentListener:function(t,e,n){return v(document,t,e,n)},addWindowListener:function(t,e,n,i){return p(window,t,e,n,i)},removeWindowListener:function(t,e,n){return v(window,t,e,n)},addResizeListener:function(t,e){var n=new ResizeObserver(e);return n.observe(t),function(){n.unobserve(t)}}}}.call(e,n,e,t),void 0===i||(t.exports=i)},7611:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(t){u=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}void 0===(i=function(t){"use strict";var e=n(5576),i=n(7731);return function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.spans=[],this.xmlData=e,this.parseData()}var n,r,s;return n=t,(r=[{key:"parseData",value:function(){var t=this;this.id=e.getXmlAttrib(this.xmlData,"id"),this.dataRefStart=e.getXmlAttrib(this.xmlData,"dataRefStart"),a(this.xmlData.childNodes).forEach((function(n){var r=n.nodeName,s=n.nodeType;if(1===s){var l=e.getXmlAttrib(n,"id"),u=o(l.split("_"),1)[0];if("pc"===r)if("span"===u){var c=a(n.childNodes),h=e.getXmlAttrib(n,"id"),d=e.getXmlAttrib(n,"dataRefStart");c.length>0?c.forEach((function(n){if(3===n.nodeType){var r=new i(h,d,n);t.spans.push(r)}else if("mrk"===n.nodeName){var o=new i(h,d,n.firstChild,!0);t.spans.push(o)}else e.warn("Unhandled node:",n.nodeName,n)})):e.error("Expected 1 or more child nodes.")}else"block"===u?e.warn("Nested blocks are not supported:",l):e.warn("Unhandled pc child:",u);else"ph"===r||e.warn("Unhandled node name:",r)}else e.warn("Unhandled node type:",s)}))}}])&&u(n.prototype,r),s&&u(n,s),Object.defineProperty(n,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},6122:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}void 0===(i=function(t){"use strict";var e=n(5576),i=n(392);return function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xmlData=e,this.parseData()}var n,r,a;return n=t,(r=[{key:"parseData",value:function(){this.id=e.getXmlAttrib(this.xmlData,"id");var t=e.getXmlChildren(this.xmlData,"unit");this.units=t.map((function(t){return new i(t)}))}}])&&o(n.prototype,r),a&&o(n,a),Object.defineProperty(n,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},8307:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}void 0===(i=function(t){"use strict";var e=n(5576),i=n(8392);return function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xmlData=e,this.parseData()}var n,r,a;return n=t,(r=[{key:"parseData",value:function(){var t=e.getXmlChild(this.xmlData,"source");null!=t&&(this.source=new i(t));var n=e.getXmlChild(this.xmlData,"target");null!=n&&(this.target=new i(n))}}])&&o(n.prototype,r),a&&o(n,a),Object.defineProperty(n,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},8392:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(t){u=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}void 0===(i=function(t){"use strict";var e=n(5576),i=n(7611);return function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.blocks=[],this.xmlData=e,this.parseData()}var n,r,s;return n=t,(r=[{key:"parseData",value:function(){var t=this;a(this.xmlData.childNodes).forEach((function(n){var r=n.nodeName,a=n.nodeType;if(1===a){var s=e.getXmlAttrib(n,"id"),l=o(s.split("_"),1)[0];"pc"===r?"block"===l?t.blocks.push(new i(n)):"span"===l&&e.warn("Unhandled span outside of block:",s):"ph"===r||e.warn("Unhandled node:",r)}else e.warn("Unhandled node type:",a)}))}}])&&u(n.prototype,r),s&&u(n,s),Object.defineProperty(n,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},7731:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}void 0===(i=function(t){"use strict";var e=n(7001),i=n(5576);return a((function t(n,r,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n,this.xmlData=o,3===this.xmlData.nodeType?this.textdata=new e(this.xmlData,a):i.warn("UNHANDLED: unexpected node type in Span constructor")}))}.call(e,n,e,t))||(t.exports=i)},7001:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}void 0===(i=function(t){"use strict";var e=/%/g;return a((function t(n,i){var r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xmlData=n,this.isVarRef=i,this.isVarRef?this.text=(r=this.xmlData.textContent,o=r.replace(e,""),"%_player.".concat(o,"%")):this.text=this.xmlData.textContent}))}.call(e,n,e,t))||(t.exports=i)},392:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}void 0===(i=function(t){"use strict";var e=n(5576),i=n(8307);return function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xmlData=e,this.parseData()}var n,r,a;return n=t,(r=[{key:"parseData",value:function(){this.id=e.getXmlAttrib(this.xmlData,"id"),this.type=e.getXmlAttrib(this.xmlData,"type");var t=e.getXmlChild(this.xmlData,"segment");this.segment=new i(t)}},{key:"getText",value:function(){return this.segment.xmlData.textContent}}])&&o(n.prototype,r),a&&o(n,a),Object.defineProperty(n,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},6965:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}void 0===(i=function(t){"use strict";var e=n(5576),i=n(6122);return function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xmlData=e,this.parseData()}var n,r,a;return n=t,(r=[{key:"parseData",value:function(){this.sourceLang=e.getXmlAttrib(this.xmlData,"srcLang"),this.targetLang=e.getXmlAttrib(this.xmlData,"trgLang");var t=e.getXmlChildren(this.xmlData,"file");this.files=t.map((function(t){return new i(t)}))}}])&&o(n.prototype,r),a&&o(n,a),Object.defineProperty(n,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},5576:function(t,e,n){var i;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}i=function(t){"use strict";var e={warn:function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];(t=console).warn.apply(t,["WARNING: TranslationReview -"].concat(n))},error:function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];(t=console).error.apply(t,["ERROR: TranslationReview -"].concat(n))},getXmlChild:function(t,e){return r(t.children).find((function(t){return t.nodeName===e}))},getXmlChildren:function(t,e){return r(t.children).filter((function(t){return t.nodeName===e}))},getXmlAttrib:function(t,e){if(null!=t&&"string"==typeof e&&0!==e.length){var n=t.attributes[e];if(null!=n)return n.nodeValue}}};return e}.call(e,n,e,t),void 0===i||(t.exports=i)},2371:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i=n(392),r=n(8392),o=n(6965),a=n(5576),s=n(7228),l=n(373),u=n(6486),c=n(9229),h=n(9032),d=n(8880),f=n(82),p=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,v=/\s/,g=new Map,m=function(t){var e=(new DOMParser).parseFromString(t,"text/xml");return 9===e.nodeType&&(e=e.documentElement),e},y=function(t,e){return{idx:t,len:1,flowDirection:e,cursive:!1}},b=function(t,e,n){var i={blocks:[],defaultBlockStyle:e.defaultBlockStyle,direction:e.direction};return t.blocks.forEach((function(t){null==n[t.id]&&a.error("no style for block",t.id);var e={runs:[],spans:[],style:n[t.id]};t.spans.forEach((function(t){var i=n[t.id];if(null==i){a.error("no style for span",t.id);var r=parseInt(t.id.split("_")[1])-1;null==(i=n["span_".concat(r)])&&(i=n.span_0)}var o=null!=t.textdata?t.textdata.text:"\n";o.length,e.spans.push({style:i,text:o})})),i.blocks.push(e),function(t){var e,n,i=0;t.spans.forEach((function(r){var o=r.text,a=o.length;o.split("").forEach((function(o,s){var l=v.test(o)?s+1<a?p.test(r.text.charAt(s)):n||y(i,"leftToRight"):p.test(o);l!==n?(e=y(i,(n=l)?"rightToLeft":"leftToRight"),t.runs.push(e)):e.len++,i++}))}))}(e)})),i},w=0,S=function(){null!=e&&(w++,h.trigger(d.localization.REVIEW_STRING_UPDATED,"rev".concat(w)))};return{initialize:function(t){if(!u.isEmpty(t)){var n=f.resolveAssetUrl(t);s.load(n,{load:function(){c.accessibleTextOn()||c.onToggleAccessibleText(!0),e=l.getJsAssetValue(n),l.clearAsset(n)},error:function(){a.error("Failed to load style map",n)}})}},updateSegmentPart:function(t,e){var n=m(e),i=new r(n);this.storeSegmentPart(t,i),S()},updateUnit:function(t){var e=m(t),n=new i(e);null!=n.segment.target?(this.storeSegmentPart(n.id,n.segment.target),S()):a.warn("Unit does not contain a valid target")},updateXliff:function(t){var e=this,n=m(t);new o(n).files.forEach((function(t){t.units.forEach((function(t){e.storeSegmentPart(t.id,t.segment.target)}))})),S()},storeSegmentPart:function(t,e){var n=g.get(t)||{};n.segmentPart=e,n.updatedTextData=null,g.set(t,n)},getUpdatedTextData:function(t,n){var i=g.get(t);if(null==i||null==e)return n;var r=i.updatedTextData,o=i.segmentPart;if(null==r){var a=e[t];r=b(o,n,a),i.updatedTextData=r}return r}}}.call(e,n,e,t))||(t.exports=i)},3716:function(t,e,n){var i;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}void 0===(i=function(t){"use strict";var e=n(6486),i=n(7812),o=n(7510).addBodyListener,a=n(1251),s=a.hasClass,l=a.closest,u=n(520),c=["LastKeyCodeString","LastKeyCode","LastKeyValue","LastKeyCtrl","LastKeyShift","LastKeyAlt"],h=e.invert(i.keys),d=function(t){var e=t.keyCode,n=t.altKey,i=t.shiftKey,o=t.ctrlKey,a=String.fromCharCode(e),s=[].concat(r(o?["[CTRL] + "]:[]),r(i?["[SHIFT] + "]:[]),r(n?["[ALT] + "]:[]));return e>=48&&e<=90?s.push(a):(s.push("["),null!=h[e]?s.push(h[e]):s.push("#".concat(e)),s.push("]")),s.join("")},f={isShowFocus:!1,lastKeyPressTargets:[],initialize:function(){var t=this;o("mousedown",(function(e){t.isShowFocus=!1,t.isAccClick(e)||document.body.classList.remove("show-focus")}),!0),o("keyup",(function(e){t.isTabKey(e.which)&&!t.isShowFocus&&e.target&&null==e.target.getAttribute("data-prevent-focus")&&(t.isShowFocus=!0,document.body.classList.add("show-focus")),t.clearLastKey()}),!0)},isAccClick:function(t){return 0===t.offsetX&&0===t.offsetY&&0===t.detail||((0===t.mozInputSource||6===t.mozInputSource)&&0===t.buttons||null!=l(t.target,(function(t){return s(t,"acc-shadow-el")})))},isKey:function(t,e){return t===e},keyPressHandlerExists:function(t){var e=u.getCurrentWindowSlide();if(null==e)return!1;var n=e.slideLayers().getTopMostLayer()||e.getBaseLayer(),i=e.slideLayers().activeLayers.slice(0);return this.handlerExists(n,t,i)},getLayerStack:function(t){var n=u.getCurrentWindowSlide(),i=null!=n?n.slideLayers().activeLayers.slice(0):[],r=e.findIndex(i,t);return r>0&&(i.length=r),i},getParentFromLayerstack:function(t,n){var i=null;if(n=n||this.getLayerStack(t),t.isSlideObject){if(null==(i=t.getClosestAncestor((function(t){return t.isSlideObject})))){var r=t.getLayer();r.isBaseLayer()?n=[]:n.length=e.findIndex(n,r)+1}}else if(null==t.modal||!t.modal()){do{i=n.pop()}while(null!=i&&!i.isOpen);null==i&&(i=t.getClosestAncestor((function(t){return t.isSlide})))}return{parent:i,layerStack:n}},handlerExists:function(t,e,n){if(null!=t.getFilteredPlayerEvent((function(t){return t.keycode===e.keyCode&&t.shift===e.shiftKey&&t.ctrl===e.ctrlKey&&t.alt===e.altKey}),"onkeypress").events.first())return!0;var i=this.getParentFromLayerstack(t,n),r=i.parent,o=i.layerStack;return null!=r&&this.handlerExists(r,e,o)},executeKeypressEvent:function(t,n,r){this.lastKeyPressTargets.push(t),e.includes([i.keys.CONTROL,i.keys.SHIFT,i.keys.ALT],n.keyCode)||(t.prop(function(t){var e=t.keyCode,n=t.altKey,i=t.shiftKey,r=t.ctrlKey,o=String.fromCharCode(e);return{LastKeyCodeString:d(t),LastKeyCode:e,LastKeyValue:o,LastKeyCtrl:r,LastKeyShift:i,LastKeyAlt:n}}(n)),t.executePlayerEvent("onanykeypress"));var o=this.getParentFromLayerstack(t,r),a=o.parent,s=o.layerStack;t.executeFilteredPlayerEvent((function(t){return t.keycode===n.keyCode&&t.shift===n.shiftKey&&t.ctrl===n.ctrlKey&&t.alt===n.altKey}),"onkeypress"),null!=a&&this.executeKeypressEvent(a,n,s)},clearLastKey:function(){this.lastKeyPressTargets.forEach((function(t){t.resetSpecifiedProps(c)})),this.lastKeyPressTargets=[]},isReturnKey:function(t){return f.isKey(t,i.keys.ENTER)},isSpaceKey:function(t){return f.isKey(t,i.keys.SPACE)},isActionKey:function(t){return f.isReturnKey(t)||f.isSpaceKey(t)},isRightKey:function(t){return f.isKey(t,i.keys.RIGHT)},isDownKey:function(t){return f.isKey(t,i.keys.DOWN)},isPageDownKey:function(t){return f.isKey(t,i.keys.PAGE_DOWN)},isDownishKey:function(t){return f.isLeftKey(t)||f.isDownKey(t)},isRtlDownishKey:function(t){return f.isRightKey(t)||f.isDownKey(t)},isLeftKey:function(t){return f.isKey(t,i.keys.LEFT)},isUpKey:function(t){return f.isKey(t,i.keys.UP)},isPageUpKey:function(t){return f.isKey(t,i.keys.PAGE_UP)},isUpishKey:function(t){return f.isRightKey(t)||f.isUpKey(t)},isRtlUpishKey:function(t){return f.isLeftKey(t)||f.isUpKey(t)},isHomeKey:function(t){return f.isKey(t,i.keys.HOME)},isEndKey:function(t){return f.isKey(t,i.keys.END)},isTabKey:function(t){return f.isKey(t,i.keys.TAB)},isEscapeKey:function(t){return f.isKey(t,i.keys.ESCAPE)},isBackspaceKey:function(t){return f.isKey(t,i.keys.BACKSPACE)},isDeleteKey:function(t){return f.isKey(t,i.keys.DELETE)},isSeekKey:function(t){return f.isUpishKey(t)||f.isDownishKey(t)||f.isHomeKey(t)||f.isEndKey(t)||f.isPageUpKey(t)||f.isPageDownKey(t)},isNonInputKey:function(t){return f.isUpishKey(t)||f.isDownishKey(t)||f.isHomeKey(t)||f.isEndKey(t)||f.isPageUpKey(t)||f.isBackspaceKey(t)||f.isDeleteKey(t)||f.isPageDownKey(t)}};return f}.call(e,n,e,t))||(t.exports=i)},373:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=new Map;return{addJsAsset:function(t,n){e.set(t,n)},getJsAssetValue:function(t){return e.get(t)},clearAsset:function(t){e.delete(t)}}}.call(e,n,e,t))||(t.exports=i)},7228:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(373);return window.globalLoadJsAsset=function(t,n){var i="string"==typeof n?JSON.parse(n):n,r=DS.utils.resolveAssetUrl(t);e.addJsAsset(r,i)},{load:function(t,e){DS.loadScript(t,e)}}}.call(e,n,e,t))||(t.exports=i)},3563:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i,r,o,a=n(82),s=n(7228),l=n(373),u=n(8880),c=n(9032),h=n(2581),d=null,f={},p=[];return{setWindowManager:function(t){e=t},registerFrameLanguageData:function(t){i=t.default,t.languages.forEach((function(t){var e=t.langCode,n=t.path,i=t.displayNames;e=e.toLowerCase(),null==f[e]&&(f[e]={langCode:e}),Object.assign(f[e],{framePath:n,displayNames:i})}))},initSlideData:function(t){return null!=t&&DS.flagManager.multiLangSupport?(this.registerSlideLanguageData(t),this.loadLanguageManifest()):Promise.resolve()},addStringTable:function(t,e,n){if(null!=t){var i=t.id,r=t.strings;p[i]={langCode:e,ownerId:n,strings:r.reduce((function(t,e){var n=e.id,i=e.type,r=e.value;return t[n]={type:i,value:r},t}),{})}}},getString:function(t,e){return a.getPath(p,[t,"strings",e,"value"])},getStringFromRef:function(t){if(null!=t){var e=t.tableId,n=t.id;return this.getString(e,n)}},getLanguages:function(){return Object.keys(f).map((function(t){var e=f[t];return{langCode:e.langCode,displayNames:e.displayNames}}))},registerSlideLanguageData:function(t){i=t.default,t.languages.forEach((function(t){var e=t.langCode,n=t.manifestPath;e=e.toLowerCase(),null==f[e]&&(f[e]={langCode:e}),f[e].manifestPath=n}))},getCurrentLangCode:function(){return null==r&&(r=function(){var t=window.navigator.languages.map((function(t){return t.toLowerCase()})),e=t.find((function(t){return null!=f[t]}));if(null==e){var n=Object.keys(f).reduce((function(t,e){return t[e.split("-")[0]]=e,t}),{});e=n[t.find((function(t){return null!=n[t]}))]}return null==e&&(e=i),e}()),r},getCourseSetting:function(){return this.getCurrentLangCode()},restoreCourseSetting:function(t){this.setCurrentLanguage(t)},connectVariable:function(t){var e=this;this.langCodeVar=t,this.langCodeVar.on("change:value",(function(){e.syncWithVariable()})),this.langCodeVar.changeValue(r)},syncWithVariable:function(){var t=this;null!=this.langCodeVar&&this.setCurrentLanguage(this.langCodeVar.value()).catch((function(e){t.langCodeVar.changeValue(t.getCurrentLangCode())}))},setCurrentLanguage:function(t){var e=this;return null==f[t]?Promise.reject(new Error("language code not found")):(o=t,d||(t===r?Promise.resolve():d=new Promise((function(n){e.loadLanguageDataFiles(t).then((function(){r=o,null!=e.langCodeVar&&e.langCodeVar.changeValue(r),window.globals.updateHtmlLangCode(r),c.trigger(u.localization.LANGUAGE_UPDATED,r),c.trigger(u.resume.COURSE_SETTING_UPDATED),h.updateFocusBox(),d=null,n()}))}))))},loadLanguageDataFiles:function(t){var e=this;return Promise.all([this.loadFrameData(t),this.loadLanguageManifest(t)]).then((function(){return t===o?e.updateSlideData(t).then((function(){if(t!==o)return e.loadLanguageDataFiles(o)})):e.loadLanguageDataFiles(o)}))},loadFile:function(t){return new Promise((function(e){var n=a.resolveAssetUrl(t),i=function(){s.load(n,{load:function(){DS.connection.assetLoaded(n),e(l.getJsAssetValue(n)),l.clearAsset(n)},error:function(){DS.connection.assetFailed(n)}})};DS.connection.requiredAsset(n,null,i),i()}))},loadFrameData:function(t){var e=this,n=t||this.getCurrentLangCode(),i=f[n].framePath;return this.loadFile(i).then((function(t){return e.frameData=t,t}))},getCurrentFrameData:function(){return this.frameData},loadLanguageManifest:function(t){var e=this,n=t||this.getCurrentLangCode(),i=f[n].manifestPath;return this.loadFile(i).then((function(t){e.handleManifestLoaded(t)}))},handleManifestLoaded:function(t){this.languageManifest=t;var e=this.languageManifest,n=e.stringTable,i=e.langCode;this.addStringTable(n,i,"manifest")},getSlideDataFileName:function(t){if(null!=this.languageManifest)return this.languageManifest.slides.find((function(e){return e.slideId===t}))},updateSlideData:function(t){var n=null!=e?e.getLoadedSlideIds():null;return null===n?Promise.resolve():this.loadSlideData(n,t)},loadSlideData:function(t,e){var n=this,i=e||this.getCurrentLangCode(),r=null!=d&&i!==o?d:Promise.resolve(),a="string"==typeof t?[t]:t;return r.then((function(){return Promise.all(a.map((function(t){var e=n.getSlideDataFileName(t);return null!=e?n.loadFile(e.path).then((function(e){var i=e.stringTable,r=e.langCode;n.addStringTable(i,r,t)})):Promise.resolve()})))}))}}}.call(e,n,e,t))||(t.exports=i)},3586:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=function(t,e){var n,i,o=r[t],a=e.mixins.slice(0);for(i=a.length;i--;)null!=(n=a[i])[t]&&n[t].call(e),null!=n[o]&&n[o].call(e);return this},r={init:"componentWillMount"},o=["preInit","init","postInit"],a=e.partialRight(e.omit,o),s={mixInto:function(t,n){return e.defaults.apply(e,e(n).map(a).unshift(t).value()),t},mix:function(t){return this.mixInto(t,t.mixins),t}};return o.forEach((function(t){s[t+"MixinsOf"]=e.partial(i,t)})),s}.call(e,n,e,t))||(t.exports=i)},262:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=function(t,n){return e.includes(e.values(n.associations),t)},r={isAncestral:!0,createParentReference:function(t){return t&&t.parent&&(this.parent=t.parent),this},getClosestAncestor:function(t,e){for(var n=e?this:this.parent;n&&!t(n);)n=n.parent;return n},getClosestAncestorWithAssoc:function(t){var n=e.partial(i,t);return this.getClosestAncestor(n)},getClosestAncestorByAttr:function(t,e,n){return this.getClosestAncestor((function(n){return n.get(t)===e}),n)},forEachAncestor:function(t,e){for(var n=e?this:this.parent,i=0;null!=n;){if(!1===t(n,i++))return;n=n.parent}}};return r.getClosestAncestorByKind=e.partial(r.getClosestAncestorByAttr,"kind"),r}.call(e,n,e,t))||(t.exports=i)},6978:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=n(262),r=n(118),o=i.getClosestAncestor;return{resolvePath:function(t){return r.resolvePath(t,this.getClosestThisRef())},getClosestParentRef:e.partial(o,(function(t){return t.abilities.resolveAsParent})),getClosestThisRef:e.partial(o,(function(t){return t.abilities.resolveAsThis}),!0),getClosestEventTarget:e.partial(o,(function(t){return t.abilities.beEventTarget}),!0),getChildren:function(){return this.objects().slice()}}}.call(e,n,e,t))||(t.exports=i)},5337:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=n(8939),r=i.warn("shortEventable")("bindShortEvents"),o=i.backtick,a=function(t,n){return e.mapValues(n,(function(e){return t[e]}))},s=function(t,n){var i=t[n];return i?e.isFunction(i)?i.call(t):i:t.get?t.get(n):t.props&&t.props[n]};return{componentWillMount:function(){return this.bindShortEvents(),this},bindShortEvents:function(){var t,e,n,i,l=Object.keys(this.shortEvents||{}),u=l.length;for(i=0;i<u;i++){if(e="self"===(t=l[i])?this:s(this,t),n=a(this,this.shortEvents[t]),!e)return void r("Cannot listen to undefined object",o(t));this.listenTo(e,n)}return this},rebindShortEvents:function(){return this.stopListening(),this.bindShortEvents(),this}}}.call(e,n,e,t))||(t.exports=i)},6334:function(t,e,n){var i;i=function(t){"use strict";var e=n(6486),i=n(9032),r=n(8939).throwError("subscribable"),o={componentWillMount:function(){return this.addSubscriptions(),this},addSubscriptions:function(){for(var t in this.resetSubscriptions(),this.subscriptions)this.subscriptions.hasOwnProperty(t)&&this.addSubscription(t,this.subscriptions[t]);return this},addSubscription:function(t,n){return e.isFunction(this[n])||r("addSubscription","this."+n,"is not a defined callback."),this.addSubscribedEvent(t).listenTo(i,t,this[n]),this},addSubscribedEvent:function(t){return this.subscribedEvents.push(t),this},removeSubscriptions:function(){var t=this;return e.each(e.uniq(this.subscribedEvents),(function(){return t.removeSubscription.apply(t,arguments)})),this},removeSubscription:function(t,e){var n=this.subscribedEvents.indexOf(t);return this.stopListening(i,t,this[e]),n>-1&&this.subscribedEvents.splice(n,1),this},resetSubscriptions:function(){return this.removeSubscriptions(),this.subscribedEvents=[],this}};return o}.call(e,n,e,t),void 0===i||(t.exports=i)},9835:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=n(7510),r=i.addWindowListener,o=i.addDocumentListener,a=i.addBodyListener,s=n(8579),l=(n(8880),n(9032),n(82)),u=n(1251),c=n(6295),h=(n(7812),n(7097)),d=n(2972),f={doFullScreen:function(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},styleIfExists:function(t,e,n){t&&(t.style[e]=n)},androidOrientation:function(){document.querySelector(".slide-controls"),document.querySelector(".option-pane");s.orientation.isPortrait?(this.styleIfExists(this.optionPane,"minHeight",null),this.styleIfExists(this.slideControls,"display","block")):(this.styleIfExists(this.optionPane,"minHeight",l.pxify(this.smallestSide)),this.styleIfExists(this.slideControls,"display","none"))},initAndroid:function(){this.smallestSide=Math.min(document.documentElement.clientHeight,document.documentElement.clientWidth),document.body.style.minHeight=s.smallestSide+"px"},initTouchableThemeAndPhone:function(){var t,e,n="130vh";document.body.style.height=n,document.documentElement.style.height=n,document.body.style.overflow="auto",document.querySelector("#preso").style.position="fixed",s.os.iOSVersion>=10&&setInterval((function(){var n=document.querySelector(".controls"),i=window.innerHeight,r=document.documentElement.clientHeight;i<r?(t=r-i)!==e&&null!=n&&(n.style.transform=h.transformTranslate(l.pxify(0),l.pxify(-t)),e=t):null!=n&&""!==n.style.transform&&(n.style.transform="")}),100)},initIOS:function(){var t=document.querySelector(".mobile-chrome-warning");t.innerHTML='<div class="mobile-chrome-warning-btn">\n      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" x="0px" y="0px" width="107px" height="78px" viewBox="0 0 107 78">\n\n        <g id="mobile-chrome-warning-arrow">\n          <path fill="white" stroke="none" d="\n          M 24.1 31.4\n          L 12.05 15.85 0 31.4 8.3 31.4 8.3 54 15.25 54 15.25 31.4 24.1 31.4 Z"></path>\n        </g>\n\n        <path id="mobile-chrome-warning-hand" stroke="white" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" fill="none" d="\n        M 37.55 16.1\n        Q 36.3 14.8 36.3 13.1 36.3 11.45 37.55 10.15 38.85 8.9 40.55 8.9 42.2 8.9 43.5 10.15\n        L 46.75 13.375 46.75 13.35\n        Q 45.5 12.05 45.5 10.35 45.5 8.7 46.75 7.4 48.05 6.15 49.75 6.15 51.4 6.15 52.7 7.4\n        L 57 11.65\n        Q 56.05 10.4828125 56.05 9 56.05 7.3 57.3 6 58.6 4.8 60.3 4.8 62 4.8 63.3 6\n        L 74.3 17\n        Q 76.3 19.05 77.5 21.55 78.75 24.05 79.1 26.9 79.4 29.7 80.65 32.25 81.85 34.75 83.85 36.75\n        L 85.6 38.5 69.5 54.6\n        Q 68.25 53.35 66.5 52.1 64.75 50.8 62.85 49.85 60.95 48.85 59.25 48.5\n        L 32 42.5\n        Q 31.15 42.3 30.45 41.8 29.1 40.8 28.85 39.3 28.6 37.85 29.35 36.55 30.05 35.25 31.65 34.7\n        L 31.9 34.65\n        Q 32.55 34.45 33.25 34.45\n        L 44.3 34.9 17.65 8.2\n        Q 16.4 6.9 16.4 5.2 16.4 3.55 17.65 2.25 18.95 1 20.65 1 22.3 1 23.6 2.25\n        L 37.55 16.1 39.2 17.75\n        M 58.95 13.65\n        L 58.075 12.775 57.3 12\n        Q 57.140234375 11.833984375 57 11.65\n        L 58.075 12.775\n        M 46.75 13.375\n        L 48.4 15"></path>\n\n      </svg>\n    </div>\n\n    <div class="mobile-chrome-warning-bubble">\n      Drag up for fullscreen\n    </div>';var n,i,s,h,f,p=document.querySelector(".mobile-chrome-warning-bubble"),v=document.querySelector(".mobile-chrome-warning-btn"),g=document.querySelector("#preso"),m=0;document.body.style.height="120%",o("touchstart",(function(){i=!0})),o("touchend",(function(){i=!1})),t.addEventListener("touchstart",(function(){c.killTweensOf(p),c.killTweensOf(v),c.to(v,.05,{opacity:1,scaleX:.6,scaleY:.6}),c.to(p,.1,{opacity:1}),c.to(p,.3,{opacity:0,delay:3})})),setInterval((function(){var n=document.activeElement,r=window.innerHeight,o=document.documentElement.clientHeight,a=r<o;e.extend(g.style,{position:"fixed",left:"0px",top:"0px",zIndex:0}),(!n||"INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName)&&(a?("block"!==t.style.display&&"none"!==g.style.display&&(t.style.display="block",c.killTweensOf(p),c.killTweensOf(v),c.set(p,{opacity:0}),c.to(p,1,{opacity:1}),c.to(p,.8,{opacity:0,delay:3}),c.to(v,.35,{opacity:.85,delay:3.5,scaleX:.55,scaleY:.55,ease:"back.out"}),s=!0,m=Math.abs(window.innerHeight-document.body.clientHeight)),0===document.body.scrollTop||i||window.scrollTo(0,0)):"none"!==t.style.display&&"block"!==g.style.display&&(t.style.display="none",g.style.zIndex=null,s=!1))}),100),r("resize",(function(){clearTimeout(n),n=setTimeout((function(){window.scrollTo(0,1)}),30)})),a("touchstart",(function(t){1===t.touches.length&&(h=t.touches[0].clientY),s&&(m=Math.abs(window.innerHeight-document.body.clientHeight))}));!function e(){if(s&&i){var n=Math.abs(Math.abs(window.innerHeight-document.body.clientHeight)-m)/88;t.style.opacity=1-n,t.style.height=l.pxify(75+150*n)}else i||(t.style.opacity=1,t.style.height="75px");window.requestAnimationFrame(e)}(),a("touchmove",(function(t){var n,i=!1,r=t.target,o=u.parentNodesOf(r,(function(t){return d.isScrollable(t)}));d.isScrollable(r)&&o.unshift(r),s||(1===t.touches.length&&null!=h?(n=t.touches[0].clientY,i=!e.isEmpty(o)&&o.every((function(t){var e=0===t.scrollTop&&n>h,i=t.scrollTop+t.offsetHeight===t.scrollHeight&&n<h;return e||i}))):i=!0),i&&t.preventDefault()})),a("touchend",(function(){h=null})),document.documentElement.addEventListener("touchstart",(function(t){1===t.touches.length&&(f?t.preventDefault():(f=!0,setTimeout((function(){f=!1}),500)))}))}};return s.theme.isClassic&&s.device.isMobile&&window.addEventListener("scroll",(function(){document.body.scrollTop<0&&(document.body.scrollTop=0)})),document.addEventListener("touchmove",(function(t){1!==t.touches.length&&t.preventDefault()}),{passive:!1}),s.env.isInIframe||s.deviceView.isTablet?f.init=e.noop:s.os.isAndroid&&!s.env.is360?f.init=f.initAndroid:s.os.isIOS&&s.device.isPhone?f.init=f.initTouchableThemeAndPhone:s.os.isIOS&&s.os.iOSVersion>=8?f.init=f.initIOS:f.init=e.noop,f}.call(e,n,e,t))||(t.exports=i)},3400:function(t,e,n){var i;void 0===(i=function(t){var e=n(6486),i=n(82),r=n(7812),o=n(1294),a=n(2972),s=n(7510),l=s.addDocumentListener,u=s.removeDocumentListener,c=function(t){return!t||t.length<2},h=function(t){var e=c(t)?{x:0,y:0}:t[0],n=t[1]||e;return{x:(e.pageX+n.pageX)/2,y:(e.pageY+n.pageY)/2}},d=function(t){return c(t)?1:i.dist(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY)};return{shouldPinchZoom:function(){return!0},isLightboxed:function(){return!1},notifyZoomUpdate:function(){},zoomScaleUpdate:function(){},constrainToScreen:function(){var t=!1,e=window,n=e.innerWidth,i=e.innerHeight,r=this.zoomTarget.getBoundingClientRect(),o=Math.max((n-r.width)/2,0),a=Math.max((i-r.height)/2,0),s=n-o,l=i-a;r.left>o?(t=!0,this.pinch.currMatrix.tx=o):r.right<s&&(t=!0,this.pinch.currMatrix.tx=s-r.width),r.top>a?(t=!0,this.pinch.currMatrix.ty=a):r.bottom<l&&(t=!0,this.pinch.currMatrix.ty=l-r.height),t&&this.startTransition(400)},getContainerBounds:function(){return{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}},offsetStart:function(t,e){this.pinchStartX=t,this.pinchStartY=e,this.pinch.matrix.translate(t,e)},initZoomTarget:function(t){this.isInLightbox=this.isLightboxed(),this.resetPinch(),this.zoomTarget=t,this.zoomTarget.addEventListener("gesturestart",this.onPrevent),this.zoomTarget.addEventListener("touchstart",this.onTouchStart,!0),this.zoomTarget.addEventListener("touchmove",this.onTouchMove),this.zoomTarget.addEventListener("touchend",this.onTouchEnd),this.doubleTapCount=0,l("touchstart",this.onDoubleTap)},resetPinch:function(){this.pinch={scale:1,matrix:(new o).translate(this.pinchStartX||0,this.pinchStartY||0),panning:!1,zooming:!1,width:document.body.clientWidth,height:document.body.clientHeight,disable:!1}},resetDoubleTap:function(){this.doubleTapCount=0},onPrevent:function(t){t.preventDefault()},onDoubleTap:function(t){c(t.touches)&&this.pinch.scale>1&&!a.isDoubleClickRelated(t.target)?(clearTimeout(this.doubeTapTimeout),this.doubleTapCount++,this.doubeTapTimeout=setInterval(this.resetDoubleTap,250),2===this.doubleTapCount&&1!==this.pinch.scale&&this.zoomOut()):this.resetDoubleTap()},onTouchStart:function(t){var e=this.transTouch(t.touches);if(2===e.length){this.pinch.panning=!1,this.pinch.zooming=!0;var n=h(e);this.pinch.startCenter=this.pinch.matrix.unTransformPoint(n.x,n.y),this.pinch.startDistance=d(e),this.pinch.disable=!1}else 1!==e.length||1===this.pinch.scale||this.shouldDisablePan(t)?(this.pinch.panning=!1,this.pinch.zooming=!1,this.pinch.disable=!0):(this.pinch.panning=!0,this.pinch.zooming=!1,this.pinch.startCenter=this.pinch.matrix.unTransformPoint(e[0].pageX,e[0].pageY),this.pinch.disable=!1);this.pinch.disable||this.endTransition(),this.pinch.totalTouches=t.touches.length},onTouchEnd:function(t){this.pinch.disable=!1,t.touches.length<2&&(this.pinch.panning=!1,this.pinch.zooming=!1,this.pinch.currMatrix&&!this.pinch.zoomingOut&&(this.pinch.scale=this.pinch.currMatrix.getScale().x,this.constrainToScreen(),this.pinch.matrix=this.pinch.currMatrix,this.zoomScaleUpdate()))},handleConstraint:function(){var t=.1*(this.pinch.appliedMatrix.tx-this.pinch.currMatrix.tx),e=.1*(this.pinch.appliedMatrix.ty-this.pinch.currMatrix.ty);this.pinch.currMatrix.translate(t,e),this.updateTransform(this.pinch.currMatrix)},onTouchMove:function(t){var e=this;if(!this.pinch.disable){var n=this.transTouch(t.touches);2===n.length?this.updatePinchZoom(n):1===n.length&&(1!==this.pinch.scale||this.isInLightbox)&&this.pinch.panning&&this.updatePinchPan(n),null!=this.pinch.currMatrix&&this.constrainToScreen((function(){return e.handleConstraint()})),clearTimeout(this.disableTimeoutId),this.pinch.disableSwipe=!0,this.disableTimeoutId=setTimeout((function(){e.pinch.disableSwipe=!1}),300)}},zoomOut:function(){var t=this;this.pinch.matrix=(new o).translate(this.pinchStartX||0,this.pinchStartY||0),this.pinch.currMatrix=this.pinch.matrix.copy(),this.pinch.zoomingOut=!0,this.pinch.scale=1,this.zoomScaleUpdate(),this.startTransition(200,(function(){t.pinch.zoomingOut=!1}))},transTouch:function(t){var n=this.getContainerBounds(),i=n.left,r=n.top;return e(t).map((function(t){return{pageX:t.pageX-i,pageY:t.pageY-r}})).value()},updatePinchPan:function(t){var e=this.pinch.matrix.unTransformPoint(t[0].pageX,t[0].pageY);this.pinch.currMatrix=this.pinch.matrix.copy().translate(e.x-this.pinch.startCenter.x,e.y-this.pinch.startCenter.y),this.zoomTarget.style[this.cssTransformOrigin]="0 0",this.updateTransform(this.pinch.currMatrix),this.isInLightbox&&this.notifyZoomUpdate()},updatePinchZoom:function(t){var e=this.threeSixtyImageRestrictedZoom||6,n=d(t),i=h(t),r=this.pinch.matrix.unTransformPoint(i.x,i.y),o=Math.max(1/this.pinch.scale,Math.min(n/this.pinch.startDistance,e/this.pinch.scale));this.pinch.zoom=o,this.pinch.currMatrix=this.pinch.matrix.copy().translate(r.x,r.y).scale(o,o).translate(-this.pinch.startCenter.x,-this.pinch.startCenter.y),this.zoomTarget.style[this.cssTransformOrigin]="0 0",this.updateTransform(this.pinch.currMatrix),this.notifyZoomUpdate()},updateTransform:function(t){this.zoomTarget.style[this.cssTransform]=t.toCssTransform(),this.pinch.appliedMatrix=t.copy()},startTransition:function(t,n){var i=this;n=n||e.noop,this.pinchZoomTransition={startTime:performance.now(),startMatrix:this.pinch.appliedMatrix.copy(),deltaMatrix:this.pinch.currMatrix.delta(this.pinch.appliedMatrix),duration:t,onComplete:n,onUpdate:function(){return i.notifyZoomUpdate()}},window.requestAnimationFrame(this.stepTransition)},endTransition:function(){this.pinchZoomTransition=null},stepTransition:function(){if(null!=this.pinchZoomTransition){var t=this.pinchZoomTransition,e=t.startMatrix,n=t.deltaMatrix,r=t.duration,o=t.startTime,a=t.onComplete,s=t.onUpdate,l=i.clamp(0,r,performance.now()-o),u=function(t,e){return gsap.parseEase("power1.out")(t/e)}(l,r);this.updateTransform(e.add(n,u)),s(),l<r?window.requestAnimationFrame(this.stepTransition):(a(),this.endTransition())}},shouldDisablePan:function(t){return 1===t.touches.length&&(a.isDraggableRelated(t.target)||a.isScrollRelated(t.target)||a.isRotatableRelated(t.target)||a.isSlideableRelated(t.target)||a.isThreeSixtyImageRelated(t.target)&&this.pinch.scale<=r.MOBILE_360_IMAGE_SCALE_THRESHOLD)},destroyPinchZoom:function(){this.shouldPinchZoom()&&(null!=this.zoomTarget&&(this.zoomTarget.style[this.cssTransform]="",this.notifyZoomUpdate(),this.zoomTarget.removeEventListener("gesturestart",this.onPrevent),this.zoomTarget.removeEventListener("touchstart",this.onTouchStart),this.zoomTarget.removeEventListener("touchmove",this.onTouchMove),this.zoomTarget.removeEventListener("touchend",this.onTouchEnd)),u("touchstart",this.onDoubleTap),u("touchstart",this.onDoubleTap))}}}.call(e,n,e,t))||(t.exports=i)},1070:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e={presentation:null,player:null};return Object.seal(e),e}.call(e,n,e,t))||(t.exports=i)},3797:function(t,e,n){var i,r;i=[n(6486),n(8939),n(9032),n(8880),n(118),n(1681),n(7812),n(82),n(520),n(1419)],r=function(t,e,n,i,r,o,a,s,l,u){"use strict";var c,h,d,f,p=e.throwError("previewHelper"),v={kind:"adjustvar",operator:"set"},g={kind:"reset_player"},m=function(t){var e=r.resolvePath(s.prefixWithPlayer(t),{context:f,optional:!0});if(null==e)throw new Error(["No object exists at path ",s.doubleQuote(t)].join(""));return e},y={getValue:function(t){var e=m(t);return e.isVar?e.value():e},getCurrentTime:function(){return parseInt(l.getCurrentWindowSlide().currentTimeline().elapsedTime())},setCurrentTime:function(t){l.getCurrentWindowSlide().currentTimeline().seek(t)},gotoSlide:function(t){n.trigger(i.request.NEXT_SLIDE,s.prefixWithPlayer(t))},overrideOrientations:function(t){d.set("orientations",t)},resetPlayer:function(e){h.executeAction(t.defaults({startslideid:s.prefixWithPlayer(e)},g),{context:f})},resetSlide:function(t){var e=m(t);if(!e.isSlide)throw new Error(["Object at",s.doubleQuote(t),"is not a slide"].join(" "));e.reset()},setVariable:function(e,n){var i=m(e);if(!i.isVar)throw new Error(["Object at",s.doubleQuote(e),"is not a variable"].join(" "));h.executeAction(t.defaults({variable:i.absoluteId,value:{type:i.type(),value:n}},v),{context:f})},setBackgroundColor:function(t){document.body.style.background=t},setStringTable:function(t){o.reInit(JSON.parse(t)),n.trigger(i.controlOptions.RESET),A(DS.frameModel.frame.controlOptions.controls.closed_captions)},setColorScheme:function(t){var e=DS.frameModel.frame.controlOptions.controls.closed_captions;S("player-preview-css",t),n.trigger(i.scheme.CHANGED,"player-preview-css"),n.trigger(i.controlOptions.RESET),A(e)},setFontScale:function(t){n.trigger(i.frame.FONT_SCALE,t),A(DS.frameModel.frame.controlOptions.controls.closed_captions)},setControlOptions:function(t,e){var r=JSON.parse(t),o=JSON.parse(e),s=DS.frameModel.outlineInSidebar,l=DS.frameModel.sidebarOpts.closed;n.trigger(i.controlLayout.UPDATE,DS.frameModel.frame.default_layout,a.refs.FRAME,o),n.trigger(i.controlOptions.CHANGED,r),!s&&DS.frameModel.outlineInSidebar||!o.outline.search?n.trigger(i.sidebar.HIDE_SEARCH):o.outline.search&&o.outline.enabled&&!DS.frameModel.outlineInSidebar&&n.trigger(i.sidebar.SHOW_SEARCH),l&&!DS.frameModel.sidebarOpts.closed?n.trigger(i.sidebar.OPEN):!l&&DS.frameModel.sidebarOpts.closed&&n.trigger(i.sidebar.CLOSE),A(r.controls.closed_captions)},setCcOptions:function(t){if(u.closedCaptionsCustomization){var e=JSON.parse(t);n.trigger(i.ccOptions.CHANGED,e)}},setGlossaryData:function(t){var e=JSON.parse(t);n.trigger(i.glossary.UPDATE,e)},setNavData:function(t){var e=JSON.parse(t);n.trigger(i.navData.UPDATE,e),A(DS.frameModel.frame.controlOptions.controls.closed_captions)},setSkipNav:function(t){t!=DS.frameModel.frame.skip_nav_enabled&&(DS.frameModel.frame.skip_nav_enabled=t,DS.pubSub.trigger(DS.events.controlOptions.RESET),A(DS.frameModel.frame.controlOptions.controls.closed_captions))},setResources:function(t){var e=JSON.parse(t);n.trigger(i.resources.UPDATE,e)},setResourcesDescription:function(t){n.trigger(i.resources.UPDATE_DESCRIPTION,t)},setActiveTab:function(t){n.trigger(i.sidebar.ACTIVE_TAB_SET,t)},setChromeless:function(t){t!=DS.frameModel.frame.chromeless&&(DS.frameModel.frame.chromeless=t,n.trigger(i.frameModel.CHROMELESS_CHANGED,t),A(DS.frameModel.frame.controlOptions.controls.closed_captions))},setFont:function(t){S("player-preview-font-css",t),n.trigger(i.controlOptions.RESET),A(DS.frameModel.frame.controlOptions.controls.closed_captions)},setTextDirection:function(t){t!=DS.frameModel.frame.textdirection&&(DS.frameModel.frame.textdirection=t,DS.frameModel.rtl="rtl"===t,n.trigger(i.controlOptions.RESET),n.trigger(i.navData.REFRESH_VIEW),A(DS.frameModel.frame.controlOptions.controls.closed_captions))},setFrameSize:function(t,e){DS.presentation.updateTotalSize(t,e),DS.scaler.scale()},showStartOverlayPreview:function(t){var e=DS.views.model.frame.controlOptions.courseOptions,n=e&&e.thumbnailUrl?DS.utils.resolveAssetUrl(e.thumbnailUrl):"",i=s.getPath(e,"thumbnailFillFrame");t?DS.renderEngine.showPlayerPropertiesImagePreview({url:n,showStartButton:!0,thumbnailFillFrame:i}):DS.renderEngine.killPlayerPropertiesImagePreview()},showLogoPreview:function(t){var e=DS.utils.resolveAssetUrl(DS.frameModel.sidebarOpts.html5_logo_url);t?DS.renderEngine.showPlayerPropertiesImagePreview({url:e,showStartButton:!1}):DS.renderEngine.killPlayerPropertiesImagePreview()}},b=function(t){c.postMessage(JSON.stringify(t),"*")},w=function(){var e,n;e="notifyPreview",n=t.toArray(arguments),b({jsonrpc:"2.0",method:e,params:n})},S=function(t,e){var n=document.getElementById(t);null==n&&((n=document.createElement("style")).id=t,document.body.appendChild(n)),n.innerText=e},A=function(t){window.globals.HAS_SLIDE||(n.trigger(i.slide.STARTED,"dummySlide",f.getFirstSlide(),a.refs.FRAME),n.trigger(i.navData.SELECT_FIRST_SLIDE_LINK),t?n.trigger(i.captions.SHOW_BUTTON):n.trigger(i.captions.HIDE_BUTTON))},E=function(t){var e,n,i=JSON.parse(t.data);try{e=i.id,n=y[i.method].apply(this,i.params),b({jsonrpc:"2.0",id:e,result:n})}catch(t){!function(t,e){b({jsonrpc:"2.0",id:t,error:{code:-1,message:e}})}(i.id,t.message)}};return{initialize:function(t,e,r){(h=r,e.isPreview())&&(null!=window.parent&&window.parent!==window?(d=t,f=e,c=window.parent,window.document.getElementById(a.els.PRESO).addEventListener("click",(function(){return w("PREVIEW_CLICKED")})),window.addEventListener("message",E),window.globals.HAS_SLIDE||A(DS.frameModel.frame.controlOptions.controls.closed_captions),n.on(i.preview.NOTIFY,w),w("PREVIEW_FRAME_READY")):p("initialize","Cannot load parent window"))}}}.apply(e,i),void 0===r||(t.exports=r)},9904:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(7812);return{initialize:function(t){if(this.isInitialized=!0,t){var n=document.createElement("div");n.id="slide";var i=document.createElement("div");i.className="slide-container",n.appendChild(i),document.getElementById(e.els.PRESO).appendChild(n),DS.frame={createWindow:function(){return{el:n,captionEl:document.createElement("div"),id:e.refs.FRAME,x:function(){return 0},y:function(){return 0},getWinScale:function(){return DS.scaler.getScale()},onPinchZoom:function(){},getPinchZoomBounds:function(){}}}}}else{var r=this.getPreviewInfo(),o=r.totalWidth,a=r.totalHeight,s=this.getPreviewInfo(),l=s.slideWidth,u=s.slideHeight,c=s.slideDurationMs,h=s.text;DS.courseAudio={hasAudio:function(){return!0},set enabled(t){this.isEnabled=t},get enabled(){return this.isEnabled},toggleEnabled:function(){this.isEnabled=!this.isEnabled}},DS.presentation={isPreview:function(){return!0},getFirstSlide:function(){return{props:{width:l,height:u},get:function(t){return this.props[t]},currentTimelineCompletedOnce:function(){return!1},currentTimeline:function(){return{on:function(){},off:function(){},progress:function(){return.5},timelineDuration:function(){return c},playbackState:function(){return"paused"},isPlaying:function(){return!1}}},on:function(){},off:function(){}}},updateTotalSize:function(t,e){o=t,a=e},display:function(){return{width:function(){return o},height:function(){return a},getWindowById:function(){}}},assetLib:function(){},slideMap:function(){}},DS.renderEngine={createMobileStartOverlay:function(){var t=this;if(!this.mobileStartContainer){var e=document.createElement("div");e.className="mobile-start-overlay shown",e.style="background: transparent;";var n=document.createElement("div");n.className="mobile-start-overlay-frame",n.style="\n              position: absolute;\n              width: 100%;\n              height: 100%;\n              background: #000000;\n              opacity: 1;\n            ";var i=document.createElement("div");i.className="mobile-start-overlay-thumbnail";var r=document.createElement("img");r.style="\n              max-height: 510px;\n              max-width: 760px;\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%);\n              display: none;\n            ";var o=document.createElement("button");o.id="mobile-start-button",o.tabIndex=0,o.style="\n              position: absolute;\n              width: 120px;\n              height: 120px;\n              left: calc(50% - 60px);\n            ",o.innerHTML='\n            <svg className="play-icon" width="125px" height="125px" viewBox="0 0 125 125" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <circle opacity="0.8" cx="62.5" cy="62.5" r="61.5" fill="black" stroke="white" stroke-width="2"/>\n              <path d="M51.8745 83.6249C52.6245 83.9999 53.3745 84.1249 54.1245 84.1249C54.9995 84.1249 55.9995 83.8749 56.7495 83.2499L81.9995 65.9999C83.2495 65.1249 83.9995 63.6249 83.9995 62.1249C83.9995 60.6249 83.2495 59.1249 81.8745 58.2499L56.6245 41.4999C55.1245 40.4999 53.3745 40.4999 51.7495 41.2499C50.2495 42.1249 49.2495 43.6249 49.2495 45.3749V79.3749C49.3745 81.2499 50.2495 82.8749 51.8745 83.6249Z" fill="white"/>\n            </svg>\n            ',i.appendChild(r),e.appendChild(n),e.appendChild(i),e.appendChild(o);var a=document.createElement("div");a.style="position: fixed; top: 21px; right: 21px; background: transparent; cursor: pointer;",a.innerHTML='\n              <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <circle cx="17.5" cy="17.5" r="17.5" fill="black"/>\n                <path d="M26 11.0252L24.9748 10L18 16.9748L11.025 10L10 11.0252L16.975 18L10 24.9748L11.025 26L18 19.0252L24.9748 26L26 24.9748L19.0254 18L26 11.0252Z" fill="white"/>\n              </svg>\n              ',a.addEventListener("click",(function(){return t.killPlayerPropertiesImagePreview()}));var s=document.createElement("div");s.setAttribute("id","mobile-start-container"),s.classList.add("fn-".concat(DS.frame.getDefaultLayout())),s.appendChild(e),s.appendChild(a);var l=document.getElementById("preso");l.parentNode.insertBefore(s,l.nextSibling),this.startButton=o,this.previewImage=r,this.mobileStartContainer=s,this.thumbnailOverlay=i}},showPlayerPropertiesImagePreview:function(t){this.createMobileStartOverlay(),t.thumbnailFillFrame&&this.thumbnailOverlay.classList.add("fill-window"),this.previewImage.src=t.url,this.previewImage.style.display="block",this.startButton.style.display=t.showStartButton?"block":"none",this.mobileStartContainer.style.display="block"},killPlayerPropertiesImagePreview:function(){this.mobileStartContainer&&(this.previewImage.style.display="none",this.startButton.style.display="none",this.mobileStartContainer.style.display="none")},createWindowFor:function(){var t=document.getElementById("slide");t.className="placeholder";var e=document.createElement("div");return e.className="placeholder-text",e.style.fontSize="8vw",e.innerText=h,t.appendChild(e),t}}}},getPreviewInfo:function(){return{slideWidth:this.getPreviewInfoParameter("slideWidth",720,parseInt),slideHeight:this.getPreviewInfoParameter("slideHeight",540,parseInt),totalWidth:this.getPreviewInfoParameter("totalWidth",980,parseInt),totalHeight:this.getPreviewInfoParameter("totalHeight",658,parseInt),slideDurationMs:this.getPreviewInfoParameter("slideDurationMs",5e3,parseInt),text:this.getPreviewInfoParameter("text","SLIDE")}},getPreviewInfoParameter:function(t,e,n){if(null!=window.globals.parsedParams){var i=window.globals.parsedParams[t];return null==i?e:null==n?i:n(i)}return e}}}.call(e,n,e,t))||(t.exports=i)},9032:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(5485);return n(6486).extend({},e.Events,{addListener:function(t,e,n){var i=this;return this.on(t,e,n),function(){i.off(t,e,n)}}})}.call(e,n,e,t))||(t.exports=i)},6882:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=n(7510),r=i.addDocumentListener,o=i.removeDocumentListener,a="allowTheChangeEventToPropagate",s=function(t,n){var i=document.createEvent("Event");i.initEvent("change",!0,!0),e.defaults(i,n),Object.defineProperty(i,a,{value:!0}),t.dispatchEvent(i),o("mouseup",t.fireChangeEvent)};return{patchEvents:function(){r("change",(function(t){var n,i;t[a]||"range"!==t.target.getAttribute("type")||(t.stopPropagation(),(n=document.createEvent("Event")).initEvent("input",!0,!0),e.defaults(n,t),t.target.dispatchEvent(n),o("mouseup",t.target.fireChangeEvent),i=e.partial(s,t.target),t.target.fireChangeEvent=i,r("mouseup",i))}),!0)}}}.call(e,n,e,t))||(t.exports=i)},3005:function(t,e,n){var i;void 0===(i=function(t){"use strict";for(var e=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[n[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[i]+"CancelAnimationFrame"]||window[n[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),o=window.setTimeout((function(){t(i+r)}),r);return e=i+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}.call(e,n,e,t))||(t.exports=i)},118:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=n(8939),r=n(7812),o=/^RAND/,a=function(t){return o.test(t)},s={};s.string=s.object=s.boolean=function(t){return t},s.num=s.number=function(t){return a(t)?t:parseFloat(t)},s.var=s.variable=function(t,n){var i=e.identity,r=this.resolvePath(t,n,{optional:!0});return null!=r&&("number"===r.type()&&(i=parseFloat),r=i(r.value())),r},s.property=function(t,e){return this.resolvePath(t,e,{optional:!0})},s.drawid=function(t,e){return this.resolvePath(t,e,{optional:!0})},s.param=function(t,e,n){return this.getRef(n.params[t],e,n)},s.valueref=function(t,n,i){return this.getRef(e.find(i.iterables,{name:t}),n,i)},s.actparam=function(t,e,n){return n[t]},s.default=function(t,e){return this.getRef(t,e)},s.varpointer=function(t,e){var n=this.getRef({value:t,type:"var"},e);return this.getRef({value:n,type:"var"},e)};var l,u=i.throwError("resolver"),c=u("resolvePath"),h=u("getRef"),d=u("findReference"),f=/\$/,p=/\#/,v=/\$/g,g=/\#/g,m=/^\$/,y=/^\#/,b=new RegExp("^"+r.refs.PLAYER),w=function(t){return t.replace(f,"")},S=function(t){return t.replace(p,"")},A=function(t){return f.test(t)},E=function(t){return t.split(r.PATH_DELIMITER)},T=function(t,n){var i;return e.find(t.resolveables,(function(r){var o=t.get(r);return!!o&&(!(i=o.isCollection?o.get(n):o.id===n?o:o[n])&&function(t,n){return e.has(n.resolvers,t)}(r,t)&&(i=t.resolvers[r].call(t,n,o)),i)}),t),i},C=function(t,e){var n,i,r="$"===e?v:g;return i=e+(n=t.replace(r,"").split(".")).pop(),n.push(i),n.join(".")},x=e.partialRight(C,"$"),_=e.partialRight(C,"#"),k={initialize:function(){l=DS.presentation},getPresentationContext:function(){return DS.presentation},getSlideBankSlideInstance:function(t){var e=null;return l.scenes().some((function(n){return n.slidedraws().some((function(n){return n.slides().some((function(n){return n.id===t&&(e=n),null!=e})),null!=e})),null!=e})),e},resolvePath:function(t,n,i){if(t)return null==l&&null!=DS.presentation&&this.initialize(DS.presentation),!function(t){return y.test(t)&&-1!==t.indexOf(".")}(t)?function(t){return m.test(t)&&-1!==t.indexOf(".")}(t)&&(t=x(t)):t=_(t),i=i||{},n&&e.isPlainObject(n)&&(i=n,n=void 0),this.resolvePathArray(E(t),n,i);c("Must provide a path to resolve")},resolvePathArray:function(t,n,i){var o=t.shift();switch(o){case r.refs.PLAYER:n=l;break;case r.refs.PLAYER_VARS:n=l.playerVars();break;case r.refs.PARENT:n=n.getClosestParentRef();break;case r.refs.CHILDREN:n=n.getChildren();break;case r.refs.SELF:n=n.getClosestThisRef();break;case r.refs.CURRENT_SLIDE:n=this.resolvePath(l.prop("CurrentSlideId"),l);break;default:n=k.findReference(o,n)}return null==n?i.optional?void 0:void c("Path did not resolve at:",o):t.length?e.isArray(n)?e.compact(e(n).map((function(e){var n=t.slice();return k.resolvePathArray(n,e,{optional:!0})})).value()):k.resolvePathArray(t,n,i):n},findReference:function(t,e){if(t){var n,i,r;if(e)return e.isCollection&&e.get(t)?e.get(t):A(t)?e.prop(w(t)):(r=t,p.test(r)?(i=S(t),e.getVariableProp&&(n=e.getVariableProp(i))?n.value():e.variables().get(S(t))):e.isModel||null==e[t]?T(e,t)||(e.id===t?e:function(t,e){return t.prop&&t.hasOwnPlayerProp(w(e))}(e,t)?e.prop(t):void 0):e[t]);d("Context must be defined.")}else d("Cannot find a reference with no ID")},getRef:function(t,e,n){if(t){if(t.type)return(s[t.type]||s.default).call(this,t.value,e,n);h("Type is undefined for the provided reference")}else h("No reference passed in")}};return k.normalizePropRef=w,k.isPropRef=A,k.splitPath=E,k.joinPath=function(t){return t.join(r.PATH_DELIMITER)},k.isRelativePath=function(t){return!b.test(t)},k.isRandomToken=a,k.resolveAbsolutePathWithFilter=function(t,n){var i,r;return t=t.split("."),i=e.first(t.splice(0,1)),t.some((function(t){return i+="."+t,r=k.resolvePath(i),n(r)}))?r:null},k}.call(e,n,e,t))||(t.exports=i)},6159:function(t,e,n){var i;i=function(t){"use strict";var e=n(6486),i=n(4698),r="abcdefghijklmnopqrstuvwxyz",o=e.union(e.range(10).map((function(t){return t.toString()})),r.split(""),r.toUpperCase().split(""),"_$".split("")),a=/([^a-zA-Z0-9_$])/,s=i.extend({shorthand:["encodedLength","strLength","fullString","encodedString","strVal","remainder"],initialize:function(t){var e,n=1,i=0;"~"===this.fullString().charAt(0)&&(i=2,n=parseInt(this.fullString().charAt(1))),e=i+n,this.encodedLength(this.fullString().slice(i,e)),this.strLength(parseInt(s.fromUnsignedString64(this.encodedLength()))),this.encodedString(this.fullString().slice(e,e+this.strLength())),this.remainder(this.fullString().slice(e+this.strLength()))},getDecodedValue:function(t){var e=this.encodedString();return a.test(e)||(e=s[t](e)),e},reChunk:function(){return new s({fullString:this.remainder()})}}),l=s.prototype;return l.getSignedValue=e.partial(l.getDecodedValue,"fromSignedString64"),l.getUnsignedValue=e.partial(l.getDecodedValue,"fromUnsignedString64"),s.EMPTY_CHUNK=0,s.create=function(t){null==t&&(t="");var e="",n=t.toString().length,i=s.toUnsignedString64(n);return n>63&&(e+="~"+i.length),e+=i+t},s.packData=function(t){return[s.create(s.toUnsignedString64(t.length)),t].join("")},s.toUnsignedString64=function(t,n,i){var r="",a=!0,l=t;for(i=i||s.EMPTY_CHUNK;l>0||a;)a=!1,r+=o[63&l],l>>=6;return r+=e.times(n-r.length,e.partial(e.identity,i)).join("")},s.toSignedString64=function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t,o=t<0,a=1,l=0;for(e=e||-1;Math.pow(64,a)/2<=Math.abs(t);)a++;if(n=Math.max(e,a),o){for(;-t>=Math.pow(64,l)/2;)l++;r=Math.pow(64,l)+t}var u=s.toUnsignedString64(r,n,o?"$":"0");return i&&n>e?"~".concat(s.toSignedString64(n)).concat(u):u},s.toSignedFloatString64=function(t,n){if(t%1==0||e.isNaN(t))return s.toSignedString64(t,n);var i,r=Math.min(3,(i=t,Math.floor(i)===i?0:i.toString().split(".")[1].length||0)),o=Math.trunc(t*Math.pow(10,r));return s.toSignedString64(o)+"-"+r.toString()},s.fromOverflowString64=function(t,e){var n=e,i=0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?s.fromUnsignedString64:s.fromSignedString64;return"~"===t.charAt(0)&&(n=(e=s.fromUnsignedString64(t.charAt(1)))+2,i=2),{length:n,value:r(t.substr(i,e))}},s.fromUnsignedString64=function(t){return t.toString().split("").reduce((function(t,e,n){var i;return t+=(i=e,o.indexOf(i)<<6*n)}),0)},s.fromSignedString64=function(t){var e=s.fromUnsignedString64(t.toString()),n=Math.pow(64,t.length)/2;return e>=n&&(e-=2*n),e},s.fromSignedFloatString64=function(t){if(!t.includes("-"))return s.fromSignedString64(t);var e=t.split("-");return s.fromSignedString64(e[0])/Math.pow(10,Number(e[1]))},s}.call(e,n,e,t),void 0===i||(t.exports=i)},9005:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i,r=n(6486),o=n(82),a=n(4811),s=n(6159),l={initialize:function(){var t,e,n={},i=window.vRestoreStateData;if(this.hasData=!r.isEmpty(i),this.hasData){for(t=new s({fullString:i}),this.resumeData=t.encodedString(),t=t.reChunk(),e=(t=new s({fullString:t.encodedString()})).encodedString();e.length>0;)t=t.reChunk(),n[e]=t.encodedString(),e=(t=t.reChunk()).encodedString();this.slideStateData=n}},setResumer:function(t){e=t},setWindowManager:function(t){i=t},getSlideStateData:function(t){if(this.hasData)return this.slideStateData[o.stripPlayer(t)]},clearSlideStateData:function(t){this.slideStateData[o.stripPlayer(t)]=null},getState:function(){return r.map([s.packData(e.collectResumeData()),this.getActiveSlideStates()],s.create).join("")},shouldShimLMS:function(){return window.autoSpider},getLMSShim:function(){return{getItem:function(){var t=a.Deferred();return t.resolve(),t.promise()},setItem:r.noop,setResumer:r.noop}},getActiveSlideStates:function(){return i.windows.map((function(t){var e=t.getCurrentSlide();return null==e?"":(e.prepareResumeData({retainState:!0,force:!0,skipPostBuild:!0}),r.map([o.stripPlayer(e.absoluteId),e.getResumeData()],s.create).join(""))})).join("")}};return l.initialize(),l}.call(e,n,e,t))||(t.exports=i)},9013:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=n(4811),r="path=/",o=function(t){return t.split("=")},a=function(t){return t[0]},s={setCookie:function(t,e){var n=[t,e].join("=");return document.cookie=[n,["expires",new Date(Date.now()+31536e7).toGMTString()].join("="),r].join("; "),this},getCookies:function(t){return document.cookie.split("; ").map(o).filter((function(e){return 0===e[0].indexOf(t)}))},getItem:function(t){var n=i.Deferred(),r=e(this.getCookies(t)).sortBy(a).reduce((function(t,e){return t+e[1]}),"");return n.resolve(r),n.promise()},setItem:function(t,e){for(var n,i,r=0;e.length>0;)i=[t,r++].join("_"),n=e.slice(0,4048),this.setCookie(i,n),e=e.slice(4048);return this}},l={getItem:function(t){var e=i.Deferred(),n=window.localStorage.getItem(t);return e.resolve(n),e.promise()},setItem:function(t,e){var n;try{n=window.localStorage.setItem(t,e)}catch(t){console.warn(t)}return n}},u={setResumer:e.noop};return{hasStorage:function(){try{return null!=window.vInterfaceObject||!e.isUndefined(window.localStorage)}catch(t){return!1}},getStorage:function(){return e.extend(u,this.hasStorage()?l:s)}}}.call(e,n,e,t))||(t.exports=i)},4427:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i,r,o=n(6486),a=n(9229),s=n(8880),l=n(9032),u=n(9013),c=n(6159),h=n(4811),d=n(8939),f=n(8579),p=n(9005),v=n(7235),g=n(8945),m=n(1419),y=n(3563),b=function(t){return t.remainder().length===t.getUnsignedValue()},w=function(t){return t.match(/.{2}/g)},S=function(t){return t.getViewGroupId()},A={viewedSlides:[],totalViewedSlides:[],viewedActionLinks:{},courseStartTime:!1,hasOverlay:!1,initialize:function(t,e){var n=this;return this.addPartial(),o.bindAll(this,"savePresentationData"),this.setPresentation(t),i=t.resume()||{},this.resumeDfd=h.Deferred(),this.hasOverlay=e,this.resumeDfd.catch((function(){n.setViewedSlidesFromString("")})),p.setResumer(this),g.initialize(t,this),this.createResumeInterface(),l.on(s.player.CLOSING,this.closePlayer.bind(this)),this.isResumable()?this.setListeners().createSceneResumeArray().setResumeDataCallback().initResumeData():(this.lmsDfd=h.Deferred().resolve().promise(),this.setListeners().checkAndReject()),this.resumeDfd.promise()},setPresentation:function(t){e=t},addPartial:function(){this.getUniqueViewedSlides=o.partial(this.getUniqueSlides,"viewedSlides"),this.getUniqueTotalSlides=o.partial(this.getUniqueSlides,"totalViewedSlides"),this.checkAndReject=o.partial(this.check,this.rejectDeferred.bind(this)),this.checkAndResolve=o.partial(this.check,this.resolveDeferred.bind(this))},isResumable:function(){return this.resumeInterface},createResumeInterface:function(){g.lmsPresent()||window.globals.lmsPresent?this.resumeInterface=g:!0===i.flashresume?this.resumeInterface=u.getStorage():p.shouldShimLMS()&&(this.resumeInterface=p.getLMSShim()),f.env.isWebObject&&null!=this.resumeInterface&&(this.resumeInterface=v.getResumer(this.resumeInterface)),!g.lmsPresent()||i.lmsresume&&!f.env.isRise||(this.resumeInterface={getItem:function(){var t=h.Deferred();return t.resolve(),t.promise()},setItem:o.noop})},setListeners:function(){var t={};return t[s.slide.WILL_CHANGE]=this.slideChanging.bind(this),t[s.window.CLOSING]=this.windowClosing.bind(this),t[s.slide.VIEWED]=this.slideViewed.bind(this),t[s.slideWindow.CLEAR_HISTORY]=this.clearResumeData.bind(this),t[s.actionlink.EVENT]=this.onActionLink.bind(this),m.multiLangSupport&&(t[s.resume.COURSE_SETTING_UPDATED]=this.onCourseSettingUpdated.bind(this)),l.on(t),this},closePlayer:function(){e.isPreview()?l.trigger(s.preview.NOTIFY,"PREVIEW_CLOSE_WND"):g.lmsUnload(!0)||g.whenCloseReady().then((function(){window.top.window.open("","_self","").close()}))},setWindowManager:function(t){r=t,p.setWindowManager(t),null!=this.lmsDfd&&this.lmsDfd.then(this.checkQuickResume.bind(this))},createSceneResumeArray:function(){return this.sceneResume=e.scenes().map((function(){return c.EMPTY_CHUNK})),this},callForLightboxClose:function(){return l.trigger(s.window.CLOSING,i.window),this},resolveDeferred:function(){return this.resumeDfd.resolve(),l.trigger(s.resume.SET_DATA,this.totalViewedSlides,Object.keys(this.viewedActionLinks)),this},rejectDeferred:function(){return this.resumeDfd.reject(),l.trigger(s.resume.SET_DATA),this},check:function(t){var n=this;(this.hasOverlay||f.theme.isClassic||!f.deviceView.isDesktop||this.mobileStartAsPrompt)&&(this.hasOverlay||f.deviceView.isPhone&&f.env.isDevicePreview||f.device.isMobile||!f.theme.isClassic&&!e.isPreview())?((f.deviceView.isMobile||f.theme.isUnified)&&DS.renderEngine.createMobileStartOverlay(),a.getAppCompletePromise().then((function(){var e=f.deviceView.isClassicDesktop?t:{rejectDeferred:t,mobileStartAsPrompt:n.mobileStartAsPrompt};l.trigger(s.request.START,e)}))):t()},checkApplyResumeData:function(){return i.prompt&&!p.hasData&&a.getAppCompletePromise().then((function(){l.trigger(s.request.NEXT_SLIDE,i.slideId,i.window)})),this},applyResumeData:function(t){var e=t?"resolveDeferred":"rejectDeferred";this.callForLightboxClose(),this[e]()},slideViewed:function(t){t.get("trackViews")&&(this.addSlideToViewedList(t),g.lmsPresent()&&g.slideViewed(t))},windowClosing:function(){var t=r.getCurrentWindowSlide();null!=t&&this.slideLeft(t)},slideChanging:function(t,e,n){n||this.slideLeft(t)},slideLeft:function(t){f.env.isPerpetual||t.get("trackViews")&&g.lmsPresent()&&g.slideLeft(t)},onActionLink:function(t){var n=o.findIndex(e.get("actionlinks"),{id:t});-1!==n&&(this.viewedActionLinks[t]=n)},addSlideToViewedList:function(t){this.viewedSlides.push(t),this.viewedSlides=o.uniq(this.viewedSlides),this.totalViewedSlides.push.apply(this.totalViewedSlides,this.viewedSlides),this.totalViewedSlides=o.uniq(this.totalViewedSlides)},getViewedSlidesString:function(){return this.totalViewedSlides.reduce((function(t,e){return t+c.toUnsignedString64(e.prop("Index")+1,2)}),"")},setViewedSlidesFromString:function(t){if(t.length){var n=e.getFlatSlides(),i=e.get("scoring"),r=e.scorings();0===r.length&&null!=i&&r.push(i),this.totalViewedSlides=o(w(t)).map(c.fromUnsignedString64).map((function(t){var e=o.find(n,(function(e){return e.prop("Index")===t-1}));return null!=e&&(r.incrementViewed(e),e.restoreViewed()),e})).compact().value()}g.lmsPresent()&&e.getDrawPromise().then((function(){g.setTotalSlides(e.getUniqueSlides().length)}))},getUniqueSlides:function(t){return o.uniq(this[t],S)},getViewedActionLinksString:function(){return o.reduce(this.viewedActionLinks,(function(t,e){return t+c.toUnsignedString64(e,2)}),"")},setViewedActionLinksFromString:function(t){if(t.length>0){var n=e.get("actionlinks");null!=n&&(this.viewedActionLinks=w(t).map(c.fromUnsignedString64).reduce((function(t,e){var i=n[e];return null!=i&&(t[i.id]=e),t}),{}))}},collectResumeData:function(){return[c.create(this.getViewedSlidesString()),c.create(r.getResumeData()),e.variables().length>0?c.create(e.variables().getResumeDataOrReturn("")):"",null!=e.playerVars()?c.create(e.playerVars().variables().getResumeDataOrReturn("")):"",this.sceneResume.join(""),e.quizzes().getResumeData(),e.timers().length>0?e.timers().getResumeData():"",c.create(this.getViewedActionLinksString())].join("")},saveSceneData:function(t){null!=t&&(this.sceneResume[t.index()]=c.create(t.getResumeData()))},setResumeDataCallback:function(){return this.resumeDfd.then(this.setResumeData.bind(this)).catch(o.noop),this},setSceneResumeData:function(t){return this.sceneResume=e.scenes().map((function(e){var n=t.encodedString();return e.setResumeData(n),t=t.reChunk(),c.create(n)})),t},courseStarted:function(t){this.courseStartTime=Date.now(),g.lmsPresent()&&g.courseStarted(t)},getCourseTime:function(){return Date.now()-this.courseStartTime},clearResumeData:function(){e.scenes().forEach((function(t){t.clearResumeData()})),e.getUniqueSlides().forEach((function(t){t.clearResumeData()})),r.setResumeData(""),this.viewedSlides=[],this.totalViewedSlides=[],this.isResumable()&&this.resumeInterface.setItem(i.id,"")}};return m.multiLangSupport?Object.assign(A,{savePresentationData:function(t){if(!this.isResumable()||h.isPending(this.resumeDfd))return this;var e=r.getCurrentWindowSlide();this.saveSceneData(t),null!=e&&(this.stateData=this.collectResumeData(),this.commitStateData())},validateDataAndStore:function(t){if(null==t||0===t.length)return!1;var e=new c({fullString:t});return b(e)?(e=e.reChunk(),this.extractCourseSettings(e),this.stateData=e.remainder(),!o.isEmpty(this.stateData)):(d.warn("validateData","the data is the incorrect length, resume not attempted"),!1)},initResumeData:function(){var t=this;this.lmsDfd=this.resumeInterface.getItem(i.id).then((function(e){p.hasData&&(e=p.resumeData),t.validateDataAndStore(e)?i.prompt&&!f.theme.isClassic?(t.mobileStartAsPrompt=!0,t.checkAndResolve()):t.checkApplyResumeData():t.checkAndReject()}))},checkQuickResume:function(){o.isEmpty(this.stateData)||i.prompt&&!p.hasData||this.checkAndResolve()},setResumeData:function(){var t=new c({fullString:this.stateData}),n=t.encodedString(),i=e.variables().length>0,o=null!=e.playerVars(),a=t.reChunk(),s=null,l=null,u=a.reChunk();i&&(u=(s=u).reChunk()),o&&(l=u,u=u.reChunk());var h=u;i&&e.variables().setResumeData(s.encodedString());var d=this.setSceneResumeData(h);e.createSlideIndices(),this.setViewedSlidesFromString(n);var f=e.quizzes().setResumeData(d);e.timers().length>0&&e.timers().setResumeData(f);var p=f;this.setViewedActionLinksFromString(p.encodedString()),o&&e.playerVars().variables().setResumeData(l.encodedString()),r.setResumeData(a.encodedString()),e.onAfterSetResume()},onCourseSettingUpdated:function(){this.commitStateData()},collectCourseSettings:function(){return c.create([y.getCourseSetting()].map(c.create).join(""))},extractCourseSettings:function(t){var e=new c({fullString:t.encodedString()});[y.restoreCourseSetting.bind(y)].forEach((function(t){t(e.encodedString()),e=e.reChunk()}))},commitStateData:function(){this.resumeInterface.setItem(i.id,c.packData([this.collectCourseSettings(),this.stateData].join("")))}}):Object.assign(A,{savePresentationData:function(t){if(!this.isResumable()||h.isPending(this.resumeDfd))return this;var e=r.getCurrentWindowSlide();this.saveSceneData(t),null!=e&&(this.resumeData=this.collectResumeData(),this.resumeInterface.setItem(i.id,c.packData(this.resumeData)))},initResumeData:function(){var t=this;this.lmsDfd=this.resumeInterface.getItem(i.id).then((function(e){var n=!1;p.hasData&&(e=p.resumeData),null!=e&&e.length&&(n=t.processResumeData(e)),n?i.prompt&&!f.theme.isClassic?(t.mobileStartAsPrompt=!0,t.checkAndResolve()):t.checkApplyResumeData():t.checkAndReject()}))},checkQuickResume:function(){null==this.resumeData||i.prompt&&!p.hasData||this.checkAndResolve()},processResumeData:function(t){var e=new c({fullString:t});return b(e)?(this.resumeData=e.reChunk(),!0):(d.warn("processResumeData","the data is the incorrect length, resume not attempted"),!1)},setResumeData:function(){var t=this.resumeData.encodedString(),n=e.variables().length>0,i=null!=e.playerVars(),o=this.resumeData.reChunk(),a=null,s=null,l=o.reChunk();n&&(l=(a=l).reChunk()),i&&(s=l,l=l.reChunk());var u=l;n&&e.variables().setResumeData(a.encodedString());var c=this.setSceneResumeData(u);e.createSlideIndices(),this.setViewedSlidesFromString(t);var h=e.quizzes().setResumeData(c);e.timers().length>0&&e.timers().setResumeData(h);var d=h;this.setViewedActionLinksFromString(d.encodedString()),i&&e.playerVars().variables().setResumeData(s.encodedString()),r.setResumeData(o.encodedString()),e.onAfterSetResume()}}),A}.call(e,n,e,t))||(t.exports=i)},4481:function(t,e,n){var i;i=function(t){"use strict";var e=n(6486),i=n(7510).addWindowListener,r=n(1070),o=n(82),a=n(8579),s=n(8880),l=n(9032),u={scaleValue:1,zoomMode:!1,zoomVar:null,enableZoomMode:function(t){this.zoomMode=t,null!=this.zoomVar&&this.zoomVar.value()!==t?this.zoomVar.changeValue(t):l.trigger(s.window.ZOOM_MODE_CHANGED)},setZoomModeVariable:function(t){this.enableZoomMode(t.value())},initialize:function(t){e.bindAll(this,"scale","sendWindowScale","setZoomModeVariable"),this.isShowAll()&&!a.deviceView.isClassicMobile?this.startScaling():i("resize",this.sendWindowScale)},connectVariables:function(t){if(null!=t){this.zoomVar=t;var e=this.zoomVar.value();e&&this.enableZoomMode(e),this.zoomVar.on("change:value",this.setZoomModeVariable)}},isShowAll:function(){return"show all"===window.globals.scale},sendWindowScale:function(){l.trigger(s.window.SCALE),l.trigger(s.window.AFTER_SCALE)},setWindowScale:function(t){this.windowScale=t},getWindowScale:function(t){return this.windowScale},startScaling:function(){this.scale(),i("resize",this.scale)},getScaledFontSize:function(){return r.player.getFontScale()*this.getScale()},queueScale:function(){this.pending||(this.pending=!0,window.requestAnimationFrame(this.scale))},scale:function(){this.scaleValue=this.calcScale(),this.sendWindowScale(),this.pending=!1},calcScale:function(){var t=this.getWindowDimensions(),e=t.height,n=t.width,i=e/r.presentation.display().height(),a=n/r.presentation.display().width();return o.fix(Math.min(i,a),5)},getWindowDimensions:function(){return{height:window.innerHeight,width:window.innerWidth}},getScale:function(){return this.scaleValue}};return o.scaleVal=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t*u.getScale();return e?Math.round(n):n},u}.call(e,n,e,t),void 0===i||(t.exports=i)},1291:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i,r=n(6486),o=n(7510).addDocumentListener,a=n(1251).isInput,s=n(4481),l=(n(1419),n(3716)),u=n(8579),c=n(8766),h=n(9032),d=n(8880),f=n(9229),p=n(7812),v=[];return{enabled:!0,initialize:function(t){var e=this;i=t||function(t){return t},r.bindAll(this,"onTimelineChanged","onKeyDown"),this.setupKeyLookup(),u.deviceView.isUnifiedDesktop&&!DS.presentation.isPreview()&&this.registerShortcut(i("togglezoom"),{key:"z",ctrl:!0,alt:!0},(function(){s.enableZoomMode(!s.zoomMode)})),u.deviceView.isDesktop&&(h.on(d.playbackControls.TIMELINE_CHANGED,this.onTimelineChanged),this.registerShortcut(i("acctext_shortcut"),{key:"t",ctrl:!0,alt:!0},(function(){f.onToggleAccessibleText()})),this.registerShortcut(i("mute_shortcut"),{key:"m",ctrl:!0,alt:!0},(function(){f.onToggleVolume()})),this.registerShortcut(i("closedcaptions_shortcut"),{key:"c",ctrl:!0,alt:!0},(function(){c.toggleCaptioning()})),this.registerShortcut(i("replay_shortcut"),{key:"r",ctrl:!0,alt:!0},(function(){e.threeSixtyImageMediaVisible()?h.trigger(d.threeSixtyImage.MEDIA_RESTART):e.currTimeline.reset()})),this.registerShortcut(i("playpause_shortcut"),{key:"p",ctrl:!0,alt:!0},(function(){e.threeSixtyImageMediaVisible()?h.trigger(d.threeSixtyImage.MEDIA_TOGGLE_PLAY):null!=e.currTimeline&&(1!==e.currTimeline.progress()?e.currTimeline.togglePlayback():u.theme.isUnified&&e.currTimeline.reset())})),this.registerShortcut(i("previous_shortcut"),{key:",",keyCode:188,ctrl:!0,alt:!0},(function(){e.onControlButtonShortcut("prev")})),this.registerShortcut(i("next_shortcut"),{key:".",keyCode:190,ctrl:!0,alt:!0},(function(){e.onControlButtonShortcut("next")})),this.registerShortcut(i("submit_shortcut"),{key:"s",ctrl:!0,alt:!0},(function(){e.onControlButtonShortcut("submit")})),this.registerShortcut(i("fullscreen_shortcut"),{key:"f",ctrl:!0,alt:!0},(function(){return f.toggleFullScreen()})),null!=DS.courseAudio&&DS.courseAudio.hasAudio()&&this.registerShortcut(i("background_audio_shortcut"),{key:"a",ctrl:!0,alt:!0},(function(){return h.trigger(d.backgroundAudio.TOGGLE)})))},threeSixtyImageMediaVisible:function(){return null!=document.querySelector(".panel-video-player")||document.querySelector(".three-sixty-overlay .panel-shown .panel-audio")},setupKeyLookup:function(){var t=this,e="abcdefghijklmnopqrstuvwxyz".split("");this.keyToCode={},e.forEach((function(e,n){t.keyToCode[e]=65+n}))},onControlButtonShortcut:function(t){var e=DS.views.getTopNameSpace()[t];e&&e.shortcutActivated()},onTimelineChanged:function(t){this.currTimeline=t},closeShortcutWindow:function(){null!=e&&(e.close(),e=null)},registerShortcut:function(t,n,r){var a=this;this.listenerAdded||(this.listenerAdded=!0,o("keydown",(function(t){return a.onKeyDown(t)})),this.registerShortcut(i("shortcuthelp"),{key:"?",shift:!0},(function(){null==e?(e=DS.frame.createWindow("ShortcutWnd")).el.focus():a.closeShortcutWindow()}))),v.push({name:t,keyInfo:n,cb:r})},enableShortcuts:function(t){this.enabled=t,h.trigger(DS.events.player.ENABLE_KEYBOARD_SHORTCUTS,t)},onKeyDown:function(t){var e=this,n=t.ctrlKey,i=t.shiftKey,r=t.altKey,o=t.key,s=t.keyCode;if(!(a(document.activeElement)||l.keyPressHandlerExists(t)||!this.enabled&&"?"!==o||null!=DS.connection&&DS.connection.warningShown)){var u=v.find((function(t){var a=t.keyInfo,l=a.key,u=a.keyCode,c=void 0===u?0:u,h=a.ctrl,d=void 0!==h&&h,f=a.shift,p=void 0!==f&&f,v=a.alt;return d===n&&p===i&&(void 0!==v&&v)===r&&(e.keyToCode[l]===s||l.toLowerCase()===o.toLowerCase()||c===s)}));u&&u.cb(),s==p.keys.F5&&t.preventDefault()}},getShortcutList:function(){return[].concat(v)}}}.call(e,n,e,t))||(t.exports=i)},8935:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i,r=n(6486),o=n(8880),a=n(7812),s=n(9032),l=n(82),u={slides:{},scenes:{}},c=function(t){var e=t.viewed,n=t.total;return 0===n?"":"".concat((100*e/n).toFixed(0),"%")},h=a.varTypes,d=h.NUM,f=h.STRING,p=[{name:"menuSlidesViewed",update:function(t){return t.menu.viewed},type:d},{name:"menuTotalSlides",update:function(t){return t.menu.total},type:d},{name:"menuProgress",update:function(t){var e=t.menu;return c(e)},type:d},{name:"menuSectionSlidesViewed",update:function(t,e,n){var i=t.section;return(0,n.menuInclude)(i.viewed)},type:d},{name:"menuSectionTotalSlides",update:function(t,e,n){var i=t.section;return(0,n.menuInclude)(i.total)},type:d},{name:"menuSectionProgress",update:function(t,e,n){var i=t.section;return(0,n.menuInclude)(c(i))},type:d},{name:"projectSlidesViewed",update:function(t){return t.project.viewed},type:d},{name:"projectTotalSlides",update:function(t){return t.project.total},type:d},{name:"projectProgress",update:function(t){var e=t.project;return c(e)},type:d},{name:"sceneSlidesViewed",update:function(t){return t.scene.viewed},type:d},{name:"sceneTotalSlides",update:function(t){return t.scene.total},type:d},{name:"sceneProgress",update:function(t){var e=t.scene;return c(e)},type:d},{name:"menuSectionsViewed",update:function(t){return t.viewedSectionCount},type:d},{name:"projectScenesViewed",update:function(t){return t.viewedSceneCount},type:d},{name:"menuSlideNumber",update:function(t,e,n){var i=e.menuSlideNumber;return(0,n.menuCountInclude)(i)},type:d},{name:"menuSlideTitle",update:function(t,e){return e.menuSlideTitle},type:f},{name:"menuSlideReference",update:function(t,e){return e.menuSlideReference},type:f},{name:"menuSectionNumber",update:function(t,e,n){var i=e.menuSection;return(0,n.menuInclude)(i)},type:d},{name:"menuSectionSlideNumber",update:function(t,e,n){var i=e.menuSectionSlideNumber;return(0,n.menuCountInclude)(i)},type:d},{name:"menuTotalSections",update:function(){return u.menuTotalSections},type:d},{name:"projectSlideNumber",update:function(t,e,n){var i=e.slideNumberInProject;return(0,n.projectInclude)(i)},type:d},{name:"projectSlideTitle",update:function(t,e){return e.slide.title()},type:f},{name:"projectSlideReference",update:function(t,e,n){var i=e.slideNumberInScene,r=n.sceneNumber;return"".concat(r,".").concat(i)},type:f},{name:"projectTotalScenes",update:function(){return u.sceneCount},type:d},{name:"projectSceneNumber",update:function(t,e,n){var i=n.sceneNumber;return 0===i?"":i},type:d},{name:"sceneSlideNumber",update:function(t,e,n){var i=e.slideNumberInScene;return(0,n.projectInclude)(i)},type:d},{name:"currentSlideId",update:function(t,e){return e.slide.id},type:f}],v=function(){var t=i.getCurrentWindowSlide();if(null!=t){var n=t.getScene();if(!n.isMessageScene()){var a=u.slides[t.absoluteId],l=e.variables(),c=function(t){var e=t.getScene(),n=u.slides[t.absoluteId].menuSection,i=new Set,o=new Set,a={total:0,viewed:0},s={total:0,viewed:0},l={total:0,viewed:0},c={total:0,viewed:0};return r.forEach(u.slides,(function(t){var r=t.slide.viewed;t.slide.includeInSlideCounts()&&(a.total++,r&&(a.viewed++,i.add(t.scene)),t.scene===e&&(s.total++,r&&s.viewed++)),null!=t.menuSection&&t.slide.includeInSlideCounts()&&(l.total++,r&&(l.viewed++,o.add(t.menuSection)),t.menuSection===n&&(c.total++,r&&c.viewed++))})),{viewedSceneCount:i.size,viewedSectionCount:o.size,project:a,scene:s,menu:l,section:c}}(t),h={sceneNumber:n.sceneNumber(),menuInclude:null!=a.menuSection?function(t){return t}:function(t){return""},projectInclude:t.includeInSlideCounts()?function(t){return t}:function(t){return""},menuCountInclude:null!==a.menuSection&&t.includeInSlideCounts()?function(t){return t}:function(t){return""}};p.forEach((function(t){var e=t.name,n=t.update;return l.get(e).value(n(c,a,h))})),s.trigger(o.slide.SLIDE_NUMBERS_UPDATED)}}},g=function(t,e){var n=0,i=0;u.slides={};var o=function(t,e){var n=function(t){var e=t.getSlideDraw();return null!=e?e.slideNumberInScene()+t.index():t.slideNumberInScene()};return n(t)-n(e)};t.scenes().forEach((function(t){if(!t.isMessageScene()){var e=0;t.getAllSlides().sort(o).forEach((function(i){u.slides[i.absoluteId]={slideNumberInProject:i.includeInSlideCounts()?++n:0,slideNumberInScene:i.includeInSlideCounts()?++e:0,slide:i,scene:t},u.scenes[t.absoluteId]={slideCount:e}})),0!==t.sceneNumber()&&i++}})),u.sceneCount=i;var a=0,s=function t(e,n,i,o,s){var c=u.slides[e.slideid];return null!=c&&(c.menuSlideNumber=c.slide.includeInSlideCounts()?++a:0,c.menuSlideTitle=l.decodeHtml(e.displaytext),c.menuSlideReference=o,c.menuSectionSlideNumber=c.slide.includeInSlideCounts()?i++:0,c.menuSection=s),r.forEach(e.links,(function(e,r){i=t(e,n+1,i,"".concat(o,".").concat(r+1),s)})),i},c=0;(e||[]).forEach((function(t,e){s(t,1,1,c=e+1,c)})),u.menuTotalSections=c};return{initialize:function(t,n,r){e=n.playerVars(),i=t,g(n,r),s.on(o.slide.HAS_MOUNTED,v),s.on(o.window.CLOSING,v),s.on(o.draw.RESET_COMPLETE,(function(){return g(n,r)}))},getPlayerVariables:function(){return p.map((function(t){var e=t.name,n=t.type;return function(t,e,n){return{kind:"variable",name:t,type:e,value:n,resume:!1}}(e,n,n===d?0:"")}))}}}.call(e,n,e,t))||(t.exports=i)},2972:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=n(82),r=n(1251),o=n(8579),a=e.partialRight(r.hasClass,"draggable"),s=e.partialRight(r.hasClass,"hidden"),l=e.partialRight(r.hasClass,"rotatable"),u=e.partialRight(r.hasClass,"slideable-parent"),c=function(t){return r.hasClass(t,"is-scrollable")||r.hasClass(t,"scrollarea-scrollbar")},h=function(t){return r.hasClass(t,"three-sixty-image")},d=function(t,e){return!!e(t)||!!r.closest(t,e)},f=function(t){return t.scrollHeight>t.offsetHeight||r.hasClass(t,"scrollarea-scrollbar")},p=function(t){return t.hasAttribute("data-double-click")},v=e.partialRight(d,(function(t){return c(t)&&f(t)})),g=e.partialRight(d,(function(t){return l(t)})),m=e.partialRight(d,(function(t){return s(t)})),y=e.partialRight(d,(function(t){return a(t)})),b=e.partialRight(d,(function(t){return u(t)})),w=function(t){return r.hasClass(t,"eventable")},S=e.partialRight(d,(function(t){return w(t)})),A=function(t,e){var n,i;return t.objects().forEach((function(t,r){var o,a=null!=e?e.refs["obj"+r]:t.currView,s=a&&a.getFocusTarget();null!=s&&(o=s.props.model.prop("tabIndex"),s.isFocusable()&&s.isVisible()&&(null==i||i>o)&&(i=o,n=a))})),n};return{isRelated:d,needsToScroll:f,isScrollable:c,isScrollRelated:function(t){return c(t)?f(t):v(t)},isDraggable:a,isDraggableRelated:y,isEventable:w,isEventableRelated:S,isRotatable:l,isRotatableRelated:g,isSlideableRelated:b,isDoubleClickRelated:function(t){return p(t)||d(t,p)},activeMobileMenuItem:function(t,e){o.deviceView.isClassicMobile&&(0===i.getPath(t,"length",0)?document.body.classList.add(e):document.body.classList.remove(e))},isThreeSixtyImageRelated:function(t){return d(t,h)},isMobileSlide:function(t){return o.deviceView.isMobile&&!t.props.isMessageWindow},getGroupFocusTarget:function(t){var e=t.props.parent;if(!o.deviceView.isMobile)return e.isFocusable()?e:A(t.props.model,t)},removeEngageBorder:function(){var t=r.getParentFrame();null!=t&&t.classList.remove("webobject-engage")},getChildAtLowestTabIndex:A,isHiddenRelated:m}}.call(e,n,e,t))||(t.exports=i)},9995:function(t,e,n){var i;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}void 0===(i=function(t){"use strict";var e=n(520),i=n(7812),o=n(6486),a=n(4481),s=n(9032),l=n(8579),u=l.device.isMobile,c=l.theme.isUnified,h=document.createElement("div"),d=function(t,e){return'<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8" /> <link rel="stylesheet" href="html5/lib/stylesheets/'.concat(u?"mobile":"desktop",'.min.css" /> <link rel="stylesheet" href="html5/data/css/output.min.css" /> <style>* { margin: 0; padding: 0; pointer-events: none !important; } .slide-thumb { position: absolute; left: 0; top: 0; width: ').concat(t,"px; height: ").concat(e,'px; } </style> </head> <body> <div class="slide-thumb">')},f=function(t,e){return'</div> <script> (function() { var slide = document.querySelector(".slide-thumb"), topLeft = "0 0", scaleValue; slide.style.WebkitTransformOrigin = topLeft; slide.style.MozTransformOrigin = topLeft; slide.style.MsTransformOrigin = topLeft; slide.style.transformOrigin = topLeft; var scale = function() { var winH = window.innerHeight, winW = window.innerWidth, slideH = '+e+", slideW = "+t+', xScale = winH / slideH, yScale = winW / slideW, nextScaleValue = Math.min(xScale, yScale); if (scaleValue !== nextScaleValue) { scaleValue = nextScaleValue; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.transform = "scale(" + scaleValue + ")"; } }; window.addEventListener("resize", scale); scale(); })(); <\/script> </body></html>'},p=/data-reactid="(.*?)"/g,v=/(-webkit-|-moz-|-ms-)?transform(-origin)?:\s*([^;]*);/g;return{createVideoThumb:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),i=parseFloat(t.parentNode.style.width),r=parseFloat(t.parentNode.style.height);return(isNaN(i)||isNaN(r))&&(i=parseFloat(t.parentNode.parentNode.style.width),r=parseFloat(t.parentNode.parentNode.style.height)),e.width=i,e.height=r,n.drawImage(t,0,0,e.width,e.height),{uri:e.toDataURL("image/jpeg",.8),src:t.src}},addVideoImageThumbs:function(t,e){var n=r(t).map(this.createVideoThumb).reduce((function(t,e){return t[e.src]=e.uri,t}),{});return e.replace(/<video(.*?)<\/video>/g,(function(t){h.innerHTML=t;var e=h.querySelector("video").src;return h.innerHTML="",'<img src="'.concat(n[e],'" />')}))},addCanvasThumbs:function(t,e){return e.replace(/<canvas(.*?)<\/canvas>/g,(function(t){h.innerHTML=t;var e=h.querySelector("canvas");if("360-image"!==e.dataset.canvasType)return h.innerHTML="",t;var n=e.id,i=o.pick(e.style,["width","height"]);h.innerHTML="",s.trigger("forceRender",n);var r=document.getElementById(n);return'<img src="'.concat(r.toDataURL("image/jpeg",.8),'" style="width: ').concat(i.width,"; height: ").concat(i.height,';" />')}))},generate:function(){var t,n,r,o,s,l,h=e.getCurrentWindow().getCurSlide(),g="",m=u||c?a.getWindowScale():a.getScale();if(null!=h){t=h.el.innerHTML,n=h.props.model.get("width"),r=h.props.model.get("height"),t=t.replace(p,"").replace(v,"-webkit-transform$2: $3; -moz-transform$2: $3; -ms-transform$2: $3; transform$2: $3;"),(l=document.getElementById("slide").querySelectorAll("video")).length>0&&(t=this.addVideoImageThumbs(l,t));var y=document.querySelectorAll("[data-canvas-type='360-image']");return y.length>0&&(t=this.addCanvasThumbs(y,t)),s=function(t){var e;if(null!=t)return(e=document.createElement("div")).id="lib",e.setAttribute("class","offscreen"),e.innerHTML=t.innerHTML,[e.querySelector("#video-pen"),e.querySelector("#presentation-canvas"),e.querySelector("#zoomimage-container"),e.querySelector("canvas")].forEach((function(t){null!=t&&t.parentNode.removeChild(t)})),e}(o=document.getElementById(i.els.LIB)),null!=o&&(g=s.outerHTML.replace(p,"")),{width:n,height:r,html:[d(n*m,r*m),t,g,f(n*m,r*m)].join("")}}return{html:null}}}}.call(e,n,e,t))||(t.exports=i)},9447:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6486),i=n(5485),r=n(6334),o=n(82),a=n(118),s=n(3563),l=n(1419),u=n(4811);return e.extend({initialize:function(){this.addSubscriptions()},ensureSlideIsSlide:function(t){return t.isScene&&(t=this.getStartingSlide(t)),t.isSlideDraw&&(t=o.getPath(t.slides(),"first")),t},getSlide:function(t,e){var n=a.isRelativePath(t)?e:DS.presentation,i=a.resolvePath(t,n,{optional:!0});return null!=i&&(i=this.ensureSlideIsSlide(i)),i},getRef:function(t){var e=DS.presentation.slideMap().slideRefs();return e.get(t.fullId())||e.get(t.id)},getStartingSlide:function(t){return a.resolvePath(t.startingSlide(),DS.presentation)},getEntrypoint:function(){return DS.presentation.entryPoint()},loadSlide:function(t,n){var i=e.isString(t)?this.getSlide(t,n):t,r=l.multiLangSupport?u.promiseToVow(Promise.all([i.load(this.getRef(i)),s.loadSlideData(i.id)])):i.load(this.getRef(i));return DS.presentation.slideMap().setCurrentSlide(i.absoluteId),r},getSlideFromIndices:function(t,e){return DS.presentation.scenes().at(t).slides().at(e)},getDrawFromIndices:function(t,e,n){return DS.presentation.scenes().at(e).slidedraws().at(t).slides().at(n)}},i.Events,r)}.call(e,n,e,t))||(t.exports=i)},1681:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i=n(8939),r=n(7812),o=n(6486),a=/(%[^%^\^^\s]+%)/g,s=[{find:/\^%\^/g,replace:"%"},{find:/\^\^/g,replace:"^"}];return{initialize:function(t){e=t},reInit:function(t){e.frame.stringTables[e.currLayout.string_table].string=t},getString:function(t,n){var o=e&&(t===r.strings.PROJECT_TITLE?e.title.text:e.getString(t));return null==o&&(o=t.replace(/_/g," "),i.throwErrorSoft("getString","could not resolve the string",i.backtick(t))),null!=n&&(o=this.replaceTokens(o,n)),o},replaceTokens:function(t,e){return function(t){if(null==t)return[""];var e=t.split(a);return e.length<=1?[t]:o.compact(e)}(t).map((function(t){return"%"!==o.first(t)||"%"!==o.last(t)?(n=t,s.reduce((function(t,e){return t.replace(e.find,e.replace)}),n)):e[t.substr(1,t.length-2)];var n})).join("")}}}.call(e,n,e,t))||(t.exports=i)},7097:function(t,e,n){var i;i=function(t){"use strict";var e=n(6486),i=n(82),r=n(7812),o=r.XMLNS_XLINK,a=r.XMLNS,s=r.math.TWO_PI,l=function(t,n,i){var r,o,a=(o=e.slice(arguments,3),function(){return e.toArray(arguments).concat(o)});return r=n.apply(null,a(i)),r=t.apply(null,a(a,n,r,i))},u=e.partial(l,(function(t,n,i){return i.children&&!i.children.skipTraversal&&(i.children=i.children.map((function(i){if(e.isString(i))return i;var r=t(n,i);return u.apply(null,r)}))),i})),c={isNodeOfType:function(t,e){var n;return e&&(n=e.tagName||e.nodeType),!!n&&t.toLowerCase()===n.toLowerCase()},svgPrefix:function(t){return[r.SVG_NODE_PREFIX,t].join(r.NODE_DELIMITER)},buildTransformFromConfigFn:function(t){var e=t.args.slice();return e.unshift(t.type),c.buildTransformFn.apply(this,e)},buildTransformFn:function(t){for(var n=arguments.length,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r];return[t,"(",e.tail(i).join(", "),")"].join("")},buildTransformConfig:function(t){return{type:t,args:e.tail(arguments)}},applyTransformTo:function(t,e){return t.transform=[e],t},getTransformOf:function(t){return t.transform=t.transform||[],t.transform},transformNodeConfig:function(t,n){e.isFunction(t.beforeStart)&&t.beforeStart();var i=u.apply(null,arguments);return e.isFunction(t.afterFinish)&&(i=t.afterFinish(i)),i},getFromNodeConfig:e.partial(l,(function(t,e,n,i){return null!=n&&!1!==n||!i.children||i.children.every((function(i){var r=t(e,i),o=c.getFromNodeConfig.apply(null,r);return null==o||!1===o||(n=o,!1)})),n})),getFullSvgConfig:function(t,n,r,s){var l={height:(n.fullHeight+Math.ceil(n.strokewidth/2))*s,width:(n.fullWidth+Math.ceil(n.strokewidth/2))*s},u={nodeType:"svg",xmlns:a,"xmlns:xlink":o,"data-xmlns-xlink":o,version:"1.1",baseprofile:"full",height:n.fullHeight*s,width:n.fullWidth*s,focusable:"false",viewBox:[n.fullX,n.fullY,n.fullWidth,n.fullHeight].join(" "),children:[t],"data-commandset-id":r,"data-accepts":"events",ref:e.uniqueId("ref-")};return l.transform=c.transformTranslate(i.pxify(n.fullX*s),i.pxify(n.fullY*s)),{nodeType:"div",className:"slideobject-maskable",style:l,children:[u]}},createSvgNode:function(t,e){var n=document.createElementNS(a,"svg");return n.setAttribute("width",t),n.setAttribute("focusable","false"),n.setAttribute("height",e),n},getFirstTransformOfType:function(t,n){return e.find(n,{type:t})},buildUrl:function(t){return["url(#",t,")"].join("")},createElement:function(t){return document.createElementNS(a,t)},rectPath:function(t,e,n,i){var r=t+n,o=e+i;return["M",t,e,"L",r,e,r,o,t,o].join(" ")},ellipsePath:function(t,e,n,i){var r=2*n;return["M",t,e,"m",-n,0,"a",n,i,0,1,0,r,0,"a",n,i,0,1,0,-r,0].join(" ")},diamondPath:function(t,e,n,i){var r=n/2+t,o=i/2+e;return["M",r,e,"L",n+t,o,r,i+e,t,o].join(" ")},rightRoundedRectPath:function(t,e,n,i,r){return["M",t,e,"h",n-r,"a",r,r,"0 0 1",r,r,"v",i-2*r,"a",r,r,"0 0 1",-r,r,"h",r-n,"z"].join(" ")},wheelPath:function(t,e,n,r,o,a){if(null==o)return"";r=i.degToRad(r),(o=i.degToRad(o))===s&&(o=s-1e-5),a&&0===o&&(o+=1e-5);var l=o-r>Math.PI?1:0;return["M",t,e,"l",i.fix(n*Math.cos(r),4),i.fix(n*Math.sin(r),4),"A",n,n,0,a?1^l:l,a?0:1,i.fix(t+n*Math.cos(o),4),i.fix(e+n*Math.sin(o),4),"z"].join(" ")}};return c.getFirstTranslate=e.partial(c.getFirstTransformOfType,"translate"),c.getFirstRotate=e.partial(c.getFirstTransformOfType,"rotate"),c.getFirstScale=e.partial(c.getFirstTransformOfType,"scale"),c.buildTranslateConfig=e.partial(c.buildTransformConfig,"translate"),c.buildRotateConfig=e.partial(c.buildTransformConfig,"rotate"),c.buildScaleConfig=e.partial(c.buildTransformConfig,"scale"),c.isImageNode=e.partial(c.isNodeOfType,"image"),c.isPatternNode=e.partial(c.isNodeOfType,"pattern"),c.isDefsNode=e.partial(c.isNodeOfType,"defs"),c.isUseNode=e.partial(c.isNodeOfType,"use"),c.isPathNode=e.partial(c.isNodeOfType,"path"),c.isTextNode=e.partial(c.isNodeOfType,"text"),c.isTspanNode=e.partial(c.isNodeOfType,"tspan"),c.transformScale=e.partial(c.buildTransformFn,"scale"),c.transformRotate=e.partial(c.buildTransformFn,"rotate"),c.transformTranslate=e.partial(c.buildTransformFn,"translate"),c.transformTranslateX=e.partial(c.buildTransformFn,"translateX"),c.scaleFromCenter=function(t,e){return null==e&&(e=t),[c.transformTranslate(.5,.5),c.transformScale(t,e),c.transformTranslate(-.5,-.5)].join(" ")},c.getDefsNode=e.partial(c.getFromNodeConfig,(function(t){if(c.isDefsNode(t))return t})),c}.call(e,n,e,t),void 0===i||(t.exports=i)},2075:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i=n(6486),r=n(1251),o=n(82),a=n(9032),s=n(9229),l=(n(4481),n(8579)),u=n(8939),c=n(8880),h=n(7812),d=n(7510),f=d.addWindowListener,p=d.addDocumentListener,v=1.2,g={sidebarOpen:!0,tryToSelect:function(t,e){var n=t.querySelector(e);return null==n&&u.throwError("tabFocusBox","invalid focus rule selector: ",e),n},focusRuleConfig:{VectorSlideObject:function(t){return g.tryToSelect(t,"svg g")},ImageSlideObject:function(t){return g.tryToSelect(t,"img")},VideoSlideObject:function(t){return g.tryToSelect(t,".video-slide-object")},ResourcesList:function(t){return t.parentNode}},defaultOffsets:{x:0,y:0,width:0,height:0},focusOffsetConfig:{PlayPauseButton:{x:-1,y:-3,width:0,height:0},PlaybackResetButton:{x:0,y:-2,width:0,height:0},PlaybackProgress:{x:0,y:0,width:0,height:-5},SequenceCtrlDrop:{x:30,y:0,width:0,height:0}},onAncestorHidden:function(){this.hide()},listenForHide:function(t){"SlideObject"===t.displayName&&(t.props.model.forEachAncestor(function(e){"SlideObject"===o.getPath(this,"lastItemFocused.displayName")&&(this.lastItemFocused.stopListening(e,"hidden",m),this.lastItemFocused.stopListening(this.lastItemFocused.props.model,"hidden",m)),(e.isSlideObject||e.isSlideLayer)&&t.listenTo(e,{hidden:m})}.bind(this)),t.listenTo(t.props.model,{hidden:m}))},show:function(t){null!=t&&(l.theme.isClassic||(this.handleSearch(t),this.sidebarOpen||this.isInSidebar(t),this.handleTopTabsDrop(t)),this.update(t),this.listenForHide(t),this.lastItemFocused=t)},handleTopTabsDrop:function(t){t&&t.el&&r.hasClass(t.el,"topmenu-item")&&null!=t.el.parentNode&&r.hasClass(t.el.parentNode,"top-tabs-drop")&&a.trigger(c.topTabs.OPEN_DROPDOWN,t)},handleSearch:function(t){"INPUT"===o.getPath(t,"tagName")&&r.hasClass(t,"search-input-element")&&a.trigger(c.search.SHOW)},isInSidebar:function(t){var e;null!=t.parentNode?e=t:null!=o.getPath(t,"el.parentNode")&&(e=t.el),null!=e&&!!r.closest(e,(function(t){return r.hasClass(t,"area-secondary")}))&&(a.trigger(c.sidebar.FORCE_OPEN),setTimeout(function(){this.update(t)}.bind(this),h.ANIMATION_DURATION))},updateLastFocusItem:function(){this.lastItemFocused&&this.update(this.lastItemFocused)},hide:function(){null!=this.borderEl&&(this.borderEl.style.display="none"),this.lastItemFocused=null,this.isShown=!1},getOrCreateBorder:function(){return null!=this.borderEl||(this.borderEl=document.createElement("div"),this.borderEl.setAttribute("class","tab-focus-box"),r.setStyles(this.borderEl,{position:"absolute",left:0,top:0,border:"3px solid yellow","pointer-events":"none","z-index":99999})),this.borderEl},slideObjectShouldUseCss:function(t){return"TextInputSlideObject"===o.getPath(t,"refs.innard.displayName")||t.decorators&&null!=t.decorators.slideable||!l.theme.isClassic&&r.hasClass(t.el,"glossary-child")},domElShouldUseCss:function(t){return t.parentNode&&r.hasClass(t.parentNode,"search-clear")||r.hasClass(t,"lightbox-close-btn")||!l.theme.isClassic&&r.hasClass(t,"search-input-element")||r.closest(t,(function(t){return r.hasClass(t,"lightbox")}))},update:function(t){var e,n,a,l,u,c,h,d,f,p=this.getOrCreateBorder(),v=0,g=0,m={left:0,top:0},y=this.defaultOffsets,b=0;if(null!=t.displayName){if(v+=(y=this.focusOffsetConfig[t.displayName]||this.defaultOffsets).x,g+=y.y,this.slideObjectShouldUseCss(t))return void this.hide();e=t.el,h=null!=o.getPath(t,"refs.innard")?t.refs.innard.displayName:t.displayName,e=(this.focusRuleConfig[h]||i.identity)(e)}else{if(this.domElShouldUseCss(t))return void this.hide();e=t}a=e.getBoundingClientRect(),(l=r.isWithinSlide(e))?(m=(n=(c=s.windowManager.getCurrentWindow().getCurSlide()).el).getBoundingClientRect(),b=4,n.querySelector(".slide-top-container-main").appendChild(p)):((d=document.querySelector("#app-top-container")).appendChild(p),m=d.getBoundingClientRect()),0!==a.width&&0!==a.height?(u=2*b,(f=i.mapValues(this.constrainToSlide(l,c,{left:a.left-m.left+v-b,top:a.top-m.top+g-b,width:a.width+y.width+u,height:a.height+y.height+u}),o.pxify)).display="block",r.setStyles(p,f),this.isShown=!0):this.hide()},constrainToSlide:function(t,e,n){if(!t)return n;var i=e.props,r=e.props.winScale,o=i.model.get("width")*r,a=i.model.get("height")*r,s=n.left+n.width-o,l=n.top+n.height-a,u=n.left,c=n.top;return s>0&&(n.width-=s-v),l>0&&(n.height-=l-v),u<0&&(n.width+=n.left,n.left=-1.2),c<0&&(n.height+=n.top,n.top=-1.2),n}},m=g.onAncestorHidden.bind(g);return l.theme.isClassic||(a.on(c.topbar.CLOSED_SIDEBAR,(function(){g.sidebarOpen=!1})),a.on(c.topbar.OPENED_SIDEBAR,(function(){g.sidebarOpen=!0})),p("mousedown",(function(){clearTimeout(e),g.hide()})),f("resize",(function(){clearTimeout(e),null!=g.borderEl&&(g.borderEl.style.display="none",e=setTimeout((function(){g.borderEl.style.display="block",g.updateLastFocusItem()}),h.ANIMATION_DURATION))}))),g}.call(e,n,e,t))||(t.exports=i)},6936:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(6194),i=n(9032),r=n(8880);(e.detectVisibilityChange||function(){document.addEventListener("visibilitychange",(function(t){i.trigger(r.detection["VISIBILITY_"+(document.hidden?"HIDDEN":"SHOWN")])}),!1)})()}.call(e,n,e,t))||(t.exports=i)},2816:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}void 0===(i=function(t){var e=n(6486),i=n(9032),r=n(8880),a=n(3716),s=n(7954),l=s.parseFontFamily,u=s.parseFontThemeType,c=/\<(span|ol|ul|li|blockquote)\/?\>/i;return function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.bindAll(this,"onEditorKeyDown","onContentPasted","onContentChanged")}var n,s,h;return n=t,(s=[{key:"setEditMode",value:function(t){this.editMode=t,this.editMode?(this.contentEl.setAttribute("contentEditable","true"),this.contentEl.addEventListener("input",this.onContentChanged),this.contentEl.addEventListener("keydown",this.onEditorKeyDown),this.contentEl.addEventListener("paste",this.onContentPasted),this.contentEl.addEventListener("formatMessage",this.onContentChanged)):(this.contentEl.removeAttribute("contentEditable"),this.contentEl.removeEventListener("input",this.onContentChanged),this.contentEl.removeEventListener("keydown",this.onEditorKeyDown),this.contentEl.removeEventListener("paste",this.onContentPasted),this.contentEl.removeEventListener("formatMessage",this.onContentChanged))}},{key:"destroy",value:function(){this.removeListeners(),this.setEditMode(!1),this.el.parentElement&&this.el.parentElement.removeChild(this.el)}},{key:"isEmptyOrWhitespace",value:function(t){return""===t.innerText.trim()&&!c.test(t.innerHTML)}},{key:"clearWhitespace",value:function(t){this.isEmptyOrWhitespace(t)&&(t.innerHTML="")}},{key:"onEditorKeyDown",value:function(t){(function(t){return t.ctrlKey&&(66===t.which||85===t.which||73===t.which||67===t.which||88===t.which||86===t.which||90===t.which)})(t)&&t.preventDefault(),this.contentEl.textContent.length>=this.props.body.maxChars&&!a.isNonInputKey(t.which)&&t.preventDefault()}},{key:"onContentPasted",value:function(t){t.preventDefault();var e=this.contentEl.textContent.length;if(!(e>=this.props.body.maxChars)){var n=(t.clipboardData||window.clipboardData).getData("Text"),i=document.getSelection(),r=i.getRangeAt(0),o=this.props.body.maxChars,a=document.createTextNode(n.substr(0,o-e));r.deleteContents(),r.insertNode(a),r.selectNodeContents(a),r.collapse(!1),i.removeAllRanges(),i.addRange(r),this.onContentChanged(t)}}},{key:"contentChangedHook",value:function(){}},{key:"onContentChanged",value:function(t){this.updateTextData(this.props.body,this.contentEl),this.clearWhitespace(t.currentTarget),this.contentChangedHook(),i.trigger(r.threeSixtyImage.MARKER_UPDATED,this.marker)}},{key:"updateTextData",value:function(t,e){t.innerHTML=e.innerHTML,t.style.fontFamily=l(e.style.fontFamily),t.style.fontSize=parseFloat(e.style.fontSize),t.style.fontThemeType=u(e.dataset.fontThemeType)}}])&&o(n.prototype,s),h&&o(n,h),Object.defineProperty(n,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},6485:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}i=function(t){var e=THREE,i=e.Line2,r=e.LineMaterial,a=e.LineGeometry,s=n(9045).modes,l=n(1815).navigation,u=n(3163).FOCUS_ON_TITLE,c=n(7954).overlayColor,h=512,d=n(7812).math.TWO_PI;function f(t,e,n,i){var r,o,a,s={x:0,y:0},l=i.x-n.x,u=i.y-n.y,c=e.x-t.x,h=e.y-t.y,d=t.x-n.x,f=t.y-n.y;return r=l*f-u*d,o=c*f-h*d,o/=a=u*c-l*h,(r/=a)>=0&&r<=1&&o>=0&&o<=1?(o=t.y+r*h,r=t.x+r*c,s.x=r,s.y=o):s=null,s}if(null!=THREE&&null!=THREE.Vector3){var p=new THREE.Vector3(0,0,0),v=function(){function t(e){var n=e.layer,i=e.pano,o=e.point,a=e.marker,s=e.finishedFn;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layer=n,this.layer.hotspots.push(this),this.pano=i,this.points=[],this.points2d=[],this.marker=a,this.marker.polyHotspot=this,this.startPoint=o,this.pointCalls=0,this.isVisible=!0,this.finishedFn=s,this.sprites=[],this.spriteMaterial=new THREE.SpriteMaterial({color:"#ffffff",sizeAttenuation:!1}),this.spriteMaterial.depthTest=!1,this.meshMaterial=new THREE.MeshBasicMaterial({color:this.pano.hotspotColor,opacity:.4,transparent:!0,depthTest:!1,side:THREE.DoubleSide}),this.borderMaterial=new r({color:this.pano.hotspotColor,resolution:new THREE.Vector2(200,200),linewidth:.8,transparent:!0}),this.color=this.pano.hotspotColor,this.pano.editMode||(this.opacity=0,this.visible=!1,this.visited=this.marker.visited)}var e,n,v;return e=t,n=[{key:"cntrlPointText",value:function(){var t,e,n;return e=(t=document.createElement("canvas")).getContext("2d"),t.width=32,t.height=32,e.fillStyle="white",e.strokeStyle="gray",e.lineWidth=4,e.fillRect(0,0,t.width,t.height),e.strokeRect(0,0,t.width,t.height),{tex:n=new THREE.CanvasTexture(t),ctx:e,mat:new THREE.SpriteMaterial({map:n,sizeAttenuation:!1}),width:t.width,height:t.height}}},{key:"createPulseSpriteCanvas",value:function(){var t=this,e=document.createElement("canvas"),n=e.getContext("2d"),i=new THREE.CanvasTexture(e);e.width=h,e.height=h;var r=e.width/4-50,o=e.width/2,a=e.height/2,s=0,l=.5,u=.5,c=window.performance.now();return window.requestAnimationFrame((function e(f){var p=(f-c)/16;c=f;var v=60+25*Math.sin(s),g=10*Math.sin(s+d);if(s+=.025*p,u=t.isHovered||t.isBlinking?0:.5,l<u?l=Math.min(l+.025*p,u):l>u&&(l=Math.max(l-.025*p,u)),n.clearRect(0,0,h,h),t.isClickable()){n.fillStyle="transparent",n.strokeStyle="rgba(255, 255, 255, ".concat(l,")"),n.lineWidth=35+g/2;var m=2*(r+v),y=m;n.strokeRect(o-m/2,a-y/2,m,y)}i.needsUpdate=!0,t.destroyed||window.requestAnimationFrame(e)})),new THREE.SpriteMaterial({map:i,sizeAttenuation:!1,depthTest:!1})}},{key:"createPulseSprite",value:function(){if(!this.pano.editMode&&this.pano.hotspotReveal&&this.pano.pulseHotspots){var t=this.getCenterPoint(this.shapeMesh);this.pulseSprite=new THREE.Sprite(this.createPulseSpriteCanvas()),this.pulseSprite.position.copy(t),this.pulseSprite.scale.set(.25,.25,.25),this.pulseSprite.renderOrder=10,this.pano.scene.add(this.pulseSprite)}}},{key:"visited",get:function(){return this.isVisited},set:function(t){if(!this.pano.editMode){var e=c(this.pano.hotspotColor,"#000000",.5);this.isVisited&&this.color==e||(this.isVisited=t,this.isVisited&&(null!=this.pulseSprite&&(this.pano.scene.remove(this.pulseSprite),this.pulseSprite=null),this.selected||this.isHovered?TweenLite.to(this,1.1,{color:e,ease:"power4.out"}):this.color=e))}}},{key:"color",get:function(){return this.hotspotColor},set:function(t){this.hotspotColor=t,this.meshMaterial.color.set(t),this.borderMaterial.color.set(t)}},{key:"mouseOverMobile",value:function(t){this.marker.triggerMouseOver(t)}},{key:"mouseOver",value:function(t){this.isHovered=!0,this.marker.triggerMouseOver(t),!this.pano.editMode&&this.pano.hotspotReveal&&this.isClickable()&&!this.selected&&(TweenLite.killTweensOf(this),this.tweenOpacityTo(1,.3))}},{key:"mouseOut",value:function(){if(this.isHovered&&this.marker.triggerMouseOut(),this.isHovered=!1,!this.pano.editMode)if(this.selected){if(null!=this.marker.panel&&this.marker.panel.shown)return;this.deselect()}else TweenLite.killTweensOf(this),this.tweenOpacityTo(0,1.1)}},{key:"disablePulse",value:function(){this.pulseSprite&&(this.pano.scene.remove(this.pulseSprite),this.pulseSprite=null)}},{key:"enablePulse",value:function(){this.pulseSprite||this.createPulseSprite()}},{key:"select",value:function(){this.selected?this.pano.editMode||!this.marker.props.hasPanel||null==this.marker.panel||this.marker.panel.shown||this.deselect():(this.selected=!0,this.pano.editMode&&(this.pano.mode!==s.SET_INITIAL_CAMERA_ANGLE&&(this.pointsGroup.visible=!0),this.layer.lastActiveHotspot=this),!this.pano.editMode&&this.isClickable()&&(this.disablePulse(),this.setBorderThick(),TweenLite.killTweensOf(this),this.tweenOpacityTo(1,.3)))}},{key:"setBorderThick",value:function(){this.borderMaterial.linewidth=1.1}},{key:"setBorderThin",value:function(){this.borderMaterial.linewidth=.8}},{key:"deselect",value:function(){!this.selected||!this.pano.editMode&&null!=this.marker.panel&&this.marker.panel.shown||(this.selected=!1,this.pano.editMode&&(this.pointsGroup.visible=!1,this.outOnAll(!0)),this.pano.editMode||(this.marker.visited&&(this.visited=!0),this.setBorderThin(),this.isHovered||(TweenLite.killTweensOf(this),this.tweenOpacityTo(0,1.1))))}},{key:"blink",value:function(){var t=this;this.pano.editMode||!this.isClickable()||this.selected||(TweenLite.killTweensOf(this),this.isBlinking=!0,this.marker.visited&&(this.visited=!0),this.tweenOpacityTo(1,.6,(function(){t.isHovered||t.tweenOpacityTo(0,.6,(function(){t.isBlinking=!1}))})))}},{key:"opacity",get:function(){return this.borderMaterial.opacity},set:function(t){this.meshMaterial.opacity=.4*t,this.borderMaterial.opacity=t}},{key:"tweenOpacityTo",value:function(t,e,n){var i=this,r=function(){0!==i.opacity||i.canClick||(i.shapeMesh.visible=!1,i.borderMesh.visible=!1)};if(0===e)return this.opacity=t,void r();var o=t<this.opacity;TweenLite.to(this,e,{opacity:t,ease:o?"power4.out":"power1.out",onComplete:function(){n&&n(),r()}})}},{key:"visible",get:function(){return this.isVisible},set:function(t){var e=this.pano.editMode||(this.selected||this.isHovered)&&this.pano.hotspotReveal&&this.isClickable(),n=this.pano.editMode?0:1.2;t?(this.canClick=!0,this.tweenOpacityTo(e?1:0,n),this.marker.ariaHidden(!1)):(this.tweenOpacityTo(0,n),this.marker.ariaHidden(!0)),this.isVisible=t,this.pano.editMode&&(this.pointsObj.visible=t);for(var i=0;i<this.sprites.length;i++)this.sprites[i].visible=t}},{key:"isClickable",value:function(){return!!this.pano.editMode||this.canClick}},{key:"canClick",get:function(){return this.pano.navigation.type===l.FREE||this.canBeClicked},set:function(t){t?(this.shapeMesh.visible=!0,this.borderMesh.visible=!0):this.visible=!1,this.canBeClicked=t,this.marker.setAriaHidden(!t)}},{key:"getFirstPoint",value:function(){return this.firstPointAdded}},{key:"deletePoint",value:function(t){null!=this.points[t]&&(this.meshesToGlobal(),this.points.splice(t,1),this.killSprites(),this.recalcMeshes(!1))}},{key:"delete",value:function(t){if(!this.pointSelected||this.points.length<=3||this.deleteUnfinished||t){this.borderMesh.geometry.dispose(),this.pointsObj.geometry.dispose(),null!=this.shapeMesh&&(this.pano.scene.remove(this.shapeMesh),this.shapeMesh.geometry.dispose());for(var e=0;e<this.sprites.length;e++)this.sprites[e].material.dispose(),this.sprites[e].geometry.dispose(),this.pano.scene.remove(this.sprites[e]);return this.pano.scene.remove(this.borderMesh),this.pano.scene.remove(this.pointsObj),this.pano.scene.remove(this.pointsGroup),!1}return this.deletePoint(this.lastPointIdx),this.pointSelected=!1,this.lastPointIdx=null,!0}},{key:"drawBorderMesh",value:function(){var t=this.points.concat();if(0!=t.length){t.length>1&&t.push(t[0].clone()),this.finished||this.isRectangle||t.pop();for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.x,r.y,r.z)}var o=3*(e.length+1);if(null==this.lineGeom)this.lineGeom=new a,this.lineGeom.setPositions(new Float32Array(o));else{var s=new a;this.lineGeom.setPositions(new Float32Array(o)),this.lineGeom.copy(s)}e.length>0&&this.lineGeom.setPositions(e),null==this.borderMesh?(this.borderMesh=new i(this.lineGeom,this.borderMaterial),this.pano.scene.add(this.borderMesh)):(this.pano.scene.remove(this.borderMesh),this.borderMesh.geometry.dispose(),this.borderMesh=new i(this.lineGeom,this.borderMaterial),this.pano.scene.add(this.borderMesh))}}},{key:"loadData",value:function(t){this.finished=!0,this.points=t.points.map((function(t){return new THREE.Vector3(t.x,t.y,t.z)})),this.createPointObj(),this.pano.editMode||(this.pointsObj.visible=!1),this.drawMesh(),this.drawBorderMesh(),this.originPnt=this.firstPoint=new THREE.Vector3(t.origin.x,t.origin.y,t.origin.z),this.shapeMesh.position.copy(this.firstPoint),this.borderMesh.position.copy(this.firstPoint),this.pointsObj.position.copy(this.firstPoint);var e=new THREE.Quaternion(t.quat.x,t.quat.y,t.quat.z,t.quat.w);this.shapeMesh.quaternion.copy(e),this.borderMesh.quaternion.copy(e),this.pointsObj.quaternion.copy(e),this.pano.scene.remove(this.plane),this.positionControlsPoints(),this.pointsGroup.visible=!1,this.drag(t.dragPoint),(this.pano.editMode||this.pano.navigation.type===l.FREE)&&(this.canClick=!0),this.createPulseSprite()}},{key:"getData",value:function(){if(this.shapeMesh){var t=this.shapeMesh.quaternion,e=t.x,n=t.y,i=t.z,r=t.w;return this.data={points:this.points,origin:this.originPnt,dragPoint:this.originPnt,quat:{x:e,y:n,z:i,w:r}},window.btoa(JSON.stringify(this.data))}}},{key:"killSprites",value:function(){for(var t=0;t<this.sprites.length;t++)this.sprites[t].material.dispose(),this.sprites[t].geometry.dispose(),this.pano.scene.remove(this.sprites[t]);this.sprites=[],this.spriteMap={}}},{key:"drawMesh",value:function(t){var e=this.points.concat();if(this.drawBorderMesh(e),function(t){for(var e=0,n=0;n<t.length;n++){var i=t[n],r=t[(n+1)%t.length];e+=(r.x-i.x)*(r.y+i.y)}return e>0}(e)||(e.reverse(),this.pointsReversed=!0),e.push(e[0].clone()),e.length>2){null!=this.shapeMesh&&(this.shapeMesh.geometry.dispose(),this.pano.scene.remove(this.shapeMesh));var n=new THREE.Shape(e),i=new THREE.ShapeGeometry(n);i.vertices=e,this.shapeMesh=new THREE.Mesh(i,this.meshMaterial),this.shapeMesh.userData.isPolyHotspot=!0,this.shapeMesh.userData.marker=this.marker,this.shapeMesh.userData.hotspot=this,this.shapeMesh.visible=!1,this.pano.scene.add(this.shapeMesh)}if(!t){this.killSprites();for(var r=0;r<e.length-1;r++){var o=this.cntrlPointText();o.mat.depthTest=!1;var a=new THREE.Sprite(o.mat);a.renderOrder=10,this.spriteMap[a.uuid]=a,a.userData.isHotspotControlPoint=!0,a.userData.cntrlTex=o,a.userData.marker=this.marker,a.userData.hotspot=this,a.userData.idx=r,a.scale.set(.025,.025,1),this.pano.scene.add(a),a.position.copy(e[r]),this.sprites.push(a)}this.firstSrpite=this.pointsReversed?this.sprites[this.sprites.length-1]:this.sprites[0]}}},{key:"activeSprite",value:function(t,e){var n=this.spriteMap[t]||e;if(null!=n){this.lastActiveSprite=n;var i=n.userData.cntrlTex,r=i.ctx,o=i.tex,a=i.width,s=i.height;r.fillStyle="gray",r.strokeStyle="white",r.lineWidth=4,r.fillRect(0,0,a,s),r.strokeRect(0,0,a,s),o.needsUpdate=!0}}},{key:"overSprite",value:function(t,e){var n=this.spriteMap[t]||e;if(null!=n){if(null!=this.lastDraggedPoint&&this.lastDraggedPoint.userData.idx===n.userData.idx)return;var i=n.userData.cntrlTex,r=i.ctx,o=i.tex,a=i.width,s=i.height;r.fillStyle="gray",r.strokeStyle="white",r.lineWidth=4,r.fillRect(0,0,a,s),r.strokeRect(0,0,a,s),o.needsUpdate=!0}}},{key:"outOnAll",value:function(t){var e=this;this.sprites.forEach((function(n){e.outSprite(null,n,t)}))}},{key:"outSprite",value:function(t,e,n){var i=this.spriteMap[t]||e;if(null!=i){if(null!=this.lastDraggedPoint&&this.lastDraggedPoint.userData.idx===i.userData.idx&&!n)return;var r=i.userData.cntrlTex,o=r.ctx,a=r.tex,s=r.width,l=r.height;o.fillStyle="white",o.strokeStyle="gray",o.lineWidth=4,o.fillRect(0,0,s,l),o.strokeRect(0,0,s,l),a.needsUpdate=!0}}},{key:"createPointObj",value:function(){this.pointsGeom=new THREE.BufferGeometry,this.pointsGeom.setFromPoints(this.points),this.pointsGroup=new THREE.Group,this.pointsObj=new THREE.Points(this.pointsGeom,new THREE.PointsMaterial({color:"white",size:25,side:THREE.DoubleSide})),this.pointsGroup.userData.controlGroup=!0,this.pointsObj.userData.hotspot=this,this.pointsObj.frustumCulled=!1,this.pano.editMode&&this.pano.scene.add(this.pointsGroup)}},{key:"getCenterPoint",value:function(t){var e=new THREE.Vector3,n=t.geometry;return n.computeBoundingBox(),e.x=(n.boundingBox.max.x+n.boundingBox.min.x)/2,e.y=(n.boundingBox.max.y+n.boundingBox.min.y)/2,e.z=(n.boundingBox.max.z+n.boundingBox.min.z)/2,t.localToWorld(e),e}},{key:"activatePlane",value:function(){this.pano.scene.add(this.plane),this.plane.lookAt(p)}},{key:"downControlPoint",value:function(t){this.lastPointIdx=t.userData.idx,this.pointSelected=!0,this.outOnAll(),this.activeSprite(this.sprites[this.lastPointIdx].uuid)}},{key:"startDragPoint",value:function(){this.meshesToGlobal(),this.dragCount=0}},{key:"dragControlPoint",value:function(t,e){0===this.dragCount&&(this.origDragPoint=this.points[t.userData.idx].clone(),this.origControlPoint=t),this.dragCount++,this.points[t.userData.idx].copy(e),this.lastPointIdx=t.userData.idx,this.drawMesh(),this.shapeMesh.visible=!1,this.drawBorderMesh(),this.outOnAll()}},{key:"stopDragControlPoint",value:function(){this.anyOverlappingLines()&&this.dragControlPoint(this.origControlPoint,this.origDragPoint),this.shapeMesh.visible||(this.recalcMeshes(),this.shapeMesh.visible=!0,this.pano.scene.remove(this.plane)),this.activeSprite(this.sprites[this.lastPointIdx].uuid)}},{key:"drag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.meshGlobal){this.lastDraggedPoint=null;for(var n=0;n<this.sprites.length;n++)this.outSprite(null,this.sprites[n],!0);if(this.pointSelected=!1,this.originPnt.copy(t),this.shapeMesh.position.copy(t),this.borderMesh.position.copy(t),this.pointsObj.position.copy(t),this.pointsGroup.position.copy(t),this.plane.position.copy(t),this.shapeMesh.lookAt(p),this.borderMesh.lookAt(p),this.pointsObj.lookAt(p),this.pointsGroup.lookAt(p),this.plane.lookAt(p),"hotspot"===this.marker.props.type&&!e){var i=this.getCenterPoint(this.shapeMesh);this.marker.updatePosition(i.x,i.y,i.z)}}}},{key:"extendRect",value:function(t,e,n,i){this.finished||(this.points=[t,e,n,i],this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.isRectangle=!0)}},{key:"linesFromProjectionResults",value:function(t,e){for(var n=[],i=1;i<t.length;i++){var r=t[i-1],o=t[i];null!=r&&null!=o&&n.push({a:{x:r.x,y:r.y,id:r.object.userData.idx},b:{x:o.x,y:o.y,id:o.object.userData.idx}})}if(e){var a,s=t[t.length-1],l=t[0];return null!=s&&null!=l&&(a={a:{x:s.x,y:s.y,idx:s.object.userData.idx},b:{x:l.x,y:l.y,idx:l.object.userData.idx}}),{lines:n,closeLine:a}}return n}},{key:"tailLineIntersect",value:function(t){for(var e=t[t.length-1],n=0;n<t.length-2;n++){var i=t[n];if(null!=f(e.a,e.b,i.a,i.b))return!0}}},{key:"endsWithOverlappingLine",value:function(t){var e=this.projectSprites();this.pointsReversed&&e.reverse();var n=this.linesFromProjectionResults(e);if(n.length>2){if(this.tailLineIntersect(n))return!0;if(n.reverse(),this.tailLineIntersect(n))return!0}return!1}},{key:"anyOverlappingLines",value:function(){var t=this.projectSprites(),e=this.linesFromProjectionResults(t,!0),n=e.lines,i=e.closeLine;null!=i&&n.push(i);for(var r=0;r<n.length;r++)for(var o=n[r],a=0;a<n.length;a++){var s=Math.abs(r-a);if(!(s<=1||s===n.length-1)){var l=n[a];if(null!=f(l.a,l.b,o.a,o.b))return!0}}return!1}},{key:"closingHasOverlap",value:function(){if(!(this.points.length<4)){var t=this.projectSprites();this.pointsReversed&&t.reverse();var e=this.linesFromProjectionResults(t,!0),n=e.lines,i=e.closeLine;if(null==i)return!1;for(var r=1;r<n.length-1;r++){var o=n[r];if(null!=f(i.a,i.b,o.a,o.b))return!0}return!1}}},{key:"preventOverlapClose",value:function(){var t,e=this.closingHasOverlap();return e?(this.points.length>this.lastClosingLength||!this.lastClosingLength?(t=this.points.pop(),this.pointAdditionPrevented=!0,this.oldClosingPoint=t):t=this.oldClosingPoint,this.lastClosingLength=this.points.length,this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.layer.resetPreviewLine(!0),this.failedClosingPoint=t,this.points[this.points.length-1]):e}},{key:"projectSprites",value:function(){if(null==this.spriteMap)return[];this.pano.viewMatrix.copy(this.pano.camera.matrixWorldInverse),this.pano.viewProjectionMatrix.multiplyMatrices(this.pano.camera.projectionMatrix,this.pano.viewMatrix),this.pano.renderData=this.pano.projector.projectScene(this.pano.scene,this.pano.camera),this.pano.elements=this.pano.renderData.elements,this.pano.calcSceneRect();for(var t=[],e=0;e<this.pano.elements.length;e++){var n=this.pano.elements[e];null!=n.object&&this.spriteMap[n.object.uuid]&&(n.x*=this.pano.sceneRect.width/2,n.y*=-this.pano.sceneRect.height/2,t[n.object.userData.idx]=n)}return t}},{key:"addPoint",value:function(t){if(!(this.finished||this.isRectangle||(this.pointAdditionPrevented=!1,this.pointCalls++,null!=this.lastPoint&&t.distanceTo(this.lastPoint)<20)))return this.lastPoint=new THREE.Vector3(t.x,t.y,t.z),this.points.push(this.lastPoint),1==this.points.length&&(this.firstPointAdded=t,this.createPointObj()),this.pointsGeom.setFromPoints(this.points),this.drawMesh(),null!=this.lastPoint&&this.points.length>2&&t.distanceTo(this.firstPointAdded)<20&&!this.anyOverlappingLines()?(this.points.pop(),this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.layer.finishCurrent(),this.pointAdditionPrevented=!0,this.lastPoint=this.points[this.points.length-1],this.lastPoint):this.points.length>2&&this.endsWithOverlappingLine(t)?(this.points.pop(),this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.layer.resetPreviewLine(),this.pointAdditionPrevented=!0,this.lastPoint=this.points[this.points.length-1],this.lastPoint):this.lastPoint}},{key:"calcCenter",value:function(){this.center=new THREE.Vector3(0,0,0);for(var t=0;t<this.points.length;t++)this.center.add(this.points[t]);this.center.x/=this.points.length,this.center.y/=this.points.length,this.center.z/=this.points.length,this.center.add(this.shapeMesh.position)}},{key:"positionControlsPoints",value:function(){for(var t=0;t<this.sprites.length;t++)null!=this.points[t]&&(this.sprites[t].userData.idx=t,this.sprites[t].position.copy(this.points[t]),this.pointsGroup.add(this.sprites[t]));this.pano.editMode&&this.pano.scene.add(this.pointsGroup)}},{key:"meshesToGlobal",value:function(){if(!this.meshGlobal){this.savedPoints=this.points.concat(),this.oldQuat=this.shapeMesh.quaternion.clone().conjugate();for(var t=0;t<this.points.length;t++)this.points[t]=new THREE.Vector3,this.sprites[t].getWorldPosition(this.points[t]);this.shapeMesh.position.copy(p),this.borderMesh.position.copy(p),this.pointsObj.position.copy(p);var e=new THREE.Quaternion;this.shapeMesh.quaternion.copy(e),this.borderMesh.quaternion.copy(e),this.pointsObj.quaternion.copy(e);for(var n=0;n<this.sprites.length;n++)null!=this.sprites[n]&&this.pointsGroup.remove(this.sprites[n]);this.drawMesh(),this.drawBorderMesh(),this.meshGlobal=!0,this.meshRecalced=!1}}},{key:"recalcMeshes",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!(this.meshRecalced||this.points.length<=2)){this.originPnt?this.firstPoint=this.originPnt:this.originPnt=this.firstPoint=this.points[0].clone();for(var e=0;e<this.points.length;e++)this.points[e].x+=-this.firstPoint.x,this.points[e].y+=-this.firstPoint.y,this.points[e].z+=-this.firstPoint.z;var n=this.oldQuat||this.plane.quaternion.conjugate();this.points.forEach((function(t){t.applyQuaternion(n)})),this.pointsGeom.setFromPoints(this.points),this.drawMesh(t),this.shapeMesh.position.copy(this.firstPoint),this.borderMesh.position.copy(this.firstPoint),this.pointsObj.position.copy(this.firstPoint);var i=n.conjugate();this.shapeMesh.quaternion.copy(i),this.borderMesh.quaternion.copy(i),this.pointsObj.quaternion.copy(i),this.oldQuat=null,this.calcCenter(),"hotspot"===this.marker.props.type&&this.marker.updatePosition(this.center.x,this.center.y,this.center.z),this.pointsGroup.position.copy(this.firstPoint),this.pointsGroup.quaternion.copy(i),this.positionControlsPoints(),this.shapeMesh.visible=!0,this.meshGlobal=!1,this.meshRecalced=!0}}},{key:"updateData",value:function(){if(!(this.points.length<=2)){var t=this.getData();this.marker.adjust({props:{hotspotData:t}})}}},{key:"finish",value:function(t){var e=this;this.finished=!0,this.recalcMeshes(),this.pano.scene.remove(this.plane),null!=this.finishedFn&&(this.finishedFn(),this.pano.setMode(s.DEFAULT)),t||(this.updateData(),this.sprites[0].material.color.set("#ffffff"),window.requestAnimationFrame((function(){e.pano.setCurrMarker(e.marker.sprite),e.pano.setFocus({focus:u})})))}},{key:"destroy",value:function(){this.delete(!0),this.destroyed=!0}}],n&&o(e.prototype,n),v&&o(e,v),Object.defineProperty(e,"prototype",{writable:!1}),t}();return v}}.call(e,n,e,t),void 0===i||(t.exports=i)},4938:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}(this,n)}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}i=function(t){var e=n(6486),i=n(1251),r=n(9032),a=n(8579),h=n(8880),d=n(5505).clickOrTouchEnd,f=(n(1681),n(2816)),p={marker:{borderColor:"transparent",borderWidth:0,background:"#000000",boxShadow:"0 0px 10px rgba(0, 0, 0, 0.25)",iconColor:"#ffffff"},panel:{borderColor:"transparent",borderWidth:0,background:"#000000",boxShadow:"0 0px 10px rgba(0, 0, 0, 0.25)",textColor:"#ffffff"},body:{maxChars:250,innerHTML:"",style:{fontFamily:"Open Sans",fontThemeType:"body",fontSize:13,fontWeight:"normal"}}},v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(m,t);var n,f,v,g=u(m);function m(t){var n,i=t.parentEl,r=t.enabled,o=t.props,a=t.editMode,s=t.localizedText,l=t.marker;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),(n=g.call(this)).parentEl=i,n.opened=!0,n.props=e.merge({},p,o),n.localizedText=s,n.marker=l,n.viewed=!1,n.editMode=a,e.bindAll(c(n),"onMarkerClicked","onSelectedMarkerChanged","onResize"),n.createEls(),n.updateStyles(),n.enable(r),n.setEditMode(a),n}return n=m,f=[{key:"update",value:function(t){var n=t.enabled,i=t.props,r=t.editMode;this.props=e.merge(this.props,i),this.enable(n),this.updateStyles(),this.setEditMode(r)}},{key:"createEls",value:function(){this.el=document.createElement("div"),i.addClass(this.el,"hint"),this.opened&&i.addClass(this.el,"opened"),this.parentEl.appendChild(this.el);var t,e=this.props.marker.iconColor;this.el.innerHTML='\n        <div class="hint-marker">\n          <div class="closed_icon">'.concat((t=e,"\n    <svg viewBox=\"0 0 26 67\" height='15px' fill='".concat(t,'\'>\n      <path d="M 18.3,1 C 16.6,1,15.1,1.6,13.9,2.8 C 12.7,4,12.1,5.5,12.1,7.2 C 12.1,8.9,12.7,10.4,13.9,11.6 C 15.1,12.8,16.6,13.4,18.3,13.4 C 20,13.4,21.5,12.8,22.7,11.6 C 23.9,10.4,24.5,8.9,24.5,7.2 C 24.5,5.5,23.9,4,22.7,2.8 C 21.5,1.6,20,1,18.3,1 Z M 20.9,20.5 L 20.8,21 C 20.8,21,20.9,21,20.9,21 Z M 20.8,21 C 15.2,21.8,9.6,22.2,4.1,23 L 3.5,25.5 C 4.1,25.5,4.6,25.5,5,25.5 C 5.9,25.5,6.7,25.7,7.2,26.2 C 7.7,26.7,8,27.2,8,27.9 C 8,28.9,7.7,29.4,7.2,31.3 L 1.3,51.6 C 0.8,53.2,0.6,54.5,0.6,55.6 C 0.6,57.2,1.1,58.5,2.2,59.5 C 3.3,60.5,6.8,61,8.6,61 C 13.4,61,21.3,58.4,25.6,51 L 22.2,49 C 20.4,51.7,17.2,53.7,15.7,54.6 C 14.1,55.4,13.3,55.3,12.8,55.3 C 12.5,55.3,12.2,55.2,12,54.9 C 11.7,54.6,11.6,54.3,11.6,54 C 11.6,53.5,11.8,52.3,12.3,50.6 Z">\n      </path>\n    </svg>\n  ')),'</div>\n          <div class="opened_icon">').concat(function(t){return"\n    <svg viewBox=\"0 0 18 18\" height='18px' width='18px' fill=\"none\" stroke='".concat(t,'\' stroke-width="1.575" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round">\n      <path d="M3.88879 3.88867L13.611 13.6109" />\n      <path d="M13.611 3.88867L3.88879 13.6109" />\n    </svg>\n  ')}(e),'</div>\n        </div>\n        <div class="hint-bubble">\n          <div class="hint-wrapper">\n            <div class="hint-content" dir="auto" placeholder="').concat(this.localizedText.hint,'">').concat(this.props.body.innerHTML,'</div>\n            <div class="hint-selection"></div>\n          </div>\n        </div>\n      '),this.iconEl=this.el.querySelector(".hint-marker"),this.contentEl=this.el.querySelector(".hint-content"),this.bubbleEl=this.el.querySelector(".hint-bubble"),this.svgIconEls=o(this.iconEl.querySelectorAll("svg"))}},{key:"getAccHtml",value:function(t,e){var n="hotspot hint",r=document.createElement("div");r.innerHTML=this.props.body.innerHTML;var o=r.innerText,a=e;return i.hasClass(this.el,"opened")||(a=!0),'\n      <div\n        id="acc-hot-hint-'.concat(t,'"\n        data-parent-marker-id="').concat(t,'"\n        aria-label="').concat(n,", ").concat(o,'"\n        style="display: ').concat(a?"none":"block",'"\n        class="acc-shadow-el acc-three-sixty-hotspot-hint-tip" tabIndex="0" aria-hidden="').concat(a,'">\n        ').concat(this.props.body.innerHTML,'\n      </div>\n      <button\n        aria-hidden="').concat(e,'"\n        role="button"\n        data-hot-hint-id="').concat(t,'"\n        data-parent-marker-id="').concat(t,'"\n        data-is-hotspot-hint="true"\n        aria-label="').concat(n,'"\n        aria-pressed="').concat(!a,'"\n        tabIndex="0"\n        class="acc-shadow-el acc-button acc-three-sixty-hotspot-hint">\n      </button>\n      ')}},{key:"onResize",value:function(t){var e=t.width-70;this.bubbleEl.style.width="".concat(e,"px"),this.contentEl.style.maxWidth="".concat(e,"px")}},{key:"updateStyles",value:function(){var t=this.props,e=t.marker,n=t.panel,i=t.body;Object.assign(this.iconEl.style,{borderWidth:"".concat(e.borderWidth,"px"),borderColor:e.borderColor,background:e.background,boxShadow:e.boxShadow}),Object.assign(this.contentEl.style,{borderWidth:"".concat(n.borderWidth,"px"),borderColor:n.borderColor,background:n.background,boxShadow:n.boxShadow,color:n.textColor,fontFamily:'"'.concat(i.style.fontFamily,'"'),fontSize:"".concat(i.style.fontSize,"px")}),this.svgIconEls.forEach((function(t){t.setAttribute("stroke",e.iconColor),t.setAttribute("fill",e.iconColor)})),this.editMode&&(this.contentEl.style.fontWeight=i.style.fontWeight,this.contentEl.dataset.fontThemeType=i.style.fontThemeType)}},{key:"addListeners",value:function(){this.iconEl.addEventListener(d,this.onMarkerClicked),r.on(h.threeSixtyImage.SELECTED_MARKER_CHANGED,this.onSelectedMarkerChanged),a.deviceView.isPhone&&r.on(h.threeSixtyImage.RESIZED,this.onResize)}},{key:"removeListeners",value:function(){this.iconEl.removeEventListener(d,this.onMarkerClicked),r.off(h.threeSixtyImage.SELECTED_MARKER_CHANGED,this.onSelectedMarkerChanged),r.off(h.threeSixtyImage.RESIZED,this.onResize)}},{key:"onSelectedMarkerChanged",value:function(t){t!==this.marker.id&&this.editMode&&this.hide()}},{key:"onMarkerClicked",value:function(t){this.toggleOpen(),t.stopPropagation()}},{key:"toggleOpen",value:function(){this.opened=!this.opened,this.opened?(i.addClass(this.el,"opened"),i.removeClass(this.el,"closed")):(i.addClass(this.el,"closed"),i.removeClass(this.el,"opened")),this.updateAccHidden()}},{key:"updateAccHidden",value:function(){null!=this.marker.accHotspotHintBubbleEl&&(this.opened?(this.marker.accHotspotHintBubbleEl.style.display="block",this.marker.accHotspotHintBubbleEl.removeAttribute("aria-hidden")):(this.marker.accHotspotHintBubbleEl.style.display="none",this.marker.accHotspotHintBubbleEl.setAttribute("aria-hidden",!0)))}},{key:"hide",value:function(){i.removeClass(this.el,"show")}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.editMode&&!this.opened||this.viewed&&this.opened)&&this.toggleOpen(),i.addClass(this.el,"show"),this.editMode&&t&&e.isEmpty(this.props.body.innerHTML)&&this.contentEl.focus()}},{key:"enable",value:function(t){this.enabled=t,this.enabled?(this.addListeners(),i.removeClass(this.el,"disabled")):(this.removeListeners(),i.addClass(this.el,"disabled"))}},{key:"setViewed",value:function(){this.viewed=!0,this.opened&&this.toggleOpen()}}],f&&s(n.prototype,f),v&&s(n,v),Object.defineProperty(n,"prototype",{writable:!1}),m}(f);return v}.call(e,n,e,t),void 0===i||(t.exports=i)},7552:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}i=function(t){var e=THREE,i=e.Line2,r=e.LineMaterial,s=e.LineGeometry,l=n(6485),u=n(3508),c=n(82),h=n(1251),d=n(8579).deviceView,f=d.isMobile,p=d.isPhone,v=(n(1815).navigation,n(9045).modes),g=n(9337),m=(g.isRightClick,g.isLeftClickOrTouch),y=(g.touchify,n(7536).MOVE_THRESHOLD),b=function(){function t(e){var n,i,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=function(t){if(o.pano.editMode){if(null!=o.currHotspot){if(o.currHotspot.pointAdditionPrevented)return;if(o.currHotspot.points.length<=2)return void o.deleteUnfinishedHotspot();if(o.mouseDidNotMove(t)||o.currHotspot.preventOverlapClose())return o.preventCloseLine.setVerts([o.currHotspot.points[0],o.currHotspot.oldClosingPoint]),o.preventCloseLine.show(),setTimeout((function(){o.preventCloseLine.hide()}),200),o.lastX=t.clientX,void(o.lastY=t.clientY)}o.finishCurrent()}},(i=a(i="onDoubleClick"))in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,this.pano=e,this.hotspots=[],this.targetObject=this.pano.sphereMesh,this.raycaster=new THREE.Raycaster,this.previewPoints=[new THREE.Vector3,new THREE.Vector3],this.setupMaterials(),this.setupPreventClose(),this.drag={},document.addEventListener("dblclick",this.onDoubleClick)}var e,n,d;return e=t,n=[{key:"destroy",value:function(){this.hotspots.forEach((function(t){t.destroy()})),document.removeEventListener("dblclick",this.onDoubleClick)}},{key:"setupPreventClose",value:function(){var t=this;this.preventCloseLine={lineGeom:new s,show:function(){t.pano.scene.add(t.preventCloseLine.line)},hide:function(){t.pano.scene.remove(t.preventCloseLine.line)},setVerts:function(e){for(var n=[],i=0;i<e.length;i++){var r=e[i];n.push(r.x,r.y,r.z)}t.preventCloseLine.lineGeom.setPositions(n)}},this.preventCloseLine.lineGeom.setPositions(new Float32Array(6)),this.preventCloseLine.line=new i(this.preventCloseLine.lineGeom,this.redLineMaterial)}},{key:"deleteUnfinishedHotspot",value:function(){if(null!=this.currHotspot&&!this.currHotspot.finished){var t=this.currHotspot;t.deleteUnfinished=!0,this.finishCurrent(!0),this.pano.removeMarker(t.marker.id)}}},{key:"isEditing",value:function(){return this.creatingHotspot||null!=this.draggableHotspot||null!=this.draggablePoint}},{key:"currHotspot",get:function(){return this.currentActiveHotspot},set:function(t){this.currControlPoint||(null!=t&&t==this.lastActiveHotspot||this.lastActiveHotspot&&(this.lastActiveHotspot.panelWasShown=!1,this.lastActiveHotspot.deselect(),this.lastActiveHotspot=null),null!=t&&(this.currentActiveHotspot=t,this.lastActiveHotspot=t,t.finished&&t.select()))}},{key:"setupMaterials",value:function(){this.previewLineMaterial=new r({color:"white",resolution:new THREE.Vector2(200,200),linewidth:.8}),this.redLineMaterial=new r({color:"red",resolution:new THREE.Vector2(200,200),linewidth:.8})}},{key:"updateColors",value:function(){var t=this;this.pano.scene.children.filter((function(t){return t.userData.isPolyHotspot})).forEach((function(e){return e.userData.hotspot.color=t.pano.hotspotColor}))}},{key:"createHotspotAtPoint",value:function(t,e){var n=this.beginHotspot(t,e),i=[new THREE.Vector3(-100,-100,0),new THREE.Vector3(100,-100,0),new THREE.Vector3(100,100,0),new THREE.Vector3(-100,100,0)],r=n.plane.quaternion.conjugate();i.forEach((function(e){e.add(t),e.applyQuaternion(r)})),n.createPointObj(),this.creatingHotspot=!0,n.extendRect(i[0],i[1],i[2],i[3]),n.finish(!0),this.creatingHotspot=!1,this.pano.scene.add(n.plane),n.drag(t)}},{key:"createHotspot",value:function(t,e){var n=JSON.parse(window.atob(t)),i=this.beginHotspot(n.origin,e);return i.loadData(n),this.creatingHotspot=!1,i}},{key:"beginHotspot",value:function(t,e,n){var i=new THREE.PlaneGeometry(5e3,5e3,32),r=new THREE.MeshBasicMaterial({color:"red",depthTest:!1,transparent:!0,opacity:0}),o=new THREE.Mesh(i,r);return o.position.copy(t),o.lookAt(this.pano.camera.position),this.pano.scene.add(o),this.targetObject=o,this.currHotspot=new l({layer:this,pano:this.pano,loc:t,marker:e,finishedFn:n}),this.creatingHotspot=!0,this.currHotspot.plane=o,this.currHotspot}},{key:"finishCurrent",value:function(t){null==this.currHotspot||this.currHotspot.finished||(this.currHotspot.finish(t),this.creatingHotspot=!1,this.downIntersect=null,this.line&&(this.line.visible=!1))}},{key:"resetPreviewLine",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.downIntersect=this.lastDownIntersect,e||(this.previewLineMaterial.color.set("#ff0000"),setTimeout((function(){t.previewLineMaterial.color.set("#ffffff")}),200))}},{key:"calcMouseRay",value:function(t,e){this.pano.mouseRay.x=t/window.innerWidth*2-1,this.pano.mouseRay.y=-e/window.innerHeight*2+1}},{key:"getHotspotIntersection",value:function(t,e){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var n,i=this.pano.scene.children.filter((function(t){return!0===t.userData.isPolyHotspot})),r=this.raycaster.intersectObjects(i,!1);if(r.length>0){r[0].point,n=r[0];var o=c.getPath(n,"object");if(!c.getPath(o,"visible"))return null}return this.pano.editMode&&"hotspot"!==c.getPath(n,"object.userData.marker",{props:{}}).props.type?null:n}},{key:"dragHotspot",value:function(t,e,n){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var i,r=this.raycaster.intersectObject(this.pano.sphereMesh,!1);if(r.length>0){var o=this.draggableHotspot.userData.hotspot;this.currHotspot=o;var a=r[0].point;i=r[0],this.drag.started||(this.drag.startX=a.x-o.originPnt.x,this.drag.startY=a.y-o.originPnt.y,this.drag.startZ=a.z-o.originPnt.z,this.drag.started=!0,this.drag.count=0),this.drag.started&&(a.set(a.x-this.drag.startX,a.y-this.drag.startY,a.z-this.drag.startZ),this.drag.count++),o.drag(a)}return i}},{key:"dragControlPoint",value:function(t,e,n){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var i,r=this.draggablePoint,o=r.userData.hotspot,a=this.raycaster.intersectObject(o.plane,!1);if(null==a&&(a=this.raycaster.intersectObject(this.pano.sphereMesh,!1)),a.length>0){var s=a[0].point;i=a[0],this.beginDragPoint||(o.startDragPoint(),this.beginDragPoint=!0),o.dragControlPoint(r,s)}return i}},{key:"getControlPointIntersection",value:function(t,e){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);for(var n=[],i=0;i<this.pano.scene.children.length;i++){var r=this.pano.scene.children[i];if(null!=r.userData.controlGroup)for(var o=0;o<r.children.length;o++)n.push(r.children[o])}var a,s=this.raycaster.intersectObjects(n,!1);if(s.length>0){a=s[0];var l=c.getPath(a,"object.userData.hotspot");if(null!=l&&!c.getPath(l,"visible"))return null}return a}},{key:"mouseDidNotMove",value:function(t){return this.lastX==t.clientX&&this.lastY==t.clientY}},{key:"startDragHotspot",value:function(t,e){if(!this.creatingHotspot){var n=this.getHotspotIntersection(t,e);n&&(this.draggableHotspot=n.object,this.pano.setCurrMarker(this.draggableHotspot.userData.marker.sprite))}}},{key:"drawRect",value:function(t,e){if(!(this.currHotspot.pointCalls&&this.currHotspot.pointCalls>1)&&this.down&&this.downCount>2&&null!=this.startIntersect){var n=this.startIntersect,i=this.getIntersection(t,this.startLoc.pageY),r=this.getIntersection(t,e),o=this.getIntersection(this.startLoc.pageX,e);return null!=n&&null!=i&&null!=r&&null!=o&&(this.line.visible=!1,this.currHotspot.extendRect(n.point,i.point,r.point,o.point),this.finishOnUp=!0),!0}}},{key:"drawPreviewLine",value:function(t,e){if(null!=this.downIntersect&&null!=this.currHotspot&&!this.currHotspot.isRectangle){var n=this.getIntersection(t,e);if(null!=n){this.previewPoints=[this.downIntersect,n.point],this.updateOrCreatePreviewLine(),this.line.visible=!0;for(var i=[],r=0;r<this.previewPoints.length;r++){var o=this.previewPoints[r];i.push(o.x,o.y,o.z)}this.lineGeom.setPositions(i);var a=this.currHotspot.getFirstPoint();if(null!=this.currHotspot&&null!=a)if(this.currHotspot.pointsReversed&&this.currHotspot.sprites.length,n.point.distanceTo(a)<20){for(var s=0;s<this.currHotspot.sprites.length;s++)if(a.distanceTo(this.currHotspot.sprites[s].position)<20){this.lastEndOverSprite=this.currHotspot.sprites[s],this.currHotspot.sprites[s].material.color.set(this.pano.hotspotColor);break}}else this.lastEndOverSprite&&this.lastEndOverSprite.material.color.set("#ffffff")}}}},{key:"normalRelease",value:function(t,e,n){if(!this.isWithinPanel(t)){if(this.lastHotspotIntersection=null,this.normalDown){var i=this.getHotspotIntersection(e,n);if(i){var r=i.object.userData.marker;r.props.hasPanel&&i.object.userData.hotspot.panelWasShown||r.triggerEvent("onlinkrelease",r.sprite.userData.id)}this.lastHotspotIntersection=i}this.normalDown=!1}}},{key:"normalMouseDown",value:function(t,e,n){var i=this;if(h.closest(t.target,(function(t){return h.hasClass(t,"three-sixty-image")}))&&!this.isWithinPanel(t)){var r=h.closest(t.target,(function(t){return h.hasClass(t,p?"three-sixty-image-mobile-overlay":"three-sixty-overlay")})),o=this.getHotspotIntersection(e,n);if(o){var a=o.object.userData.hotspot;if(a){var s=o.object.userData.marker,l=s.props,u=l.hasPanel;l.hasHotspotHint,this.pano.markerIdxInView=s.idx,this.normalDown=!0,window.requestAnimationFrame((function(){var t=i.pano.toDomCoords(e,n);if(a.panelWasShown)a.panelWasShown=!1,a.setBorderThin();else{s.addToVisitedMarkers();var r=s.panel;u&&"hidden"===r.el.style.visibility?r.shown?p||(r.hide(!0),a.setBorderThin()):(r.show(!0,t),a.setBorderThick()):u||a.blink()}s.setAccFocus(t)})),this.pano.stopVelocity(),r||a==this.currHotspot||(this.currHotspot=u?a:null)}else r||(this.currHotspot=null)}else if(r||(this.currHotspot=null),0===this.downCount&&!r){var d=c.getPath(this.pano,"currMarker.userData.cssMarker");this.hotspots.forEach((function(t){d||!i.pano.hotspotReveal&&!t.visited||t.blink()}))}return o}}},{key:"editorMouseDown",value:function(t,e){var n=this,i=this.getHotspotIntersection(t,e);if(i){u.hideLast();var r=i.object.userData.hotspot;null!=r?window.requestAnimationFrame((function(){var o=i.object.userData.marker,a=o.panel;if(o.props.hasPanel&&"hidden"===a.el.style.visibility){if(a.shown)a.hide(!0),n.showingPanel=null;else{var s=n.pano.toDomCoords(t,e);a.show(!0,s),n.showingPanel=a}a.bodyEl.blur()}if(o.tooltip){var l=n.pano.toDomCoords(t,e);o.tooltip.toggleEditMode(!1,l)}n.currHotspot=r,n.pano.setCurrMarker(o.sprite)})):this.currHotspot=null}else this.currHotspot=null}},{key:"mouseDownAnyHotspot",value:function(t,e){var n=this.getHotspotIntersection(t,e);this.currHotspot=null==n?null:n.object.userData.hotspot}},{key:"addPoint",value:function(t){var e=this.currHotspot.addPoint(t.point);null!=e&&(null!=this.downIntersect&&(this.lastDownIntersect=this.downIntersect.clone()),this.downIntersect=e)}},{key:"startDragControlPoint",value:function(t,e){if(!this.creatingHotspot){var n=this.getControlPointIntersection(t,e);if(n){this.draggablePoint=n.object,this.draggablePoint.userData.hotspot.activatePlane(),this.pano.setCurrMarker(this.draggablePoint.userData.marker.sprite);var i=this.draggablePoint.userData.hotspot;return i.lastDraggedPoint=this.draggablePoint,i.downControlPoint(this.draggablePoint),!0}}}},{key:"onMouseDown",value:function(t,e,n){var i=this;if(this.pano.mode!==v.SET_INITIAL_CAMERA_ANGLE&&m(t)){if(this.downCount=0,this.down=!0,this.currHotspot){var r=this.currHotspot.marker;if(r.props.hasPanel){var o=r.panel.shown;this.currHotspot.panelWasShown=o}}this.pano.editMode&&(this.startDragControlPoint(e,n)||(this.startDragHotspot(e,n),window.requestAnimationFrame((function(){var t=i.getIntersection(e,n);i.startIntersect=t,i.startLoc={pageX:e,pageY:n};var r=null!=t&&null!=i.currHotspot&&!i.currHotspot.finished,o=null!=i.currHotspot&&i.currHotspot.finished;r?i.addPoint(t):o||null==i.currHotspot?i.editorMouseDown(e,n):i.mouseDownAnyHotspot(e,n)}))))}}},{key:"isWithinPanel",value:function(t){return h.closest(t.target,(function(t){return h.hasClass(t,"panel-el")}))}},{key:"hotspotOverOut",value:function(t,e,n){if(!this.creatingHotspot){var i=this.getHotspotIntersection(e,n),r=i?i.object.userData.hotspot:null,o=null!=this.lastHotspotOver,a=this.lastHotspotOver!==r;if(o&&a&&(this.lastHotspotOver.mouseOut(),this.lastHotspotOver=null),null!=r){if(this.isWithinPanel(t))return r.mouseOut(),void(this.lastHotspotOver=null);var s=this.pano.toDomCoords(e,n);r.isClickable()&&a?(this.lastHotspotOver=r,this.lastHotspotOver.mouseOver(s)):f&&this.lastHotspotOver.mouseOverMobile(s)}}}},{key:"controlPointOver",value:function(t,e){var n=this.getControlPointIntersection(t,e);if(!this.down)if(n){var i=n.object,r=i.userData.hotspot;r.overSprite(i.uuid),this.lastCntrlHot={hot:r,cntrl:i}}else if(null!=this.lastCntrlHot){var o=this.lastCntrlHot,a=o.cntrl;o.hot.outSprite(a.uuid),this.lastCntrlHot=null}}},{key:"handleCursor",value:function(t){var e=this.pano.el,n=null!=this.lastCntrlHot||null!=this.lastHotspotOver;this.pano.mode==v.DEFAULT&&(null==e.style.cursor||n||(e.style.cursor=null),this.creatingHotspot||(n||null!=this.draggablePoint||null!=this.draggableHotspot)&&(e.style.cursor=t))}},{key:"onMouseMove",value:function(t,e,n){if(this.pano.mode!==v.SET_INITIAL_CAMERA_ANGLE)if(this.down&&this.downCount++,this.hotspotOverOut(t,e,n),f&&2===this.downCount&&null!=this.currHotspot&&this.currHotspot.deselect(),this.pano.editMode)if(this.controlPointOver(e,n),this.handleCursor(this.down?'url("Moving.cur"), auto':'url("Move.cur"), auto'),this.creatingHotspot){if(this.drawRect(e,n))return;this.drawPreviewLine(e,n)}else{if(this.draggablePoint)return this.showingPanel&&this.downCount>4&&this.showingPanel.hide(),void this.dragControlPoint(e,n);if(this.draggableHotspot)return this.showingPanel&&this.downCount>8&&this.showingPanel.hide(),void this.dragHotspot(e,n)}else this.handleCursor("pointer")}},{key:"onMouseUp",value:function(t,e,n){var i=this;if(this.down=!1,this.pano.mode!==v.SET_INITIAL_CAMERA_ANGLE&&(!this.pano.editMode&&this.downCount<y&&(f&&this.hotspotOverOut(t,e,n),this.normalMouseDown(t,e,n)),this.downCount=0,this.normalRelease(t,e,n),this.pano.editMode)){if(this.draggableHotspot&&(this.draggableHotspot.userData.hotspot.updateData(),this.draggableHotspot=null),this.draggablePoint){var r=this.draggablePoint.userData.hotspot;r.stopDragControlPoint(),r.updateData(),this.draggablePoint=null,this.beginDragPoint=!1,this.currHotspot=r,this.pano.setCurrMarker(r.marker.sprite)}this.drag.started=!1,this.finishOnUp&&(window.requestAnimationFrame((function(){i.finishCurrent()})),this.finishOnUp=!1)}}},{key:"updateOrCreatePreviewLine",value:function(){null==this.line&&(this.lineGeom=new s,this.lineGeom.setPositions(new Float32Array(6)),this.line=new i(this.lineGeom,this.previewLineMaterial),this.pano.scene.add(this.line))}},{key:"getIntersection",value:function(t,e,n){if(this.targetObject){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var i=this.raycaster.intersectObject(this.targetObject,!1);if(i.length>0)return i[0];if(this.targetObject!=this.pano.sphereMesh){var r=this.raycaster.intersectObject(this.pano.sphereMesh,!1);if(r.length>0)return r[0]}}}}],n&&o(e.prototype,n),d&&o(e,d),Object.defineProperty(e,"prototype",{writable:!1}),t}();return b}.call(e,n,e,t),void 0===i||(t.exports=i)},49:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function a(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(t){u=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}i=function(t){var e=n(1251),i=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},r=function(t,e){var n=e.ownerSVGElement,i=t.touches,r=l(i=void 0===i?[t]:i,1)[0],o=r.clientX,a=r.clientY,s=n.createSVGPoint();s.x=o,s.y=a;var u=s.matrixTransform(e.getScreenCTM().inverse());return{pageX:u.x,pageY:u.y}},s=20,u=15,c="#ffffff",h="#000000",d=.5,f=100,p={lc:'url("CropLeftMiddle.cur"), auto',tc:'url("CropTopCenter.cur"), auto',rc:'url("CropRightMiddle.cur"), auto',bc:'url("CropBottomCenter.cur"), auto',tl:'url("CropTopLeft.cur"), auto',tr:'url("CropTopRight.cur"), auto',br:'url("CropBottomRight.cur"), auto',bl:'url("CropBottomLeft.cur"), auto'},v=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"onDown",(function(t){t.currentTarget.dataset.dragRect?i.startDragRect(t):i.startDragControl(t),document.addEventListener("mouseup",i.onUp),document.addEventListener("touchend",i.onUp)})),a(this,"onMove",(function(t){i.downDragRect?i.moveRectangle(t):i.downControl&&i.moveControl(t)})),a(this,"onUp",(function(t){i.downControl=!1,i.downDragRect=!1,i.targetControl=null,document.removeEventListener("mouseup",i.onUp),document.removeEventListener("touchend",i.onUp)})),this.container=document.querySelector(e),null==this.container&&console.warn("ImageCrop: no container found"),this.image=this.container.querySelector("img"),0!==this.image.width&&0!==this.image.height||console.warn("ImageCrop: image is not loaded"),this.createSvg(),this.x=0,this.y=0,this.right=this.image.naturalWidth,this.bottom=this.image.naturalHeight,this.edges={x:this.x,y:this.y,right:this.right,bottom:this.bottom},this.controls=[],this.controlXY={lc:{propX:"x",propY:null},tc:{propY:"y",propX:null},rc:{propX:"right",propY:null},bc:{propX:null,propY:"bottom"},tl:{propX:"x",propY:"y"},tr:{propX:"right",propY:"y"},br:{propX:"right",propY:"bottom"},bl:{propX:"x",propY:"bottom"}},document.addEventListener("mousemove",this.onMove),document.addEventListener("touchmove",this.onMove)}var n,l,v;return n=t,l=[{key:"createSvg",value:function(){var t="0 0 ".concat(parseFloat(this.image.naturalWidth)," ").concat(parseFloat(this.image.naturalHeight));this.svgLayer=document.createElement("div"),e.setStyles(this.svgLayer,{position:"absolute",left:0,top:0,width:"100%",height:"100%"}),this.svgLayer.innerHTML='\n        <svg class="crop-tool" style="width: 100%; height: 100%;overflow:hidden;" viewBox="'.concat(t,'">\n          <g class="overlay-layer"><g>\n        </svg>\n      '),this.overlayLayer=this.svgLayer.querySelector(".overlay-layer"),this.container.appendChild(this.svgLayer)}},{key:"render",value:function(){this.adjustRect(),this.adjustPath(),this.adjustControls()}},{key:"setCropRect",value:function(t){var e=t.left,n=t.top,i=t.right,r=t.bottom,o=t.width,a=t.height;this.x=e,this.y=n,this.right=i,this.bottom=r,null!=o&&(this.right=this.x+o),null!=a&&(this.bottom=this.y+a),this.render()}},{key:"getCropRect",value:function(){var t=this.x-d,e=this.y-d,n=this.right+d,i=this.bottom+d,r={left:t,top:e,right:n,bottom:i,width:n-t,height:i-e};for(var o in r)r[o]=Math.abs(Math.round(r[o]));return r}},{key:"adjustRect",value:function(){e.setAttributes(this.dragRect,{x:this.x,y:this.y,width:this.right-this.x,height:this.bottom-this.y})}},{key:"adjustPath",value:function(){var t=50;e.setAttributes(this.path,{d:"\n          M ".concat(this.edges.x-t," ").concat(this.edges.y-t,"\n          L ").concat(this.edges.right+t," ").concat(this.edges.y-t,"\n          ").concat(this.edges.right+t," ").concat(this.edges.bottom+t,"\n          ").concat(this.edges.x-t," ").concat(this.edges.bottom+t,"\n          M ").concat(this.x," ").concat(this.y,"\n          L ").concat(this.right," ").concat(this.y,"\n            ").concat(this.right," ").concat(this.bottom,"\n            ").concat(this.x," ").concat(this.bottom,"\n            ").concat(this.x," ").concat(this.y,"z\n        ")})}},{key:"updateTransformControls",value:function(){var t=this,e=1/(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*.7;["tl","tr","br","bl"].forEach((function(n){var i=t.controls[n],r=i.lastElementChild.dataset.rot;i.lastElementChild.setAttribute("transform","".concat(r," scale(").concat(e,")")),i.firstElementChild.setAttribute("transform","scale(".concat(e,")"))})),["tc","rc","bc","lc"].forEach((function(n){var i=t.controls[n].firstElementChild,r=i.firstElementChild,o=i.lastElementChild,a=i.dataset.trans.replace("15",(u*e).toFixed(4));i.setAttribute("transform",a),r.setAttribute("transform","scale(".concat(e,")")),o.setAttribute("transform","scale(".concat(e,")"))}))}},{key:"adjustControls",value:function(){e.setAttributes(this.controls.tl,{"data-x":this.x,"data-y":this.y,transform:"translate(".concat(this.x," ").concat(this.y,")")}),e.setAttributes(this.controls.tr,{"data-x":this.right,"data-y":this.y,transform:"translate(".concat(this.right," ").concat(this.y,")")}),e.setAttributes(this.controls.br,{"data-x":this.right,"data-y":this.bottom,transform:"translate(".concat(this.right," ").concat(this.bottom,")")}),e.setAttributes(this.controls.bl,{"data-x":this.x,"data-y":this.bottom,transform:"translate(".concat(this.x," ").concat(this.bottom,")")});var t=this.x,n=this.y+(this.bottom-this.y)/2;e.setAttributes(this.controls.lc,{"data-x":t,"data-y":n,transform:"translate(".concat(t," ").concat(n,")")}),t=this.right,e.setAttributes(this.controls.rc,{"data-x":t,"data-y":n,transform:"translate(".concat(t," ").concat(n,")")}),t=this.x+(this.right-this.x)/2,n=this.y,e.setAttributes(this.controls.tc,{"data-x":t,"data-y":n,transform:"translate(".concat(t," ").concat(n,")")}),n=this.bottom,e.setAttributes(this.controls.bc,{"data-x":t,"data-y":n,transform:"translate(".concat(t," ").concat(n,")")})}},{key:"createCenterHandle",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=i("g"),s=i("rect"),l=i("rect"),d=i("g");a.dataset.type=r,e.setAttributes(s,{x:0,y:0,width:u,height:30,fill:"transparent"}),e.setAttributes(l,{x:0,y:0,width:10,height:30,fill:h,"stroke-width":1,"vector-effect":"non-scaling-stroke",stroke:c}),e.setAttributes(d,{"data-trans":o,transform:o}),e.setAttributes(a,{"data-x":t,"data-y":n,transform:"translate(".concat(t," ").concat(n,")")}),a.classList.add("drag-control"),a.style.cursor=p[r],d.appendChild(s),d.appendChild(l),a.appendChild(d),this.controls.push(a),this.controls[r]=a,this.el.appendChild(a),a.addEventListener("mousedown",this.onDown),a.addEventListener("touchstart",this.onDown)}},{key:"createCornerHandle",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=i("g"),d=i("rect"),f=i("path");u.dataset.type=r,e.setAttributes(d,{x:s*-a,y:s*-l,width:s,height:s,fill:"transparent"}),e.setAttributes(f,{d:"M 0 0 L ".concat(36," 0 ").concat(36," ").concat(9," ").concat(9," ").concat(9," ").concat(9," ").concat(36," 0 ").concat(36,"z"),transform:"rotate(".concat(o,")"),"data-rot":"rotate(".concat(o,")"),fill:h,"stroke-width":1,"vector-effect":"non-scaling-stroke",stroke:c}),e.setAttributes(u,{"data-x":t,"data-y":n,transform:"translate(".concat(t," ").concat(n,")")}),u.classList.add("drag-control"),u.appendChild(d),u.appendChild(f),u.style.cursor=p[r],this.controls.push(u),this.controls[r]=u,this.el.appendChild(u),u.addEventListener("mousedown",this.onDown),u.addEventListener("touchstart",this.onDown)}},{key:"startDragRect",value:function(t){var e=r(t,this.overlayLayer),n=e.pageX,i=e.pageY;this.targetControl=t.currentTarget,this.downDragRect=!0,this.startX=n-this.x,this.startY=i-this.y,this.startRight=n-this.right,this.startBottom=i-this.bottom,this.startWidth=this.right-this.x,this.startHeight=this.bottom-this.y}},{key:"startDragControl",value:function(t){var e=r(t,this.overlayLayer),n=e.pageX,i=e.pageY;this.targetControl=t.currentTarget,this.downControl=!0,this.startX=n-parseFloat(this.targetControl.dataset.x),this.startY=i-parseFloat(this.targetControl.dataset.y)}},{key:"moveRectangle",value:function(t){var e=r(t,this.overlayLayer),n=e.pageX,i=e.pageY;this.x=n-this.startX,this.y=i-this.startY,this.right=n-this.startRight,this.bottom=i-this.startBottom,this.x<=this.edges.x&&(this.x=this.edges.x,this.right=this.x+this.startWidth),this.y<=this.edges.y&&(this.y=this.edges.y,this.bottom=this.y+this.startHeight),this.right>=this.edges.right&&(this.x=this.edges.right-this.startWidth,this.right=this.edges.right),this.bottom>=this.edges.bottom&&(this.y=this.edges.bottom-this.startHeight,this.bottom=this.edges.bottom),this.adjustRect(),this.adjustPath(),this.adjustControls()}},{key:"moveControl",value:function(t){var e=r(t,this.overlayLayer),n=e.pageX,i=e.pageY,o=n-this.startX,a=i-this.startY,s=this.targetControl.dataset.type,l=this.controlXY[s],u=l.propX,c=l.propY;null!=this[u]&&(this[u]=o),null!=this[c]&&(this[c]=a),"x"===u?(this.x<=this.edges.x&&(o=this.x=this.edges.x),this.x>=this.right-f&&(o=this.x=this.right-f)):"right"===u&&(this.right>=this.edges.right&&(o=this.right=this.edges.right),this.right<=this.x+f&&(o=this.right=this.x+f)),"y"===c?(this.y<=this.edges.y&&(a=this.y=this.edges.y),this.y>=this.bottom-f&&(a=this.y=this.bottom-f)):"bottom"===c&&(this.bottom>=this.edges.bottom&&(a=this.bottom=this.edges.bottom),this.bottom<=this.y+f&&(a=this.bottom=this.y+f)),this.adjustControls(),this.adjustPath(),this.adjustRect()}},{key:"setupDragRect",value:function(){this.dragRect=i("rect"),this.dragRect.style.pointerEvents="all",this.dragRect.addEventListener("mousedown",this.onDown),this.dragRect.addEventListener("touchstart",this.onDown),e.setAttributes(this.dragRect,{"data-drag-rect":!0,x:0,y:0,width:0,height:0,fill:"transparent"}),this.dragRect.classList.add("drag-control"),this.adjustRect(),this.el.appendChild(this.dragRect)}},{key:"setupPath",value:function(){var t;this.path=i("path"),this.d="M 0 0 L 0 0",e.setAttributes(this.path,(a(t={stroke:c,"vector-effect":"non-scaling-stroke","stroke-width":1},"vector-effect","non-scaling-stroke"),a(t,"fill","rgba(0, 0, 0, 0.3)"),a(t,"fill-rule","evenodd"),t)),this.adjustPath(),this.el.appendChild(this.path)}},{key:"setupControls",value:function(){this.createCornerHandle(this.x,this.y,"tl"),this.createCornerHandle(this.right,this.y,"tr",90,1),this.createCornerHandle(this.right,this.bottom,"br",180,1,1),this.createCornerHandle(this.x,this.bottom,"bl",270,0,1),this.createCenterHandle(this.x+(this.right-this.x)/2,this.y,"tc","translate(".concat(u," 0) rotate(90)"),"ns-resize"),this.createCenterHandle(this.x,this.y+(this.bottom-this.y)/2,"lc","translate(0 ".concat(-15,")"),"ew-resize"),this.createCenterHandle(this.right,this.y+(this.bottom-this.y)/2,"rc","translate(0 ".concat(u,") rotate(180)"),"ew-resize"),this.createCenterHandle(this.x+(this.right-this.x)/2,this.bottom,"bc","translate(-".concat(u," 0) rotate(-90)"),"ns-resize")}},{key:"setupElement",value:function(){this.container.appendChild(this.svgLayer),this.el=i("g"),this.overlayLayer.appendChild(this.el),this.setupDragRect(),this.setupPath(),this.setupControls()}},{key:"show",value:function(){document.body.classList.add("crop-tool-shown"),this.setupElement()}},{key:"hide",value:function(){var t=this;document.body.classList.remove("crop-tool-shown"),this.svgLayer.parentNode.removeChild(this.svgLayer),this.el.parentNode.removeChild(this.el),document.removeEventListener("mousemove",this.onMove),document.removeEventListener("touchmove",this.onMove),this.controls.forEach((function(e){e.removeEventListener("mousedown",t.onDown),e.removeEventListener("touchstart",t.onDown)}))}}],l&&o(n.prototype,l),v&&o(n,v),Object.defineProperty(n,"prototype",{writable:!1}),t}();return v}.call(e,n,e,t),void 0===i||(t.exports=i)},8400:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function a(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}i=function(t){"use strict";var e=n(6486),i=n(3508),r=n(4938),s=n(4706),l=n(6295),u=n(1251),c=n(82),h=n(9032),d=n(8880),f=n(1681),p=n(7536).MOVE_THRESHOLD,v=n(1815).navigation,g=n(7954),m=g.imgBufferCtx,y=g.imgBuffer,b=g.svgHtmlIcon,w=g.svgImageIcon,S=(g.convertDeprecatedIconToBase64,g.unpackHex),A=g.packRgb,E=g.easeColor,T=(g.setColor,g.overlayColor),C=n(9337),x=C.touchify,_=(C.isRightclick,C.isLeftClickOrTouch),k=n(5505),M=k.enterOrTouchStart,O=k.leaveOrTouchEnd,P=(k.clickOrTouchEnd,k.downOrTouchStart),I=k.moveOrTouchMove,L=k.upOrTouchEnd,D=n(8579),R=D.device.isMobile,N=D.deviceView,H=n(7812).math.TWO_PI,V=.3,j=50,F=100,B='url("Move.cur"), auto',U=document.createElement("div");U.classList.add("offscreen");var W="data:image/svg+xml;base64, PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCIgd2lkdGg9IjI1NiIgaGVpZ2h0PSIyNTYiIGNsYXNzPSJpY29uIj48ZyBzdHJva2U9Im5vbmUiIGZpbGw9ImJsYWNrIiAvPjwvc3ZnPg==",z=function(){function t(e){var n=this,r=e.pano,o=e.loc,s=e.sprite,l=e.backSprite,u=e.id,f=e.idx,v=e.canvas,g=e.ctx,m=e.tex,y=e.props;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"onEditorSettingsChanged",(function(){n.updateHint(),n.updateTooltip()})),a(this,"onEditMode",(function(t){n.editMode=n.pano.editMode,n.editableMarker(),n.setupPanel(),n.editableLabel(),n.editableHotspot(),n.editorListeners()})),a(this,"onEditLabel",(function(){var t=j+(n.labelText.clientWidth>0?35+n.labelText.clientWidth:0);n.bg.style.width="".concat(t,"px"),n.props.label.width=t})),a(this,"onMouseEnter",(function(){n.pano.editMode||(n.mouseOver||n.triggerMouseOver(),n.mouseOver=!0,n.setState("over"),n.enterAnimation(),n.enterLabel())})),a(this,"onMouseLeave",(function(){n.pano.editMode||(n.mouseOver&&!n.isHotspot()&&n.triggerMouseOut(),n.mouseOver=!1,n.setState("normal"),n.leaveAnimation(),n.leaveLabel())})),a(this,"onReleaseOutsideLabel",(function(t){n.el.contains(t.target)||n.props.hasPanel&&n.panel.el.contains(t.target)||(n.hideLabel(),n.disableActive(),document.removeEventListener(P,n.onReleaseOutside))})),a(this,"onMouseDown",(function(t){if(n.moveCount=0,n.pano.onMouseDown(t),n.sprite.visible&&_(t)){var e=x(t,n.pano),r=e.pageX,o=e.pageY;e.gesture;n.lastX=r,n.lastY=o,n.pano.editMode&&(n.dragging=!0),i.hideLast(n.panel),null!=n.panel&&n.panel.shown&&(n.panel.hide(),n.keepPanelHidden=!0,n.disableActive("over")),null!=n.tooltip&&n.tooltip.isShown()&&(n.keepTooltipHidden=!0,n.tooltip.hide()),n.pano.lastMarkerClicked=n,n.pano.markerIdxInView=n.idx}})),a(this,"onMouseMove",(function(t){if(n.moveCount++,n.sprite.visible){var e=x(t,n.pano),i=e.pageX,r=e.pageY;e.gesture;n.lastX=i,n.lastY=r}})),a(this,"onMouseUp",(function(){n.moveCount<p&&(i.hideLast(n.panel),n.downPano(),n.downActiveState(),n.downShowHidePanel(),n.downEditMode(),n.downLabel(),n.downTooltip(),n.addToVisitedMarkers(),n.setAccFocus()),n.sprite.visible&&(null==n.panel||c.getPath(n,"panel.shown"))&&n.triggerEvent("onlinkrelease",n.sprite.userData.id)})),this.editMode=r.editMode,this.pano=r,this.sprite=s,this.backSprite=l,this.id=u,this.idx=f,this.canvas=v,this.ctx=g,this.tex=m,this.createDefaults(y),this.setProperties(y),this.setupPanel(),this.createGraphics(),this.createSprite(o),h.on(d.threeSixtyImage.EDIT_MODE_CHANGED,this.onEditMode),this.editorListeners()}var n,g,C;return n=t,g=[{key:"drawSprite",value:function(t,e,n,i,r){var o=this;"none"===i&&(i="transparent"),"none"===n&&(n="transparent"),"none"===e&&(e="transparent"),e=S(e),n=S(n),i=S(i),r=S(r);var a=this.canvas.width/2,s=this.canvas.height/2,l=this.canvas.width/2-22;window.cancelAnimationFrame(this.renderId),t((function(t){var u=o.ctx,c=o.canvas;o.initialColorsSet&&o.texStyle||(o.texStyle={bgFill:e,bgStroke:n,iconStroke:i,iconFill:r},o.initialColorsSet=!0),function r(){u.globalCompositeOperation="source-over",u.clearRect(0,0,c.width,c.height);var h=E(o.texStyle.bgFill,e),d=E(o.texStyle.bgStroke,n),f=E(o.texStyle.iconStroke,i),p=h&&d&&f;u.fillStyle=A(o.texStyle.bgFill),u.strokeStyle=A(o.texStyle.bgStroke),u.lineWidth=30,u.beginPath(),u.arc(a,s,l,0,H,!1),u.fill(),u.shadowColor="transparent",u.stroke();var v=m;null!=t&&(v.globalCompositeOperation="source-over",v.fillStyle="black",v.fillRect(0,0,c.width,c.height),v.globalCompositeOperation="source-in",v.drawImage(t,0,0),v.fillStyle=A(o.texStyle.iconStroke),v.fillRect(0,0,c.width,c.height));var g=o.props.iconScale||1,b=c.width*g,w=b/2,S=c.width/2-w,T=c.height/2-w;u.drawImage(y,S,T,b,b),o.renderId=window.requestAnimationFrame(r),p&&window.cancelAnimationFrame(o.renderId),o.tex.needsUpdate=!0}()}))}},{key:"editableLabel",value:function(){null!=this.labelText&&(this.labelText.contentEditable="true",this.labelText.addEventListener("input",this.onEditLabel))}},{key:"editorListeners",value:function(t){null==t&&(t=this.editMode),t?h.on(d.threeSixtyImage.EDITOR_SETTINGS_CHANGED,this.onEditorSettingsChanged):h.off(d.threeSixtyImage.EDITOR_SETTINGS_CHANGED,this.onEditorSettingsChanged)}},{key:"remove",value:function(){this.teardown(),h.off(d.threeSixtyImage.EDIT_MODE_CHANGED,this.onEditMode),null!=this.panel&&this.panel.remove(),null!=this.labelText&&this.labelText.removeEventListener("input",this.onEditLabel),null!=this.hotspotHint&&this.hotspotHint.destroy(),null!=this.tooltip&&this.tooltip.destroy()}},{key:"resize",value:function(){null!=this.panel&&this.panel.resize()}},{key:"updateLoc",value:function(t){this.updatePosition(t.x,t.y,t.z),this.panel&&this.panel.update()}},{key:"setupPanel",value:function(){(this.props.hasPanel||this.pano.editMode)&&(this.panel=new i({pano:this.pano,marker:this,data:this.props.panel,disabled:!this.props.hasPanel}))}},{key:"generateStates",value:function(t,e){var n="#ffffff"===t.toLowerCase()?T(e,t,.12):T("#000000",t,.2);return{normal:{bgStroke:t,bgStrokeWidth:2,bgFill:t,iconStroke:e,iconFill:"none"},over:{bgStroke:n,bgStrokeWidth:2,bgFill:n,iconStroke:e,iconFill:"none"},active:{bgStroke:e,bgStrokeWidth:2,bgFill:t,iconStroke:e,iconFill:"none"},activeHover:{bgStroke:e,bgStrokeWidth:2,bgFill:n,iconStroke:e,iconFill:"none"}}}},{key:"createDefaults",value:function(t){this.bgScale="tiny"===t.type?7.5:2.5;var e="hotspot"===t.type?400:F;this.defaults={states:this.generateStates("#ffffff","#007cb2"),type:"normal",hasPanel:!0,hasTooltip:!1,hasLabel:!1,scaleX:e,scaleY:e,iconScale:.6,boxShadow:"0 0 20px rgba(0, 0, 0, 0.2)",panel:{hasArrow:!0,borderRadius:5,maxWidth:260,boxShadow:"0 0px 10px rgba(0, 0, 0, 0.25)",fill:"#ffffff",stroke:"transparent",strokeWidth:0,title:this.createPanelElementDefaults("Open Sans","20"),body:this.createPanelElementDefaults("Open Sans","13")}}}},{key:"createPanelElementDefaults",value:function(t,e){return{innerHTML:"",style:{fontFamily:t,fontSize:e,fontThemeType:"none"}}}},{key:"setEditorVar",value:function(t,e){null==this.props.editorVars&&(this.props.editorVars={}),this.props.editorVars[t]=e}},{key:"getEditorVar",value:function(t){if(null!=this.props.editorVars)return this.props.editorVars[t];this.props.editorVars={}}},{key:"getData",value:function(){this.panel&&(this.props.panel=this.panel.getData());var t=this.object,n=e.cloneDeep(this.props);delete n.states,delete n.animation,this.isHotspot()&&(null!=this.polyHotspot&&(n.hotspotData=this.polyHotspot.getData()),null!=this.hotspotHint&&(this.props.hotspotHint=e.cloneDeep(this.hotspotHint.props),n.hotspotHint=this.props.hotspotHint)),null!=this.tooltip&&(this.props.tooltip=e.cloneDeep(this.tooltip.props),n.tooltip=this.props.tooltip);try{n.editorVars=JSON.stringify(n.editorVars)}catch(t){console.warn("Malformed 'editorVars' ".concat(n.editorVars))}return{id:this.id,xPos:t.position.x,yPos:t.position.y,zPos:t.position.z,props:n}}},{key:"simpleColors",value:function(){null!=this.props.bgColor&&null!=this.props.fgColor&&(this.props.states=this.generateStates(this.props.bgColor,this.props.fgColor))}},{key:"adjust",value:function(t){var e=t.xPos,n=t.yPos,i=t.zPos,r=t.props;this.updatePosition(e,n,i),this.adjustProps(r),h.trigger(d.threeSixtyImage.MARKER_UPDATED,this)}},{key:"adjustProps",value:function(t){this.props=e.merge(this.props,t),this.simpleColors(),this.updateProps()}},{key:"updateProps",value:function(){this.updateIcon(),this.editMode&&(this.initialColorsSet=!1),this.setState(this.currentState,!0),this.updateType(),this.updatePanel(),this.updateHint(),this.updateTooltip(),this.updateLabel(),this.updateScale(),this.updateAnimation()}},{key:"updateType",value:function(){var t=this.props.type;this.lastType!==t&&("hotspot"===t?(this.ctx.globalCompositeOperation="source-over",this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.tex.needsUpdate=!0,this.hideShowControlPoints(!1),null!=this.polyHotspot&&(this.polyHotspot.visible=!0,this.polyHotspot.select(),this.el.style.display="none",this.hide(),this.pano.boundingBox.style.display="none",this.pano.hideMarkerBounds(),null!=this.panel&&this.panel.shown&&this.panel.hide()),null!=this.tooltip&&this.tooltip.hide()):(this.hideShowControlPoints(!0,!0),"hotspot"===this.lastType&&(this.scale(F,F),this.polyHotspot&&(this.el.style.display="block",this.show(),this.polyHotspot.visible=!1,this.polyHotspot.deselect()))),this.lastType=t,this.panoReady())}},{key:"updateAnimation",value:function(){null!=this.props.animation&&(this.backSprite.material=this.pano.getBackSpriteMaterial(e.cloneDeep(this.props)))}},{key:"updateLabel",value:function(){this.props.hasLabel}},{key:"updateIcon",value:function(){this.canvas&&this.setState(this.currentState);var t=b(this.getIconSource()),e=this.icon&&this.icon.parentNode;if(null!=e){var n=document.createElement("div");n.innerHTML=t,e.removeChild(this.icon),this.icon=n.firstElementChild,e.appendChild(this.icon),this.icon.style.transform="scale(".concat(this.props.iconScale||1,")")}}},{key:"getIconSource",value:function(){if(this.props.iconSource){var t=this.props.iconSource.content||null!=this.pano.assetManager&&this.pano.assetManager.getAssetUrl(this.props.iconSource.assetId);if(t)return t}return W}},{key:"updatePanel",value:function(){var t=this;if(null!=this.panel)if(this.props.hasPanel){if(this.panel.forcePlaceCenter=!0,this.panel.enable(),this.wasDisabled){if(null!=this.polyHotspot){var e=this.polyHotspot,n=this.pano.vecToScreenPosition(e.getCenterPoint(e.shapeMesh));this.panel.show(!0,n),window.requestAnimationFrame((function(){t.panel.bodyEl.blur()}))}else this.panel.show();this.wasDisabled=!1}this.panel.forcePlaceCenter=!0,this.panel.adjust(this.props.panel)}else this.wasDisabled=!0,this.panel.disable();else this.props.hasPanel&&this.setupPanel()}},{key:"isGuided",value:function(){return(this.editMode?this.pano.editorSettings.navigationType:this.pano.navigation.type)===v.GUIDED}},{key:"hasTrigger",value:function(){return this.pano.markerHasTrigger(this)}},{key:"tooltipEnabled",value:function(){return this.props.hasTooltip&&!this.isGuided()}},{key:"updateTooltip",value:function(){if(this.tooltipEnabled()){var t=c.getPath(this,"tooltip.enabled",!1);null==this.tooltip?this.tooltip=new s({parentEl:this.pano.overlaysEl,localizedText:this.pano.localizedText,enabled:!0,props:this.props.tooltip,editMode:this.editMode,marker:this,currMarkerId:this.pano.currMarker===this.sprite?this.id:null}):this.tooltip.update({enabled:!0,props:this.props.tooltip,editMode:this.editMode}),t||this.tooltip.takeFocus()}else null!=this.tooltip&&this.tooltip.enable(!1)}},{key:"hintEnabled",value:function(){return this.props.hasHotspotHint&&this.isHotspot()&&!1===this.pano.hotspotReveal&&this.isGuided()}},{key:"updateHint",value:function(){if(this.hintEnabled()){var t=this.hotspotHint&&this.hotspotHint.enabled;null==this.hotspotHint?this.hotspotHint=new r({parentEl:this.pano.overlaysEl,localizedText:this.pano.localizedText,enabled:!0,props:this.props.hotspotHint,editMode:this.editMode,marker:this}):this.hotspotHint.update({enabled:!0,props:this.props.hotspotHint,editMode:this.editMode}),this.pano.currMarker===this.sprite&&this.hotspotHint.show(!t)}else null!=this.hotspotHint&&this.hotspotHint.enable(!1)}},{key:"isHotspot",value:function(){return"hotspot"===this.props.type}},{key:"initEditorVars",value:function(){if(null!=this.props.editorVars)try{this.props.editorVars=JSON.parse(this.props.editorVars)}catch(t){console.warn("Malformed 'editorVars' ".concat(this.props.editorVars))}}},{key:"setProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props=e.merge(this.defaults,t),this.initEditorVars(),this.isHotspot()||(null==this.props.states.over&&(this.props.states.over=this.props.states.normal),this.simpleColors())}},{key:"setState",value:function(t,e){var n=this;if(!this.isHotspot()&&(this.active&&(t=this.mouseOver?"activeHover":"active"),this.pano.editMode&&(t="normal"),this.props.states[t]||e)){var i=this.props.states[t],r=i.bgStroke,o=i.bgStrokeWidth,a=i.bgFill,s=i.iconStroke,l=i.iconFill;this.bg.style.border="".concat(o*this.bgScale*.5,"px solid ").concat(r),null!=this.props.boxShadow&&(this.bg.style.boxShadow=this.props.boxShadow),this.bg.style.background=a,this.icon.setAttribute("stroke",s),this.icon.setAttribute("fill",l),this.currentState=t,null!=this.canvas&&this.drawSprite((function(t){return w(n.getIconSource(),t)}),a,r,s,l)}}},{key:"addLabel",value:function(){if(this.props.hasLabel){var t=document.createElement("div");t.classList.add("marker-label-container"),t.innerHTML="\n          <div class='marker-label'>\n            enter text...\n          </div>\n        ",this.el.appendChild(t),this.bg.classList.add("has-label"),this.labelEl=t,this.labelEl.style.left="".concat(j,"px"),this.labelEl.style.width=0,this.labelEl.style.height="".concat(j,"px"),this.labelText=this.labelEl.firstElementChild,this.labelText.style.color=this.props.label.textColor,this.labelText.innerHTML=this.props.label.html,this.editMode&&this.editableLabel()}}},{key:"showLabel",value:function(t){var e=this;if(null!=this.labelEl){var n=this.props.label.width||(this.labelText.clientWidth>0?35+function(t){var e=document.createElement("div");e.setAttribute("class",t.getAttribute("class")),e.innerHTML=t.innerHTML,U.innerHTML="",U.appendChild(e),document.body.appendChild(U);var n=e.clientWidth;return document.body.removeChild(U),n}(this.labelText):0);this.labelShown=!0;var i=t?0:V;l.to(this.bg,i,{ease:"power4.out",width:n,height:j}),l.to(this.bg,V,{scaleX:1.05,scaleY:1.05,overwrite:!1}),l.to(this.labelEl,i,{ease:"power4.out",width:n-j,onComplete:function(){e.labelEl.style.width="auto"}})}}},{key:"ariaHidden",value:function(t){this.pano.isGuidedNav()&&this.setAriaHidden(t)}},{key:"setAriaHidden",value:function(t){null!=this.accChildEl&&(t?this.accChildEl.setAttribute("aria-hidden",!0):this.accChildEl.removeAttribute("aria-hidden")),null!=this.accHotspotHintEl&&(t?this.accHotspotHintEl.setAttribute("aria-hidden",!0):this.accHotspotHintEl.removeAttribute("aria-hidden"))}},{key:"hide",value:function(){this.el.style.visibility="hidden",this.el.style.cursor="default",this.sprite.visible=!1,this.backSprite.visible=!1,null!=this.hotspotHint&&this.hotspotHint.hide(),this.ariaHidden(!0)}},{key:"show",value:function(){this.el.style.visibility="visible",this.el.style.cursor=null,this.sprite.visible=!0,this.backSprite.visible=!0,this.ariaHidden(!1)}},{key:"hideLabel",value:function(){this.props.label&&null!=this.labelEl&&(this.labelShown=!1,l.to(this.bg,V,{ease:"power4.out",width:j,height:j,scaleX:1,scaleY:1}),l.to(this.labelEl,V,{ease:"power4.out",width:0}))}},{key:"hideShowControlPoints",value:function(t,e){(this.isHotspot()||e)&&[this.ctrlTl,this.ctrlTr,this.ctrlBr,this.ctrlBl].forEach((function(e){e.style.display=t?"block":"none"}))}},{key:"displayBounds",value:function(){var t=this.pano.spriteWidth,e=this.pano.spriteHeight;if(this.isHotspot()){var n=this.el.getBoundingClientRect();t=n.width,e=n.height}if(t&&e){var i=t/j,r=1/i,o=e/j,a=1/o,s=Math.min(r,a);Math.min(i,o),this.hideShowControlPoints(!1),this.isHotspot()?(this.hbT.setAttribute("stroke-width",4*a),this.hbR.setAttribute("stroke-width",4*r),this.hbB.setAttribute("stroke-width",4*a),this.hbL.setAttribute("stroke-width",4*r)):this.boundsRect.setAttribute("stroke-width",this.isHotspot()?4*s:s),this.ctrlTl.setAttribute("stroke-width",s),this.ctrlTl.setAttribute("transform","scale(".concat(r,", ").concat(a,")"));var l=j*i,u=j*o,c="scale(".concat(r,", ").concat(a,")");return this.ctrlTr.setAttribute("stroke-width",s),this.ctrlTr.setAttribute("transform","".concat(c," translate(").concat(l,", 0)")),this.ctrlBr.setAttribute("stroke-width",s),this.ctrlBr.setAttribute("transform","".concat(c," translate(").concat(l,", ").concat(u,")")),this.ctrlBl.setAttribute("stroke-width",s),this.ctrlBl.setAttribute("transform","".concat(c," translate(0, ").concat(u,")")),this.boundsEl.style.display="block",this}}},{key:"controlPoints",value:function(){var t=this;return["tl","tr","br","bl"].reduce((function(e,n){return'<rect class="marker-ctrl-'.concat(n,'"\n          style="display:').concat(t.isHotspot()?"none":"block",'"\n          stroke="blue" fill="white" stroke-width="1"\n          x="').concat(-3.5,'" y="').concat(-3.5,'"\n          width="').concat(7,'" height="').concat(7,'"\n          vector-effect="non-scaling-stroke"/>')+e}),"")}},{key:"editableHotspot",value:function(){this.isHotspot()&&(this.boundsEl.style.display=this.editMode?"block":"none")}},{key:"hotspotBorder",value:function(){var t=this.pano.hotspotColor;return'\n        <g class="hot-borders">\n          <path class="hot-border-t" d="M 0 0 L 50 0" stroke-width="1" stroke="'.concat(t,'" />\n          <path class="hot-border-r" d="M 50 0 L 50 50" stroke-width="1" stroke="').concat(t,'" />\n          <path class="hot-border-b" d="M 50 50 L 0 50" stroke-width="1" stroke="').concat(t,'" />\n          <path class="hot-border-l" d="M 0 50 L 0 0" stroke-width="1" stroke="').concat(t,'" />\n        </g>\n      ')}},{key:"updateHotspotColor",value:function(){var t=this;[this.hbT,this.hbR,this.hbB,this.hbL].forEach((function(e){e.setAttribute("stroke",t.pano.hotspotColor)})),this.boundsEl.firstElementChild.setAttribute("fill",this.pano.hotspotTransColor)}},{key:"editableMarker",value:function(){this.el.style.cursor=this.pano.editMode?B:null}},{key:"dragging",get:function(){return this.isDragging},set:function(t){this.pano.editMode&&(this.el.style.cursor=t?'url("Moving.cur"), auto':B),this.isDragging=t}},{key:"panoReady",value:function(){if(this.editMode||this.isGuided()){var t=this.boundsEl.firstElementChild;this.isHotspot()?(t.setAttribute("fill",this.pano.hotspotTransColor),t.setAttribute("stroke","none"),u.addClass(this.boundsEl,"hotspot-bounds"),this.boundsEl.style.display="block",this.boundsEl.style.overflow="hidden",this.displayBounds(),this.hotBordersEl.style.display="block"):(u.removeClass(this.boundsEl,"hotspot-bounds"),t.setAttribute("fill","none"),t.setAttribute("stroke","white"),this.boundsEl.style.overflow="visible",this.hotBordersEl.style.display="none")}}},{key:"setAccChild",value:function(t){this.accChildEl=t.querySelector('[data-marker-id="'.concat(this.id,'"]')),null!=this.panel&&(this.panel.accChildEl=t.querySelector('[data-panel-id="'.concat(this.id,'"]')),this.panel.initAccScroll()),null!=this.hotspotHint&&(this.accHotspotHintEl=t.querySelector('[data-hot-hint-id="'.concat(this.id,'"]')),this.accHotspotHintBubbleEl=t.querySelector("#acc-hot-hint-".concat(this.id)))}},{key:"setAccFocus",value:function(t){var e=this;if(null!=this.accChildEl){var n=this.pano.threeSixtyAcc;n.focusByClick=!0,this.isHotspot()?n.sizeChildToAbsRect({left:t.x-30,top:t.y-30,width:60,height:60},this.accChildEl,{getBoundingClientRect:function(){return{left:0,top:0}}}):n.sizeChildToAbsRect(this.el,this.accChildEl),this.accChildEl.focus(),this.wasFocusedByClick=!0,null!=this.panel&&null!=this.panel.accChildEl&&setTimeout((function(){n.showPanel(e.panel,0)}),200)}}},{key:"getAccHtml",value:function(){var t=f.getString("three_image_hotspot"),e=f.getString("three_image_marker"),n=this.props.hasPanel,i=c.getPath(this,"panel.titleEl.textContent"),r=this.props.name!=i?this.props.name:"",o=!!this.pano.isGuidedNav()&&(this.isHotspot()?!this.polyHotspot.isVisible:!this.sprite.visible);!this.pano.hotspotReveal&&this.pano.isGuidedNav()&&null!=this.polyHotspot&&(this.polyHotspot.canBeClicked,o=!this.polyHotspot.canBeClicked);var a="";return null!=this.hotspotHint&&(a+=this.hotspotHint.getAccHtml(this.id,o)),a+='<button\n        aria-label="'.concat(this.isHotspot()?t:""," ").concat(e," ").concat(r,'"\n        class="acc-shadow-el acc-button acc-three-sixty-marker"\n        id="acc-m-').concat(this.id,'"\n        data-marker-id="').concat(this.id,'"\n        aria-hidden="').concat(o,'"\n        aria-controls="acc-').concat(this.id,'"\n        ').concat(this.getTooltipAccRef(),'\n      tabindex="0" role="button" ').concat(n?'aria-expanded="false"':"",">\n        <p><span>").concat(r,"</span></p>\n      </button>\n      ").concat(this.getTooltipAccHtml(),"\n      "),n&&!N.isPhone&&(a+=this.panel.getAccHtml(this.id)),a}},{key:"getTooltipAccId",value:function(){return"acc-tooltip-".concat(this.id)}},{key:"getTooltipAccRef",value:function(){return this.tooltipEnabled()?'aria-describedby="'.concat(this.getTooltipAccId(),'"'):""}},{key:"getTooltipAccHtml",value:function(){if(!this.tooltipEnabled())return"";var t=f.getString("three_image_tooltip"),e=c.getPath(this,"props.tooltip.body.innerHTML","");return'\n        <div\n          id="'.concat(this.getTooltipAccId(),'"\n          role="tooltip"\n          style="visibility: hidden;"\n        >').concat(t," : ").concat(e,"</div>")}},{key:"createGraphics",value:function(){this.el=document.createElement("div"),this.el.classList.add("marker-el");var t=b(W);this.el.innerHTML='\n        <div class="marker-content">\n          <div class="bg"></div>\n          '.concat(t,'\n        </div>\n        <svg class="marker-bounds" style="display:none;">\n          <rect\n            class="marker-bounds-rect" stroke="white" fill="none" stroke-width="1"\n            x=0 y="0" width="').concat(j,'" height="').concat(j,'" />\n\n          ').concat(this.hotspotBorder(),"\n          ").concat(this.controlPoints(),"\n        </div>\n      "),this.boundsEl=this.el.querySelector(".marker-bounds"),this.boundsRect=this.el.querySelector(".marker-bounds-rect"),this.ctrlTl=this.el.querySelector(".marker-ctrl-tl"),this.ctrlTr=this.el.querySelector(".marker-ctrl-tr"),this.ctrlBr=this.el.querySelector(".marker-ctrl-br"),this.ctrlBl=this.el.querySelector(".marker-ctrl-bl"),this.hotBordersEl=this.el.querySelector(".hot-borders"),this.hbT=this.el.querySelector(".hot-border-t"),this.hbR=this.el.querySelector(".hot-border-r"),this.hbB=this.el.querySelector(".hot-border-b"),this.hbL=this.el.querySelector(".hot-border-l"),this.bg=this.el.querySelector(".bg"),this.bg.classList.add(this.props.type+"-type"),this.addLabel(),this.content=this.el.querySelector(".marker-content"),null!=this.canvas&&(this.content.style.opacity=0),this.bgRect=this.bg.querySelector(".bg-rect"),this.icon=this.el.querySelector(".icon"),this.currentState="normal",this.updateProps(),this.panoReady(),this.editableMarker()}},{key:"enterAnimation",value:function(){"moveUp"===this.props.animation&&(this.bg.style.boxShadow="0 5px 20px rgba(0, 0, 0, 0.3)",l.to(this.content,.5,{y:-5,ease:"power4.out"})),"scaleUp"===this.props.animation&&(this.bg.style.boxShadow="0 0 20px rgba(0, 0, 0, 0.3)",l.to(this.content,.5,{scaleX:1.05,scaleY:1.05,ease:"power4.out"}))}},{key:"enterLabel",value:function(){this.props.hasLabel&&"hover"===this.props.label.showOn&&this.showLabel()}},{key:"leaveAnimation",value:function(){"moveUp"===this.props.animation&&(l.to(this.content,.2,{y:0,ease:"power4.out"}),this.bg.style.boxShadow=this.props.boxShadow),"scaleUp"===this.props.animation&&(l.to(this.content,.5,{scaleX:1,scaleY:1,ease:"power4.out"}),this.bg.style.boxShadow=this.props.boxShadow)}},{key:"leaveLabel",value:function(){this.props.hasLabel&&"hover"===this.props.label.showOn&&this.hideLabel()}},{key:"disableActive",value:function(t){this.active&&(this.active=!1,this.setState(t||"normal"))}},{key:"downPano",value:function(){this.pano.setCurrMarker(this.sprite),this.pano.downOnMarker=!0,this.pano.stopVelocity()}},{key:"downActiveState",value:function(){var t=this;null!=this.props.states.active&&(this.active=!0,this.setState("active"),this.props.hasLabel||window.requestAnimationFrame((function(){document.addEventListener(P,t.onReleaseOutsideLabel)})))}},{key:"downShowHidePanel",value:function(){null==this.panel||this.labelShown||(this.panel.shown?(this.panel.hide(),this.disableActive("over")):this.keepPanelHidden?(this.keepPanelHidden=!1,this.disableActive("over")):(this.panel.show(),this.panel.hideSelectionBoxes())),null!=this.tooltip&&(this.tooltip.isShown()?this.tooltip.hide():this.keepTooltipHidden?this.keepTooltipHidden=!1:this.tooltip.showEditMode())}},{key:"downEditMode",value:function(){if(this.pano.editMode)return this.pano.displayBoundingBox(),void(this.pano.boundingBox.style.display="block")}},{key:"downLabel",value:function(){this.props.hasLabel&&"down"===this.props.label.showOn&&(this.showLabel(),document.addEventListener(P,this.onReleaseOutsideLabel))}},{key:"downTooltip",value:function(){null!=this.tooltip&&this.tooltip.markerClicked()}},{key:"disablePulse",value:function(){this.backSprite.material=this.pano.getBackSpriteMaterial(e.cloneDeep(this.props),!0),this.isHotspot()&&null!=this.polyHotspot&&this.polyHotspot.disablePulse()}},{key:"enablePulse",value:function(){this.backSprite.material=this.pano.getBackSpriteMaterial(e.cloneDeep(this.props),!1),this.isHotspot()&&null!=this.polyHotspot&&this.polyHotspot.enablePulse()}},{key:"visited",get:function(){return this.isVisited},set:function(t){t&&(this.pano.markerIdxInView=this.idx),this.isVisited||(this.isVisited=t,this.shouldTrack()&&this.pano.updateVisitedMarkers(),this.isVisited&&(this.disablePulse(),this.setHotspotHintViewed()))}},{key:"shouldTrack",value:function(){return!this.props.untracked||this.pano.isGuidedNav()}},{key:"reset",value:function(){this.isVisited&&(this.isVisited=!1,this.enablePulse()),null!=this.panel&&this.panel.hide()}},{key:"updateResume",value:function(){null!=this.panel&&this.pano.model.updateLabelState(this.idx,this.panel.shown),this.pano.model.setVisitedMarkers()}},{key:"addToVisitedMarkers",value:function(){null!=this.pano.model&&(null!=this.panel&&this.pano.model.updateLabelState(this.idx,this.panel.shown),this.isVisited?this.pano.model.setVisitedMarkers():this.pano.model.addVisitedMarker(this.idx)),this.visited=!0}},{key:"setHotspotHintViewed",value:function(){this.props.hasHotspotHint&&null!=this.hotspotHint&&this.hotspotHint.setViewed()}},{key:"resumeVisited",value:function(t){var e=this;if(this.isVisited=!0,this.setHotspotHintViewed(),this.disablePulse(),this.isHotspot()&&null!=this.polyHotspot&&(this.polyHotspot.visited=!0),null!=this.panel&&t)if(this.isHotspot()){var n=this.polyHotspot;window.requestAnimationFrame((function(){e.pano.calcSceneRect();var t=e.pano.vecToScreenPosition(n.getCenterPoint(n.shapeMesh));e.panel.show(!0,t)}))}else this.panel.forcePlaceCenter=!0,window.requestAnimationFrame((function(){e.panel.show()}))}},{key:"teardown",value:function(){null!=this.hotspotHint&&(this.hotspotHint.enable(!1),this.hotspotHint.destroy(),this.hotspotHint=null),null!=this.tooltip&&(this.tooltip.enable(!1),this.tooltip.destroy(),this.tooltip=null),this.editorListeners(!1);var t=this.object.element;t.removeEventListener(M,this.onMouseEnter),t.removeEventListener(O,this.onMouseLeave),document.removeEventListener(I,this.onMouseMove),t.removeEventListener(L,this.onMouseUp)}},{key:"updateScale",value:function(){null!=this.object&&this.scale(this.props.scale)}},{key:"markerUpdated",value:function(){var t=this;this.isHotspot()||(clearTimeout(this.updateId),this.updateId=setTimeout((function(){h.trigger(d.threeSixtyImage.MARKER_UPDATED,t)}),100))}},{key:"scale",value:function(t,e){null!=t&&null!=e&&(this.scaleX(t),this.scaleY(e))}},{key:"scaleX",value:function(t){null!=t&&(this.sprite.scale.x=t,this.object.scale.x=t/j,this.props.scaleX=t,this.backSprite.scale.x=this.backSprite.scale.y=Math.min(3*this.props.scaleX,3*this.props.scaleY),this.markerUpdated())}},{key:"scaleY",value:function(t){null!=t&&(this.sprite.scale.y=t,this.object.scale.y=t/j,this.props.scaleY=t,this.backSprite.scale.x=this.backSprite.scale.y=Math.min(3*this.props.scaleX,3*this.props.scaleY),this.markerUpdated())}},{key:"updatePosition",value:function(t,e,n){null!=t&&(this.object.position.x=t,this.sprite.position.x=t,this.backSprite.position.x=t),null!=e&&(this.object.position.y=e,this.sprite.position.y=e,this.backSprite.position.y=e),null!=n&&(this.object.position.z=n,this.sprite.position.z=n,this.backSprite.position.z=n),this.markerUpdated()}},{key:"createSprite",value:function(t){var e=new THREE.CSS3DSprite(this.el);this.object=e,e.position.x=t.x,e.position.y=t.y,e.position.z=t.z,this.pano.cssScene.add(e),this.pano.polyHotspot||(e.element.style.pointerEvents="all"),R||e.element.addEventListener(M,this.onMouseEnter),e.element.addEventListener(O,this.onMouseLeave),e.element.addEventListener(P,this.onMouseDown),document.addEventListener(I,this.onMouseMove),e.element.addEventListener(L,this.onMouseUp),"number"==typeof this.props.scale&&(this.props.scale=[this.props.scale,this.props.scale]),this.isHotspot()?this.scale(F,F):null!=this.props.scaleX&&null!=this.props.scaleY?this.scale(this.props.scaleX,this.props.scaleY):this.scale(F,F)}},{key:"triggerEvent",value:function(t,e){this.editMode||this.pano.model.executeFilteredPlayerEvent((function(t){return t.triggerid===e}),t)}},{key:"triggerMouseOver",value:function(t){this.editMode||null!=this.tooltip&&this.tooltip.mouseOver(t)}},{key:"triggerMouseOut",value:function(){this.editMode||null!=this.tooltip&&this.tooltip.mouseOut()}},{key:"getMetrics",value:function(t){var e=this;this.pano.calcSceneRect();var n,i,r={},o=N.isMobile?{width:this.pano.newWidth,height:this.pano.newHeight}:this.pano.sceneRect,a=o.width,s=o.height;if(this.isHotspot()){var l=t||(n=e.polyHotspot,i=n.getCenterPoint(n.shapeMesh),e.pano.vecToScreenPosition(i,!0));Object.assign(r,{width:0,height:0,x:l.x,y:l.y,scale:this.pano.sceneScale})}else this.pano.projection(this.sprite,(function(t,n,i){var o=a/2,l=s/2,u=n.scale,c=u.x,h=u.y;N.isMobile&&((t=i).x*=o,t.y*=-l);var d=c*o,f=h*l;Object.assign(r,{width:d,height:f,x:t.x+o-d/2,y:t.y+l-f/2,scale:e.pano.sceneScale})}));return r.leftSide=r.x+r.width/2<this.pano.width/2,r}}],g&&o(n.prototype,g),C&&o(n,C),Object.defineProperty(n,"prototype",{writable:!1}),t}();return z}.call(e,n,e,t),void 0===i||(t.exports=i)},3508:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,h(i.key),i)}}function c(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}i=function(t){"use strict";var e=this,i=n(6486),r=n(9045).modes,s=n(5505),l=s.downOrTouchStart,h=s.moveOrTouchMove,d=s.upOrTouchEnd,f=n(3163),p=f.IMAGE_MEDIA_TYPE,v=f.VIDEO_MEDIA_TYPE,g=f.AUDIO_MEDIA_TYPE,m=f.ALL_MEDIA_TYPE,y=n(7536).Z_INDEX_MID,b=n(8579),w=b.orientation,S=b.device,A=b.deviceView,E=b.os.isAndroid,T=n(1815).navigation,C=n(1251),x=n(9032),_=n(8880),k=n(1681),M=n(8901),O=n(3684),P=n(133),I=n(7929),L=n(1354),D=n(9777),R=n(7954),N=R.parseFontFamily,H=R.parseFontThemeType,V=R.unpackHex,j=R.rectPath,F=n(82),B=n(9337),U=B.isLeftClickOrTouch,W=B.touchify,z=150,G="-45%",q=Math.abs(parseInt(G,10)/100),Y='\n    <div class="panel-mobile-icon-close" role="button" tabIndex="0" aria-label="'.concat(k.getString("close"),'">\n      <svg width="20" height="20" viewBox="0 0 36 36" focusable="false" data-ref>\n        <polygon fill="black" points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n      </svg>\n    </div>\n  '),X=function(){function t(e){var n=this,i=e.pano,o=e.marker,a=e.data,s=e.disabled;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"onMouseUp",(function(t){if(null!=n.accChildEl){var e=n.pano.threeSixtyAcc,i=t.target;if(C.hasClass(i,"panel-audio-play")){e.showPanel(n,0,!1);var r=n.accChildEl.querySelector(".acc-three-sixty-media-play-audio");null!=r&&(r.focus(),e.focusByClick=!0)}else if(C.closest(i,(function(t){return C.hasClass(t,"panel-audio-seek")}))){e.showPanel(n,0,!1);var o=n.accChildEl.querySelector(".acc-audio-slider");null!=o&&(o.focus(),e.focusByClick=!0)}}})),c(this,"onTouchStart",(function(t){if(n.touchDown=!0,n.touchMoveCount=0,n.touchedPullHit=!1,t.target.classList.contains("panel-mobile-pull-hit")&&(n.touchedPullHit=!0),!t.target.classList.contains("panel-mobile-icon-close")&&w.isPortrait&&n.elementIsPullable(t.target)){n.touchPull=!0;var e=W(t),i=e.pageX,r=e.pageY;n.touchStartY=r,n.panelBubbleEl.style.transition="none",null==n.pullDirection||"none"==n.pullDirection?(n.touchOffY=function(){return window.innerHeight*q},n.lastPullDirection="none"):"up"===n.pullDirection&&(n.touchOffY=function(){return.02*window.innerHeight},n.lastPullDirection="up"),n.touchStartX=i}})),c(this,"onTouchMove",(function(t){n.touchDown&&n.touchPull&&(t.stopImmediatePropagation(),n.touchMoveCount++,n.beginSwipeDirection(t),"horizontal"===n.initialDir?n.performHorizSwipe(t):"vertical"===n.initialDir&&n.performVerticalPull(t))})),c(this,"onTouchEnd",(function(t){if(n.touchedPullHit&&t.target.classList.contains("panel-mobile-pull-hit")&&"down"!=n.pullDirection?n.el.classList.contains("panel-mobile-collapsed")?(n.pullDirection="up",n.touchPull=!0):(n.pullDirection="none",n.touchPull=!0):(t.target.classList.contains("panel-mobile-icon-close")||t.target.classList.contains("three-guided")||t.target.classList.contains("panel-overlay-path")||t.target.classList.contains("three-sixty-image-mobile-overlay"))&&(n.pullDirection="down",n.touchDown=n.touchPull=!0),(n.swipePanelNext||n.swipePanelPrev)&&(n.panelBubbleEl.style.transition="left ".concat(z,"ms ease-out"),n.swipeNoNav?(n.panelBubbleEl.style.left=0,n.swipePanelNext=n.swipePanelPrev=!1):n.touchSwipe=!0,n.swipePanelNext?(n.panelBubbleEl.style.left="-100%",n.isGuidedNextShow=!0,n.pano.goNextGuided()):n.swipePanelPrev&&(n.isGuidedPrevShow=!0,n.panelBubbleEl.style.left="100%",n.pano.goPrevGuided()),n.touchPull=!1),n.initialDir=null,n.touchDown&&n.touchPull)if(n.panelBubbleEl.style.transition="bottom ".concat(z,"ms ease-out"),"up"===n.pullDirection)n.panelBubbleEl.style.bottom="0%",n.el.classList.remove("panel-mobile-collapsed"),n.panelPullEl.setAttribute("aria-expanded",!0),n.scroller.enableMobile();else if("down"===n.pullDirection){if(n.panelBubbleEl.style.bottom="-100%",null!=n.pano.currMarker&&n.pano.currMarker.userData.cssMarker.disableActive(),n.pano.deselectMarker(),n.scroller.disableMobile(),E){var e=null!=document.activeElement&&document.activeElement.classList.contains("panel-mobile-icon-close")&&(null==n.lastElFocused||n.lastElFocused!=n.el);n.lastElFocused=document.activeElement,setTimeout((function(){var t=n.marker.accChildEl.parentNode.querySelector(".acc-three-sixty-nav-next");null!=t?t.focus():e&&(n.marker.accChildEl.focus(),n.lastElFocused=null)}),300)}x.trigger(_.threeSixtyImage.PUSH_DOWN_BY_LABEL)}else"none"===n.pullDirection&&(n.el.classList.add("panel-mobile-collapsed"),n.panelPullEl.setAttribute("aria-expanded",!1),n.panelBubbleEl.style.bottom=G,n.scroller.disableMobile(),x.trigger(_.threeSixtyImage.PUSH_UP_BY_LABEL));n.touchDown=!1,n.touchPull=!1,n.touchSwipe?setTimeout((function(){n.touchSwipe=!1,n.swipePanelNext=!1,n.swipePanelPrev=!1,n.hide(),n.panelBubbleEl.style.left=0,n.panelBubbleEl.style.bottom=G,n.pullDirection=null}),75):"down"===n.pullDirection&&setTimeout((function(){n.hide(),n.panelBubbleEl.style.bottom=G,n.pullDirection=null}),z)})),c(this,"onEditMode",(function(t){n.setupInputElement(n.titleEl),n.setupInputElement(n.bodyEl)})),c(this,"onFocusIn",(function(t){var e=t.currentTarget===n.bodyEl?t.currentTarget.parentNode:t.currentTarget;n.showSelectionBox(e,!0)})),c(this,"onContentPasted",(function(t){t.preventDefault();var e=(t.clipboardData||window.clipboardData).getData("Text");t.currentTarget===n.titleEl&&(e=e.replace(/(\r\n|\n|\r)/gm," "));var i=document.getSelection(),r=i.getRangeAt(0);r.deleteContents();var o=document.createTextNode(e);r.insertNode(o),r.selectNodeContents(o),r.collapse(!1),i.removeAllRanges(),i.addRange(r),n.onContentChanged(t)})),c(this,"onContentChanged",(function(t){n.updateTextData(n.data.title,n.titleEl),n.updateTextData(n.data.body,n.bodyEl),n.data.hasArrow&&n.bubbleArrowEl.classList.contains("panel-dir-left")&&(n.useAnchor=!0),n.clearWhitespace(t.currentTarget),n.positionGradient(!0),n.updateInteractableElements();var e=t.currentTarget===n.bodyEl?t.currentTarget.parentNode:t.currentTarget;n.showSelectionBox(e,!0),x.trigger(_.threeSixtyImage.MARKER_UPDATED,n.marker)})),c(this,"onEditorKeyDown",(function(t){var e=66===t.which||85===t.which||73===t.which||67===t.which||88===t.which||86===t.which||90===t.which,i=13===t.which,r=t.currentTarget===n.titleEl;(t.ctrlKey&&e||i&&r)&&t.preventDefault(),t.currentTarget===n.mediaImageEl&&t.preventDefault()})),c(this,"onMediaModalKeydown",(function(t){n.mediaShowing&&(9==t.which&&t.preventDefault())})),c(this,"onReleaseOutside",(function(t){if(U(t)&&((!(!n.pano.editMode&&!C.isWithin(t.target,"slide-container"))||C.isWithin(t.target,"panel-media-overlay"))&&!t.target.dataset.isMediaAudio&&!t.target.dataset.isMediaVideo&&n.pano.mode!==r.SET_CROP_IMAGE_MEDIA&&!["panel-el","marker-el","panel-image-container","panel-video-container","hint","tooltip"].some((function(e){return C.isWithin(t.target,e)})))){var e=n.isMediaShowing(p),i=n.isMediaShowing(v);e||i?setTimeout((function(){n.hideMediaType(p),n.hideMediaType(v)}),300):n.hide()}})),c(this,"positionPanel",(function(t,e,i){n.pano.calcSceneRect();var r=n.pano.sceneRect;A.isTablet&&(t=i,r.width=n.pano.newWidth,r.height=n.pano.newHeight,t.x*=n.pano.newWidth/2,t.y*=-n.pano.newHeight/2);var o=e.scale.x*r.width/2,a=e.scale.y*r.height/2,s=!1;if(n.marker.isHotspot()&&!n.marker.polyHotspot&&n.pano.editMode){var l=document.elementsFromPoint(C.mouseX,C.mouseY).find((function(t){return t.classList.contains("marker-bounds-rect")}));null==l||null==F.getPath(n,"marker.el")||n.marker.el.contains(l)||(o=a=0,s=!0)}var u=n.marker.isHotspot()&&!s?n.getHotspotSizeInfo():{width:o,height:a,x:t.x+r.width/2,y:t.y+r.height/2},c=u.x,h=u.y,d=u.width,f=u.height;n.useAnchor?(c=n.lastAnchor.x,h=n.lastAnchor.y):n.lastAnchor={x:c,y:h},(0===c||0===h||n.forcePlaceCenter)&&(c=t.x+r.width/2,h=t.y+r.height/2,n.forcePlaceCenter=!1),n.calcSmartScale(),n.calcPanelTransform(c,h,d,f)})),c(this,"onAccKeyDown",(function(t){var e=DS.constants.keys,i=(e.UP,e.DOWN);t.target.id==="acc-".concat(n.marker.id)&&(t.which===i?n.panelBodyContainerEl.scrollTop+=10:n.panelBodyContainerEl.scrollTop-=10,n.scroller.onMouseOver())})),c(this,"onAccKeyUp",(function(t){t.target.id==="acc-".concat(n.marker.id)&&(clearTimeout(n.hideAccScrollbar),n.hideAccScrollbar=setTimeout((function(){n.scroller.onMouseOut()}),200))})),c(this,"createOrUpdateImage",(function(t){n.createOrUpdateMedia("destroyImage",(function(){return n.mediaImageEl}),(function(){return I(n,t)}))})),c(this,"createOrUpdateVideo",(function(t){n.createOrUpdateMedia("destroyVideo",(function(){return n.mediaVideoPosterEl}),(function(){return P(n,t)}))})),c(this,"createOrUpdateAudio",(function(t){n.createOrUpdateMedia("destroyAudio",(function(){return n.mediaAudioEl}),(function(){return O(n,t)}))})),c(this,"createOrUpdateMedia",(function(t,e,i){n.pano.withoutOnSelectionChange((function(){var r=n[t],o=null!=r,a=o&&n.getSelectionBox(e()).shown;o&&r(),r=i(),n[t]=function(){r(),n[t]=null},a&&n.showSelectionBox(e(),!0),n.updateAfterMediaChange()}))})),c(this,"onLeftLink",(function(){n.hide();var t=n.data.navigation,e=n.pano.getMarker(t.leftLink);n.pano.selectNextSprite=!0,n.pano.setCurrMarker(e.sprite),n.pano.panToMarker(t.leftLink)})),c(this,"onRightLink",(function(){n.hide();var t=n.data.navigation,e=n.pano.getMarker(t.rightLink);n.pano.selectNextSprite=!0,n.pano.setCurrMarker(e.sprite),n.pano.panToMarker(t.rightLink)})),c(this,"updateScroll",(function(){null!=n.selections&&n.selections.forEach((function(t){return t.update()}))})),this.pano=i,this.marker=o,this.overlaysEl=this.pano.overlaysEl,this.editMode=i.editMode,this.shown=!1,this.scale=1,this.selectionBoxes=new WeakMap,this.isMediaTypeActive=new Map,this.showMedia=new Map,this.hideMedia=new Map,this.createdMediaCache=new Map,this.selections=[],this.disabled=s,this.createDefaults(),this.setData(a),this.createGraphics(),this.setupMobile(),this.el.addEventListener(d,this.onMouseUp),x.on(_.threeSixtyImage.EDIT_MODE_CHANGED,this.onEditMode)}var e,n,s;return e=t,n=[{key:"setupMobile",value:function(){A.isPhone&&(this.lastPullDirection=this.pullDirection="none",this.el.classList.add("panel-mobile-collapsed"),this.el.addEventListener(l,this.onTouchStart),document.addEventListener(h,this.onTouchMove,{passive:!1}),document.addEventListener(d,this.onTouchEnd),E&&(document.addEventListener("mousemove",this.onTouchMove,{passive:!1}),this.el.addEventListener("mouseup",this.onTouchStart),this.el.addEventListener("click",this.onTouchEnd)),this.touchDown=!1)}},{key:"elementIsPullable",value:function(t){var e=["panel-bubble","panel-content","panel-content-grad-bottom","panel-head","panel-body-outer","panel-mobile-pull-hit"].some((function(e){return t.classList.contains(e)})),n=!1;C.parentNodesOf(t,(function(t){t.classList.contains("panel-video-poster")&&(n=!0)}));var i=!1;return t.classList.contains("panel-framed-image-thumb")&&this.el.classList.contains("panel-mobile-collapsed")&&(i=!0),e||n||i}},{key:"quickLabelSwipe",value:function(t){var e=!1,n=!1;return this.touchMoveCount<=10&&Math.abs(t)>3&&(t<0?n=!0:e=!0),{fastUp:e,fastDown:n}}},{key:"beginSwipeDirection",value:function(t){if(!t.target.classList.contains("panel-content")||this.el.classList.contains("panel-mobile-collapsed")){var e=W(t),n=e.pageX,i=e.pageY;if(null==this.initialDir&&n>30){var r=Math.abs(n-this.prevTouchX),o=Math.abs(i-this.prevTouchY);this.prevTouchX=n,this.prevTouchY=i,this.touchMoveCount>4&&(this.initialDir=o>=r?"vertical":"horizontal")}this.swipePanelNext=this.swipePanelPrev=this.swipeNoNav=!1,this.pano.isGuidedNav()||"horizonal"!==this.initialDir||(this.initialDir="vertical")}}},{key:"performHorizSwipe",value:function(t){if(this.pano.isGuidedNav()){var e=W(t).pageX-this.touchStartX;this.panelBubbleEl.style.left="".concat(e,"px"),this.lastOffX=Math.abs(e),e<-5?this.swipePanelNext=!0:e>5&&(this.swipePanelPrev=!0),this.lastOffX<50&&(this.swipeNoNav=!0);var n=0===this.pano.markerIdxInView&&this.swipePanelPrev,i=!this.pano.canNavNextMarker()&&this.swipePanelNext;(n||i)&&(this.swipeNoNav=!0)}}},{key:"performVerticalPull",value:function(t){var e=this.touchOffY(),n=W(t).pageY,i=this.touchStartY-n,r=Math.min(0,i-e),o=r+e;this.panelBubbleEl.style.bottom="".concat(r,"px"),this.panelBubbleEl.style.left=0,this.pullDirection="none";var a=this.quickLabelSwipe(o),s=a.fastUp,l=a.fastDown;this.scroller.disableMobile(),"none"===this.lastPullDirection&&(o>50||s?(this.pullDirection="up",this.touchedPullHit=!1):(o<-70||l)&&(this.pullDirection="down",this.touchedPullHit=!1))}},{key:"addSelectionBox",value:function(t){if(null==this.getSelectionBox(t.targetEl)){var e=new L(t);this.selections.push(e),this.selectionBoxes.set(t.targetEl,e)}}},{key:"removeSelectionBox",value:function(t){var e=this,n=this.getSelectionBox(t);null!=n&&this.pano.withOnSelectionChange((function(){e.selections=i.without(e.selections,n),e.selectionBoxes.delete(t),n.destroy()}))}},{key:"getSelectionBox",value:function(t){return null!=this.selectionBoxes?this.selectionBoxes.get(t):null}},{key:"showSelectionBox",value:function(t,e){var n=this,i=this.getSelectionBox(t);return this.pano.withOnSelectionChange((function(){null!=i&&i.show(),e&&null!=n.selections&&n.selections.forEach((function(t){t!=i&&t.hide()}))})),i}},{key:"isEmptyOrWhitespace",value:function(t){return""===t.innerText.trim()&&!/\<(span|ol|ul|li|blockquote)\/?\>/i.test(t.innerHTML)}},{key:"clearWhitespace",value:function(t){this.isEmptyOrWhitespace(t)&&(t.innerHTML="")}},{key:"hideSelectionBox",value:function(t){var e=this.getSelectionBox(t);null!=e&&this.pano.withOnSelectionChange((function(){e.hide()}))}},{key:"hideSelectionBoxes",value:function(){var t=this;null!=this.selections&&this.pano.withOnSelectionChange((function(){t.selections.forEach((function(t){t.hide()}))}))}},{key:"destroySelectionBoxes",value:function(){var t=this;this.pano.withOnSelectionChange((function(){t.selections.forEach((function(t){return t.destroy()})),t.selections=null,t.selectionBoxes=null}))}},{key:"showPlaceholderSelectionBoxes",value:function(){var t=this;this.pano.withoutOnSelectionChange((function(){t.isEmptyOrWhitespace(t.titleEl)&&t.showSelectionBox(t.titleEl,!1),t.isEmptyOrWhitespace(t.bodyEl)&&t.showSelectionBox(t.bodyEl.parentNode,!1)}))}},{key:"inputElementEventListeners",value:function(){var t=function(t,e){return{eventName:t,eventHandler:e}};return[t("input",this.onContentChanged),t("keydown",this.onEditorKeyDown),t("paste",this.onContentPasted),t("formatMessage",this.onContentChanged),t("focusin",this.onFocusIn)]}},{key:"setupInputElement",value:function(t){t.contentEditable=!0,t.spellcheck=!0;var e,n=a(this.inputElementEventListeners());try{for(n.s();!(e=n.n()).done;){var i=e.value;t.addEventListener(i.eventName,i.eventHandler)}}catch(t){n.e(t)}finally{n.f()}}},{key:"teardownInputElement",value:function(t){var e,n=a(this.inputElementEventListeners());try{for(n.s();!(e=n.n()).done;){var i=e.value;t.removeEventListener(i.eventName,i.eventHandler)}}catch(t){n.e(t)}finally{n.f()}}},{key:"remove",value:function(){var t=this,e=document.querySelector(".three-sixty-image-mobile-overlay");null!=this.panelButton&&this.panelButton.destroy(),null!=e&&e.parentNode.removeChild(e),this.pano.withoutOnSelectionChange((function(){null!=t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.checkRemoveMedia(m,{cleanup:!0}),x.off(_.threeSixtyImage.EDIT_MODE_CHANGED,t.onEditMode),t.teardownInputElement(t.titleEl),t.teardownInputElement(t.bodyEl),t.destroySelectionBoxes()})),this.teardownMobile(),this.teardownAccScroll()}},{key:"teardownMobile",value:function(){this.el.removeEventListener(l,this.onTouchStart),document.removeEventListener(h,this.onTouchMove),document.removeEventListener(d,this.onTouchEnd)}},{key:"updateInteractableElements",value:function(){var t=this;this.pano.calcSceneRect(),this.scroller.update(),function(){var e,n;if(t.pano.editMode&&null!=t.selections)for(var i=0;i<t.selections.length;i++){var r=t.selections[i];r.targetEl===t.bodyEl&&(e=r,(n=r.targetEl.parentNode).scrollHeight!=n.clientHeight?(e.padding.bottom=0,e.update()):0===e.padding.bottom&&(e.padding.bottom=-15,e.update())),r.update()}}()}},{key:"refreshMobileScrollbar",value:function(){this.updatePanelHeight(),this.scroller.update(),w.isLandscape?(this.panelBubbleEl.style.left=null,x.trigger(_.threeSixtyImage.UN_PUSH_LABEL),this.scroller.enableMobile()):this.shown&&(this.panelBubbleEl.style.bottom===G&&this.scroller.disableMobile(),x.trigger(_.threeSixtyImage.PUSH_UP_BY_LABEL))}},{key:"resize",value:function(){var t=this;if(A.isPhone)return this.refreshMobileScrollbar(),void setTimeout((function(){t.updateTempMobileSvg()}),200);this.shown&&!A.isMobile&&this.hide()}},{key:"createDefaults",value:function(){this.defaults={}}},{key:"setData",value:function(t){this.data=i.merge(this.defaults,t)}},{key:"hideAllMedia",value:function(){var t=this;[g,v,p].forEach((function(e){return t.hideMediaType(e)}))}},{key:"hideMediaType",value:function(t){var e=this.hideMedia.get(t);null!=e&&e()}},{key:"showMediaType",value:function(t){var e=this.showMedia.get(t);null!=e&&e()}},{key:"isMediaShowing",value:function(t){return this.isMediaTypeActive.get(t)||!1}},{key:"setupMediaModal",value:function(t){var e=this.mediaShowing;if(e){var n=g;if(t!=p)return!1;if(!o(this.isMediaTypeActive.entries()).every((function(t){var e=!1===t[1],i=t[0]===n;return e||i})))return!1}return this.mediaShowing=!0,this.isMediaTypeActive.set(t,!0),e||document.addEventListener("keydown",this.onMediaModalKeydown),this.pano.onSelectionChange(),!0}},{key:"teardownMediaModal",value:function(t){this.isMediaTypeActive.set(t,!1),this.mediaShowing=o(this.isMediaTypeActive.values()).some((function(t){return t})),this.mediaShowing||document.removeEventListener("keydown",this.onMediaModalKeydown),this.pano.onSelectionChange()}},{key:"verticalOffset",value:function(t){this.panelBubbleEl.style.top=t+"px",this.bubbleArrowEl.style.top="calc(50% - ".concat(t,"px)")}},{key:"calcVerticalPos",value:function(){var t=this.el.parentNode.getBoundingClientRect(),e=this.el.getBoundingClientRect(),n=e.height/2-10;this.verticalOffset(.2*e.height);var i=t.bottom-20,r=t.top+20;if(e.bottom>i){var o=Math.min(n,e.bottom-i);this.verticalOffset(-o)}else if(e.top<r){var a=Math.min(n,r-e.top);this.verticalOffset(a)}}},{key:"getHotspotSizeInfo",value:function(){var t=this.pano.sceneRect,e=this.pano.mouseIntersect(this.marker.lastX,this.marker.lastY);this.shownByEditor&&(e=this.pano.mouseIntersect(100,100),this.shownByEditor=!1);var n=0,i=0;if(e.length>0){var r=t.width/2,o=t.height/2,a=e[0].point;a.project(this.pano.camera),a.x=a.x*r+r,a.y=-a.y*o+o,n=a.x,i=a.y}return{width:0,height:0,x:n,y:i}}},{key:"calcPanelTransform",value:function(t,e,n,i){t<this.pano.width/2?(t+=n/2+15*this.scale,this.el.style.transformOrigin="0 0",this.data.hasArrow&&this.bubbleArrowEl.classList.remove("panel-dir-left"),this.cornerScale=1.4*this.scale):(this.el.style.transformOrigin="100% 0",t-=n/2+15*this.scale+this.el.offsetWidth,this.data.hasArrow&&this.bubbleArrowEl.classList.add("panel-dir-left"),this.cornerScale=1.4*-this.scale),this.el.style.transform="translate(".concat(t,"px, ").concat(e,"px) scale(").concat(this.scale,") translateY(-50%)"),this.bubbleArrowEl.style.transform="translateY(-50%) scale(".concat(Math.min(2,this.cornerScale),")")}},{key:"calcSmartScale",value:function(){var t=.5*this.pano.sceneScale,e=.8*this.pano.sceneScale,n=.6*this.pano.sceneScale;if(this.marker.isHotspot())this.scale=.4+t;else{var i=Math.max(this.marker.props.scaleX,this.marker.props.scaleY),r=Math.min(i,150)/200;this.scale=t+r*e}this.scale<n&&(this.scale=n)}},{key:"update",value:function(t,e){A.isPhone||(null!=this.marker.polyHotspot&&"hotspot"===this.marker.props.type&&null!=e?this.calcPanelTransform(e.x,e.y,0,0):t||this.pano.projection(this.marker.sprite,this.positionPanel),this.updateInteractableElements())}},{key:"showMobile",value:function(){var t,e=this;w.isLandscape?(this.scroller.enableMobile(),x.trigger(_.threeSixtyImage.UN_PUSH_LABEL),this.panelBubbleEl.style.right="-100%",this.panelBubbleEl.style.transition="right 350ms ease-out",t=function(){e.panelBubbleEl.style.right=0},this.panelBubbleEl.style.bottom=null):(this.scroller.disableMobile(),this.pano.isGuidedNextShow?(this.panelBubbleEl.style.bottom=G,this.panelBubbleEl.style.left="100%",this.panelBubbleEl.style.transition="left 250ms ease-in-out",t=function(){e.panelBubbleEl.style.left=0,e.pano.isGuidedNextShow=!1}):this.pano.isGuidedPrevShow?(this.panelBubbleEl.style.bottom=G,this.panelBubbleEl.style.left="-100%",this.panelBubbleEl.style.transition="left 250ms ease-in-out",t=function(){e.panelBubbleEl.style.left=0,e.pano.isGuidedPrevShow=!1}):(this.panelBubbleEl.style.left=null,this.panelBubbleEl.style.bottom="-100%",this.panelBubbleEl.style.transition="bottom 250ms ease-in-out",t=function(){e.panelBubbleEl.style.bottom=G}),setTimeout((function(){e.el.focus()}),300),x.trigger(_.threeSixtyImage.PUSH_UP_BY_LABEL)),window.requestAnimationFrame((function(){t(),e.updatePanelHeight()}));var n=document.createElement("div");if(n.classList.add("three-sixty-image","three-sixty-image-mobile-overlay"),this.tempMobileOverlay=n,this.tempMobileSvg(),n.appendChild(this.el),DS.detection.theme.isUnified){var i=document.querySelector("#preso .caption-container"),r=document.getElementById(DS.constants.els.PRESO);n.style.zIndex=i.style.zIndex,r.insertBefore(n,i)}else n.style.zIndex=y-1,document.body.appendChild(n);this.closePanel=function(t){null!=e.tempMobileOverlay.parentNode&&e.tempMobileOverlay.parentNode.removeChild(e.tempMobileOverlay)}}},{key:"tempMobileSvg",value:function(){var t=this;this.tempMobileOverlay.style.pointerEvents="all",this.pano.navigation.type===T.GUIDED&&(this.guidedEls={guidedUi:document.querySelector(".three-guided"),textUi:document.querySelector(".three-guided-nav-text")},this.tempMobileOverlay.innerHTML='\n        <svg width="100%" height="100%" style="pointer-events:none">\n          <path\n            class="panel-overlay-path"\n            style="pointer-events:all"\n            fill-rule="evenodd"\n            d="M 0 0 L 0 0"\n            stroke="none"\n            fill="transparent"/>\n        </svg>\n      ',this.mobileOverlayPath=this.tempMobileOverlay.querySelector("path"),setTimeout((function(){t.updateTempMobileSvg(),null!=t.tempMobileOverlay&&(t.tempMobileOverlay.style.pointerEvents="none")}),200))}},{key:"updateTempMobileSvg",value:function(){if(this.pano.navigation.type===T.GUIDED&&null!=this.guidedEls){var t=this.guidedEls,e=t.guidedUi,n=t.textUi,i=e.getBoundingClientRect(),r=n.getBoundingClientRect(),o="".concat(j(i),"\n        ").concat(j(r),"\n        ").concat(j({left:0,top:0,right:window.innerWidth,bottom:window.innerHeight})," 0 0z");this.mobileOverlayPath.setAttribute("d",o)}}},{key:"hideMobile",value:function(){this.overlaysEl.appendChild(this.el),null!=this.tempMobileOverlay&&(null!=this.tempMobileOverlay.parentNode&&this.tempMobileOverlay.parentNode.removeChild(this.tempMobileOverlay),this.tempMobileOverlay=null)}},{key:"show",value:function(e,n){if(e||!this.disabled&&this.marker.sprite.visible&&this.marker.props.hasPanel){if(A.isPhone){var i=document.querySelector("#wrapper"),r=F.getPath(this,"pano.navUi.threeGuidedLeftBtnEl"),o=F.getPath(this,"pano.navUi.threeGuidedRightBtnEl");null!=i&&i.setAttribute("aria-hidden",!0),null!=r&&r.setAttribute("aria-hidden",!0),null!=o&&o.setAttribute("aria-hidden",!0),this.showMobile()}t.hideLast(this),this.pano.lastActiveMarker=this.marker.sprite,this.scale=this.pano.sceneScale,this.el.style.visibility="visible",this.el.classList.add("panel-shown"),this.shown=!0,clearTimeout(this.hideTimeout),this.useAnchor=!1,this.update(!1,n),this.scroller.update(!0),this.marker.setState("active"),this.pano.editMode?this.showPlaceholderSelectionBoxes():this.marker.updateResume(),this.positionGradient(),this.marker.polyHotspot&&this.marker.isHotspot()&&(this.pano.hotspotLayer.currHotspot=this.marker.polyHotspot),t.last=this,document.addEventListener(l,this.onReleaseOutside),null!=this.marker.accChildEl&&(this.marker.accChildEl.setAttribute("aria-expanded",!0),this.accChildEl&&this.accChildEl.removeAttribute("aria-hidden"),this.pano.focusPanelOnShow&&this.pano.threeSixtyAcc.showPanel(this,0))}}},{key:"getAccVideoPoster",value:function(t){var e=k.getString("three_image_video"),n="";if(null!=F.getPath(this,"data.media.video")){var i=F.getPath(this,"data.media.video.posterAltText")||"";n='<button\n          role="img"\n          data-marker-id="'.concat(t,'"\n          data-is-media-video="true"\n          aria-label="').concat(e,", ").concat(i,'"\n          class="acc-shadow-el acc-button acc-three-sixty-media-img">\n        </button>')}return n}},{key:"getAccImage",value:function(t){var e="";if(null!=F.getPath(this,"data.media.image")){var n=F.getPath(this,"data.media.image.posterAltText")||"";e='<button\n          role="img"\n          data-marker-id="'.concat(t,'"\n          data-is-media-img="true"\n          aria-label="').concat(n,'"\n          class="acc-shadow-el acc-button acc-three-sixty-media-img">\n        </button>')}return e}},{key:"getAccAudio",value:function(t){var e=k.getString("three_image_play_audio"),n=k.getString("three_image_pause_audio"),i=k.getString("three_image_progress_audio"),r=k.getString("three_image_audio"),o="";return null!=F.getPath(this,"data.media.audio")&&(o='\n          <button\n            role="button"\n            tabIndex="0"\n            data-marker-id="'.concat(t,'"\n            data-is-media-audio="true"\n            data-is-playing="false"\n            data-pause-label="').concat(n,'"\n            aria-pressed="false"\n            data-play-label="').concat(e,'"\n            aria-label="').concat(e,'"\n            class="acc-shadow-el acc-button acc-three-sixty-media-play-audio">\n          </button>\n          <input type="range" role="slider"\n            tabIndex="0"\n            class="acc-shadow-el acc-slider acc-audio-slider"\n            data-is-media-audio="true"\n            min="0"\n            max="100"\n            value="0"\n            step="1"\n            aria-valuetext="').concat(i,'"\n            aria-label="').concat(r,'"\n          />\n        ')),o}},{key:"getAccButton",value:function(t){return null!=this.panelButton?this.panelButton.getAccHtml(t):""}},{key:"initAccScroll",value:function(){null!=this.accChildEl&&(this.accChildEl.addEventListener("keydown",this.onAccKeyDown),this.accChildEl.addEventListener("keyup",this.onAccKeyUp))}},{key:"teardownAccScroll",value:function(){null!=this.accChildEl&&(this.accChildEl.removeEventListener("keydown",this.onAccKeyDown),this.accChildEl.removeEventListener("keyup",this.onAccKeyUp))}},{key:"getAccHtml",value:function(t){var e=k.getString("three_image_label");return'\n        <section\n          role="document"\n          aria-label="'.concat(e,'"\n          id="acc-').concat(t,'"\n          tabIndex="-1"\n          aria-hidden="true"\n          class="acc-shadow-el acc-three-sixty-panel"\n          aria-labelledby="acc-m-').concat(this.id,'"\n          data-panel-id="').concat(t,'">\n            <div tabindex="-1" class="acc-panel-child panel-title panel-content">\n              ').concat(this.data.title.innerHTML,"\n            </div>\n            ").concat(this.getAccImage(t),"\n            ").concat(this.getAccVideoPoster(t),'\n            <div\n              tabindex="-1"\n              class="acc-panel-child three-sixty-panel-body"\n            >\n            ').concat(this.data.body.innerHTML,"\n          </div>\n          ").concat(this.getAccAudio(t),"\n          ").concat(this.getAccButton(t),"\n        </section>\n      ")}},{key:"adjust",value:function(t){this.data=i.merge(this.data,t),this.updateStyles(),this.updateInteractableElements()}},{key:"updateStyles",value:function(){var t=this,e=this.data,n=e.borderRadius,r=e.boxShadow,o=e.fill,a=e.textColor,s=e.stroke,l=e.strokeWidth,u=e.width,c=e.hasArrow;null!=n&&(this.bubbleEl.style.borderRadius="".concat(n,"px")),null!=r&&(this.bubbleEl.style.boxShadow=r);var h=!1,d=this.bubbleEl.style.background;if(null!=o){if(A.isPhone&&V(o).r<140){var f=this.el.querySelector(".panel-mobile-icon-close polygon");null!=f&&f.setAttribute("fill","white")}h=o!==d,this.bubbleEl.style.background=o,this.bubbleCornerRectEl.setAttribute("fill",o);var y=F.rgbify(o,0),b=A.isMobile?"-webkit-gradient(linear, 0% 0%, 0% 100%, from(".concat(y,"), to(").concat(o,"))"):"linear-gradient(180deg, ".concat(y,", ").concat(o,")");this.panelContentGradBottomEl.style.background=b}null!=a&&(this.bubbleEl.style.color=a);var w,S,E=F.getPath(this.scroller,"scrollBar");null!=E&&(E.style.right="-".concat(23,"px")),null!=this.panelBodyHoverEl&&(this.panelBodyHoverEl.style.margin="0px -".concat(20,"px"),this.panelBodyHoverEl.style.padding="0px ".concat(20,"px"),null!=n&&(this.panelContentGradBottomEl.style.borderRadius="0px 0px ".concat(n,"px ").concat(n,"px"))),null!=u&&(this.bubbleEl.style.width="".concat(u,"px")),null!=s&&null!=l&&(this.bubbleEl.style.border="".concat(l,"px solid ").concat(s)),null!=c&&(this.panelCornerEl.style.display=c?"block":"none"),this.updatePanelElementStyles(this.titleEl,this.data.title),this.updatePanelElementStyles(this.bodyEl,this.data.body),this.runtimeMediaAttached||(this.containsMedia=!1,null==(S=this.data.media)||null==S.audio&&null==S.video&&null==S.image?(this.checkRemoveMedia(m),this.createdMediaCache.clear()):(this.containsMedia=!0,[g,v,p].forEach((function(e){var n=t.data.media[e];if(null!=n){var r=JSON.stringify(n);(t.createdMediaCache.get(e)!==r||h&&e!==p)&&(w=!0,(0,t["createOrUpdate"+i.capitalize(e)])(n),t.createdMediaCache.set(e,r))}else t.checkRemoveMedia(e),t.createdMediaCache.set(e,null)}))),this.pano.editMode||(this.runtimeMediaAttached=!0)),this.updatePanelButton(),this.disabled=!1,this.updatePanelHeight(),this.update(w)}},{key:"updatePanelButton",value:function(){var t=this.data.button;this.hasButton()?(null==this.panelButton&&(this.panelButton=new D({parentEl:this.bubbleEl,props:t,editMode:this.editMode,localizedText:this.pano.localizedText,marker:this.marker})),this.panelButton.update({props:t,editMode:this.editMode})):null!=this.panelButton&&(this.panelButton.destroy(),this.panelButton=null)}},{key:"showHotspotPanel",value:function(){if(this.marker.polyHotspot&&this.marker.isHotspot()){this.forcePlaceCenter=!0;var t=this.marker.polyHotspot,e=t.getCenterPoint(t.shapeMesh);this.show(!0,this.pano.vecToScreenPosition(e))}}},{key:"updatePanelElementStyles",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";null!=e&&null!=t&&(t.innerHTML=(0!==e.innerHTML.length||this.pano.editMode?e.innerHTML:"")+n,t.style.fontFamily="'".concat(e.style.fontFamily,"'"),t.style.fontSize="".concat(e.style.fontSize*(A.isPhone?1.25:1),"px"),this.pano.editMode&&(t.style.fontWeight=e.style.fontWeight),t.dataset.fontThemeType=e.style.fontThemeType)}},{key:"updateAfterMediaChange",value:function(){var t=this;window.requestAnimationFrame((function(){t.positionGradient()}))}},{key:"checkRemoveMedia",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t!==p&&t!==m||null==this.mediaImageEl||this.destroyImage(e),t!==g&&t!==m||null==this.mediaAudioEl||this.destroyAudio(e),t!==v&&t!==m||null==this.mediaVideoPosterEl||this.destroyVideo(e),this.updateAfterMediaChange()}},{key:"hide",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.disabled&&(this.editMode&&this.shown&&window.getSelection().empty(),this.shown=!1,this.el.classList.remove("panel-shown"),clearTimeout(this.hideTimeout),e?this.el.style.visibility="hidden":this.hideTimeout=setTimeout((function(){t.el.style.visibility="hidden"}),100),this.marker.setState("normal"),A.isPhone&&this.hideMobile(),this.pano.editMode?this.hideSelectionBoxes():this.marker.updateResume(),this.hideAllMedia(),document.removeEventListener(l,this.onReleaseOutside),null!=this.marker.accChildEl&&(this.pano.threeSixtyAcc.panelOpen=!1,this.marker.accChildEl.setAttribute("aria-expanded",!1),null!=this.accChildEl&&this.accChildEl.setAttribute("aria-hidden",!0),A.isPhone))){var n=F.getPath(this,"pano.navUi.threeGuidedLeftBtnEl"),i=F.getPath(this,"pano.navUi.threeGuidedRightBtnEl");null!=n&&n.removeAttribute("aria-hidden"),null!=i&&i.removeAttribute("aria-hidden");var r=document.querySelector("#wrapper");null!=r&&r.removeAttribute("aria-hidden")}}},{key:"disable",value:function(){this.hide(),this.disabled=!0,this.el.style.display="none"}},{key:"enable",value:function(){this.disabled&&(this.disabled=!1,this.show(),this.el.style.display="block")}},{key:"getData",value:function(){return null!=this.panelButton&&(this.data.button=i.cloneDeep(this.panelButton.props)),this.data}},{key:"updateTextData",value:function(t,e){t.innerHTML=e.innerHTML,t.style.fontFamily=N(e.style.fontFamily),t.style.fontSize=parseFloat(e.style.fontSize),t.style.fontThemeType=H(e.dataset.fontThemeType)}},{key:"updatePanelHeight",value:function(){this.panelBodyContainerEl.style.maxHeight="".concat(this.getMaxPanelHeight(),"px")}},{key:"getMaxPanelHeight",value:function(){if(A.isPhone){var t=F.getPath(this,"panelBodyOuterEl.getBoundingClientRect",{top:15}).top-F.getPath(this,"panelBodyOuterEl.parentElement.getBoundingClientRect",{top:0}).top,e=this.hasAudioMedia()?60:0;return window.innerHeight*(w.isPortrait?.98:1)-t-e}return Math.min(.62*this.pano.origHeight,this.containsMedia?410:302)}},{key:"hasButton",value:function(){return!i.isEmpty(this.data.button)}},{key:"hasAudioMedia",value:function(){return null!=this.data.media&&null!=this.data.media.audio}},{key:"hasImageMedia",value:function(){return null!=this.data.media&&null!=this.data.media.image}},{key:"hasVideoMedia",value:function(){return null!=this.data.media&&null!=this.data.media.video}},{key:"hasTitleContent",value:function(){return 0!==this.data.title.innerHTML.length}},{key:"hasBodyContent",value:function(){return 0!==this.data.body.innerHTML.length}},{key:"positionGradient",value:function(t){if(this.scroller.canScroll()){if(this.panelContentGradBottomEl.style.top="".concat(this.panelBodyOuterEl.offsetTop+this.panelBodyOuterEl.offsetHeight-17,"px"),!this.bottomPaddingAdded||t){var e=this.bodyEl.querySelector(".bottom-text-pad");null==e&&(e=document.createElement("div"),C.addClass(e,"bottom-text-pad"),e.style.height="1em",this.bodyEl.appendChild(e)),this.bottomPaddingAdded=!0}this.panelContentGradBottomEl.style.opacity=1}else o(this.bodyEl.querySelectorAll(".bottom-text-pad")).forEach((function(t){return t.parentNode.removeChild(t)})),this.panelContentGradBottomEl.style.opacity=0}},{key:"createGraphics",value:function(){var t=this,e=this.pano.localizedText||{title:"",body:""},n=this.pano.editMode||this.hasTitleContent()?"":"panel-no-title",i=this.pano.editMode||this.hasImageMedia()||this.hasVideoMedia()||this.hasBodyContent()?"":"panel-no-body",r=this.pano.editMode||this.hasBodyContent()?"":"panel-no-body";this.panelContent='\n      <div class="panel-bubble-arrow">\n      '.concat('\n    <svg class="panel-corner" width="8" height="16">\n      <rect class="panel-corner-rect" x="4" y="1" width="11" height="11" fill="blue" transform="rotate(45, 7, 6) "></rect>\n    </svg>\n  ',"\n      </div>\n      ").concat(A.isPhone?Y:"",'\n      <div class="panel-head ').concat(n,'" tabindex="-1">\n        ').concat(A.isPhone?'<div class="panel-mobile-pull-btn"></div>':"",'\n        <h2 class="panel-title panel-content" dir="auto" tabIndex="0" placeholder="').concat(e.title,'"></h2>\n      </div>\n      ').concat(A.isPhone?"":'<div class="panel-body-hover-wrapper">','\n        <div class="panel-body-outer ').concat(i,'">\n          <div class="is-scrollable panel-body-container ').concat(i,'" style="max-height:').concat(this.getMaxPanelHeight(),'px;">\n            <div class="panel-body-top"></div>\n            <div class="panel-body panel-content ').concat(r,'" dir="auto" placeholder="').concat(e.body,'"></div>\n        </div>\n      ').concat(A.isPhone?"":"</div>","\n      ").concat(this.hasTitleContent()||this.hasBodyContent()||this.hasImageMedia()||this.hasVideoMedia()||this.hasAudioMedia()||this.hasButton()?"":'<div class="panel-empty"></div>','\n      <div class="panel-content-grad-bottom"></div>\n      </div>\n\n      ').concat(A.isPhone?'<div class="panel-mobile-pull-hit" role="button" tabIndex="0" aria-label="expand label"></div>':"","\n      "),this.el=document.createElement("div"),this.el.classList.add("panel-el"),this.el.innerHTML='\n        <div class="panel-bubble">\n          '.concat(this.panelContent,"\n        </div>\n      "),this.panelBubbleEl=this.el.querySelector(".panel-bubble"),this.titleEl=this.el.querySelector(".panel-title"),this.panelPullEl=this.el.querySelector(".panel-mobile-pull-btn"),this.addSelectionBox({targetEl:this.titleEl,showCallback:function(){return t.titleEl.focus()},hideCallback:function(){return t.titleEl.blur()},panel:this,showPlaceholder:!0,shouldAutoHide:!0}),this.bodyEl=this.el.querySelector(".panel-body"),this.panelBodyContainerEl=this.el.querySelector(".panel-body-container"),this.bubbleEl=this.el.querySelector(".panel-bubble"),this.bubbleArrowEl=this.el.querySelector(".panel-bubble-arrow"),this.panelCornerEl=this.el.querySelector(".panel-corner"),this.bubbleCornerRectEl=this.el.querySelector(".panel-corner-rect"),this.panelBodyTopEl=this.el.querySelector(".panel-body-top"),this.panelBodyOuterEl=this.el.querySelector(".panel-body-outer"),this.panelContentEl=this.el.querySelector(".panel-content"),this.panelBodyHoverEl=this.el.querySelector(".panel-body-hover-wrapper"),this.panelContentGradBottomEl=this.el.querySelector(".panel-content-grad-bottom"),A.isPhone&&(this.el.setAttribute("tabIndex",-1),this.el.setAttribute("aria-model",!0),this.titleEl.setAttribute("tabIndex",0)),this.addSelectionBox({targetEl:this.panelBodyContainerEl,boundsEl:this.bodyEl,maskBounds:{bottomCalc:function(){return t.panelContentGradBottomEl.getBoundingClientRect().bottom+15},topCalc:function(){return t.panelBodyContainerEl.getBoundingClientRect().top}},showCallback:function(){return t.bodyEl.focus()},hideCallback:function(){return t.bodyEl.blur()},panel:this,showPlaceholder:!0,shouldAutoHide:!0}),this.el.style.visibility="hidden",this.overlaysEl.appendChild(this.el),this.scroller=new M(this.panelBodyContainerEl,this.marker.id,!1,0,!1),this.scroller.updateScroll=this.updateScroll,this.pano.editMode||0!==this.data.body.innerHTML.length||this.scroller.setEnabled(!1),this.panelBodyHoverEl&&S.isDesktop?this.scroller.setShowOnlyOnHover(this.panelBodyHoverEl):this.scroller.setShowOnlyWhenScrolling(),this.updateStyles(),this.editMode&&this.onEditMode()}}],n&&u(e.prototype,n),s&&u(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();return X.hideLast=function(t){null!=X.last&&X.last!=t&&X.last.shown&&(null!=t&&null!=t.pano.model&&(t.pano.model.updateLabelState(t.marker.idx,e.shown),t.pano.model.setVisitedMarkers()),X.last.hide())},X}.call(e,n,e,t),void 0===i||(t.exports=i)},9777:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}void 0===(i=function(t){var e=n(6486),i=n(1251),r=n(82),l=n(2816),u=(n(7954).overlayColor,n(8579),n(5505)),c=u.clickOrTouchEnd,h=u.clickOrTap,d={linkId:"",altText:"",style:{borderRadius:26,background:"#007CB2",boxShadow:"none"},body:{maxChars:35,innerHTML:"",style:{fontFamily:"Open Sans",fontThemeType:"body",fontSize:14,fontWeight:"normal"}}};return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(p,t);var n,l,u,f=s(p);function p(t){var n,i=t.parentEl,r=t.props,o=t.editMode,a=t.localizedText,s=t.marker;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(n=f.call(this)).parentEl=i,n.props=e.merge({},d,r),n.localizedText=a,n.marker=s,n.editMode=o,n.createEls(),n.addListeners(),n.updateStyles(),n.setEditMode(o),n}return n=p,(l=[{key:"getAccHtml",value:function(t){var n=r.getPath(this,"props.body.innerHTML"),i=r.getPath(this,"props.altText");return'\n        <button\n          tabIndex="0"\n          data-marker-id="'.concat(t,'"\n          data-is-panel-button="true"\n          class="acc-shadow-el acc-button acc-three-sixty-media-panel-button">\n          ').concat(e.isEmpty(i)?n:i,"\n        </button>\n      ")}},{key:"addListeners",value:function(){e.bindAll(this,"onClick"),h(this.el,this.onClick)}},{key:"removeListeners",value:function(){this.el.removeEventListener("click",this.onClick),this.el.removeEventListener(c,this.onClick)}},{key:"onClick",value:function(){this.editMode||r.getPath(this,"marker.pano").triggerEvent("onlinkrelease",this.props.linkId)}},{key:"update",value:function(t){var n=t.props,i=t.editMode;for(this.props=e.merge(this.props,n),this.updateStyles();null!=this.el.nextSibling;)this.parentEl.insertBefore(this.el.nextSibling,this.el);this.setEditMode(i),this.fitText()}},{key:"fitText",value:function(){var t=r.getPath(this,"props.body.style.fontSize",14);if(this.contentEl.clientHeight<47){for(var e=parseInt(this.contentEl.style.fontSize);e<=t&&this.contentEl.clientHeight<47;)e+=.5,this.contentEl.style.fontSize="".concat(e,"px");e-=.5,this.contentEl.style.fontSize="".concat(e,"px")}else for(var n=t;n>1&&this.contentEl.clientHeight>47;)n-=.5,this.contentEl.style.fontSize="".concat(n,"px")}},{key:"createEls",value:function(){this.el=document.createElement("div"),this.el.tabIndex=0,i.addClass(this.el,"panel-button"),this.parentEl.appendChild(this.el);var t=this.editMode?'<div class="panel-button-text-selection"></div>':"",e=this.editMode?'<div class="panel-button-selection"></div>':"";this.el.style.cursor=this.editMode?"text":null,this.el.innerHTML="\n        ".concat(e,'\n        <div class="panel-button-wrapper">\n          <div class="panel-button-content" placeholder="').concat(this.localizedText.button,'">').concat(this.props.body.innerHTML,"</div>\n          ").concat(t,"\n        </div>\n      "),this.contentEl=this.el.querySelector(".panel-button-content"),this.textSelectionEl=this.el.querySelector(".panel-button-text-selection"),this.focusWhenCreated()}},{key:"focusWhenCreated",value:function(){var t=this;this.editMode&&r.getPath(this,"marker.panel.shown")&&window.requestAnimationFrame((function(){t.contentEl.focus()}))}},{key:"contentChangedHook",value:function(){this.fitText()}},{key:"updateStyles",value:function(){var t=this.props,e=t.style,n=t.body;Object.assign(this.el.style,{borderColor:e.borderColor,borderWidth:"".concat(e.borderWidth,"px"),borderRadius:"".concat(e.borderRadius,"px"),background:e.background,boxShadow:e.boxShadow}),Object.assign(this.contentEl.style,{fontFamily:'"'.concat(n.style.fontFamily,'"'),fontSize:"".concat(n.style.fontSize,"px"),color:e.textColor}),this.editMode&&(Object.assign(this.textSelectionEl.style,{borderRadius:"".concat(e.borderRadius,"px")}),this.contentEl.style.fontWeight=n.style.fontWeight,this.contentEl.dataset.fontThemeType=n.style.fontThemeType)}}])&&o(n.prototype,l),u&&o(n,u),Object.defineProperty(n,"prototype",{writable:!1}),p}(l)}.call(e,n,e,t))||(t.exports=i)},1354:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}void 0===(i=function(t){return function(){function t(e){var n,i,r,o=this,s=e.targetEl,l=e.boundsEl,u=e.showCallback,c=e.hideCallback,h=e.shouldAutoHide,d=e.panel,f=e.showPlaceholder,p=e.paddingOffsets,v=e.maskBounds;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=function(t){if(o.targetEl!=t.target&&!o.targetEl.contains(t.target)&&document.activeElement!==o.targetEl&&!o.targetEl.contains(document.activeElement)){if(o.panel.mediaShowing)return;o.panel.hideSelectionBox(o.targetEl)}},(i=a(i="onCheckHide"))in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,this.targetEl=s,this.boundsEl=l,this.showCallback=u,this.hideCallback=c,this.shouldAutoHide=h,this.boxEl=document.createElement("div"),this.boxEl.classList.add("panel-selection-box"),this.boxEl.style.display="none",this.panel=d,this.pano=d.pano,this.pano.overlaysEl.appendChild(this.boxEl),this.showPlaceholder=f,this.padding={left:0,top:0,bottom:0,right:0},Object.assign(this.padding,p||{}),this.maskBounds=v}var e,n,i;return e=t,(n=[{key:"update",value:function(){var t=this.targetEl,e=this.boundsEl,n=this.boxEl,i=this.pano,r=this.padding;if(this.shown){if(e&&(t=e),this.showPlaceholder){var o=this.panel.isEmptyOrWhitespace(t);o!=this.isPlaceholder&&(this.isPlaceholder=o)}var a=t.getBoundingClientRect();if(null!=this.maskBounds){var s={left:a.left,top:a.top,right:a.right,bottom:a.bottom};if(null!=this.maskBounds.bottomCalc){var l=this.maskBounds.bottomCalc();a.bottom>l&&(s.bottom=l-6)}if(null!=this.maskBounds.topCalc){var u=this.maskBounds.topCalc();a.top<u&&(s.top=u)}(a=s).width=a.right-a.left,a.height=a.bottom-a.top}var c=a.left-i.sceneRect.left-3-r.left,h=a.top-i.sceneRect.top-3-r.top,d=i.sceneRect.width-(c+a.width+6+r.right),f=i.sceneRect.height-(h+a.height+6+r.bottom);Object.assign(n.style,{left:"".concat(c,"px"),top:"".concat(h,"px"),right:"".concat(d,"px"),bottom:"".concat(f,"px")}),n.clientHeight<3?n.style.visibility="hidden":n.style.visibility="visible"}}},{key:"isPlaceholder",get:function(){return this.placeHolder},set:function(t){this.placeHolder=t,this.boxEl.classList[t?"add":"remove"]("panel-selection-placeholder")}},{key:"show",value:function(){this.panel.shown&&!this.shown&&(this.shown=!0,this.update(),this.boxEl.style.display="block",this.boxEl.style.visibility="visible",null!=this.showCallback&&this.showCallback(),this.shouldAutoHide&&document.addEventListener("click",this.onCheckHide))}},{key:"hide",value:function(){if(this.panel.shown&&this.isPlaceholder)return null!=this.hideCallback&&this.hideCallback(),void(this.shouldAutoHide&&document.removeEventListener("click",this.onCheckHide));this.shown&&(this.shown=!1,this.boxEl.style.display="none",this.boxEl.style.visibility="hidden",null!=this.hideCallback&&this.hideCallback(),this.shouldAutoHide&&document.removeEventListener("click",this.onCheckHide))}},{key:"destroy",value:function(){document.removeEventListener("click",this.onCheckHide),this.pano.overlaysEl.removeChild(this.boxEl)}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()}.call(e,n,e,t))||(t.exports=i)},4706:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}(this,n)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}void 0===(i=function(t){var e=n(6486),i=n(1251),r=n(9032),u=n(8880),c=n(8579),h=n(5505),d=h.downOrTouchStart,f=h.upOrTouchEnd,p=n(2816),v={panel:{borderColor:"transparent",borderWidth:0,background:"#000000",boxShadow:"0 0px 10px rgba(0, 0, 0, 0.25)",textColor:"#ffffff"},body:{maxChars:250,innerHTML:"",style:{fontFamily:"Open Sans",fontThemeType:"body",fontSize:13,fontWeight:"normal"}}};return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(m,t);var n,h,p,g=s(m);function m(t){var n,i=t.parentEl,r=t.enabled,o=t.props,a=t.editMode,s=t.localizedText,u=t.marker,c=t.currMarkerId;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),(n=g.call(this)).parentEl=i,n.props=e.merge({},v,o),n.localizedText=s,n.marker=u,n.editMode=a,n.currMarkerId=c,e.bindAll(l(n),"onSelectedMarkerChanged","clickedOutsideMarker","clearMarkerHide"),n.createEls(),n.updateStyles(),n.enable(r),n.setEditMode(a),n}return n=m,(h=[{key:"update",value:function(t){var n=t.enabled,i=t.props,r=t.editMode;this.props=e.merge(this.props,i),this.enable(n),this.updateStyles(),this.setEditMode(r);var o=this.lastPos&&this.lastPos.hasPanel===this.marker.props.hasPanel;this.updatePosition(o?this.lastPos.loc:null)}},{key:"takeFocus",value:function(){this.editMode&&e.isEmpty(this.props.body.innerHTML)&&this.contentEl.focus()}},{key:"updatePosition",value:function(t){var e=this.marker.getMetrics(t),n=e.x,r=e.y,o=e.width,a=e.height,s=e.scale,l=e.leftSide,u=3*s,c=this.marker.props.hasPanel&&this.editMode;c&&(l=!l),this.lastPos={loc:t,hasPanel:c},n+=l?o+u:-u,r+=a/2,Object.assign(this.el.style,{left:"".concat(n,"px"),top:"".concat(r,"px")}),l?(i.addClass(this.bubbleEl,"left-arrow"),i.removeClass(this.bubbleEl,"right-arrow")):(i.addClass(this.bubbleEl,"right-arrow"),i.removeClass(this.bubbleEl,"left-arrow"))}},{key:"isShown",value:function(){return i.hasClass(this.el,"show")}},{key:"showEditMode",value:function(t){this.editMode&&this.enabled&&!this.isShown()&&(this.updatePosition(t),i.addClass(this.el,"show"))}},{key:"toggleEditMode",value:function(t,e){this.editMode&&(t||!this.isShown()?this.showEditMode(e):this.hide())}},{key:"createEls",value:function(){this.el=document.createElement("div"),i.addClass(this.el,"tooltip"),this.parentEl.appendChild(this.el),this.el.innerHTML='\n        <div class="tooltip-bubble">\n          <div class="tooltip-wrapper">\n            <div class="tooltip-arrow">\n              <svg preserveAspectRatio="none" viewBox="0 0 16 16" width="100%" height="100%">\n                <path d="M0,8 L8,16 16,8 8,0 0,8 Z">\n              </svg>\n            </div>\n            <div class="tooltip-content" dir="auto" placeholder="'.concat(this.localizedText.tooltip,'">').concat(this.props.body.innerHTML,'</div>\n            <div class="tooltip-selection"></div>\n          </div>\n        </div>\n      '),this.contentEl=this.el.querySelector(".tooltip-content"),this.arrowEl=this.el.querySelector(".tooltip-arrow"),this.bubbleEl=this.el.querySelector(".tooltip-bubble"),this.wrapperEl=this.el.querySelector(".tooltip-wrapper")}},{key:"updateStyles",value:function(){var t=this.props,e=t.panel,n=t.body;Object.assign(this.contentEl.style,{borderWidth:"".concat(e.borderWidth,"px"),borderColor:e.borderColor,background:e.background,color:e.textColor,fontFamily:'"'.concat(n.style.fontFamily,'"'),fontSize:"".concat(n.style.fontSize,"px")}),Object.assign(this.arrowEl.style,{fill:e.background}),Object.assign(this.wrapperEl.style,{boxShadow:e.boxShadow}),this.editMode&&(this.contentEl.style.fontWeight=n.style.fontWeight,this.contentEl.dataset.fontThemeType=n.style.fontThemeType)}},{key:"addListeners",value:function(){r.on(u.threeSixtyImage.SELECTED_MARKER_CHANGED,this.onSelectedMarkerChanged)}},{key:"removeListeners",value:function(){r.off(u.threeSixtyImage.SELECTED_MARKER_CHANGED,this.onSelectedMarkerChanged)}},{key:"onSelectedMarkerChanged",value:function(t){c.deviceView.isMobile||(this.currMarkerId=t,this.marker.id!==this.currMarkerId&&this.hide())}},{key:"clickedOutsideMarker",value:function(){document.removeEventListener(d,this.clickedOutsideMarker),this.stopClick=!0,document.addEventListener(f,this.clearMarkerHide),this.hide()}},{key:"clearMarkerHide",value:function(){document.removeEventListener(f,this.clearMarkerHide),this.stopClick=!1}},{key:"markerClicked",value:function(){c.deviceView.isMobile&&(this.stopClick||(this.isShown()?this.hide():(this.show(),document.addEventListener(d,this.clickedOutsideMarker))))}},{key:"mouseOver",value:function(t){c.deviceView.isMobile&&this.isShown()?this.hide():this.show(t)}},{key:"mouseOut",value:function(){this.hide()}},{key:"hide",value:function(){i.removeClass(this.el,"show")}},{key:"isPanelOpen",value:function(){return null!=this.marker.panel&&this.marker.panel.shown}},{key:"show",value:function(t){var e=null==this.marker.panel&&!this.marker.hasTrigger();c.deviceView.isMobile&&!e||!this.enabled||this.editMode||this.isPanelOpen()||(this.updatePosition(t),i.addClass(this.el,"show"),e&&this.marker.addToVisitedMarkers())}},{key:"enable",value:function(t){t!==this.enabled&&(this.enabled=t,this.enabled?(this.addListeners(),this.currMarkerId===this.marker.id&&this.showEditMode()):(this.removeListeners(),i.removeClass(this.el,"show")))}}])&&o(n.prototype,h),p&&o(n,p),Object.defineProperty(n,"prototype",{writable:!1}),m}(p)}.call(e,n,e,t))||(t.exports=i)},7545:function(t,e,n){"use strict";n.r(e),n.d(e,{createBackSpriteCanvas:function(){return a}});var i=512,r=n(7812).math,o=r.TWO_PI,a=(r.HALF_PI,function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),a=new THREE.CanvasTexture(n);n.width=i,n.height=i;var s=n.width/4-50,l=n.width/2,u=n.height/2,c=function(){r.clearRect(0,0,i,i),r.shadowColor="rgba(0, 0, 0, 0.85)",r.shadowBlur=40,r.shadowOffsetY=10,r.shadowOffsetX=5,r.fillStyle="rgba(0, 0, 0, 1)",r.beginPath(),r.arc(l,u,s,0,o,!1),r.fill()};if("pulse"===t){var h,d,f=0,p=window.performance.now(),v=1;window.requestAnimationFrame((function t(e){c(),r.shadowColor="rgba(0, 0, 0, 0)",r.shadowBlur=0,r.shadowOffsetY=0,v=(e-p)/16,p=e,h=60+25*Math.sin(f),d=10*Math.sin(f+o),f+=.025*v,r.fillStyle="transparent",r.strokeStyle="rgba(255, 255, 255, 0.5)",r.lineWidth=35+d/2,r.beginPath(),r.arc(l,u,s+h,0,o,!1),r.stroke(),a.needsUpdate=!0,window.requestAnimationFrame(t)}))}else"empty"===t?r.clearRect(0,0,i,i):c();var g=new THREE.SpriteMaterial({map:a});return{canvas:n,tex:a,mat:g}})},9045:function(t,e,n){"use strict";function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.r(e),n.d(e,{BOTTOM_UI_HEIGHT:function(){return p},bottomUi:function(){return v},crosshairsSvg:function(){return g},formatMessage:function(){return d},getSpanStyle:function(){return f},modes:function(){return l}});var o=n(7954),a=o.parseFontFamily,s=o.parseFontThemeType,l={DEFAULT:"default",ADD_MARKER:"addMarker",DRAWING_HOTSPOT:"drawingHotspot",SET_INITIAL_CAMERA_ANGLE:"setInitialCameraAngle",SET_CROP_IMAGE_MEDIA:"setCropImageMedia"},u={FONT_FAMILY:"font-family",FONT_SIZE:"font-size",FONT_WEIGHT:"font-weight",FONT_STYLE:"font-style",FOREGROUND_COLOR:"color",BACKGROUND_COLOR:"background-color",UNDERLINE_TEXT_DECORATION:"underline",STRIKEOUT_TEXT_DECORATION:"line-through",TEXT_DECORATION_COLOR:"text-decoration-color"},c="list-type",h={NONE:"none",ORDERED:"ordered",UNORDERED:"unordered"};function d(t,e){var n=e.cmd;"fontSize"===n?t.style.fontSize="".concat(e.val,"px"):"fontFamily"===n?(t.style.fontFamily="'".concat(e.val,"'"),t.dataset.fontThemeType=e.fontThemeType):(document.execCommand("styleWithCSS",!1,!0),document.execCommand(n,!1,e.val)),t.dispatchEvent(new Event("formatMessage"))}function f(t,e){var n={};function r(t){n[t]=function(e){return e["text-decoration-line"].includes(t)}}r(u.UNDERLINE_TEXT_DECORATION),r(u.STRIKEOUT_TEXT_DECORATION);var o=function(t,e,n){var r,o=document.createNodeIterator(t.commonAncestorContainer,NodeFilter.SHOW_TEXT),a={},s=i(e);try{for(s.s();!(r=s.n()).done;)a[r.value]=void 0}catch(t){s.e(t)}finally{s.f()}for(var l=void 0,u=!1;o.nextNode();){if(!u){if(o.referenceNode!==t.startContainer)continue;u=!0}var d=window.getComputedStyle(o.referenceNode.parentElement);for(var f in a){var p=n.hasOwnProperty(f)?n[f](d):d[f];void 0===a[f]?a[f]=p:a[f]!=p&&(a[f]=null)}for(var v=!1,g=o.referenceNode.parentNode;null!=g&&!v;)g.nodeType===Node.ELEMENT_NODE&&("OL"===g.nodeName?(void 0===l?l=h.ORDERED:l!==h.ORDERED&&(l=h.NONE),v=!0):"UL"===g.nodeName&&(void 0===l?l=h.UNORDERED:l!==h.UNORDERED&&(l=h.NONE),v=!0)),g=g.parentNode;if(v||(l=h.NONE),o.referenceNode===t.endContainer)break}return a[c]=l,a}(e,Object.values(u),n);function l(t,e){var n=o[t];return null==n?null:e(n)}var d=s(t.dataset.fontThemeType);if(e.collapsed){var f=window.getComputedStyle(t);return{fontFamily:a(f["font-family"]),fontThemeType:d,fontSize:parseFloat(f["font-size"]),fontIsBold:document.queryCommandState("bold"),fontIsItalic:document.queryCommandState("italic"),fontIsUnderline:document.queryCommandState("underline"),fontIsStrikeout:document.queryCommandState("strikeThrough"),underlineStyle:void 0,foregroundColor:o[u.FOREGROUND_COLOR],backgroundColor:o[u.BACKGROUND_COLOR],underlineColor:o[u.TEXT_DECORATION_COLOR],listType:o[c]}}return{fontFamily:a(o[u.FONT_FAMILY]),fontThemeType:d,fontSize:l(u.FONT_SIZE,(function(t){return parseFloat(t)})),fontIsBold:l(u.FONT_WEIGHT,(function(t){return"700"===t})),fontIsItalic:l(u.FONT_STYLE,(function(t){return"italic"===t})),fontIsUnderline:l(u.UNDERLINE_TEXT_DECORATION,(function(t){return t})),fontIsStrikeout:l(u.STRIKEOUT_TEXT_DECORATION,(function(t){return t})),underlineStyle:void 0,foregroundColor:o[u.FOREGROUND_COLOR],backgroundColor:o[u.BACKGROUND_COLOR],underlineColor:o[u.TEXT_DECORATION_COLOR],listType:o[c]}}var p=120;function v(t){var e=t.reset,n=t.cancel,i=t.done;return'\n    <div class="three-bottom-ui">\n      <style>\n        .three-bottom-ui {\n          position: fixed;\n          width: 100%;\n          min-height: 20px;\n          padding-top: 20px;\n          background: none;\n          pointer-events: all;\n        }\n\n        .three-bottom-btn {\n          display: inline;\n          color: white;\n          border-radius: 20px;\n          padding: 1em;\n          border: none;\n          background: #949da5;\n          margin-left: 1em;\n          cursor: pointer;\n          min-width: 75px;\n          text-transform: uppercase;\n        }\n\n        .three-bottom-btn:hover {\n          background: #aab4bc;\n        }\n\n        .three-bottom-blue {\n          background: #4e82c7;\n        }\n\n        .three-bottom-blue:hover {\n          background: #329ae0;\n        }\n\n        .three-bottom-middle {\n          text-align: right;\n          width: calc(100% - 150px);\n          float: right;\n        }\n\n        .three-bottom-ui-reset {\n          float:left;\n          margin-left: 0;\n        }\n\n      </style>\n\n      <button class="three-bottom-ui-reset three-bottom-btn" data-ref>\n        <span>'.concat(e,'</span>\n      </button>\n      <div class="three-bottom-middle">\n        <button class="three-bottom-ui-cancel three-bottom-btn" data-ref>\n          ').concat(n,'\n        </button>\n\n        <button class="three-bottom-ui-done three-bottom-btn three-bottom-blue" data-ref>\n          ').concat(i,"\n        </button>\n      </div>\n    </div>\n    ")}function g(){return'\n  <style>\n    .three-crosshairs {\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      width: 40%;\n    }\n    .three-crosshairs path {\n      vector-effect: non-scaling-stroke;\n    }\n\n    .three-lat-lon-pill {\n      position: absolute;\n      bottom: 30px;\n      left: 50%;\n      height: 32px;\n      padding: 0em;\n      border-radius: 500px;\n      transform: translateX(-50%);\n      background: rgba(0, 0, 0, 0.8);\n      color: white;\n      display: flex;\n      pointer-events: all;\n    }\n\n    .three-lat-lon-pill > div {\n      flex-grow: 1;\n      pointer-events: all;\n    }\n\n    .three-lat-lon-pill > div > div {\n      position: relative;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n\n    .three-lat-lon-text {\n      flex-grow: 100;\n      text-align: center;\n      font-family: sans-serif;\n      text-shadow: 2px 2px rgba(0, 0, 0, 0.3);\n      margin-left: 1.5em;\n      margin-right: 1.5em;\n    }\n  </style>\n  <div class="three-crosshairs" data-ref>\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" viewBox="0 0 218 150">\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-linecap="square" transform="translate(-555 -428)">\n          <path d="M664 537c-18.777681 0-34-15.222319-34-34s15.222319-34 34-34 34 15.222319 34 34-15.222319 34-34 34zm0-11c12.702549 0 23-10.297451 23-23s-10.297451-23-23-23-23 10.297451-23 23 10.297451 23 23 23z"/>\n          <path stroke="#FFF" d="M664 537.5c-19.053824 0-34.5-15.446176-34.5-34.5s15.446176-34.5 34.5-34.5 34.5 15.446176 34.5 34.5-15.446176 34.5-34.5 34.5zm0-12c12.426407 0 22.5-10.073593 22.5-22.5s-10.073593-22.5-22.5-22.5-22.5 10.073593-22.5 22.5 10.073593 22.5 22.5 22.5z"/>\n          <path stroke="#000" stroke-linejoin="square" d="M664 536.5c18.501539 0 33.5-14.998461 33.5-33.5s-14.998461-33.5-33.5-33.5-33.5 14.998461-33.5 33.5 14.998461 33.5 33.5 33.5zm0-10c-12.978692 0-23.5-10.521308-23.5-23.5s10.521308-23.5 23.5-23.5 23.5 10.521308 23.5 23.5-10.521308 23.5-23.5 23.5z"/>\n        </g>\n        <g fill="#000" stroke="#FFF">\n          <path d="M3.5 3.5v28h-3V.5h31v3h-28zM214.5 3.5v28h3V.5h-31v3h28z"/>\n        </g>\n        <g fill="#000" stroke="#FFF">\n          <path d="M3.5 146.5v-28h-3v31h31v-3h-28zM214.5 146.5v-28h3v31h-31v-3h28z"/>\n        </g>\n        <path fill="#FFF" stroke="#000" d="M110.5 74.5h6v2h-6v6h-2v-6h-6v-2h6v-6h2v6z"/>\n      </g>\n    </svg>\n    </div>\n    <div class="three-lat-lon-pill" data-ref>\n      <div class="three-lat-lon-text" data-ref>\n        <div>Initial View: 0°, 0°</div>\n      </div>\n      <div class="three-lat-lon-line"></div>\n    </div>\n  '}},7954:function(t,e,n){"use strict";n.r(e),n.d(e,{easeColor:function(){return p},imgBuffer:function(){return o},imgBufferCtx:function(){return a},overlayColor:function(){return f},packRgb:function(){return d},parseFontFamily:function(){return s},parseFontThemeType:function(){return l},rectPath:function(){return g},setColor:function(){return v},svgHtmlIcon:function(){return u},svgImageIcon:function(){return c},unpackHex:function(){return h}});var i={},r={},o=document.createElement("canvas"),a=o.getContext("2d");o.width=o.height=256;var s=function(t){return null==t?null:t.split(",")[0].replace(/['"]+/g,"")},l=function(t){return null==t?"none":t},u=function(t){var e=t;return r[e]||(r[e]=window.atob(t.replace("data:image/svg+xml;base64, ",""))),r[e]},c=function(t,e){var n=t;if(i[n])e(i[n]);else{var r=new Image;r.crossOrigin="Anonymous",r.src=t,r.addEventListener("load",(function(){i[n]=r,e(r)}))}},h=function(t){if("transparent"===t)return{r:0,g:0,b:0,a:0};if("white"===t)return{r:255,g:255,b:255,a:1};var e=parseInt(t.replace("#","0x"),16);return{r:e>>16&255,g:e>>8&255,b:255&e,a:1}},d=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[t.r,t.g,t.b].map((function(t){return Math.round(t)}));return e?"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(t.a,")"):(n=n.map((function(t){var e=t.toString(16);return 1===e.length&&(e="0"+e),e})),"#".concat(n[0]).concat(n[1]).concat(n[2]))},f=function(t,e,n){var i=h(t),r=h(e);return d({r:n*i.r+(1-n)*r.r,g:n*i.g+(1-n)*r.g,b:n*i.b+(1-n)*r.b,a:n*i.a+(1-n)*r.a},!1)},p=function(t,e){t.r+=(e.r-t.r)/6,t.g+=(e.g-t.g)/6,t.b+=(e.b-t.b)/6,t.a+=(e.a-t.a)/6;var n=Math.abs(t.r-e.r)<1&&Math.abs(t.g-e.g)<1&&Math.abs(t.b-e.b)<1&&Math.abs(t.a-e.a)<1;return n&&v(t,e),n},v=function(t,e){t.r=e.r,t.g=e.g,t.b=e.b,t.a=e.a},g=function(t){return"M ".concat(t.left," ").concat(t.top,"\n   L ").concat(t.right," ").concat(t.top,"\n    ").concat(t.right," ").concat(t.bottom,"\n    ").concat(t.left," ").concat(t.bottom,"\n    ").concat(t.left," ").concat(t.top," ")}},1815:function(t,e,n){"use strict";n.r(e),n.d(e,{freeNavigation:function(){return a},guidedNavigtion:function(){return l},navigation:function(){return r}});var i=n(8579),r={FREE:"free",GUIDED:"guided",NONE:"none"},o=function(){return i.device.isMobile?'tabIndex="0"':""};function a(t,e){return"\n    <style>\n      .three-free {\n        position: absolute;\n        bottom: 30px;\n        left: 50%;\n        min-height: 40px;\n        padding: 0em;\n        border-radius: 500px;\n        transform: translateX(-50%);\n        background: ".concat(e,";\n        color: ").concat(t,';\n        display: flex;\n        pointer-events: none;\n        box-shadow: 0px 0px 4px 1px rgba(0, 0, 0, 0.15);\n        padding: 1em;\n      }\n      .three-free * {\n        pointer-events: none;\n      }\n    </style>\n    <div class="three-navigation three-free">\n      <div class="three-nav-content" data-ref>\n        1 of 5 viewed\n      </div>\n    </div>\n  ')}var s='\n  <svg width="10" height="14" viewBox="0 0 10 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path opacity="0.9" d="M1.71347 12.2864 L7.28638 7.0 L1.71347 1.7136" stroke="#777" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>\n';function l(t,e,n){return"\n    <style>\n      .three-guided {\n        position: absolute;\n        bottom: 30px;\n        height: 44px;\n        left: 50%;\n        transform: translateX(-50%);\n        color: ".concat(t,";\n        background: ").concat(e,";\n        min-width: 135px;\n        border-radius: 500px;\n        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15);\n        display: flex;\n        pointer-events: all;\n      }\n\n      .three-guided div {\n        flex-grow: 1;\n      }\n\n      .three-guided svg {\n        display: inline-block !important;\n        margin-top: 2px;\n      }\n\n      .three-guided div > div {\n        position: relative;\n        text-align:center;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n\n      .three-guided-left-btn svg {\n        transform: scale(-1);\n      }\n\n      .three-guided-left-btn,\n      .three-guided-right-btn {\n        min-width: 30px;\n        cursor: pointer;\n        pointer-events: all;\n      }\n\n      .three-guided-left-btn:hover svg,\n      .three-guided-right-btn:hover svg {\n        transition: transform 100ms ease-out;\n      }\n\n      .three-guided-left-btn:hover svg {\n        transform: scale(-1.2);\n      }\n\n      .three-guided-right-btn:hover svg {\n        transform: scale(1.2);\n      }\n\n      .three-guided-left-btn path,\n      .three-guided-right-btn path {\n        stroke: ").concat(n,' !important;\n      }\n\n      .three-guided-disabled {\n        cursor: normal;\n        pointer-events: none;\n      }\n\n      .three-guided-disabled path {\n        cursor: normal;\n        pointer-events: none;\n        stroke: #777 !important;\n      }\n      /* roles maybe mobile only check the screen reader */\n    </style>\n    <div class="three-navigation three-guided" data-ref>\n      <div class="three-guided-left-btn" role="button" ').concat(o()," data-ref>\n        <div>").concat(s,'</div>\n      </div>\n      <div class="three-guided-nav-text">\n        <div class="three-nav-content" ').concat(o(),' data-ref>1 of 5 viewed</div>\n      </div>\n      <div class="three-guided-right-btn" role="button" data-ref>\n        <div>').concat(s,"</div>\n      </div>\n    </div>\n  ")}},3684:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,u(i.key),i)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e,n){return(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}i=function(t){var e=n(1251),i=n(82),r=n(8579),a=n(9032),u=n(8880),c=n(118),h=(n(7812),n(1681)),d=n(3163),f=d.AUDIO_MEDIA_TYPE,p=d.IMAGE_MEDIA_TYPE,v=n(5505),g=v.clickOrTap,m=v.clickOrTouchEnd,y=v.enterOrTouchStart,b=v.leaveOrTouchEnd,w=v.downOrTouchStart,S=v.moveOrTouchMove,A=v.upOrTouchEnd;function E(t){var e,n=!1,o=!1,a=!1;function s(i){a||(t.pano.setupSuppressOnSelectionChange(),a=!0),e=t.panelAudioSeekEl.getBoundingClientRect(),n=!0,o=t.audioPlayer.playing,u(i)}function l(){o&&t.shown&&!t.audioPlayer.playing&&t.audioPlayer.play(),a&&(t.pano.teardownSuppressOnSelectionChange(),a=!1),n=!1,o=!1,t.panelAudioSeekHoverEl.classList.remove("audio-hover-is-shown")}function u(o){if(n){var a=function(t){return r.device.isMobile?t.touches[0]&&t.touches[0].clientX:t.clientX}(o);if(null!=a){var s=t.audioPlayer,l=(u=a,i.clamp(0,1,(u-e.left)/e.width)*s.model.getDuration());s.playing&&s.pause(!0),s.seek(l),s.onAudioTick(i.toSeconds(l)),t.panelAudioSeekHoverEl.classList.add("audio-hover-is-shown")}}var u}function c(){n||t.panelAudioSeekHoverEl.classList.add("audio-hover-is-shown")}function h(){n||t.panelAudioSeekHoverEl.classList.remove("audio-hover-is-shown")}return t.panelAudioSeekFillEl.addEventListener(y,c),t.panelAudioSeekFillEl.addEventListener(b,h),t.panelAudioSeekEl.addEventListener(w,s),document.addEventListener(S,u),document.addEventListener(A,l),function(){a&&(t.pano.teardownSuppressOnSelectionChange(),a=!1),t.panelAudioSeekFillEl.removeEventListener(y,c),t.panelAudioSeekFillEl.removeEventListener(b,h),t.panelAudioSeekEl.removeEventListener(w,s),document.removeEventListener(S,u),document.removeEventListener(A,l)}}var T=function(){function t(e){var n=this;o(this,t),l(this,"destroy",(function(){clearInterval(n.audioInterval)})),this.panel=e,window.requestAnimationFrame((function(){n.onAudioTick()}))}return s(t,[{key:"play",value:function(){var t=this;if(!this.panel.pano.editMode||this.panel.setupMediaModal(f)){this.playing=!0,this.resetPlayButton();var e=this.getAudioPlayer();e.onActionPlay({},{}),clearInterval(this.audioInterval),this.audioInterval=setInterval((function(){e.state.isPlaying||t.pause(e.timelinePausedFromUI),t.onAudioTick()}),30)}}},{key:"pause",value:function(t){this.panel.teardownMediaModal(f),this.playing=!1;var e=this.getAudioPlayer();e.timelinePausedFromUI=t,e.onActionPause({},{}),this.resetPlayButton(),clearInterval(this.audioInterval)}},{key:"setVolume",value:function(t){t*=100,this.getAudioPlayer().onActionSetVolume({volume:t},{})}},{key:"isEnded",value:function(){return this.getAudioPlayer().ended()}},{key:"seek",value:function(t){var e=this.getAudioPlayer();e.seek(t),e.currentTime=i.toSeconds(t),this.onAudioTick()}}]),t}(),C=function(){function t(e){var n=this;o(this,t),l(this,"onPlaying",(function(){n.currentTime=n.audio.currentTime})),l(this,"onEnded",(function(){n.state.soundComplete=!0})),this.audio=new Audio(e),this.state={isPlaying:!1,soundComplete:!1},this.currentTime=0,this.audio.addEventListener("timeupdate",this.onPlaying),this.audio.addEventListener("ended",this.onEnded)}return s(t,[{key:"onActionPlay",value:function(){this.audio.play(),this.state.isPlaying=!0,this.state.soundComplete=!1}},{key:"onActionPause",value:function(){this.audio.pause(),this.state.isPlaying=!1}},{key:"onActionSetVolume",value:function(t){t.volume/=100,this.audio.volume=t.volume}},{key:"ended",value:function(){return!0===this.state.soundComplete}},{key:"seek",value:function(t){this.audio.currentTime=i.toSeconds(t),this.state.soundComplete=t>=this.getDuration()}},{key:"getDuration",value:function(){return i.toMilliseconds(this.audio.duration)}},{key:"destroy",value:function(){this.audio.removeEventListener("timeupdate",this.onPlaying),this.audio.removeEventListener("ended",this.onEnded)}}]),t}(),x=function(){function t(e,n){var i=this;o(this,t),l(this,"onUpdate",(function(){i.player.onAudioTick()})),this.currView=new C(e),this.currView.audio.addEventListener("canplaythrough",this.onUpdate),this.isEditModeAudio=!0,this.player=n}return s(t,[{key:"getDuration",value:function(){return this.currView.getDuration()}},{key:"destroy",value:function(){this.currView.audio.removeEventListener("canplaythrough",this.onUpdate)}}]),t}();function _(t){return t.data.mediaAccent||t.pano.playerAccentColor}return function(t,n){var o=t.audioPlayer;null==o&&(o=t.audioPlayer=new T(t));var s,l=null==n.url?c.resolvePath(n.path,t.pano.model):new x(n.url,o);function d(r){var a=i.toSeconds(l.getDuration()),s=o.getAudioPlayer();if(s){var u=null!=r?r:s.currentTime;o.isEnded()&&null==r&&(u=a);var c=u/a*100;t.panelAudioSeekFillEl.style.width=c+"%",e.setAttributes(t.panelAudioSeekFillEl,{"aria-valuenow":u,"aria-valuemax":a});var h="NaN",d=a-u;d>0&&(h=i.formatSecondsAsTime(d));var f=i.formatSecondsAsTime(u);if(-1===h.indexOf("NaN")&&-1===f.indexOf("NaN")){var p=/^0+(\d)/,v="-".concat(h.replace(p,"$1")),g="".concat(f.replace(p,"$1"));null!=g&&null!=t.pano.threeSixtyAcc&&t.pano.threeSixtyAcc.updateAudioTime(u),t.panelAudioTimeEl.innerHTML=v,t.panelAudioSeekHoverEl.innerHTML=g,n.timeRemaining=v}o.isEnded()&&b(!1)}}function v(){t.hideMedia.set(f,S),o.isEnded()&&o.seek(0);var e=.75;"low"==n.volume?e=.5:"high"==n.volume?e=1:"mute"==n.volume&&(e=0),o.setVolume(e),o.play();var i=y();t.pano.editMode||null==i||null==i.dataset||(i.dataset.isPlaying="true",i.setAttribute("aria-label",i.dataset.pauseLabel),i.setAttribute("aria-pressed",!0))}function y(){return r.deviceView.isMobile?t.panelAudioPlayEl:null!=t.accChildEl&&t.accChildEl.querySelector(".acc-three-sixty-media-play-audio")}function b(e){o.pause(e);var n=y();t.pano.editMode||null==n||(n.dataset.isPlaying="false",n.setAttribute("aria-label",n.dataset.playLabel),n.setAttribute("aria-pressed",!1))}function w(){t.shown&&(!o.playing?v():b(!0))}function S(){t.hideMedia.delete(f),b(!1)}function A(e){if(t.shown){var n=t.getSelectionBox(t.mediaAudioEl),i=null!=n&&n.shown;if(!t.pano.editMode||i){if(32==e.which){if(document.activeElement==t.panelAudioPlayEl)return;w()}if(27==e.which&&!t.pano.editMode){if(t.isMediaShowing(p))return;t.hideMediaType(f)}}}}if(o.model=l,t.onAudioTick=d,o.onAudioTick=d,o.getAudioPlayer=function(){return null!=l&&l.currView},o.resetPlayButton=function(){var n=t.panelAudioPlayEl.firstElementChild;!o.playing?e.removeClass(n,"audio-is-playing"):e.addClass(n,"audio-is-playing")},t.onClickPlayMedia=w,t.onPauseMedia=b,t.onPlayMedia=v,null==t.mediaAudioEl){t.mediaAudioEl=document.createElement("div"),t.mediaAudioEl.classList.add("panel-audio");var C=n.timeRemaining||"-0:00",k=h.getString("three_image_play_audio"),M=h.getString("three_image_pause_audio"),O=h.getString("three_image_progress_audio"),P=h.getString("three_image_audio"),I='\n        <div class="panel-audio-pill">\n          <button class="panel-audio-play"\n          data-ref tabIndex="0"\n          data-is-playing="false"\n          data-pause-label="'.concat(M,'"\n          data-play-label="').concat(k,'"\n          aria-pressed="false"\n          role="button" aria-label="').concat(k,'">').concat((s=_(t),'\n    <svg class="panel-audio-play-icon" width="10" height="12" >\n      <path d="M9 5.705882L1 11V1z" fill="'.concat(s||"#7d7d7d",'" stroke="').concat(s||"#7d7d7d",'" stroke-width="2" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>\n      <rect x="0" y="0" width="4" height="11" fill="').concat(s||"#7d7d7d",'">\n      </rect>\n      <rect x="6" y="0" width="4" height="11" fill="').concat(s||"#7d7d7d",'">\n      </rect>\n    </svg>\n  ')),'</button>\n          <div class="panel-audio-seek" data-ref>\n            <div class="panel-audio-seek-fill"\n              tabIndex="0"\n              arial-label="').concat(P,'"\n              aria-valuetext="').concat(O,'"\n              role="slider"\n              aria-valuemin="0"\n              aria-valuenow="0"\n              aria-valuemax="0"\n              style="background:').concat(_(t),'" data-ref>\n              <div class="panel-audio-seek-hover" data-ref>0:00</div>\n            </div>\n          </div>\n          <div class="panel-audio-time" data-ref tabIndex="0">').concat(C,'</div>\n        </div>\n        <style class="panel-audio-dot-style">\n          .panel-audio-seek-fill:after {\n            background: ').concat("#FFFFFF"===t.data.fill?_(t):"#ffffff"," !important;\n            border: 1px solid ").concat(t.data.fill,' !important;\n          }\n        </style>\n        <style class="panel-audio-seek-hover-style">\n          .panel-audio-seek-hover {\n            background: ').concat(_(t),' !important;\n          }\n        </style>\n        <style class="panel-audio-time-style">\n          .panel-audio-time {\n            color: ').concat("#FFFFFF"===t.data.fill?"#494949":"#b4b4b4",';\n          }\n        </style>\n        <style class="panel-audio-pill-style">\n          .panel-audio-pill {\n            display: flex;\n            height: 36px;\n            border: 1px solid ').concat("#FFFFFF"===t.data.fill?"#d5d5d5":"#6c6c6c",';\n            border-radius: 36px;\n          }\n          .panel-audio-pill > * {\n            flex-grow: 1;\n          }\n        </style>\n        <style class="panel-audio-seek-style">\n          .panel-audio-seek {\n            height: 3px;\n            background: ').concat("#FFFFFF"===t.data.fill?"#8e8f8e":"#6c6c6c",";\n            flex-grow: 100;\n            position: relative;\n            top: calc(50% - 2px);\n            border-radius: 4px;\n            cursor: pointer;\n          }\n        </style>\n      ");t.mediaAudioEl.innerHTML=I,t.onClickAudioMedia=function(e){var n=t.getSelectionBox(e.currentTarget),i=null!=n&&n.shown;t.pano.editMode&&!i&&t.showSelectionBox(e.currentTarget,!0)},t.mediaAudioEl.style.cursor=t.pano.editMode?"pointer":"default",t.addSelectionBox({targetEl:t.mediaAudioEl,showCallback:function(){t.mediaAudioEl.style.cursor="default",t.panelAudioPlayEl.style.pointerEvents="all",t.panelAudioSeekEl.style.pointerEvents="all"},hideCallback:function(){t.mediaAudioEl.style.cursor="pointer",t.panelAudioPlayEl.style.pointerEvents="none",t.panelAudioSeekEl.style.pointerEvents="none",b(!1)},shouldAutoHide:!0,panel:t,showPlaceholder:!1,paddingOffsets:{bottom:2}}),t.mediaAudioEl.addEventListener(m,t.onClickAudioMedia),e.selectAllByRef(t,t.mediaAudioEl),t.showMedia.set(f,(function(){o.seek(0),v()})),t.destroySeek=E(t),g(t.panelAudioPlayEl,w),t.toggleMute=function(){t.shown&&DS.appState.onToggleVolume()},t.restartAudio=function(){t.shown&&(b(!1),o.seek(0),o.onAudioTick(0),v())},a.on(u.threeSixtyImage.MEDIA_TOGGLE_PLAY,w),a.on(u.threeSixtyImage.MEDIA_RESTART,t.restartAudio),a.on(u.threeSixtyImage.MEDIA_MUTE_TOGGLE,t.toggleMute),t.pano.editMode&&(window.addEventListener("keydown",A),t.panelAudioPlayEl.style.pointerEvents="none",t.panelAudioSeekEl.style.pointerEvents="none"),t.bubbleEl.appendChild(t.mediaAudioEl)}var L=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t.pano.editMode||n.cleanup)&&(t.hideMediaType(f),t.showMedia.delete(f),t.audioPlayer.destroy(),t.audioPlayer=null,l.isEditModeAudio&&l.destroy(),a.off(u.threeSixtyImage.MEDIA_TOGGLE_PLAY,w),a.off(u.threeSixtyImage.MEDIA_RESTART,t.restartAudio),a.off(u.threeSixtyImage.MEDIA_MUTE_TOGGLE,t.toggleMute),t.destroySeek(),t.panelAudioPlayEl.removeEventListener(m,w),r.os.isAndroid&&t.panelAudioPlayEl.removeEventListener("click",w),window.removeEventListener("keydown",A),null!=t.mediaAudioEl&&(t.mediaAudioEl.removeEventListener(m,t.onClickAudioMedia),t.bubbleEl.removeChild(t.mediaAudioEl),t.removeSelectionBox(t.mediaAudioEl),t.mediaAudioEl=null),a.off(u.slide.WILL_CHANGE,e))};return a.on(u.slide.WILL_CHANGE,L),L}}.call(e,n,e,t),void 0===i||(t.exports=i)},7929:function(t,e,n){var i;i=function(t){var e=n(1251),i=(n(118),n(8579)),r=n(82),o=n(9032),a=n(8880),s=n(1681),l=n(6295),u=n(9045).modes,c=n(7812),h=n(3163),d=h.IMAGE_MEDIA_TYPE,f=h.appendTopContainer,p=n(5505),v=p.clickOrTouchEnd,g=p.downOrTouchStart,m=p.moveOrTouchMove,y=p.upOrTouchEnd,b=n(7536),w=b.Z_INDEX_MID,S=b.PAD_SCALE,A="zoom-in";function E(t,e,n,i){var r=e.naturalWidth,o=e.naturalHeight,a=t.marker.getEditorVar("imageMediaCropRectangle");n.setAttribute("width",r),n.setAttribute("height",o),null!=a?(i.setAttribute("width",a.width),i.setAttribute("height",a.height),i.setAttribute("viewBox","".concat(a.left," ").concat(a.top," ").concat(a.width," ").concat(a.height))):(i.setAttribute("width",r),i.setAttribute("height",o),i.setAttribute("viewBox","0 0 ".concat(r," ").concat(o))),t.updateInteractableElements()}return function(t,n){var h,p=n.url||null!=t.pano.assetManager&&t.pano.assetManager.getAssetUrl(n.assetId),b=n.altText||"";if(null==t.mediaImageEl){t.mediaImageEl=document.createElement("div"),t.mediaImageEl.innerHTML='\n        <svg class="panel-image-thumb" data-ref\n          style="position:relative;width:100%;height:100%;overflow:hidden;" width="100%" height="100%">\n          <image style="pointer-events: auto;" class="panel-framed-image-thumb" aria-label="'.concat(r.getPath(t,"data.media.image.posterAltText")||"",'" data-ref xlink:href="').concat(p,'" />\n        </svg>\n      '),e.selectAllByRef(t,t.mediaImageEl),t.panelImageThumbEl.style.cursor=t.pano.editMode?"pointer":A;var T=new Image;T.src=p,T.addEventListener("load",(function(){E(t,T,t.panelFramedImageThumbEl,t.panelImageThumbEl)})),t.mediaImageEl=t.mediaImageEl.firstElementChild,t.mediaImageEl.setAttribute("draggable",!1),t.panelBodyTopEl.appendChild(t.mediaImageEl),t.addSelectionBox({targetEl:t.mediaImageEl,maskBounds:{bottomCalc:function(){return t.panelContentGradBottomEl.getBoundingClientRect().bottom},topCalc:function(){return t.panelBodyContainerEl.getBoundingClientRect().top}},showCallback:function(){return t.mediaImageEl.style.cursor=A},hideCallback:function(){return t.mediaImageEl.style.cursor="pointer"},shouldAutoHide:!0,panel:t,showPlaceholder:!1})}else t.mediaImageEl.src=p;function C(e){e.which!==c.keys.ESCAPE||t.pano.editMode||x()}function x(){o.trigger(a.threeSixtyImage.MEDIA_CLOSED),window.requestAnimationFrame((function(){t.hideMedia.delete(d),t.mediaShowing&&(t.pano.mode===u.SET_CROP_IMAGE_MEDIA&&t.pano.cancelCropImageMedia(!0),t.overlayEl.parentNode.removeChild(t.overlayEl),t.teardownMediaModal(d),t.overlayEl.innerHTML="",t.panelMediaCloseEl.removeEventListener(v,x),i.os.isAndroid&&t.panelMediaCloseEl.removeEventListener("click",x),o.off(a.playbackControls.TIMELINE_CHANGED,x),window.removeEventListener("keyup",C),document.addEventListener(g,t.marker.onReleaseOutsideLabel),t.pano.editMode&&window.requestAnimationFrame((function(){t.showSelectionBox(t.mediaImageEl,!0)})))}))}function k(){E(t,t.panelImageEl,t.panelFramedImageEl,t.panelImageFrameEl),R()}var M,O={count:0,down:!1,tolerance:3};function P(){var n=O.count>O.tolerance;if(O.count=0,O.down=!1,!n){var l=t.getSelectionBox(t.mediaImageEl),u=null!=l&&l.shown;if(!t.pano.editMode||u){if(t.setupMediaModal(d)){var c=document.createElement("div");c.classList.add("three-sixty-image-media-panel-overlay"),e.setStyles(c,{position:"fixed",width:"100%",height:"100%",zIndex:w,top:0,left:0}),f(c),t.overlayEl=c,t.overlayEl.innerHTML='\n        <div class="panel-media-overlay" data-ref role="dialog" aria-modal="true">\n          <div class="panel-image-container" data-ref tabIndex="0" aria-label="'.concat(b,'"\n\n            data-next-el=".panel-media-close"\n            data-prev-el=".panel-media-close">\n              <svg class="panel-image-frame"\n                data-ref\n                style="position:absolute;width:100%;height:100%;overflow:hidden;" width="100%" height="100%">\n                <image class="panel-framed-image" ').concat(i.device.isMobile?'aria-label="'.concat(b,'"'):"",' data-ref xlink:href="').concat(p,'" />\n              </svg>\n              <img class="panel-image" src="').concat(p,'" data-ref style="display:none"/>\n          </div>\n          <button tabIndex="0"\n            data-next-el=".panel-image-container"\n            data-prev-el=".panel-image-container"\n            type="button"\n            aria-label="').concat(s.getString("close"),'"\n            class="panel-media-close acc-button" data-ref>').concat('\n    <svg class="panel-media-icon-close" width="40" height="40" viewBox="0 0 81 81" focusable="false" data-ref="">\n      <circle cx="40.5" cy="40.5" r="40" fill="black" fill-opacity="0.5"></circle>\n      <polygon fill="white" points="58.5 25.33 55.67 22.5 40.5 37.67 25.33 22.5 22.5 25.33 37.67 40.5 22.5 55.67 25.33 58.5 40.5 43.33 55.67 58.5 58.5 55.67 43.33 40.5"></polygon>\n    </svg>\n  ',"</button>\n        </div>\n      "),e.selectAllByRef(t,t.overlayEl),h=function(){var e=r.getPath(t,"pinchzoomable.pinch",{scale:1,zoomingOut:!1});1!==e.scale||e.zoomingOut||x()},t.panelImageFrameEl.addEventListener("click",h),t.pano.editMode||(setTimeout((function(){t.panelImageContainerEl.focus()}),i.os.isAndroid?500:0),t.pano.threeSixtyAcc.imageMediaOpen=!0),!t.pano.editMode&&i.device.isMobile&&(t.pinchzoomable=Object.assign({},DS.pinchZoomController),_.forOwn(t.pinchzoomable,(function(e,n){_.isFunction(t.pinchzoomable[n])&&(t.pinchzoomable[n]=t.pinchzoomable[n].bind(t.pinchzoomable))})),t.pinchzoomable.initZoomTarget(t.panelImageContainerEl),t.pinchzoomable.cssTransformOrigin="transformOrigin",t.pinchzoomable.cssTransform="transform"),document.removeEventListener(g,t.marker.onReleaseOutsideLabel),t.panelImageEl.addEventListener("load",k),t.hideMedia.set(d,x),t.panelMediaCloseEl.addEventListener(v,x),i.os.isAndroid&&t.panelMediaCloseEl.addEventListener("click",x),o.on(a.playbackControls.TIMELINE_CHANGED,x),window.addEventListener("keyup",C)}}else t.showSelectionBox(t.mediaImageEl,!0)}}function I(){O.count=0,O.down=!0}function L(){O.down=!1}function D(){O.down&&O.count++}function R(e){if(t.overlayEl){var n={w:window.innerWidth,h:window.innerHeight},i=t.panelMediaOverlayEl;i.style.width="".concat(n.w,"px"),i.style.height="".concat(n.h,"px");var r=t.panelImageFrameEl.viewBox.baseVal;if(null!=r){var o=r.width,a=r.height;if(0!==o&&0!==a){var s=Math.min(parseFloat(n.w-40)/o,parseFloat(n.h-40-(t.pano.editMode?100:0))/a),l=t.pano.editMode?1:S,u=t.panelImageContainerEl,c=o*s*l,h=a*s*l,d=(n.w-c)/2,f=(n.h-h)/2;u.style.width="".concat(c,"px"),u.style.height="".concat(h,"px"),u.style.transform="translate(".concat(d,"px, ").concat(f,"px)"),null!=t.pinchzoomable&&(t.pinchzoomable.offsetStart(d,f),t.pinchzoomable.resetPinch()),t.panelImageFrameEl.setAttribute("width",c),t.panelImageFrameEl.setAttribute("height",h),null!=t.pano.cropTool&&t.pano.cropTool.updateTransformControls(c/t.pano.cropTool.image.naturalWidth),null!=e&&(clearTimeout(M),M=setTimeout((function(){R()}),300))}}}}t.showMedia.set(d,P),t.mediaImageEl.addEventListener(v,P),t.mediaImageEl.addEventListener(g,I),t.mediaImageEl.addEventListener(m,D),t.mediaImageEl.addEventListener(y,L),t.prepCrop=function(){var e=t.panelImageEl.naturalWidth,n=t.panelImageEl.naturalHeight;return t.panelFramedImageEl.setAttribute("width",e),t.panelFramedImageEl.setAttribute("height",n),t.panelImageFrameEl.setAttribute("viewBox","0 0 ".concat(e," ").concat(n)),t.panelImageFrameEl.setAttribute("width",e),t.panelImageFrameEl.setAttribute("height",n),R(),R},t.cancelCrop=function(){E(t,t.panelImageEl,t.panelFramedImageEl,t.panelImageFrameEl),R()},t.saveCrop=function(e){t.marker.setEditorVar("imageMediaCropRectangle",e),E(t,t.panelImageEl,t.panelFramedImageThumbEl,t.panelImageThumbEl);var n=t.panelImageFrameEl.viewBox.baseVal;l.to(n,.5,{x:e.left,y:e.top,width:e.width,height:e.height,ease:"power4.out",onUpdate:function(){var e=n.x,i=n.y,r=n.width,o=n.height;t.panelImageFrameEl.setAttribute("viewBox","".concat(e," ").concat(i," ").concat(r," ").concat(o)),R()}})},window.addEventListener("resize",R);var N=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t.pano.editMode||n.cleanup)&&(window.removeEventListener("resize",R),null!=t.panelImageEl&&t.panelImageEl.removeEventListener("load",k),null!=t.panelImageFrameEl&&t.panelImageFrameEl.removeEventListener("click",h),o.off(a.playbackControls.TIMELINE_CHANGED,x),t.hideMediaType(d),t.showMedia.delete(d),null!=t.mediaImageEl&&(t.mediaImageEl.removeEventListener(v,P),t.mediaImageEl.removeEventListener(g,I),t.mediaImageEl.removeEventListener(m,D),t.mediaImageEl.removeEventListener(y,L),t.mediaImageEl.parentNode.removeChild(t.mediaImageEl),t.removeSelectionBox(t.mediaImageEl),t.mediaImageEl=null,t.marker.setEditorVar("imageMediaCropRectangle",null)),o.off(a.slide.WILL_CHANGE,e))};return o.on(a.slide.WILL_CHANGE,N),N}}.call(e,n,e,t),void 0===i||(t.exports=i)},3163:function(t,e,n){"use strict";n.r(e),n.d(e,{ALL_MEDIA_TYPE:function(){return a},AUDIO_MEDIA_TYPE:function(){return o},FOCUS_ON_AUDIO:function(){return d},FOCUS_ON_BODY:function(){return u},FOCUS_ON_BUTTON:function(){return f},FOCUS_ON_DESELECT:function(){return v},FOCUS_ON_IMAGE:function(){return c},FOCUS_ON_NONE:function(){return p},FOCUS_ON_TITLE:function(){return l},FOCUS_ON_VIDEO:function(){return h},IMAGE_MEDIA_TYPE:function(){return i},NO_MEDIA_TYPE:function(){return s},VIDEO_MEDIA_TYPE:function(){return r},appendTopContainer:function(){return g}});var i="image",r="video",o="audio",a="all",s="none",l="title",u="body",c="image",h="video",d="audio",f="button",p="none",v="deselect",g=function(t){(document.getElementById("app-top-container")||document.body).appendChild(t)}},133:function(t,e,n){var i;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function u(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}i=function(t){var e,i,r=n(1251),a=(n(118),n(8579)),l=n(82),c=n(9032),h=n(8880),d=n(8766),f=n(520),p=n(3511),v=n(7812),g=n(1681),m=n(3163),y=m.VIDEO_MEDIA_TYPE,b=m.appendTopContainer,w=n(7510).addWindowListener,S=n(1419),A=n(5505),E=A.clickOrTap,T=A.clickOrTouchEnd,C=A.downOrTouchStart,x=A.moveOrTouchMove,k=A.upOrTouchEnd,M=n(7536),O=M.Z_INDEX_MID,P=M.Z_INDEX_TOP,I=M.PAD_SCALE,L=5,D=43,R=function(t){return"m3u8"===_.last(t.split("."))},N=function(t){return a.env.isFileProtocol&&R(t)},H=function(t){return"#FFFFFF"===t?"#494949":"#BABBBA"},V=function(t,e){var n=g.getString("three_image_video_volume"),i=function(t,e){var n=H(t);return"#FFFFFF"===t?{trackFill:"#8e8f8e",thumbFill:e,thumbStroke:"#ffffff",progressFill:e,iconFill:n,panelFill:t,panelStroke:n}:{trackFill:"#8e8f8e",thumbFill:"#ffffff",thumbStroke:t,progressFill:e,iconFill:n,panelFill:t,panelStroke:"#6a6a6a"}}(t,e),r=i.thumbFill,o=i.thumbStroke,s=i.trackFill,l=i.progressFill,u=i.iconFill,c=i.panelFill,h=i.panelStroke;return a.deviceView.isMobile?"":'\n      <div class=\'panel-video-volume\' data-ref>\n        <button class=\'panel-video-volume-button\' data-ref aria-hidden="true">\n          <svg class="panel-video-volume-icon" width="16px" height="14px" viewBox="0 0 16 14" focusable="false" fill="'.concat(u,'">\n            <rect x="0" y="4" width="3" height="6"></rect>\n            <polygon points="4 4 9 0 9 14 4 10"></polygon>\n            <g transform="translate(10, 0)" stroke="').concat(u,'">\n              <mask id="panel-vol-mask" fill="white">\n                <rect x="0" y="0" width="8" height="14" fill="white"></rect>\n              </mask>\n              <circle class="panel-vol-circle-low" data-ref strokewidth="1.5" style="opacity: 1;" mask="url(#panel-vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n              <circle class="panel-vol-circle-high" data-ref strokewidth="1.5" style="opacity: 1;" mask="url(#panel-vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n            </g>\n          </svg>\n        </button>\n        <div class="panel-video-volume-slider" data-ref>\n          <svg class="panel-video-volume-slider-bg" xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' version=\'1.1\' width=\'46px\' height=\'108px\' viewBox=\'0 0 46 108\' >\n              <defs>\n                  <filter x=\'-41.7%\' y=\'-13.4%\' width=\'183.3%\' height=\'125.5%\' filterUnits=\'objectBoundingBox\' id=\'filter-2\'>\n                      <feMorphology radius=\'0.5\' operator=\'dilate\' in=\'SourceAlpha\' result=\'shadowSpreadOuter1\'></feMorphology>\n                      <feGaussianBlur stdDeviation=\'4\' in=\'shadowSpreadOuter1\' result=\'shadowBlurOuter1\'></feGaussianBlur>\n                      <feColorMatrix values=\'0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0\' type=\'matrix\' in=\'shadowBlurOuter1\' result=\'colorOuter\'></feColorMatrix>\n                      <feMerge>\n                          <feMergeNode in="colorOuter"/>\n                          <feMergeNode in="SourceGraphic"/>\n                      </feMerge>\n                  </filter>\n              </defs>\n              <g stroke=\'').concat(h,"' stroke-width='1' fill='").concat(c,"' fill-rule='evenodd' filter='url(#filter-2)'>\n                  <path d='M11,8 L35,8 C36.66,8 38,9.34 38,11 L38,84.76 C38,85.55 37.68,86.32 37.12,86.88 L25.12,98.88 C23.95,100.05 22.05,100.05 20.88,98.88 L8.88,86.88 C8.32,86.32 8,85.55 8,84.76 L8,11 C8,9.34 9.34,8 11,8 Z'>\n                  </path>\n              </g>\n          </svg>\n          <input class=\"panel-video-volume-slider-range\"\n            data-prev-el=\".panel-video-seek-range\"\n            data-next-el=\".panel-video-captions, .panel-media-close-video\"\n            aria-label=\"").concat(n,'"\n            tabIndex="0"\n            role="slider" type="range" min="0" max="10" step="1" value="8"\n            aria-valuenow="8"\n            aria-valuetext="80%"\n            ariav data-ref/>\n          <div class="panel-video-volume-slider-track" style="background: ').concat(s,'"></div>\n          <div class="panel-video-volume-slider-progress" style="background: ').concat(l,'" data-ref></div>\n          <div class="panel-video-volume-slider-thumb" style="background: ').concat(r,"; border-color: ").concat(o,'" data-ref></div>\n        </div>\n      </div>\n    ')},j=function(t,e,n,i){var r=i.altText||"";return'\n    <div class="panel-video-player panel-media-overlay"\n      style="opacity: 0" data-ref role="dialog" aria-modal="true" tabIndex="-1"\n      data-next-el=".panel-video-container">\n      <div\n        class="panel-video-container"\n        tabIndex="0"\n        data-prev-el=".panel-media-close-video"\n        data-next-el=".panel-video-play-button"\n        aria-label="'.concat(r,'"\n        role="group"\n        data-ref>\n        <video src="').concat(n,'"\n          class="panel-video" ').concat(a.device.isMobile?'aria-label="'.concat(r,'"'):"",' data-ref playsinline preload="yes"></video>\n        <div class="panel-video-controls" style="background: ').concat(t,'" data-ref>\n          ').concat(function(t){var e=g.getString("three_image_play_video"),n=g.getString("three_image_pause_video");return'\n    <button class="panel-video-play panel-video-play-button"\n      data-ref role="button" tabIndex="0"\n      aria-pressed="false"\n      data-prev-el=".panel-video-container"\n      data-next-el=".panel-video-seek-range"\n      data-play-label="'.concat(e,'"\n      data-pause-label="').concat(n,'"\n      aria-label="').concat(e,'"\n      >\n      ').concat(function(t){return'\n    <svg class="panel-video-play-icon" width="10" height="12">\n      <path d="M9 5.705882L1 11V1z" fill="'.concat(t,'" stroke="').concat(t,'" stroke-width="2" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>\n      <rect x="0" y="0" width="4" height="11" fill="').concat(t,'">\n      </rect>\n      <rect x="6" y="0" width="4" height="11" fill="').concat(t,'">\n      </rect>\n    </svg>\n  ')}(H(t)),"\n    </button>\n  ")}(t),"\n          ").concat(function(t,e){var n=g.getString("three_image_progress_video");return'\n    <div class="panel-video-seek" data-ref>\n      <div class="panel-video-seek-fill"\n        style="background:'.concat(e||"#007CB2",'" data-ref></div>\n      <input\n        class="panel-video-seek-range"\n        type="range"\n        role="slider"\n        tabIndex="0"\n        min="0"\n        value="0"\n        max="100"\n        data-prev-el=".panel-video-play-button"\n        data-next-el=".panel-video-volume-slider-range"\n        aria-label="').concat(n,'"\n        data-ref\n      />\n    </div>\n  ')}(0,e),"\n          ").concat(V(t,e),"\n          ").concat(function(t,e){return'\n    <button\n      id="panel-video-captions-btn"\n      role="button"\n      tabIndex="0"\n      data-prev-el=".panel-video-volume-slider-range"\n      data-next-el=".panel-media-close-video"\n      aria-label="'.concat(g.getString("acc_closed_captions"),'"\n      aria-pressed="false"\n      class="panel-video-captions" data-ref>\n      <style>\n        #panel-video-captions-btn.captions-on:after {\n          background: ').concat(e,";\n        }\n      </style>\n      ").concat(function(t){return'\n  <svg class="panel-video-captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" >\n    <g>\n      <path fill="'.concat(t,'" stroke="none" d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n      <path fill="none" stroke="').concat(t,'" class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n    </g>\n  </svg>\n  ')}(H(t)),"\n    </button>\n  ")}(t,e),'\n        </div>\n      </div>\n      <button\n        class="panel-media-close panel-media-close-video"\n        data-prev-el=".panel-video-captions, .panel-video-volume-slider-range"\n        data-next-el=".panel-video-container"\n        tabIndex="0"\n        aria-label="').concat(g.getString("close"),'"\n        role="button" data-ref>').concat('\n    <svg class="panel-media-icon-close" width="40" height="40" viewBox="0 0 81 81" focusable="false" data-ref="">\n      <circle cx="40.5" cy="40.5" r="40" fill="black" fill-opacity="0.5"></circle>\n      <polygon fill="white" points="58.5 25.33 55.67 22.5 40.5 37.67 25.33 22.5 22.5 25.33 37.67 40.5 22.5 55.67 25.33 58.5 40.5 43.33 55.67 58.5 58.5 55.67 43.33 40.5"></polygon>\n    </svg>\n  ','</button>\n      <style class="panel-video-dot-style">\n        .panel-video-seek-fill:after {\n          background: ').concat("#FFFFFF"===t?e:"#ffffff"," !important;\n          border: 1px solid ").concat(t,' !important;\n        }\n      </style>\n      <style class="panel-video-seek-style">\n        .panel-video-seek {\n          height: 4px;\n          background: ').concat("#FFFFFF"===t?"#8e8f8e":"#6c6c6c",";\n          flex-grow: 100;\n          position: relative;\n          top: calc(50% - 2px);\n          border-radius: 4px;\n          cursor: pointer;\n        }\n      </style>\n    </div>\n  ")},F=function(){function t(e){s(this,t),this.panel=e,this.el=e.panelVideoVolumeEl,this.button=e.panelVideoVolumeButtonEl,this.sliderPanel=e.panelVideoVolumeSliderEl,this.progress=e.panelVideoVolumeSliderProgressEl,this.thumb=e.panelVideoVolumeSliderThumbEl,this.range=e.panelVideoVolumeSliderRangeEl,this.seek=e.panelVideoSeekFillEl,this.seekRange=e.panelVideoSeekRangeEl,_.bindAll(this,"onMouseOver","onMouseLeave","onInputChanged","onVolumeChanged","onFocusVol","onBlurVol"),this.panel.panelVideoVolumeSliderRangeEl.addEventListener("focusin",this.onFocusVol),this.panel.panelVideoVolumeSliderRangeEl.addEventListener("blur",this.onBlurVol),this.button.addEventListener("click",this.onClick),this.el.addEventListener("mouseover",this.onMouseOver),this.range.addEventListener("input",this.onInputChanged),DS.pubSub.on(DS.events.volume.CHANGED,this.onVolumeChanged),this.onVolumeChanged(DS.appState.currentVolume())}return u(t,[{key:"onBlurVol",value:function(t){r.removeClass(this.sliderPanel,"open")}},{key:"onFocusVol",value:function(t){r.addClass(this.sliderPanel,"open")}},{key:"onClick",value:function(){DS.appState.onToggleVolume()}},{key:"onVolumeChanged",value:function(t){var e=DS.utils.clamp(0,10,10*t);this.progress.style.width="".concat(60*t,"px"),this.thumb.style.top="-".concat(60*t,"px"),this.range.valueAsNumber!==e&&(this.range.value=e,this.range.setAttribute("aria-valuenow",e),this.range.setAttribute("aria-valuetext","".concat(10*e,"%")));var n=Math.min(1,e/5),i=Math.min(1,Math.max(0,e/5-.5));this.panel.panelVolCircleLowEl.style.opacity=i,this.panel.panelVolCircleHighEl.style.opacity=n}},{key:"onInputChanged",value:function(t){DS.appState.setVolume(t.target.valueAsNumber/10);var e=t.target.valueAsNumber;this.range.setAttribute("aria-valuenow",e),this.range.setAttribute("aria-valuetext","".concat(10*e,"%"))}},{key:"onMouseOver",value:function(t){r.addClass(this.sliderPanel,"open"),this.el.addEventListener("mouseleave",this.onMouseLeave)}},{key:"onMouseLeave",value:function(t){r.removeClass(this.sliderPanel,"open"),this.el.removeEventListener("mouseleave",this.onMouseLeave)}},{key:"destroy",value:function(){this.panel.panelVideoVolumeSliderRangeEl.removeEventListener("focusin",this.onFocusVol),this.panel.panelVideoVolumeSliderRangeEl.removeEventListener("blur",this.onBlurVol),this.button.removeEventListener("click",this.onClick),this.el.removeEventListener("mouseover",this.onMouseOver),this.range.removeEventListener("input",this.onInputChanged),this.sliderPanel.removeEventListener("mouseleave",this.onMouseLeave),DS.pubSub.off(DS.events.volume.CHANGED,this.onVolumeChanged)}}]),t}(),B=function(){function t(e){var n=e.panel;s(this,t),this.panel=n,this.opacity=1,_.bindAll(this,"onAnyUserEvent"),a.device.isMobile||(this.volumeControl=new F(n))}return u(t,[{key:"destroy",value:function(){null!=this.volumeControl&&this.volumeControl.destroy(),this.addRemoveShowListeners(!1)}},{key:"show",value:function(t){this.setVisible(!0,t)}},{key:"onAnyUserEvent",value:function(t){this.show()}},{key:"addRemoveShowListeners",value:function(t){var e=this,n=t?"addEventListener":"removeEventListener";["mousemove","mousedown","touchstart","keydown","focusin","focusout"].forEach((function(t){document[n](t,e.onAnyUserEvent)}))}},{key:"hide",value:function(){this.panel.videoPlayer.isPlaying()&&this.setVisible(!1)}},{key:"opacity",get:function(){return parseFloat(this.panel.panelVideoControlsEl.style.opacity)},set:function(t){this.panel.panelVideoControlsEl.style.opacity=t}},{key:"tweenOpacityTo",value:function(t,e){var n=this,i=t<this.opacity;TweenLite.to(this,e,{opacity:t,ease:i?"power4.out":"power1.out",onComplete:function(){n.updateCaptionPosition()}})}},{key:"setVisibility",value:function(t){this.panel.panelVideoControlsEl.style.visibility=t?"visible":"hidden",this.updateCaptionPosition()}},{key:"updateCaptionPosition",value:function(){var t=l.getPath(this,"panel.captionsEl");null!=t&&r.setStyles(t,{height:0!==this.opacity?"calc(100% - ".concat(D,"px)"):"100%"})}},{key:"setVisible",value:function(t,e){var n=this;null!=this.hideControlsTimer&&(clearTimeout(this.hideControlsTimer),this.hideControlsTimer=null);this.addRemoveShowListeners(!t),t?(this.setVisibility(!0),this.updateCaptionPosition(),this.tweenOpacityTo(1,.3),this.panel.videoPlayer.isPlaying()&&!e&&(this.hideControlsTimer=setTimeout((function(){return n.hide()}),3e3))):this.tweenOpacityTo(0,.3)}},{key:"isVisible",value:function(){return"visible"===this.panel.panelVideoControlsEl.style.visibility}}]),t}();function U(t,e,n){var i,o=!1,s=!1;function u(n){if(e.pause(),!t.pano.editMode){var i=t.pano.threeSixtyAcc.getReadableTime(n.target.value);r.setAttributes(t.panelVideoSeekRangeEl,{"aria-valuenow":n.target.value,"aria-valuetext":i,"aria-valuemax":t.panelVideoEl.duration,max:t.panelVideoEl.duration})}t.panelVideoEl.pause(),t.panelVideoEl.currentTime=n.target.value,e.updateSeek(n.target.value),null!=t.captionsConnector&&t.captionsConnector.clearCaptions()}function c(n){i=t.panelVideoSeekEl.getBoundingClientRect(),o=!0,s=e.isPlaying(),d(n)}function h(e){o&&(o=!1,s&&t.shown&&t.panelVideoEl.play(),n.show())}function d(e){if(o){var r=function(t){return a.device.isMobile?t.touches[0]&&t.touches[0].clientX:t.clientX}(e)+L;if(null!=r){var s=t.videoPlayer,u=(c=r,l.clamp(0,1,(c-i.left)/i.width)*t.panelVideoEl.duration);t.panelVideoEl.pause(),t.panelVideoEl.currentTime=u,s.updateSeek(u),null!=t.captionsConnector&&t.captionsConnector.clearCaptions(),n.show(!0)}}var c}return t.panelVideoSeekRangeEl.addEventListener("change",u),t.panelVideoSeekRangeEl.addEventListener("input",u),t.panelVideoSeekEl.addEventListener(C,c),document.addEventListener(x,d),document.addEventListener(k,h),function(){t.panelVideoSeekEl.removeEventListener(C,c),document.removeEventListener(x,d),document.removeEventListener(k,h),t.panelVideoSeekRangeEl.removeEventListener("change",u),t.panelVideoSeekRangeEl.removeEventListener("input",u)}}var W=64;function z(t,n,o){function s(){var t=function(){!e.isVisible()&&a.device.isMobile||n.toggleIsPlaying(),e.show()};clearTimeout(i),i=a.os.isAndroid?setTimeout(t,W):t()}function l(){null!=t.captionsConnector&&t.captionsConnector.toggleCaptioning()}function u(e){e.which!==v.keys.ESCAPE||t.pano.editMode||P()}function d(i){if(t.pano.editMode&&32==i.which){if(document.activeElement==t.panelVideoPlayEl)return;n.toggleIsPlaying(),e.show()}}function f(){t.panelVideoEl.pause(),t.panelVideoEl.currentTime=0,n.updateSeek(0),null!=e&&e.show()}function p(){DS.appState.onToggleVolume()}function g(){n.updateSeek(t.panelVideoEl.currentTime)}function m(){n.pause(),e.show(),null!=t.captionsConnector&&t.captionsConnector.clearCaptions()}function b(){DS.courseAudio.anyVideoStarted()}function A(){DS.courseAudio.anyVideoStopped()}function x(n){e.show(),t.panelVideoEl.volume=o*n}function k(n){e.show(),n?(t.panelVideoCaptionsEl.classList.add("captions-on"),t.panelVideoCaptionsEl.setAttribute("aria-pressed",!0)):(t.panelVideoCaptionsEl.classList.remove("captions-on"),t.panelVideoCaptionsEl.setAttribute("aria-pressed",!1))}t.videoOpenedWithAcc||(n.play(),t.videoOpenedWithAcc=!1),(e=new B({panel:t})).show(),null==t.captionsConnector||t.pano.editMode?t.panelVideoCaptionsEl.style.display="none":t.captionsConnector.isCaptionEnabled()&&(t.panelVideoCaptionsEl.classList.add("captions-on"),t.panelVideoCaptionsEl.setAttribute("aria-presssed",!0)),t.panelVideoCaptionsEl.addEventListener(T,l),E(t.panelVideoPlayEl,s),E(t.panelVideoEl,s),window.addEventListener("keydown",d),window.addEventListener("keyup",u),c.on(h.threeSixtyImage.MEDIA_TOGGLE_PLAY,s),c.on(h.threeSixtyImage.MEDIA_RESTART,f),c.on(h.threeSixtyImage.MEDIA_MUTE_TOGGLE,p),c.on(h.volume.CHANGED,x),c.on(h.captions.ENABLED,k),t.panelVideoEl.addEventListener("timeupdate",g),t.panelVideoEl.addEventListener("ended",m),t.panelVideoEl.addEventListener("play",b),t.panelVideoEl.addEventListener("pause",A);var M=U(t,n,e),O=function(t){t.captionsEl=document.querySelector("#preso .caption-container");var e=function(){};if(null!=t.captionsEl)if(a.deviceView.isClassicDesktop&&(t.oldCaptionParent=t.captionsEl.parentNode),t.panelVideoContainerEl.appendChild(t.captionsEl),t.oldCaptionStyles=t.captionsEl.getAttribute("style"),r.setStyles(t.captionsEl,{width:"100%",height:"calc(100% - ".concat(D,"px)"),transform:""}),S.multiLangSupport){var n=function(){null!=t.captionsEl&&r.setStyles(t.captionsEl,{width:"100%",height:"calc(100% - ".concat(D,"px)"),transform:""})};e=_.flow(w("resize",n,!1,"after"),c.addListener(h.captions.UPDATED,n))}else e=w("resize",(function(){null!=t.captionsEl&&r.setStyles(t.captionsEl,{width:"100%",height:"calc(100% - ".concat(D,"px)"),transform:""})}),!1,"after");return function(){if(e(),null!=t.captionsEl){var n=document.getElementById("preso");null!=t.oldCaptionParent?t.oldCaptionParent.appendChild(t.captionsEl):n.insertBefore(t.captionsEl,document.getElementById("app-top")),t.captionsEl.setAttribute("style",t.oldCaptionStyles),t.captionsEl=null}}}(t);function P(i){t.videoOpenedWithAcc=!1,t.hideMedia.delete(y),c.trigger(h.threeSixtyImage.MEDIA_CLOSED),t.mediaShowing&&(null!=t.oldCaptionParent&&t.oldCaptionParent.appendChild(t.captionsEl),t.overlayEl.parentNode.removeChild(t.overlayEl),t.teardownMediaModal(y),t.panelVideoEl.paused||DS.courseAudio.anyVideoStopped(),n.pause(),t.panelVideoCaptionsEl.removeEventListener(T,l),t.panelVideoPlayEl.removeEventListener(T,s),t.panelVideoEl.removeEventListener(T,s),a.os.isAndroid&&(t.panelVideoPlayEl.removeEventListener("click",s),t.panelVideoEl.removeEventListener("click",s)),window.removeEventListener("keydown",d),window.removeEventListener("keyup",u),c.off(h.volume.CHANGED,x),c.off(h.captions.ENABLED,k),c.off(h.threeSixtyImage.MEDIA_TOGGLE_PLAY,s),c.off(h.threeSixtyImage.MEDIA_RESTART,f),c.off(h.threeSixtyImage.MEDIA_MUTE_TOGGLE,p),M(),O(),e.destroy(),null!=t.captionsConnector&&t.captionsConnector.destroy(),null!=t.panelVideoEl.parentNode&&t.panelVideoEl.parentNode.removeChild(t.panelVideoEl),t.overlayEl.innerHTML="",t.panelMediaCloseEl.removeEventListener(T,P),c.off(h.playbackControls.TIMELINE_CHANGED,P),a.os.isAndroid&&t.panelMediaCloseEl.removeEventListener("click",P),t.panelVideoEl.removeEventListener("timeupdate",g),t.panelVideoEl.removeEventListener("ended",m),t.panelVideoEl.addEventListener("play",b),t.panelVideoEl.addEventListener("pause",A),document.addEventListener(C,t.marker.onReleaseOutsideLabel),null!=t.panelVideoEl.hlsPlayer&&(t.panelVideoEl.hlsPlayer.destroy(),t.panelVideoEl.hlsPlayer=null),t.pano.editMode&&window.requestAnimationFrame((function(){t.showSelectionBox(t.mediaVideoPosterEl,!0)})))}t.hideMedia.set(y,P),t.panelMediaCloseEl.addEventListener(T,P),a.os.isAndroid&&t.panelMediaCloseEl.addEventListener("click",P),c.on(h.slide.WILL_CHANGE,P)}function G(t){return t.data.mediaAccent||t.pano.playerAccentColor}return function(t,n){null==t.videoPlayer&&(t.videoPlayer={playing:!1});var i,s,u=t.videoPlayer;if(null!=n.url)s=n.url;else{i=t.pano.assetManager.getAsset(n.assetId),s=i.url();var v=d.getCaptions(n.assetId);if(null!=v){var m=t.pano.slideObject.props.parent.props.model.getSlide(),w=f.getCurrentWindowSlide().id;t.captionsConnector=new p({type:"video",slideId:w,assetId:n.assetId,slideOwner:m,captions:v,parentEl:t,mediaElName:"panelVideoEl",isMediaVisible:function(){return!0}})}}u.updateSeek=function(e){null!=t.captionsConnector&&(t.captionsConnector.setCurrentTime(e),t.captionsConnector.adjustCaptions());var i=t.panelVideoEl.duration,o=null!=e?e:t.panelVideoEl.currentTime;n.currentTime=o;var a=o/i*100;t.panelVideoSeekFillEl.style.width=a+"%",r.setAttributes(t.panelVideoSeekFillEl,{"aria-valuenow":o,"aria-valuemax":i}),t.pano.editMode||(t.panelVideoSeekRangeEl.value=o,r.setAttributes(t.panelVideoSeekRangeEl,{"aria-valuenow":o,"aria-valuetext":t.pano.threeSixtyAcc.getReadableTime(o),"aria-valuemax":i,max:i}))},u.isPlaying=function(){return u.playing},u.play=function(){u.playing=!0,u.onIsPlayingChanged()},u.pause=function(){u.playing=!1,u.onIsPlayingChanged()},u.toggleIsPlaying=function(){u.playing=!u.playing,u.onIsPlayingChanged()},u.onIsPlayingChanged=function(){var n=t.panelVideoPlayEl.firstElementChild;u.isPlaying()?(t.panelVideoEl.play(),r.addClass(n,"video-is-playing"),t.panelVideoPlayEl.setAttribute("aria-pressed",!0),t.panelVideoPlayEl.setAttribute("aria-label",t.panelVideoPlayEl.dataset.pauseLabel)):(t.panelVideoEl.pause(),r.removeClass(n,"video-is-playing"),t.panelVideoPlayEl.removeAttribute("aria-pressed"),t.panelVideoPlayEl.setAttribute("aria-label",t.panelVideoPlayEl.dataset.playLabel)),null!=e&&e.show()};var S,A=n.posterUrl||null!=t.pano.assetManager&&t.pano.assetManager.getAssetUrl(n.posterAssetId);if(N(s)){var E=g.getString("streaming_video_local_playback_title"),_=g.getString("streaming_video_local_playback_learn_more"),k='\n        <div class="local-hls-msg" style="width: 185px; height: 120px; margin: 4% 0;">\n          <div class="local-hls-content small-content" style="width: 185px; height: 120px">\n            <svg width="36.5" height="25.5" viewBox="0 0 73 51" stroke="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M72.1,2.5 C71.6,1.7,70.8,1,70,0.6 C69.1,0.2,68.2,0,67.2,0 H61.1 H6 C3.9,0,2.1,0.7,0.9,2.5 H0.9 C0.6,3.2,0.2,4,0,4.7 V46.3 C0.2,47.1,0.6,47.8,0.9,48.5 C1.4,49.3,2.1,50,3,50.4 C3.8,50.8,4.8,51,5.7,51 H6.5 H67 C69.1,51,70.9,50.3,72.1,48.5 C72.4,47.8,72.8,47,73,46.3 V4.7 C72.8,3.9,72.5,3.2,72.1,2.5 L72.1,2.5 Z M33,3.9 H40.6 C40.7,4,40.9,4.1,41,4.2 V9.1 H32.5 V6.9 V4.4 C32.5,4.3,32.5,4.2,32.6,4.1 C32.7,4,32.8,3.9,33,3.9 V3.9 Z M12.2,47.1 C12,47.1,11.8,47.2,11.7,47.2 H4.4 C3.9,47.2,3.7,47.1,3.7,46.6 V42 H12.2 L12.2,47.1 Z M12.5,8.7 H12.5 C12.5,8.9,12.3,9.1,12.1,9.2 H4.3 H4.3 C4.2,9.1,4.1,9.1,4,9.1 V4.3 C4.1,4.1,4.2,4,4.4,4 H12.1 C12.2,3.9,12.3,4,12.4,4.1 C12.5,4.2,12.5,4.3,12.5,4.4 C12.5,5.8,12.5,7.3,12.5,8.7 L12.5,8.7 Z M26.5,47.1 C26.3,47.1,26.1,47.2,26,47.2 H18.6 H18.6 C18.5,47.2,18.3,47.2,18.1,47 C18,46.9,18,46.7,18,46.6 V42 L26.5,42 V47.1 L26.5,47.1 Z M26.8,8.6 C26.8,8.8,26.8,8.9,26.7,9 C26.5,9.2,26.4,9.2,26.2,9.2 H18.7 C18.5,9.1,18.3,9,18.2,8.8 V4 C18.5,4,18.7,4,18.8,4 H26.1 V4 C26.3,3.9,26.5,4,26.6,4.1 C26.8,4.2,26.8,4.4,26.8,4.6 C26.8,5.9,26.8,7.3,26.8,8.6 L26.8,8.6 Z M40.7,47.1 C40.5,47.1,40.3,47.2,40.2,47.2 H32.9 C32.4,47.2,32.2,47.1,32.3,46.6 V42.5 C32.3,42.3,32.3,42.2,32.3,42 L40.7,42 L40.7,47.1 Z M41.6,27.4 L33.2,32.6 C31.5,33.7,30.1,32.9,30.1,30.9 V20.1 C30.1,18.1,31.5,17.4,33.2,18.4 L41.6,23.6 C43.3,24.6,43.3,26.4,41.6,27.4 Z M55,46.8 C54.9,47,54.8,47.1,54.6,47.1 H46.9 C46.7,47.1,46.6,47,46.5,46.8 V42 H55 C55,43.7,55,45.3,55,46.8 H55 Z M55.3,8.7 C55.3,8.9,55.3,9.2,54.9,9.2 H46.8 V4 H50.7 H54.8 H54.8 C54.9,3.9,55.1,4,55.2,4.1 C55.3,4.2,55.3,4.3,55.3,4.5 C55.3,5.8,55.3,7.2,55.3,8.7 L55.3,8.7 Z M69.2,47.1 H60.8 V42 H69.2 V47.1 Z M69.5,8.7 C69.5,9,69.5,9.2,69.1,9.2 H61.3 H61.3 C61.2,9.2,61.1,9.1,61,9.1 V4 H61.6 H68.9 C69.1,3.9,69.3,4,69.4,4.1 C69.6,4.2,69.6,4.4,69.5,4.6 C69.5,6,69.5,7.3,69.5,8.7 L69.5,8.7 Z"></path>\n            </svg>\n            <h2 ref="title">'.concat(E,'</h2>\n            <a\n              ref="learnMoreLink"\n              tabIndex="-1"\n              href="https://ipc.articulate.com/slw/360/en/streamingvideolocalplayback"\n              class="learn-more"\n            >\n              <span ref="learnMore" class="learn-more-link">\n                <svg width="10" height="10" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n                  <rect stroke="none" x="9" y="5" width="2" height="2"></rect>\n                  <mask id="path-2-inside-1_955_382">\n                    <path stroke="none" d="M8 8H9H11V9V14H12V15H11H9H8V14H9V9H8V8Z"></path>\n                  </mask>\n                  <path stroke="none" d="M8 8H9H11V9V14H12V15H11H9H8V14H9V9H8V8Z"></path>\n                  <path stroke="none" d="M8 8V7H7V8H8ZM11 8H12V7H11V8ZM11 14H10V15H11V14ZM12 14H13V13H12V14ZM12 15V16H13V15H12ZM8 15H7V16H8V15ZM8 14V13H7V14H8ZM9 14V15H10V14H9ZM9 9H10V8H9V9ZM8 9H7V10H8V9ZM9 7H8V9H9V7ZM9 9H11V7H9V9ZM10 8V9H12V8H10ZM10 9V14H12V9H10ZM12 13H11V15H12V13ZM13 15V14H11V15H13ZM11 16H12V14H11V16ZM11 14H9V16H11V14ZM8 16H9V14H8V16ZM7 14V15H9V14H7ZM9 13H8V15H9V13ZM10 14V9H8V14H10ZM8 10H9V8H8V10ZM7 8V9H9V8H7Z" mask="url(#path-2-inside-1_955_382)"></path>\n                  <circle fill="none" cx="10" cy="10" r="9" stroke-width="2"></circle>\n                </svg>\n                <span>').concat(_,"</span>\n              </span>\n            </a>\n          </div>\n        </div>\n      ");t.mediaVideoPosterEl=document.createElement("div"),t.mediaVideoPosterEl.innerHTML=k,t.panelBodyTopEl.appendChild(t.mediaVideoPosterEl)}else if(null==t.mediaVideoPosterEl){var M=document.querySelector(".panel-video-play-icon-shadow");null==M&&((M=document.createElement("div")).classList.add="panel-video-play-icon-shadow",M.innerHTML='\n    <svg width="0" height="0" style="position:absolute;" focusable="false">\n      <defs>\n        <filter x="-25%" y="-25%" width="150%" height="150%" filterUnits="objectBoundingBox" id="panel-image-shadow">\n          <feOffset dy="2" in="SourceAlpha" result="shadowOffsetOuter1"/>\n          <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>\n          <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"/>\n          <feMerge>\n            <feMergeNode in="shadowMatrixOuter1"/>\n            <feMergeNode in="SourceGraphic"/>\n          </feMerge>\n        </filter>\n      </defs>\n    </svg>\n  ',b(M));var L='\n        <div class="panel-video-poster">\n          <img alt="" draggable="false" style="width:100%;height:100%;" />\n          '.concat((S=G(t),'\n    <svg width="30%" height="30%" viewBox="0 0 56 56" class="panel-video-play" data-ref>\n      <g filter="url(#panel-image-shadow)" transform="translate(4 2)" fill="none" fill-rule="evenodd">\n        <circle fill="'.concat(S||"#007CB2",'" cx="24" cy="24" r="24"/>\n        <path stroke="#FFF" stroke-width="2.8" fill="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M32 24l-13 9V16z"/>\n      </g>\n    </svg>\n  ')),"\n        </div>\n      ");t.mediaVideoPosterEl=document.createElement("div"),t.mediaVideoPosterEl.innerHTML=L,a.deviceView.isPhone&&(t.mediaVideoPosterEl.setAttribute("role","button"),t.mediaVideoPosterEl.setAttribute("tabindex","0"),t.mediaVideoPosterEl.setAttribute("aria-label",l.getPath(t,"data.media.video.posterAltText")||"")),t.mediaVideoPosterEl.style.cursor="pointer",t.mediaVideoPosterEl.querySelector("img").addEventListener("load",V),t.addSelectionBox({targetEl:t.mediaVideoPosterEl,showCallback:function(){return t.mediaVideoPosterEl.style.cursor="pointer"},hideCallback:function(){return t.mediaVideoPosterEl.style.cursor="pointer"},shouldAutoHide:!0,panel:t,showPlaceholder:!1,paddingOffsets:{bottom:-3}}),t.panelBodyTopEl.appendChild(t.mediaVideoPosterEl),t.mediaVideoPosterEl.querySelector("img").src=A}else t.mediaVideoPosterEl.querySelector("img").src=A;var D={count:0,down:!1,tolerance:3};function H(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=t.getSelectionBox(t.mediaVideoPosterEl),c=null!=l&&l.shown;if(!t.pano.editMode||c){if(!i&&D.count>D.tolerance)return D.count=0,void(D.down=!1);if(t.setupMediaModal(y)){var h=document.createElement("div");h.classList.add("three-sixty-image-media-panel-overlay"),r.setStyles(h,{position:"fixed",width:"100%",height:"100%",zIndex:O,top:0,left:0,background:a.deviceView.isMobile?"rgba(0, 0, 0, 0.85)":"transparent"}),b(h),t.overlayEl=h,t.overlayEl.innerHTML=j(t.data.fill,G(t),s,n);var d=document.querySelector("body > .slide-loader");if(null!=d&&(Object.assign(d.style,{display:"block",opacity:1,zIndex:P}),d.classList.add("media-slide-loader"),o(d.children).forEach((function(t){t.style.backgroundColor="white"}))),r.selectAllByRef(t,t.overlayEl),document.removeEventListener(C,t.marker.onReleaseOutsideLabel),R(s)&&window.Hls.isSupported()){var f=t.panelVideoEl;f.hlsPlayer=new window.Hls,f.hlsPlayer.loadSource(s),f.hlsPlayer.attachMedia(f)}t.panelVideoEl.addEventListener("loadedmetadata",(function e(){F(),t.pano.editMode||(t.panelVideoContainerEl.focus(),t.pano.threeSixtyAcc.imageMediaOpen=!0),t.panelVideoPlayerEl.style.opacity=1,null!=d&&Object.assign(d.style,{opacity:0,display:"none"});var i=.75;"low"==n.volume?i=.5:"high"==n.volume?i=1:"mute"==n.volume&&(i=0);var r=DS.appState.currentVolume();t.panelVideoEl.volume=i*r,null!=t.captionsConnector&&t.captionsConnector.initShow(),t.panelVideoEl.currentTime=t.pano.editMode?0:n.currentTime||0,z(t,u,i),u.updateSeek(t.panelVideoEl.currentTime),t.videoOpenedWithAcc||t.panelVideoEl.currentTime==t.panelVideoEl.duration||t.panelVideoEl.play(),t.panelVideoEl.removeEventListener("canplay",e)}))}}else t.showSelectionBox(t.mediaVideoPosterEl,!0)}function V(e){t.updateInteractableElements()}function F(){if(t.overlayEl){var e={w:window.innerWidth,h:window.innerHeight},n=t.panelVideoPlayerEl;n.style.width="".concat(e.w,"px"),n.style.height="".concat(e.h,"px");var i=t.panelVideoEl,r=Math.min(parseFloat(e.w)*I/i.videoWidth,parseFloat(e.h)*I/i.videoHeight),o=t.panelVideoContainerEl;o.style.width="".concat(i.videoWidth*r,"px"),o.style.height="".concat(i.videoHeight*r,"px")}}N(s)||(t.showMedia.set(y,(function(){H({},!0)})),t.mediaVideoPosterEl.addEventListener(T,H),a.os.isAndroid&&t.mediaVideoPosterEl.addEventListener("click",H)),N(s)||(t.mediaVideoPosterEl.addEventListener(C,(function(){D.count=0,D.down=!0})),t.mediaVideoPosterEl.addEventListener(x,(function(){D.down&&D.count++}))),window.addEventListener("resize",F);var B=function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t.pano.editMode||i.cleanup)&&(window.removeEventListener("resize",F),t.hideMediaType(y),t.showMedia.delete(y),t.captionsConnector=null,e=null,null!=t.mediaVideoPosterEl&&(t.mediaVideoPosterEl.removeEventListener(T,H),t.mediaVideoPosterEl.removeEventListener("load",V),t.mediaVideoPosterEl.parentNode.removeChild(t.mediaVideoPosterEl),t.removeSelectionBox(t.mediaVideoPosterEl),t.mediaVideoPosterEl=null),null!=t.overlayEl&&(t.overlayEl.innerHTML=""),c.off(h.slide.WILL_CHANGE,n))};return c.on(h.slide.WILL_CHANGE,B),B}}.call(e,n,e,t),void 0===i||(t.exports=i)},9337:function(t,e,n){"use strict";n.r(e),n.d(e,{LEFT_MOUSE_BUTTON_INDEX:function(){return a},RIGHT_MOUSE_BUTTON_INDEX:function(){return s},adjustVariable:function(){return m},angle:function(){return l},angleDiff:function(){return u},createBoundingBoxEl:function(){return y},getPinchDistance:function(){return c},isButtonContent:function(){return g},isHintContent:function(){return p},isLeftClickOrTouch:function(){return w},isPanelBody:function(){return d},isPanelTitle:function(){return f},isRightClick:function(){return S},isTooltipContent:function(){return v},textureSettings:function(){return h},touchify:function(){return b}});var i=n(118),r=n(7812).math.TWO_PI,o=n(82),a=0,s=2,l=function(t,e,n,i){return Math.atan2(e-i,t-n)},u=function(t,e){for(var n=e-t;n<-Math.PI;)n+=r;for(;n>Math.PI;)n-=r;return n},c=function(t){var e=t.touches;return 1===e.length?1:o.dist(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY)},h=function(t,e,n){t.anisotropy=n,t.minfilter=THREE.LinearMipMapLinearFilter,t.magfilter=THREE.LinearFilter,e.transparent=!0,e.blending=THREE.CustomBlending,e.blendSrc=THREE.OneFactor,e.blendDst=THREE.OneMinusSrcAlphaFactor,e.depthTest=!1,e.depthWrite=!1},d=function(t){return t.classList.contains("panel-body")},f=function(t){return t.classList.contains("panel-title")},p=function(t){return t.classList.contains("hint-content")},v=function(t){return t.classList.contains("tooltip-content")},g=function(t){return t.classList.contains("panel-button-content")},m=function(t,e,n){var r={operator:"set",value:{type:"number",value:e}},o=i.resolvePath(t);null!=o&&o.adjust(r,{context:n.model})},y=function(){var t=document.createElement("div");return t.classList.add("three-sixty-image-bb"),Object.assign(t.style,{position:"absolute",left:0,top:0,width:"30px",height:"30px",border:"none",display:"none"}),t.innerHTML='\n    <div class="box-handle box-handle-tl"></div>\n    <div class="box-handle box-handle-tr"></div>\n    <div class="box-handle box-handle-br"></div>\n    <div class="box-handle box-handle-bl"></div>\n\n\n    <div class="box-handle non-uniform box-handle-l" data-axis="x"></div>\n    <div class="box-handle non-uniform box-handle-t" data-axis="y"></div>\n    <div class="box-handle non-uniform box-handle-r" data-axis="x"></div>\n    <div class="box-handle non-uniform box-handle-b" data-axis="y"></div>\n  ',t},b=function(t,e){var n,i,r=!1;return null!=t.touches&&t.touches.length>0?(n=t.touches[0].clientX,i=t.touches[0].clientY,t.touches.length>1&&(r=!0)):(n=t.clientX,i=t.clientY),null!=e&&null!=e.sceneRect&&(n-=e.sceneRect.left,i-=e.sceneRect.top,n*=window.innerWidth/e.sceneRect.width,i*=window.innerHeight/e.sceneRect.height),{pageX:n,pageY:i,gesture:r}},w=function(t){return null!=t.button&&t.button===a||null!=t.touches&&1===t.touches.length},S=function(t){return null!=t.button&&t.button===s}},7536:function(t,e,n){"use strict";n.r(e),n.d(e,{MOVE_THRESHOLD:function(){return a},PAD_SCALE:function(){return i},Z_INDEX_MID:function(){return r},Z_INDEX_TOP:function(){return o}});var i=.8,r=9998,o=99999,a=10},5505:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i,r,o,a,s,l=n(8579),u=l.device,c=u.isMobile,h=u.isTablet,d=l.os.isAndroid;return c?(e="touchend",i="touchstart",r="touchstart",o="touchmove",a="touchend",s="touchend"):(e="click",i="mousedown",r="mouseenter",o="mousemove",a="mouseup",s="mouseleave"),Object.freeze({clickOrTap:function(t,n){d?(t.addEventListener("click",n),h&&t.addEventListener(e,n)):t.addEventListener(e,n)},clickOrTouchEnd:e,downOrTouchStart:i,enterOrTouchStart:r,moveOrTouchMove:o,upOrTouchEnd:a,leaveOrTouchEnd:s})}.call(e,n,e,t))||(t.exports=i)},82:function(t,e,n){var i;i=function(t){"use strict";var e=n(6486),i=n(5626),r=n(7812),o=n(8579),a=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,s=function(t,e){var n=S.slice(e);return n.unshift(t),i.formatSrcUrl(n.join("/"))},l=function(t){var n=e.tail(arguments);return function(){var i=e.toArray(arguments);return n[t]((function(t){return t.apply(null,i)}))}},u=function(t){return t+"."},c=function(t,e){return e.replace(t,"")},h=function(t,e){return t===e},d=function(t,e){return e.charAt(0)[t]()+e.slice(1)},f=function(t,e){return[t,e,t].join("")},p=function(t,n,i){if(null==t||null==n)return i;if(0===n.length)return null!=t?t:i;var r,o,a=e.first(n),s=e.tail(n),l=e.isString(a),u=l&&"$"===a.charAt(0)?"prop":"get";return l&&a.indexOf("[")>-1&&(r=a.split("["),s.unshift(parseInt(r[1])),a=e.first(r)),a=null!=t[a]&&e.isFunction(t[a])?t[a]():null!=t[a]?t[a]:t[u]&&t[u]((o=a,"get"===u?o:o.slice(1))),p(a,s,i)},v=["","webkit","moz","ms"].find((function(t){return null!=document[e.camelCase("".concat(t,"ExitFullscreen"))]})),g={supported:null!=v,exit:e.camelCase("".concat(v,"ExitFullscreen")),request:e.camelCase("".concat(v,"RequestFullscreen")),element:e.camelCase("".concat(v,"FullscreenElement")),change:"".concat(v,"fullscreenchange")},m=new Map,y=o.device.isDesktop&&o.env.isXOriginIframe&&!o.browser.isFF&&!o.os.isMac,b=function(t){return"{"===t.charAt(0)&&(t=JSON.parse(t)),t},w=function(t){return t.split("=").map(decodeURIComponent).map(b)},S={keys:{DASH:189,PERIOD:190,DELETE:8,ENTER:13},getPath:function(t,n,i){return p(t,e.isString(n)?n.split("."):n,i)},fix:function(t,e){return+t.toFixed(null!=e?e:5)},toSeconds:function(t){return t/1e3},toMilliseconds:function(t){return S.fix(1e3*t,0)},formatSecondsAsTime:function(t,e){var n,i=Math.floor(t/3600),r=Math.floor((t-3600*i)/60),o=Math.floor(t-3600*i-60*r),a=function(t){return t<10?"0"+t:t};if(n=[r=a(r),o=a(o)],i>=1)n.unshift(i);else if(e){var s=n.join(":");return'<span class="transparent no-wid">00:</span>'.concat(s)}return n.join(":")},hexify:function(t){return"#"+t.replace(/0x|#/,"")},opacify:function(t){return t/100},rgbify:function(t,e){var n=this.hexify(t).replace("#",""),i=parseInt(n,16),r=[i>>16&255,i>>8&255,255&i],o=null!=e,a="rgb"+(o?"a":"");return o&&r.push(e),[a,"(",r.join(","),")"].join("")},toRgba:function(t,e){return S.rgbify(t,S.opacify(e))},octToDec:function(t){return t/255},decToPct:function(t,e){var n=S.fix(100*t);return e?n+"%":n},stopPct:function(t){return S.decToPct(S.octToDec(t))},pctToDec:function(t,e){return S.fix(parseFloat(t)/100,e)},add:function(t,e){return(t||0)+(e||0)},sum:function(){return e.reduce(arguments,S.add,0)},upperCaseFirst:e.partial(d,"toUpperCase"),lowerCaseFirst:e.partial(d,"toLowerCase"),slice:e.bind(Array.prototype.slice.call,Array.prototype.slice),resolveAssetUrl:function(){return s(r.PRESENTATION_URL,arguments)},resolveDataUrl:function(){return s(r.PRESENTATION_DATA_URL,arguments)+".js"},clamp:function(t,e,n){return Math.max(Math.min(n,e),t)},areOverlapping:function(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top},getRectIntersection:function(t,e){var n=Math.max(t.top,e.top),i=Math.min(t.bottom,e.bottom),r=Math.max(t.left,e.left),o=Math.min(t.right,e.right);return S.areOverlapping(t,e)&&{top:n,left:r,bottom:i,right:o,width:o-r,height:i-n}},isWithinRange:function(t,e,n){return n>=t&&n<=e},hasProp:function(t,e){if(null==t)return!1;for(var n,i=t,r=e.split(".");n=r.shift();){if(null==i[n])return!1;i=i[n]}return!0},not:function(t){return function(){return!t.apply(this,arguments)}},take:function(t,n,i){return function(){return n.apply(i,e.take(arguments,t))}},invertPercent:function(t){return 1-t},andify:e.partial(l,"every"),orify:e.partial(l,"some"),is:h,isTrue:e.partial(h,!0),isFalse:e.partial(h,!1),alwaysTrue:function(){return!0},alwaysFalse:function(){return!1},buildDataStructure:function(t,e,n){return new t(n,e)},createSuper:function(t){return function(e){return t.prototype[e]}},cloneDeeply:function(t){return JSON.parse(JSON.stringify(t))},buildEventNamespace:function(t){return".ds"+(t||"")},namespaceEvent:function(t,e){return t+S.buildEventNamespace(e)},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},hypot:function(t,e){return Math.sqrt(t*t+e*e)},dist:function(t,e,n,i){var r=t-n,o=e-i;return this.hypot(r,o)},degToRad:function(t){return t*r.math.TO_RADIANS},radToDeg:function(t){return t*r.math.TO_DEGREES},normalizeDeg:function(t){for(var e=t;e<0;)e+=360;return e%360},stripTags:function(t,n,i){var r=document.createElement("div"),o=i?["<",i,">"].join(""):"",a=o.replace("<","</");return r.innerHTML=t,n?e(r.querySelectorAll(n)).map((function(t){return[o,t.innerHTML,a].join("")})).join(""):r.textContent},stripTagsMobile:function(t,e,n){return o.deviceView.isClassicMobile?S.stripTags(t,e,n):t},decodeHtml:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value},camelCaseAttr:function(t,e){return(t=e?t:t.toLowerCase()).replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))},stripPlayer:e.partial(c,u(r.refs.PLAYER)),stripChoice:e.partial(c,u(r.refs.CHOICES)),stripStatement:e.partial(c,u(r.refs.STMTS)),prefixWithPlayer:function(t){return r.refs.PLAYER+"."+S.stripPlayer(t)},parseParams:function(t){return t=t||window.location.search.substr(1),e.fromPairs(t.split("&").map((function(t){return t.split("=")})))},applyMethod:function(t,n){var i=e.slice(arguments,2);return n=e.isArray(n)?n:[n],i.unshift(n,t),e.invokeMap.apply(e,i)},pxify:function(t){return[t,"px"].join("")},ptify:function(t){return[t,"pt"].join("")},shallowEqual:function(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0},doubleQuote:e.partial(f,'"'),quote:e.partial(f,"'"),toCssUrl:function(t){return["url(",this.quote(t),")"].join("")},getWindowSearch:function(){return window.location.search.replace(/^\?/,"")},queryStringToObj:function(){var t;return t=this.getWindowSearch().split("&"),e.fromPairs(t.map(w))},rotatePoint:function(t,e,n,i,r){r=S.degToRad(r);var o=t-n,a=e-i,s=Math.cos(r),l=Math.sin(r);return{x:s*o-l*a+n,y:l*o+s*a+i}},pointInRect:function(t,e,n){var i=n[0][0],r=n[0][1],o=n[1][0],a=n[1][1];return t>=i&&t<=o&&e>=r&&e<=a},showTimer:function(t,n){e(t.refs).pickBy((function(t,e){return 0===e.indexOf("timer")&&t!==n})).forOwn((function(t){t.onHide()}))},dateToString:function(t){if(null==t)return"";return[["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ",t.getDate(),", ",t.getFullYear()].join("")},timeToString:function(t){if(null==t)return"";var e=t.getHours(),n=t.getMinutes(),i="am";return n<10&&(n="0"+n),e>12&&(e-=12,i="pm"),[e,":",n," ",i].join("")},parseUrl:function(t){var n=document.createElement("a");return n.href=t,e.pick(n,["protocol","hostname","port","pathname","search","hash","host"])},isRtlText:function(t){return a.test(t)},ellipsize:function(t,e){return null==t||t.length<=e?t:[t.substr(0,e),"…"].join("")},generateHash:function(t){var e,n=0,i=t.length;for(e=0;e<i;e++)n=31*n+t.charCodeAt(e),n|=0;return n},multiply:e.curry((function(t,e){return t*e})),juxt:function(t){return function(){var e=arguments;return t.map((function(t){return t.apply(null,e)}))}},fullScreen:{isSupported:function(){return g.supported},addChangeListener:function(t){return document.addEventListener(g.change,t),m.set(t,t),function(){m.delete(t),document.removeEventListener(g.change,t)}},getEl:function(){return document[g.element]},request:function(t){var e,n,i,r,a,s,l=document[g.element];if(null!=l||!y||(e=window.screen,n=e.width,i=e.height,r=window,a=r.outerWidth,s=r.outerHeight,n!==a||i!==s))if(o.browser.isSafari&&null!=l&&t!==l)document[g.exit]();else{var u=function(){return m.forEach((function(t){return t()}))},c=t[g.request]();null!=c?c.catch(u):window.requestAnimationFrame((function(){document[g.element]!==t&&u()}))}},exit:function(){null!=document[g.element]&&document[g.exit]()}}};return S}.call(e,n,e,t),void 0===i||(t.exports=i)},6194:function(t,e,n){var i;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}void 0===(i=function(t){"use strict";var e=n(6486),i=n(3707),o=n(8579),a=n(8880),s=n(7097),l=n(6882),u=n(8766),c=n(1681),h=n(4811),d=n(82),f=n(9032),p=(n(9229),/[\r\n\t]|  +/g),v=o.browser.isIE&&!o.browser.isEdge,g={transformZ:"",feDropShadow:!0,tspanFilters:!0},m=function(t){t.style.display="inline-block",o.browser.isSafariMac&&(t.style.willChange=""),t.style.display="",o.browser.isSafariMac&&(t.style.willChange="contents")};o.browser.isWebKit&&(g.forceSingleRepaint=function(t){m(t)},g.forceRepaint=function(t,e){return i.to(t,e,{onUpdate:function(){m(t)},onComplete:function(){m(t)}})},g.fixTspan=function(t){var n=d.getPath(t,"x","").split(" ").length;return e.isString(t.y)||(t.y=e.times(n,e.constant(t.y)).join(" ")),t},g.handleWillChange=function(t){t.willChange="opacity"}),o.browser.isChrome&&(g.handleWillChange=function(t){t.willChange=""}),v&&(g.getDxAdjustment=function(t){return t.runs.reduce((function(t,n){return t+n.spans.reduce((function(t,n){return t+e.sum(n.dx)}),0)}),0)/2},g.fixFontFallbacks=function(t){t.splice(1,0,'"not a font name"')}),g.fixStyleString=v?function(t){return t.replace(p,"")}:function(t){return t},o.browser.isIE&&(g.tspanFilters=!1,g.feDropShadow=!1,g.forceSingleRepaint=function(t){m(t)},l.patchEvents(),g.mouseOver=function(){return"mouseover"},g.elementsFromPoint=function(t,n,i){return e(document.msElementsFromPoint(t,n)).filter(i).value()},g.forceLayoutLtr=function(t){t.direction="ltr",t.unicodeBidi="bidi-override"},g.removeCharPositions=function(t){return s.isTspanNode(t)&&(t.x=[e.first(t.x.split(" "))]),t},g.stopColorProps=function(t){return{stopColor:d.toRgba(t.rgb,t.alpha)}});return o.os.isIosPhoneBefore10&&(g.buildCaptionTracks=function(t,e){u.hasCaptions(e)&&function(t,e){var n,i;null!=e&&e.length>0&&((n=t.addTextTrack("captions",c.getString("closed_captions"),"")).mode=u.isCaptionEnabled()?"showing":"hidden",e.forEach((function(t){(i=new window.VTTCue(t.startTime,t.endTime,t.text.cueSource)).line=12,n.addCue(i)})))}(t,u.getCaptions(e))},g.onCaptionsEnabled=function(t){f.on(a.captions.ENABLE,t)},g.offCaptionsEnabled=function(t){f.off(a.captions.ENABLE,t)}),o.os.isAndroid&&(g.getAudioInitEvent=function(){return"click"}),o.os.isIOS&&(g.transformZ=" translateZ(0)",g.destroyAudioContext=e.noop,g.detectVisibilityChange=function(){var t,e=(new Date).getTime(),n=!1,i=!1;setInterval((function(){var r=(new Date).getTime(),o=r-e,s=n;e=r,n=o>=900,!s&&n?t=r:s&&n&&!i&&r-t>=2e3?(i=!0,f.trigger(a.detection.VISIBILITY_HIDDEN)):s&&!n&&(i=!1,f.trigger(a.detection.VISIBILITY_SHOWN))}),500)},g.onOpenWindow=function(t,e,n){var i=d.getPath(e,"eventType"),r=d.getPath(e,"context.currView.el");"onpress"===i&&null!=r?r.addEventListener("touchend",(function t(){n(),r.removeEventListener("touchend",t)})):n()},g.handleWillChange=function(t){t.willChange="unset"},o.browser.isUIWebView&&(g.registerAudioInitEvent=function(t,e,n,i){if(i.props.model.isKind("button"))return[{teardown:t(e,"click",(function(){return!0}),n)}]},g.getAudioInitEvent=function(){return"click"})),o.browser.isFF,(o.browser.isChrome||o.device.isMobile||o.browser.isSafariMac)&&(g.transformZ=" translateZ(0)"),g.moveHtmlTextOutOfSvg=function(t){var n=[],i=function(t){return"variableText"===t.nodeType||"accessibleText"===t.nodeType},r=function(t){return n=n.concat(function(t){return e.remove(t.children,i)}(t)),t};return r.afterFinish=function(t){if(0===n.length)return t;var e={nodeType:"div",className:"textlib-wrapper"};return e.children=n.slice(),e.children.push(t),e},s.transformNodeConfig(r,t)},g.unwrapForeignObjectVarText=function(t){return t.children[0]},null==document.fonts&&(g.loadFonts=function(t,n){return h.when.apply(h,r(t.map((function(t){var i=h.Deferred(),r=Date.now(),o=e.times(3,(function(){var t=document.createElement("div");return e.extend(t.style,{display:"inline-block",fontSize:"40px",left:0,pointerEvents:"none",posistion:"absolute",top:0,visibility:"hidden",whiteSpace:"nowrap"}),t.setAttribute("aria-hidden","true"),t.innerText="BESbswy",document.body.appendChild(t),t}));o[0].style.fontFamily="".concat(t.name,", serif"),o[1].style.fontFamily="".concat(t.name,", sans-serif"),o[2].style.fontFamily="".concat(t.name,", monospace");return function n(){e.uniq(o.map(e.property("offsetWidth"))).length<=2?i.resolve():Date.now()-r>=1e3?i.reject('Timed out loading "'.concat(t.name,'"')):setTimeout(n,50)}(),i.promise().always((function(){o.forEach((function(t){null!=t.parentNode&&t.parentNode.removeChild(t)}))})).catch(n("loadFonts"))}))))}),g}.call(e,n,e,t))||(t.exports=i)},4811:function(t,e,n){var i;i=function(t){"use strict";var e=n(6486),i=n(9140),r=n(82),o="pending",a="resolved",s="rejected",l=function(t,e){return e.state()===t},u={Deferred:function(){return new i},when:function(){var t=r.slice(arguments),e=new i,n=t.length;return t.forEach((function(t){t.then((function(){0==--n&&e.resolve()})).catch((function(){--n>=0&&(e.reject(),n=0)}))})),e.promise()},after:function(){var t=new i,e=r.slice(arguments),n=[],o=function(i){n.push(i),e.length===n.length&&t.resolve.apply(t,e)};return e.length?e.forEach((function(t){t.always((function(){o(t)}))})):t.resolve(),t.promise()},isPending:e.partial(l,o),isResolved:e.partial(l,a),isRejected:e.partial(l,s),promiseToVow:function(t){var e=u.Deferred();return t.then(e.resolve).catch(e.reject),e.promise()}};return u}.call(e,n,e,t),void 0===i||(t.exports=i)},7235:function(t,e,n){var i;i=function(t){"use strict";var e,i,r=n(6486),o=n(9229),a=n(8579),s=n(82),l=n(8939),u=n(8880),c=n(9032),h=n(4811),d=n(5173),f=h.Deferred(),p=l.throwError("webObjectHelper"),v=!1;c.once(u.data.INITIALIZED,(function(){v=!0})),f.catch((function(t){return t}));var g={setVolume:function(t){o.setVolume(t)},executeFilteredPlayerEvent:function(t){if(!v)throw new Error("data is not yet initialized");e.executeFilteredPlayerEvent(m(t),"onhostevent")}},m=function(t){return function(e){return e.eventname===t||e.eventName===t}},y=function(){return f.then((function(){return i.request("getResumeData").then((function(t){return t})).catch(p.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))}))},b={initialize:function(t){e=t,a.env.isWebObject?((i=new d(g,s.queryStringToObj().id)).ready().then(f.resolve),i.connect(window.parent)):f.reject()},tearDown:function(){null!=i&&i.tearDown()},triggerHostEvent:function(t){if(void 0===i)throw Error("triggerHostEvent - postMessaging has not been initialized");return i.request("triggerHostEvent",t)},getResumer:function(t){return r.extend({},t,{getItem:y,setItem:function(e,n){return function(t){i.request("setResumeData",t).catch(p.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))}(n),t.setItem.apply(t,arguments)}})}};return b}.call(e,n,e,t),void 0===i||(t.exports=i)},520:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i,r=n(6486),o=n(82),a=n(7812),s=n(5485),l=n(4427),u=n(6159),c=n(6334),h=n(8880),d=n(9032),f=n(9229),p=n(9447),v=n(8939),g=n(1419),m=n(3563),y=v.warn("windowManager"),b=function(t){return null!=t&&t.includes("MessageWnd")},w=function(t){return null!=t&&t.includes("Lightbox")},S="_current",A="PrintWindow",E=r.extend({subscriptions:(i={},i[h.window.CLOSING]="onCloseWindowById",i[h.request.NEXT_SLIDE]="onRequestingNextSlide",i[h.request.PREV_SLIDE]="onRequestingPrevSlide",i[h.request.NEXT_DRAW_SLIDE]="onRequestingNextDrawSlide",i[h.request.PREV_HISTORY_GROUP]="onRequestingPrevHistoryGroup",i[h.window.STACKING_CHANGED]="onTopMostWindowChanged",i),initialize:function(){e=DS.presentation.display(),this.addSubscriptions(),this.windows=[],this.windows.push(this.getOrCreateWindow(a.refs.FRAME)),l.setWindowManager(this),d.trigger(h.window.MAIN_CREATED,this.getMainWindow()),m.setWindowManager(this)},getCurrentWindow:function(){return r.last(this.windows)},getCurrentWindowId:function(){return E.getCurrentWindow().getId()},getMainWindow:function(){return r.first(this.windows)},getMainWindowSlide:function(){var t=this.getMainWindow();return o.getPath(t,"state.currentSlide")},getCurrentWindowSlide:function(){var t=this.getCurrentWindow();return t&&t.state.currentSlide},removeWindow:function(t){return this.windows=r.without(this.windows,t),this},removeAllButMainWindow:function(){this.windows.forEach((function(t){var e=t.getId();e!==a.refs.FRAME&&d.trigger(h.window.CLOSING,e)}))},addWindow:function(t){return this.removeWindow(t),this.windows.push(t),this},getOrCreateWindow:function(t,n){var i=this.getCurrentWindow();t=t===S?i.getId():t;var r=this.findWindowById(t);if(r)return r!==i&&r.frame.moveToTop(),r;if(i){var o=i.getCurrentSlide();o&&o.onPauseTimeline()}var s,l=DS.frame.createWindow(t),u={id:t,model:e.getWindowById(t),isMainWindow:t===a.refs.FRAME,lightboxed:w(t),skipResume:t===A,hasControls:(s=t,null!=s&&s.includes("Controls")),onPinchZoom:l.onPinchZoom,getPinchZoomBounds:l.getPinchZoomBounds,getWinScale:l.getWinScale},c=DS.renderEngine.createWindowFor(l.el,b(t),u,l.captionEl);return c.frame=l,c},findWindowById:function(t){return t===S||null==t?this.getCurrentWindow():this.windows.find((function(e){return e.getId()===t}))},isLightBoxActive:function(){return this.getCurrentWindow()!==this.getMainWindow()},moveSlideToOtherWindow:function(t,e){var n=e.props.model.windowId;t.replaceSlideWith(e);var i=function(e){var r=this.findWindowById(n);e===t&&(null!=r&&r.rebuildCurSlide(),d.off(h.window.CLOSED,i))}.bind(this);return d.on(h.window.CLOSED,i),this},isMultiWindowSlide:function(t){return r.initial(this.windows).some((function(e){return(e.getCurrentSlide()||{}).absoluteId===t.absoluteId}))},onMainWindowCreated:function(t){this.addWindow(t),l.setWindowManager(this)},onCloseWindowById:function(t){var e,n,i=this.findWindowById(t);i&&(i.el&&(e=i.el.parentNode)&&(e.classList.remove("opaque"),DS.renderEngine.closeWindow(e,i.frame.captionEl),i.frame.close()),this.removeWindow(i),i.getId()!==A&&d.trigger(h.window.CLOSED,i),null!=(n=this.getCurrentWindowSlide())&&(n.onPlayTimeline(),d.trigger(h.slide.STARTED,n.absoluteId,n,this.getCurrentWindowId())),this.updatePrevHistoryVar(),l.savePresentationData())},onTopMostWindowChanged:function(t){this.topMostWindow=t,this.trigger(h.windowManager.TOP_MOST_CHANGED)},getTopMostWindowId:function(){return this.topMostWindow},loadSlide:function(t,e,n){var i=this;DS.connection.useConnectionMessages&&(DS.connection.lastSlideLoaded=function(){return E.loadSlide(t,e,n)});var a=r.isString(t)?t:t.absoluteId,s=p.loadSlide(t,this.getCurrentWindowSlide());return g.multiLangSupport?s.then((function(t){e.call(i,t[0])})):s.then(e.bind(this)),this.getCurrentWindowId()!==A&&d.trigger(h.slide.HAS_CHANGED,o.stripPlayer(a),n),s},onRequestingPrevSlide:function(){var t=this.getCurrentWindow().getPrevSlide();null!=t&&this.onRequestingSlide(t.absoluteId,null,"pop")},onRequestingPrevHistoryGroup:function(){var t=this.getCurrentWindow().getPrevHistoryGroup();null!=t&&this.onRequestingSlide(t.absoluteId,null,"popGroup")},onRequestingNextDrawSlide:function(){var t,e=this.getCurrentWindowSlide(),n=e.getSlideDraw();n&&((t=n.getNextSlideId(e))?this.onRequestingNextSlide(t):n.performExitAction())},onRequestingNextSlide:function(t,e){var n=this.getCurrentWindowSlide();n||(t=t||p.getEntrypoint()),t?this.onRequestingSlide(t,e,"push"):n.executePlayerEvent("onnextslide")},isNewLightBox:function(t,e){return null!=t&&!(b(t)||!w(t)||t===e.displayName)},getLoadedSlideIds:function(){return null==this.windows?null:this.windows.filter((function(t){return null!=t.state.currentSlide})).map((function(t){return t.state.currentSlide.id}))},onRequestingSlide:function(t,n,i){var r,a,s,u,c=this,f=this.getCurrentWindowSlide(),g=this.getCurrentWindow(),m=this.isNewLightBox(n,g);if(null!=g&&g.forceTransition(),null==(u=p.getSlide(t,this.getCurrentWindowSlide()))){if(e.parent.isPreview())return void d.trigger(h.preview.NOTIFY,"PREVIEW_SLIDE_MISSING");y("onRequestingSlide","could not resolve slide",v.backtick(t),"so defaulting to entry point"),u=p.getSlide(p.getEntrypoint())}if((s=null!=f&&f.absoluteId===u.absoluteId||o.getPath(this.findWindowById(n),"getCurrentSlide")===u)&&!m)u.restart();else{if(null!=f&&!function(t,e,n){var i,r={_ActTargetSlideId:e.absoluteId,_ActTargetSlideShortId:e.id,_ActTargetSlideNavIndex:DS.utils.getPath(e,"navIndex")};return t.executePlayerEvent("onbeforeslidejump",r),(i=!r.cancel)&&(r.context=DS.presentation,DS.pubSub.trigger(DS.events.presentation.ON_BEFORE_SLIDE_JUMP,r),i=!r.cancel),i&&d.trigger(h.slide.WILL_CHANGE,t,e,n),i}(f,u,m||b(n)))return;if(null!=f&&!f.slideReady)return this.findWindowById(n)===this.getCurrentWindow()&&(f.destroyed=!0),void d.once(h.slide.READY,(function(){c.onRequestingSlide(t,n,i)}));r=this.getOrCreateWindow(n||S,u),this.addWindow(r),a=this.loadSlide(u,(function(t){c.updateWindowHistory(r,"push"===i?t:null,"popGroup"===i)})),s&&m&&d.trigger(h.loader.HIDE),r.setSlideLoading(a),null!=f&&r!==g&&(null!=f.currView&&(f.lastFocusedItem=f.currView.getCurrentShadowFocus()),a.then((function(){l.savePresentationData()})))}},requestSlideForReview:function(t,e){var n=this,i=this.getCurrentWindowSlide(),r=this.findWindowById(e),o=this.getCurrentWindow(),a=this.isNewLightBox(e,o),s=i===t||r.getCurrentSlide()===t;return null!=o&&o.forceTransition(),new Promise((function(t){null==i||i.slideReady?t():(r===n.getCurrentWindow()&&(i.destroyed=!0),d.once(h.slide.READY,(function(){t()})))})).then((function(){return new Promise((function(r){var u=n.getOrCreateWindow(e||S,t);n.addWindow(u);var c=n.loadSlide(t,(function(t){n.updateWindowHistory(u,t,!1)}));s&&a&&d.trigger(h.loader.HIDE),u.setSlideLoading(c),null!=i&&u!==o&&(null!=i.currView&&(i.lastFocusedItem=i.currView.getCurrentShadowFocus()),c.then((function(){l.savePresentationData()}))),c.then((function(){r()}))}))}))},updateWindowHistory:function(t,e,n){var i,r=!!e;i=null!=(e=e||t[n?"getPrevHistoryGroup":"getPrevSlide"]())&&this.isMultiWindowSlide(e)&&null!==e.currView,t.prepareToUpdateSlide(i),r?t.pushHistory(e):t[n?"popHistoryGroup":"popHistory"](),this.updatePrevHistoryVar(),i&&(e.onPlayTimeline(),this.moveSlideToOtherWindow(t,e.currView))},updatePrevHistoryVar:function(){DS.presentation.playerVars().variables().get("hasPrevHistory").value(null!=this.getCurrentWindow().getPrevSlide())},getResumeData:function(){return this.windows.reduce((function(t,e){return o.getPath(e,"props.skipResume")?t:t+u.create(e.getResumeData())}),"")},setResumeData:function(t){var e=new u({fullString:t}),n=e.encodedString();for(this.resumeWindowQueue=[];n.length;)this.setWindowAndHistory(n),n=(e=e.reChunk()).encodedString()},setWindowAndHistory:function(t){var e=new u({fullString:t}),n=e.getUnsignedValue(),i=this.resolveSlideFromResumeData(e.remainder()),r=new u({fullString:i.data}),o=this.createSlideHistoryArray(r.encodedString());0===o.length&&o.push(i.slide),this.restoreOrQueueWindow(n,o)},restoreOrQueueWindow:function(t,e){this.restoringWindow?this.resumeWindowQueue.push({idx:t,history:e}):(this.restoringWindow=!0,this.setLoadedWindow(t,e))},setLoadedWindow:function(t,e){var n=this.getWindowFromIndex(t,e),i=e.pop(),r=this.loadSlide(i.absoluteId,(function(t){var i;n.setPreviousHistory(e),this.updateWindowHistory(n,t),this.restoringWindow=this.resumeWindowQueue.length>0,this.restoringWindow&&(t.pauseForResume=!0,i=this.resumeWindowQueue.shift(),this.setLoadedWindow(i.idx,i.history))}));n.setSlideLoading(r)},getWindowFromIndex:function(t,n){var i,r;return 0===t?i=this.getMainWindow():(r=e.windows().at(t-1).id,i=this.getOrCreateWindow(r),this.addWindow(i)),i},createSlideHistoryArray:function(t){for(var e,n=[];t.length;)e=this.resolveSlideFromResumeData(t),n.push(e.slide),t=e.data;return n},resolveSlideFromResumeData:function(t){return this["1"===t.charAt(0)?"getDrawFromResumeData":"getSlideFromResumeData"](t.slice(1))},getSlideFromResumeData:function(t){var e=new u({fullString:t}),n=e.reChunk(),i=e.getUnsignedValue(),r=n.getUnsignedValue();return{slide:p.getSlideFromIndices(r,i),data:n.remainder()}},getDrawFromResumeData:function(t){var e=new u({fullString:t}),n=e.reChunk(),i=n.reChunk(),r=e.getUnsignedValue(),o=n.getUnsignedValue(),a=i.getUnsignedValue();return{slide:p.getDrawFromIndices(a,o,r),data:i.remainder()}}},s.Events,c);return E.PRINT_WINDOW=A,f.windowManager=E,E}.call(e,n,e,t))||(t.exports=i)},7300:function(t,e,n){var i;void 0===(i=function(t){"use strict";var e,i=n(6486),r=(n(5485),n(8880)),o=n(9032),a=n(6194),s=n(7812);return i.extend({initialize:function(t){e=t,o.on(r.window.OPEN_EXTERNAL,this.onOpenWindow.bind(this))},onOpenWindow:function(t,e){var n=this.openWindowByAction.bind(this,t),i=n;null!=a.onOpenWindow&&(i=a.onOpenWindow.bind(a,t,e,n)),i()},openWindowByAction:function(t){var e={},n=t.windowsize,i="open_video"===t.kind;switch(n){case"fullscreen":e.width=window.screen.availWidth,e.height=window.screen.availHeight;break;case"custom":e.width=t.width,e.height=t.height}t.usedefaultcontrols||"default"===n||(e.status=+t.status,e.toolbar=+t.toolbar,e.location=+t.location,e.menubar=+t.menubar,e.scrollbars=+t.scrollbars,e.resizable=+t.resizable),this.open({url:i?s.STORY_CONTENT_URL+t.url:t.url,window:t.window,specs:e,previewNotification:i?"PREVIEW_OPEN_VIDEO":"PREVIEW_OPEN_URL"})},open:function(t){var n,a={previewNotification:"PREVIEW_OPEN_URL",specs:{},window:"_blank"};i.extend(a,t),e.isPreview()?o.trigger(r.preview.NOTIFY,a.previewNotification):window.open(a.url,a.window,(n=a.specs,i.toPairs(n).map((function(t){return t.join("=")})).join(", ")))}})}.call(e,n,e,t))||(t.exports=i)},8087:function(t,e,n){!function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return r(e[a][1][t]||t)}),u,u.exports,t,e,n,i)}return n[a].exports}for(var o=void 0,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,i){(function(e){"use strict";function n(t,e,n){t[e]||Object[i](t,e,{writable:!0,configurable:!0,value:n})}if(t(327),t(328),t(2),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var i="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(t){[][t]&&n(Array,t,Function.call.bind([][t]))}))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,327:327,328:328}],2:[function(t,e,n){t(130),e.exports=t(23).RegExp.escape},{130:130,23:23}],3:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],4:[function(t,e,n){var i=t(18);e.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},{18:18}],5:[function(t,e,n){var i=t(128)("unscopables"),r=Array.prototype;null==r[i]&&t(42)(r,i,{}),e.exports=function(t){r[i][t]=!0}},{128:128,42:42}],6:[function(t,e,n){e.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},{}],7:[function(t,e,n){var i=t(51);e.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},{51:51}],8:[function(t,e,n){"use strict";var i=t(119),r=t(114),o=t(118);e.exports=[].copyWithin||function(t,e){var n=i(this),a=o(n.length),s=r(t,a),l=r(e,a),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?a:r(u,a))-l,a-s),h=1;for(l<s&&s<l+c&&(h=-1,l+=c-1,s+=c-1);c-- >0;)l in n?n[s]=n[l]:delete n[s],s+=h,l+=h;return n}},{114:114,118:118,119:119}],9:[function(t,e,n){"use strict";var i=t(119),r=t(114),o=t(118);e.exports=function(t){for(var e=i(this),n=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);u>s;)e[s++]=t;return e}},{114:114,118:118,119:119}],10:[function(t,e,n){var i=t(39);e.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},{39:39}],11:[function(t,e,n){var i=t(117),r=t(118),o=t(114);e.exports=function(t){return function(e,n,a){var s,l=i(e),u=r(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},{114:114,117:117,118:118}],12:[function(t,e,n){var i=t(25),r=t(47),o=t(119),a=t(118),s=t(15);e.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,h=6==t,d=5==t||h,f=e||s;return function(e,s,p){for(var v,g,m=o(e),y=r(m),b=i(s,p,3),w=a(y.length),S=0,A=n?f(e,w):l?f(e,0):void 0;w>S;S++)if((d||S in y)&&(g=b(v=y[S],S,m),t))if(n)A[S]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:A.push(v)}else if(c)return!1;return h?-1:u||c?c:A}}},{118:118,119:119,15:15,25:25,47:47}],13:[function(t,e,n){var i=t(3),r=t(119),o=t(47),a=t(118);e.exports=function(t,e,n,s,l){i(e);var u=r(t),c=o(u),h=a(u.length),d=l?h-1:0,f=l?-1:1;if(n<2)for(;;){if(d in c){s=c[d],d+=f;break}if(d+=f,l?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:h>d;d+=f)d in c&&(s=e(s,c[d],d,u));return s}},{118:118,119:119,3:3,47:47}],14:[function(t,e,n){var i=t(51),r=t(49),o=t(128)("species");e.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},{128:128,49:49,51:51}],15:[function(t,e,n){var i=t(14);e.exports=function(t,e){return new(i(t))(e)}},{14:14}],16:[function(t,e,n){"use strict";var i=t(3),r=t(51),o=t(46),a=[].slice,s={},l=function(t,e,n){if(!(e in s)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";s[e]=Function("F,a","return new F("+i.join(",")+")")}return s[e](t,n)};e.exports=Function.bind||function(t){var e=i(this),n=a.call(arguments,1),s=function(){var i=n.concat(a.call(arguments));return this instanceof s?l(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(s.prototype=e.prototype),s}},{3:3,46:46,51:51}],17:[function(t,e,n){var i=t(18),r=t(128)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},{128:128,18:18}],18:[function(t,e,n){var i={}.toString;e.exports=function(t){return i.call(t).slice(8,-1)}},{}],19:[function(t,e,n){"use strict";var i=t(72).f,r=t(71),o=t(93),a=t(25),s=t(6),l=t(39),u=t(55),c=t(57),h=t(100),d=t(29),f=t(66).fastKey,p=t(125),v=d?"_s":"size",g=function(t,e){var n,i=f(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};e.exports={getConstructor:function(t,e,n,u){var c=t((function(t,i){s(t,c,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[v]=0,null!=i&&l(i,n,t[u],t)}));return o(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),i=g(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[v]--}return!!i},forEach:function(t){p(this,e);for(var n,i=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(p(this,e),t)}}),d&&i(c.prototype,"size",{get:function(){return p(this,e)[v]}}),c},def:function(t,e,n){var i,r,o=g(t,e);return o?o.v=n:(t._l=o={i:r=f(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[v]++,"F"!==r&&(t._i[r]=o)),t},getEntry:g,setStrong:function(t,e,n){u(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?c(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,c(1))}),n?"entries":"values",!n,!0),h(e)}}},{100:100,125:125,25:25,29:29,39:39,55:55,57:57,6:6,66:66,71:71,72:72,93:93}],20:[function(t,e,n){var i=t(17),r=t(10);e.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},{10:10,17:17}],21:[function(t,e,n){"use strict";var i=t(93),r=t(66).getWeak,o=t(7),a=t(51),s=t(6),l=t(39),u=t(12),c=t(41),h=t(125),d=u(5),f=u(6),p=0,v=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},m=function(t,e){return d(t.a,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(t,e,n,o){var u=t((function(t,i){s(t,u,e,"_i"),t._t=e,t._i=p++,t._l=void 0,null!=i&&l(i,n,t[o],t)}));return i(u.prototype,{delete:function(t){if(!a(t))return!1;var n=r(t);return!0===n?v(h(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=r(t);return!0===n?v(h(this,e)).has(t):n&&c(n,this._i)}}),u},def:function(t,e,n){var i=r(o(e),!0);return!0===i?v(t).set(e,n):i[t._i]=n,t},ufstore:v}},{12:12,125:125,39:39,41:41,51:51,6:6,66:66,7:7,93:93}],22:[function(t,e,n){"use strict";var i=t(40),r=t(33),o=t(94),a=t(93),s=t(66),l=t(39),u=t(6),c=t(51),h=t(35),d=t(56),f=t(101),p=t(45);e.exports=function(t,e,n,v,g,m){var y=i[t],b=y,w=g?"set":"add",S=b&&b.prototype,A={},E=function(t){var e=S[t];o(S,t,"delete"==t||"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(m||S.forEach&&!h((function(){(new b).entries().next()})))){var T=new b,C=T[w](m?{}:-0,1)!=T,x=h((function(){T.has(1)})),_=d((function(t){new b(t)})),k=!m&&h((function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)}));_||(b=e((function(e,n){u(e,b,t);var i=p(new y,e,b);return null!=n&&l(n,g,i[w],i),i})),b.prototype=S,S.constructor=b),(x||k)&&(E("delete"),E("has"),g&&E("get")),(k||C)&&E(w),m&&S.clear&&delete S.clear}else b=v.getConstructor(e,t,g,w),a(b.prototype,n),s.NEED=!0;return f(b,t),A[t]=b,r(r.G+r.W+r.F*(b!=y),A),m||v.setStrong(b,t,g),b}},{101:101,33:33,35:35,39:39,40:40,45:45,51:51,56:56,6:6,66:66,93:93,94:94}],23:[function(t,e,n){var i=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=i)},{}],24:[function(t,e,n){"use strict";var i=t(72),r=t(92);e.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},{72:72,92:92}],25:[function(t,e,n){var i=t(3);e.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},{3:3}],26:[function(t,e,n){"use strict";var i=t(35),r=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!i((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},{35:35}],27:[function(t,e,n){"use strict";var i=t(7),r=t(120);e.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},{120:120,7:7}],28:[function(t,e,n){e.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},{}],29:[function(t,e,n){e.exports=!t(35)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{35:35}],30:[function(t,e,n){var i=t(51),r=t(40).document,o=i(r)&&i(r.createElement);e.exports=function(t){return o?r.createElement(t):{}}},{40:40,51:51}],31:[function(t,e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],32:[function(t,e,n){var i=t(81),r=t(78),o=t(82);e.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,s=n(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},{78:78,81:81,82:82}],33:[function(t,e,n){var i=t(40),r=t(23),o=t(42),a=t(94),s=t(25),l=function(t,e,n){var u,c,h,d,f=t&l.F,p=t&l.G,v=t&l.S,g=t&l.P,m=t&l.B,y=p?i:v?i[e]||(i[e]={}):(i[e]||{}).prototype,b=p?r:r[e]||(r[e]={}),w=b.prototype||(b.prototype={});for(u in p&&(n=e),n)h=((c=!f&&y&&void 0!==y[u])?y:n)[u],d=m&&c?s(h,i):g&&"function"==typeof h?s(Function.call,h):h,y&&a(y,u,h,t&l.U),b[u]!=h&&o(b,u,d),g&&w[u]!=h&&(w[u]=h)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},{23:23,25:25,40:40,42:42,94:94}],34:[function(t,e,n){var i=t(128)("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},{128:128}],35:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],36:[function(t,e,n){"use strict";var i=t(42),r=t(94),o=t(35),a=t(28),s=t(128);e.exports=function(t,e,n){var l=s(t),u=n(a,l,""[t]),c=u[0],h=u[1];o((function(){var e={};return e[l]=function(){return 7},7!=""[t](e)}))&&(r(String.prototype,t,c),i(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},{128:128,28:28,35:35,42:42,94:94}],37:[function(t,e,n){"use strict";var i=t(7);e.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{7:7}],38:[function(t,e,n){"use strict";var i=t(49),r=t(51),o=t(118),a=t(25),s=t(128)("isConcatSpreadable");e.exports=function t(e,n,l,u,c,h,d,f){for(var p,v,g=c,m=0,y=!!d&&a(d,f,3);m<u;){if(m in l){if(p=y?y(l[m],m,n):l[m],v=!1,r(p)&&(v=void 0!==(v=p[s])?!!v:i(p)),v&&h>0)g=t(e,n,p,o(p.length),g,h-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=p}g++}m++}return g}},{118:118,128:128,25:25,49:49,51:51}],39:[function(t,e,n){var i=t(25),r=t(53),o=t(48),a=t(7),s=t(118),l=t(129),u={},c={};n=e.exports=function(t,e,n,h,d){var f,p,v,g,m=d?function(){return t}:l(t),y=i(n,h,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(f=s(t.length);f>b;b++)if((g=e?y(a(p=t[b])[0],p[1]):y(t[b]))===u||g===c)return g}else for(v=m.call(t);!(p=v.next()).done;)if((g=r(v,y,p.value,e))===u||g===c)return g};n.BREAK=u,n.RETURN=c},{118:118,129:129,25:25,48:48,53:53,7:7}],40:[function(t,e,n){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],41:[function(t,e,n){var i={}.hasOwnProperty;e.exports=function(t,e){return i.call(t,e)}},{}],42:[function(t,e,n){var i=t(72),r=t(92);e.exports=t(29)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},{29:29,72:72,92:92}],43:[function(t,e,n){var i=t(40).document;e.exports=i&&i.documentElement},{40:40}],44:[function(t,e,n){e.exports=!t(29)&&!t(35)((function(){return 7!=Object.defineProperty(t(30)("div"),"a",{get:function(){return 7}}).a}))},{29:29,30:30,35:35}],45:[function(t,e,n){var i=t(51),r=t(99).set;e.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},{51:51,99:99}],46:[function(t,e,n){e.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],47:[function(t,e,n){var i=t(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},{18:18}],48:[function(t,e,n){var i=t(58),r=t(128)("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},{128:128,58:58}],49:[function(t,e,n){var i=t(18);e.exports=Array.isArray||function(t){return"Array"==i(t)}},{18:18}],50:[function(t,e,n){var i=t(51),r=Math.floor;e.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},{51:51}],51:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],52:[function(t,e,n){var i=t(51),r=t(18),o=t(128)("match");e.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},{128:128,18:18,51:51}],53:[function(t,e,n){var i=t(7);e.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},{7:7}],54:[function(t,e,n){"use strict";var i=t(71),r=t(92),o=t(101),a={};t(42)(a,t(128)("iterator"),(function(){return this})),e.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},{101:101,128:128,42:42,71:71,92:92}],55:[function(t,e,n){"use strict";var i=t(60),r=t(33),o=t(94),a=t(42),s=t(41),l=t(58),u=t(54),c=t(101),h=t(79),d=t(128)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(t,e,n,v,g,m,y){u(n,e,v);var b,w,S,A=function(t){if(!f&&t in x)return x[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",T="values"==g,C=!1,x=t.prototype,_=x[d]||x["@@iterator"]||g&&x[g],k=_||A(g),M=g?T?A("entries"):k:void 0,O="Array"==e&&x.entries||_;if(O&&(S=h(O.call(new t)))!==Object.prototype&&S.next&&(c(S,E,!0),i||s(S,d)||a(S,d,p)),T&&_&&"values"!==_.name&&(C=!0,k=function(){return _.call(this)}),i&&!y||!f&&!C&&x[d]||a(x,d,k),l[e]=k,l[E]=p,g)if(b={values:T?k:A("values"),keys:m?k:A("keys"),entries:M},y)for(w in b)w in x||o(x,w,b[w]);else r(r.P+r.F*(f||C),e,b);return b}},{101:101,128:128,33:33,41:41,42:42,54:54,58:58,60:60,79:79,94:94}],56:[function(t,e,n){var i=t(128)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}e.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},t(o)}catch(t){}return n}},{128:128}],57:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],58:[function(t,e,n){e.exports={}},{}],59:[function(t,e,n){var i=t(81),r=t(117);e.exports=function(t,e){for(var n,o=r(t),a=i(o),s=a.length,l=0;s>l;)if(o[n=a[l++]]===e)return n}},{117:117,81:81}],60:[function(t,e,n){e.exports=!1},{}],61:[function(t,e,n){var i=Math.expm1;e.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},{}],62:[function(t,e,n){var i=t(65),r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),l=r(2,-126);e.exports=Math.fround||function(t){var e,n,r=Math.abs(t),u=i(t);return r<l?u*function(t){return t+1/o-1/o}(r/l/a)*l*a:(n=(e=(1+a/o)*r)-(e-r))>s||n!=n?u*(1/0):u*n}},{65:65}],63:[function(t,e,n){e.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],64:[function(t,e,n){e.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},{}],65:[function(t,e,n){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],66:[function(t,e,n){var i=t(124)("meta"),r=t(51),o=t(41),a=t(72).f,s=0,l=Object.isExtensible||function(){return!0},u=!t(35)((function(){return l(Object.preventExtensions({}))})),c=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[i].w},onFreeze:function(t){return u&&h.NEED&&l(t)&&!o(t,i)&&c(t),t}}},{124:124,35:35,41:41,51:51,72:72}],67:[function(t,e,n){var i=t(160),r=t(33),o=t(103)("metadata"),a=o.store||(o.store=new(t(266))),s=function(t,e,n){var r=a.get(t);if(!r){if(!n)return;a.set(t,r=new i)}var o=r.get(e);if(!o){if(!n)return;r.set(e,o=new i)}return o};e.exports={store:a,map:s,has:function(t,e,n){var i=s(e,n,!1);return void 0!==i&&i.has(t)},get:function(t,e,n){var i=s(e,n,!1);return void 0===i?void 0:i.get(t)},set:function(t,e,n,i){s(n,i,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),i=[];return n&&n.forEach((function(t,e){i.push(e)})),i},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},{103:103,160:160,266:266,33:33}],68:[function(t,e,n){var i=t(40),r=t(113).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==t(18)(a);e.exports=function(){var t,e,n,u=function(){var i,r;for(l&&(i=a.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(u)};else if(o){var c=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=c=!c}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(u)}}else n=function(){r.call(i,u)};return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},{113:113,18:18,40:40}],69:[function(t,e,n){"use strict";function i(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=r(e),this.reject=r(n)}var r=t(3);e.exports.f=function(t){return new i(t)}},{3:3}],70:[function(t,e,n){"use strict";var i=t(81),r=t(78),o=t(82),a=t(119),s=t(47),l=Object.assign;e.exports=!l||t(35)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i}))?function(t,e){for(var n=a(t),l=arguments.length,u=1,c=r.f,h=o.f;l>u;)for(var d,f=s(arguments[u++]),p=c?i(f).concat(c(f)):i(f),v=p.length,g=0;v>g;)h.call(f,d=p[g++])&&(n[d]=f[d]);return n}:l},{119:119,35:35,47:47,78:78,81:81,82:82}],71:[function(t,e,n){var i=t(7),r=t(73),o=t(31),a=t(102)("IE_PROTO"),s=function(){},l=function(){var e,n=t(30)("iframe"),i=o.length;for(n.style.display="none",t(43).appendChild(n),n.src="javascript:",(e=n.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:r(n,e)}},{102:102,30:30,31:31,43:43,7:7,73:73}],72:[function(t,e,n){var i=t(7),r=t(44),o=t(120),a=Object.defineProperty;n.f=t(29)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{120:120,29:29,44:44,7:7}],73:[function(t,e,n){var i=t(72),r=t(7),o=t(81);e.exports=t(29)?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,l=0;s>l;)i.f(t,n=a[l++],e[n]);return t}},{29:29,7:7,72:72,81:81}],74:[function(t,e,n){"use strict";e.exports=t(60)||!t(35)((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete t(40)[e]}))},{35:35,40:40,60:60}],75:[function(t,e,n){var i=t(82),r=t(92),o=t(117),a=t(120),s=t(41),l=t(44),u=Object.getOwnPropertyDescriptor;n.f=t(29)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},{117:117,120:120,29:29,41:41,44:44,82:82,92:92}],76:[function(t,e,n){var i=t(117),r=t(77).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},{117:117,77:77}],77:[function(t,e,n){var i=t(80),r=t(31).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},{31:31,80:80}],78:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],79:[function(t,e,n){var i=t(41),r=t(119),o=t(102)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},{102:102,119:119,41:41}],80:[function(t,e,n){var i=t(41),r=t(117),o=t(11)(!1),a=t(102)("IE_PROTO");e.exports=function(t,e){var n,s=r(t),l=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},{102:102,11:11,117:117,41:41}],81:[function(t,e,n){var i=t(80),r=t(31);e.exports=Object.keys||function(t){return i(t,r)}},{31:31,80:80}],82:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],83:[function(t,e,n){var i=t(33),r=t(23),o=t(35);e.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",a)}},{23:23,33:33,35:35}],84:[function(t,e,n){var i=t(81),r=t(117),o=t(82).f;e.exports=function(t){return function(e){for(var n,a=r(e),s=i(a),l=s.length,u=0,c=[];l>u;)o.call(a,n=s[u++])&&c.push(t?[n,a[n]]:a[n]);return c}}},{117:117,81:81,82:82}],85:[function(t,e,n){var i=t(77),r=t(78),o=t(7),a=t(40).Reflect;e.exports=a&&a.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},{40:40,7:7,77:77,78:78}],86:[function(t,e,n){var i=t(40).parseFloat,r=t(111).trim;e.exports=1/i(t(112)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},{111:111,112:112,40:40}],87:[function(t,e,n){var i=t(40).parseInt,r=t(111).trim,o=t(112),a=/^[-+]?0[xX]/;e.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(a.test(n)?16:10))}:i},{111:111,112:112,40:40}],88:[function(t,e,n){"use strict";var i=t(89),r=t(46),o=t(3);e.exports=function(){for(var t=o(this),e=arguments.length,n=Array(e),a=0,s=i._,l=!1;e>a;)(n[a]=arguments[a++])===s&&(l=!0);return function(){var i,o=arguments.length,a=0,u=0;if(!l&&!o)return r(t,n,this);if(i=n.slice(),l)for(;e>a;a++)i[a]===s&&(i[a]=arguments[u++]);for(;o>u;)i.push(arguments[u++]);return r(t,i,this)}}},{3:3,46:46,89:89}],89:[function(t,e,n){e.exports=t(40)},{40:40}],90:[function(t,e,n){e.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],91:[function(t,e,n){var i=t(69);e.exports=function(t,e){var n=i.f(t);return(0,n.resolve)(e),n.promise}},{69:69}],92:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],93:[function(t,e,n){var i=t(94);e.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},{94:94}],94:[function(t,e,n){var i=t(40),r=t(42),o=t(41),a=t(124)("src"),s=Function.toString,l=(""+s).split("toString");t(23).inspectSource=function(t){return s.call(t)},(e.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||r(n,a,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},{124:124,23:23,40:40,41:41,42:42}],95:[function(t,e,n){e.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},{}],96:[function(t,e,n){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},{}],97:[function(t,e,n){"use strict";var i=t(33),r=t(3),o=t(25),a=t(39);e.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,s,l=arguments[1];return r(this),(e=void 0!==l)&&r(l),null==t?new this:(n=[],e?(i=0,s=o(l,arguments[2],2),a(t,!1,(function(t){n.push(s(t,i++))}))):a(t,!1,n.push,n),new this(n))}})}},{25:25,3:3,33:33,39:39}],98:[function(t,e,n){"use strict";var i=t(33);e.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},{33:33}],99:[function(t,e,n){var i=t(51),r=t(7),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,i){try{(i=t(25)(Function.call,t(75).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:o}},{25:25,51:51,7:7,75:75}],100:[function(t,e,n){"use strict";var i=t(40),r=t(72),o=t(29),a=t(128)("species");e.exports=function(t){var e=i[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},{128:128,29:29,40:40,72:72}],101:[function(t,e,n){var i=t(72).f,r=t(41),o=t(128)("toStringTag");e.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},{128:128,41:41,72:72}],102:[function(t,e,n){var i=t(103)("keys"),r=t(124);e.exports=function(t){return i[t]||(i[t]=r(t))}},{103:103,124:124}],103:[function(t,e,n){var i=t(40),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(t){return r[t]||(r[t]={})}},{40:40}],104:[function(t,e,n){var i=t(7),r=t(3),o=t(128)("species");e.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[o])?e:r(n)}},{128:128,3:3,7:7}],105:[function(t,e,n){"use strict";var i=t(35);e.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},{35:35}],106:[function(t,e,n){var i=t(116),r=t(28);e.exports=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},{116:116,28:28}],107:[function(t,e,n){var i=t(52),r=t(28);e.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},{28:28,52:52}],108:[function(t,e,n){var i=t(33),r=t(35),o=t(28),a=/"/g,s=function(t,e,n,i){var r=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};e.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},{28:28,33:33,35:35}],109:[function(t,e,n){var i=t(118),r=t(110),o=t(28);e.exports=function(t,e,n,a){var s=String(o(t)),l=s.length,u=void 0===n?" ":String(n),c=i(e);if(c<=l||""==u)return s;var h=c-l,d=r.call(u,Math.ceil(h/u.length));return d.length>h&&(d=d.slice(0,h)),a?d+s:s+d}},{110:110,118:118,28:28}],110:[function(t,e,n){"use strict";var i=t(116),r=t(28);e.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},{116:116,28:28}],111:[function(t,e,n){var i=t(33),r=t(28),o=t(35),a=t(112),s="["+a+"]",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),c=function(t,e,n){var r={},s=o((function(){return!!a[t]()||"​"!="​"[t]()})),l=r[t]=s?e(h):a[t];n&&(r[n]=l),i(i.P+i.F*s,"String",r)},h=c.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};e.exports=c},{112:112,28:28,33:33,35:35}],112:[function(t,e,n){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],113:[function(t,e,n){var i,r,o,a=t(25),s=t(46),l=t(43),u=t(30),c=t(40),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,v=c.Dispatch,g=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){y.call(t.data)};d&&f||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){s("function"==typeof t?t:Function(t),e)},i(g),g},f=function(t){delete m[t]},"process"==t(18)(h)?i=function(t){h.nextTick(a(y,t,1))}:v&&v.now?i=function(t){v.now(a(y,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=b,i=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):i="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),e.exports={set:d,clear:f}},{18:18,25:25,30:30,40:40,43:43,46:46}],114:[function(t,e,n){var i=t(116),r=Math.max,o=Math.min;e.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},{116:116}],115:[function(t,e,n){var i=t(116),r=t(118);e.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},{116:116,118:118}],116:[function(t,e,n){var i=Math.ceil,r=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},{}],117:[function(t,e,n){var i=t(47),r=t(28);e.exports=function(t){return i(r(t))}},{28:28,47:47}],118:[function(t,e,n){var i=t(116),r=Math.min;e.exports=function(t){return t>0?r(i(t),9007199254740991):0}},{116:116}],119:[function(t,e,n){var i=t(28);e.exports=function(t){return Object(i(t))}},{28:28}],120:[function(t,e,n){var i=t(51);e.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{51:51}],121:[function(t,e,n){"use strict";if(t(29)){var i=t(60),r=t(40),o=t(35),a=t(33),s=t(123),l=t(122),u=t(25),c=t(6),h=t(92),d=t(42),f=t(93),p=t(116),v=t(118),g=t(115),m=t(114),y=t(120),b=t(41),w=t(17),S=t(51),A=t(119),E=t(48),T=t(71),C=t(79),x=t(77).f,_=t(129),k=t(124),M=t(128),O=t(12),P=t(11),I=t(104),L=t(141),D=t(58),R=t(56),N=t(100),H=t(9),V=t(8),j=t(72),F=t(75),B=j.f,U=F.f,W=r.RangeError,z=r.TypeError,G=r.Uint8Array,q=Array.prototype,Y=l.ArrayBuffer,X=l.DataView,J=O(0),K=O(2),Z=O(3),$=O(4),Q=O(5),tt=O(6),et=P(!0),nt=P(!1),it=L.values,rt=L.keys,ot=L.entries,at=q.lastIndexOf,st=q.reduce,lt=q.reduceRight,ut=q.join,ct=q.sort,ht=q.slice,dt=q.toString,ft=q.toLocaleString,pt=M("iterator"),vt=M("toStringTag"),gt=k("typed_constructor"),mt=k("def_constructor"),yt=s.CONSTR,bt=s.TYPED,wt=s.VIEW,St=O(1,(function(t,e){return xt(I(t,t[mt]),e)})),At=o((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),Et=!!G&&!!G.prototype.set&&o((function(){new G(1).set({})})),Tt=function(t,e){var n=p(t);if(n<0||n%e)throw W("Wrong offset!");return n},Ct=function(t){if(S(t)&&bt in t)return t;throw z(t+" is not a typed array!")},xt=function(t,e){if(!S(t)||!(gt in t))throw z("It is not a typed array constructor!");return new t(e)},_t=function(t,e){return kt(I(t,t[mt]),e)},kt=function(t,e){for(var n=0,i=e.length,r=xt(t,i);i>n;)r[n]=e[n++];return r},Mt=function(t,e,n){B(t,e,{get:function(){return this._d[n]}})},Ot=function(t){var e,n,i,r,o,a,s=A(t),l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,d=_(s);if(null!=d&&!E(d)){for(a=d.call(s),i=[],e=0;!(o=a.next()).done;e++)i.push(o.value);s=i}for(h&&l>2&&(c=u(c,arguments[2],2)),e=0,n=v(s.length),r=xt(this,n);n>e;e++)r[e]=h?c(s[e],e):s[e];return r},Pt=function(){for(var t=0,e=arguments.length,n=xt(this,e);e>t;)n[t]=arguments[t++];return n},It=!!G&&o((function(){ft.call(new G(1))})),Lt=function(){return ft.apply(It?ht.call(Ct(this)):Ct(this),arguments)},Dt={copyWithin:function(t,e){return V.call(Ct(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return $(Ct(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return H.apply(Ct(this),arguments)},filter:function(t){return _t(this,K(Ct(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(Ct(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){J(Ct(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Ct(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ut.apply(Ct(this),arguments)},lastIndexOf:function(t){return at.apply(Ct(this),arguments)},map:function(t){return St(Ct(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Ct(this),arguments)},reduceRight:function(t){return lt.apply(Ct(this),arguments)},reverse:function(){for(var t,e=this,n=Ct(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return Z(Ct(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(Ct(this),t)},subarray:function(t,e){var n=Ct(this),i=n.length,r=m(t,i);return new(I(n,n[mt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,v((void 0===e?i:m(e,i))-r))}},Rt=function(t,e){return _t(this,ht.call(Ct(this),t,e))},Nt=function(t){Ct(this);var e=Tt(arguments[1],1),n=this.length,i=A(t),r=v(i.length),o=0;if(r+e>n)throw W("Wrong length!");for(;o<r;)this[e+o]=i[o++]},Ht={entries:function(){return ot.call(Ct(this))},keys:function(){return rt.call(Ct(this))},values:function(){return it.call(Ct(this))}},Vt=function(t,e){return S(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},jt=function(t,e){return Vt(t,e=y(e,!0))?h(2,t[e]):U(t,e)},Ft=function(t,e,n){return!(Vt(t,e=y(e,!0))&&S(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?B(t,e,n):(t[e]=n.value,t)};yt||(F.f=jt,j.f=Ft),a(a.S+a.F*!yt,"Object",{getOwnPropertyDescriptor:jt,defineProperty:Ft}),o((function(){dt.call({})}))&&(dt=ft=function(){return ut.call(this)});var Bt=f({},Dt);f(Bt,Ht),d(Bt,pt,Ht.values),f(Bt,{slice:Rt,set:Nt,constructor:function(){},toString:dt,toLocaleString:Lt}),Mt(Bt,"buffer","b"),Mt(Bt,"byteOffset","o"),Mt(Bt,"byteLength","l"),Mt(Bt,"length","e"),B(Bt,vt,{get:function(){return this[bt]}}),e.exports=function(t,e,n,l){var u=t+((l=!!l)?"Clamped":"")+"Array",h="get"+t,f="set"+t,p=r[u],m=p||{},y=p&&C(p),b=!p||!s.ABV,A={},E=p&&p.prototype,_=function(t,n){var i=t._d;return i.v[h](n*e+i.o,At)},k=function(t,n,i){var r=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[f](n*e+r.o,i,At)},M=function(t,e){B(t,e,{get:function(){return _(this,e)},set:function(t){return k(this,e,t)},enumerable:!0})};b?(p=n((function(t,n,i,r){c(t,p,u,"_d");var o,a,s,l,h=0,f=0;if(S(n)){if(!(n instanceof Y||"ArrayBuffer"==(l=w(n))||"SharedArrayBuffer"==l))return bt in n?kt(p,n):Ot.call(p,n);o=n,f=Tt(i,e);var m=n.byteLength;if(void 0===r){if(m%e)throw W("Wrong length!");if((a=m-f)<0)throw W("Wrong length!")}else if((a=v(r)*e)+f>m)throw W("Wrong length!");s=a/e}else s=g(n),o=new Y(a=s*e);for(d(t,"_d",{b:o,o:f,l:a,e:s,v:new X(o)});h<s;)M(t,h++)})),E=p.prototype=T(Bt),d(E,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&R((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=n((function(t,n,i,r){var o;return c(t,p,u),S(n)?n instanceof Y||"ArrayBuffer"==(o=w(n))||"SharedArrayBuffer"==o?void 0!==r?new m(n,Tt(i,e),r):void 0!==i?new m(n,Tt(i,e)):new m(n):bt in n?kt(p,n):Ot.call(p,n):new m(g(n))})),J(y!==Function.prototype?x(m).concat(x(y)):x(m),(function(t){t in p||d(p,t,m[t])})),p.prototype=E,i||(E.constructor=p));var O=E[pt],P=!!O&&("values"==O.name||null==O.name),I=Ht.values;d(p,gt,!0),d(E,bt,u),d(E,wt,!0),d(E,mt,p),(l?new p(1)[vt]==u:vt in E)||B(E,vt,{get:function(){return u}}),A[u]=p,a(a.G+a.W+a.F*(p!=m),A),a(a.S,u,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){m.of.call(p,1)})),u,{from:Ot,of:Pt}),"BYTES_PER_ELEMENT"in E||d(E,"BYTES_PER_ELEMENT",e),a(a.P,u,Dt),N(u),a(a.P+a.F*Et,u,{set:Nt}),a(a.P+a.F*!P,u,Ht),i||E.toString==dt||(E.toString=dt),a(a.P+a.F*o((function(){new p(1).slice()})),u,{slice:Rt}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){E.toLocaleString.call([1,2])}))),u,{toLocaleString:Lt}),D[u]=P?O:I,i||P||d(E,pt,I)}}else e.exports=function(){}},{100:100,104:104,11:11,114:114,115:115,116:116,118:118,119:119,12:12,120:120,122:122,123:123,124:124,128:128,129:129,141:141,17:17,25:25,29:29,33:33,35:35,40:40,41:41,42:42,48:48,51:51,56:56,58:58,6:6,60:60,71:71,72:72,75:75,77:77,79:79,8:8,9:9,92:92,93:93}],122:[function(t,e,n){"use strict";function i(t,e,n){var i,r,o,a=Array(n),s=8*n-e-1,l=(1<<s)-1,u=l>>1,c=23===e?V(2,-24)-V(2,-77):0,h=0,d=t<0||0===t&&1/t<0?1:0;for((t=H(t))!=t||t===R?(r=t!=t?1:0,i=l):(i=j(F(t)/B),t*(o=V(2,-i))<1&&(i--,o*=2),(t+=i+u>=1?c/o:c*V(2,1-u))*o>=2&&(i++,o/=2),i+u>=l?(r=0,i=l):i+u>=1?(r=(t*o-1)*V(2,e),i+=u):(r=t*V(2,u-1)*V(2,e),i=0));e>=8;a[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;s>0;a[h++]=255&i,i/=256,s-=8);return a[--h]|=128*d,a}function r(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,a=o>>1,s=r-7,l=n-1,u=t[l--],c=127&u;for(u>>=7;s>0;c=256*c+t[l],l--,s-=8);for(i=c&(1<<-s)-1,c>>=-s,s+=e;s>0;i=256*i+t[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return i?NaN:u?-R:R;i+=V(2,e),c-=a}return(u?-1:1)*i*V(2,c-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function l(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function u(t){return i(t,52,8)}function c(t){return i(t,23,4)}function h(t,e,n){x(t[M],e,{get:function(){return this[n]}})}function d(t,e,n,i){var r=T(+n);if(r+e>t[W])throw D(O);var o=t[U]._b,a=r+t[z],s=o.slice(a,a+e);return i?s:s.reverse()}function f(t,e,n,i,r,o){var a=T(+n);if(a+e>t[W])throw D(O);for(var s=t[U]._b,l=a+t[z],u=i(+r),c=0;c<e;c++)s[l+c]=u[o?c:e-c-1]}var p=t(40),v=t(29),g=t(60),m=t(123),y=t(42),b=t(93),w=t(35),S=t(6),A=t(116),E=t(118),T=t(115),C=t(77).f,x=t(72).f,_=t(9),k=t(101),M="prototype",O="Wrong index!",P=p.ArrayBuffer,I=p.DataView,L=p.Math,D=p.RangeError,R=p.Infinity,N=P,H=L.abs,V=L.pow,j=L.floor,F=L.log,B=L.LN2,U=v?"_b":"buffer",W=v?"_l":"byteLength",z=v?"_o":"byteOffset";if(m.ABV){if(!w((function(){P(1)}))||!w((function(){new P(-1)}))||w((function(){return new P,new P(1.5),new P(NaN),"ArrayBuffer"!=P.name}))){P=function(t){return S(this,P),new N(T(t))};for(var G,q=P[M]=N[M],Y=C(N),X=0;Y.length>X;)(G=Y[X++])in P||y(P,G,N[G]);g||(q.constructor=P)}var J=new I(new P(2)),K=I[M].setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||b(I[M],{setInt8:function(t,e){K.call(this,t,e<<24>>24)},setUint8:function(t,e){K.call(this,t,e<<24>>24)}},!0)}else P=function(t){S(this,P,"ArrayBuffer");var e=T(t);this._b=_.call(Array(e),0),this[W]=e},I=function(t,e,n){S(this,I,"DataView"),S(t,P,"DataView");var i=t[W],r=A(e);if(r<0||r>i)throw D("Wrong offset!");if(r+(n=void 0===n?i-r:E(n))>i)throw D("Wrong length!");this[U]=t,this[z]=r,this[W]=n},v&&(h(P,"byteLength","_l"),h(I,"buffer","_b"),h(I,"byteLength","_l"),h(I,"byteOffset","_o")),b(I[M],{getInt8:function(t){return d(this,1,t)[0]<<24>>24},getUint8:function(t){return d(this,1,t)[0]},getInt16:function(t){var e=d(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=d(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(d(this,4,t,arguments[1]))},getUint32:function(t){return o(d(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return r(d(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return r(d(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){f(this,1,t,a,e)},setUint8:function(t,e){f(this,1,t,a,e)},setInt16:function(t,e){f(this,2,t,s,e,arguments[2])},setUint16:function(t,e){f(this,2,t,s,e,arguments[2])},setInt32:function(t,e){f(this,4,t,l,e,arguments[2])},setUint32:function(t,e){f(this,4,t,l,e,arguments[2])},setFloat32:function(t,e){f(this,4,t,c,e,arguments[2])},setFloat64:function(t,e){f(this,8,t,u,e,arguments[2])}});k(P,"ArrayBuffer"),k(I,"DataView"),y(I[M],m.VIEW,!0),n.ArrayBuffer=P,n.DataView=I},{101:101,115:115,116:116,118:118,123:123,29:29,35:35,40:40,42:42,6:6,60:60,72:72,77:77,9:9,93:93}],123:[function(t,e,n){for(var i,r=t(40),o=t(42),a=t(124),s=a("typed_array"),l=a("view"),u=!(!r.ArrayBuffer||!r.DataView),c=u,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[d[h++]])?(o(i.prototype,s,!0),o(i.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:s,VIEW:l}},{124:124,40:40,42:42}],124:[function(t,e,n){var i=0,r=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},{}],125:[function(t,e,n){var i=t(51);e.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},{51:51}],126:[function(t,e,n){var i=t(40),r=t(23),o=t(60),a=t(127),s=t(72).f;e.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},{127:127,23:23,40:40,60:60,72:72}],127:[function(t,e,n){n.f=t(128)},{128:128}],128:[function(t,e,n){var i=t(103)("wks"),r=t(124),o=t(40).Symbol,a="function"==typeof o;(e.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},{103:103,124:124,40:40}],129:[function(t,e,n){var i=t(17),r=t(128)("iterator"),o=t(58);e.exports=t(23).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},{128:128,17:17,23:23,58:58}],130:[function(t,e,n){var i=t(33),r=t(95)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},{33:33,95:95}],131:[function(t,e,n){var i=t(33);i(i.P,"Array",{copyWithin:t(8)}),t(5)("copyWithin")},{33:33,5:5,8:8}],132:[function(t,e,n){"use strict";var i=t(33),r=t(12)(4);i(i.P+i.F*!t(105)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],133:[function(t,e,n){var i=t(33);i(i.P,"Array",{fill:t(9)}),t(5)("fill")},{33:33,5:5,9:9}],134:[function(t,e,n){"use strict";var i=t(33),r=t(12)(2);i(i.P+i.F*!t(105)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],135:[function(t,e,n){"use strict";var i=t(33),r=t(12)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),i(i.P+i.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)(o)},{12:12,33:33,5:5}],136:[function(t,e,n){"use strict";var i=t(33),r=t(12)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)("find")},{12:12,33:33,5:5}],137:[function(t,e,n){"use strict";var i=t(33),r=t(12)(0),o=t(105)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],138:[function(t,e,n){"use strict";var i=t(25),r=t(33),o=t(119),a=t(53),s=t(48),l=t(118),u=t(24),c=t(129);r(r.S+r.F*!t(56)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,h,d=o(t),f="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,m=0,y=c(d);if(g&&(v=i(v,p>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(n=new f(e=l(d.length));e>m;m++)u(n,m,g?v(d[m],m):d[m]);else for(h=y.call(d),n=new f;!(r=h.next()).done;m++)u(n,m,g?a(h,v,[r.value,m],!0):r.value);return n.length=m,n}})},{118:118,119:119,129:129,24:24,25:25,33:33,48:48,53:53,56:56}],139:[function(t,e,n){"use strict";var i=t(33),r=t(11)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!t(105)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},{105:105,11:11,33:33}],140:[function(t,e,n){var i=t(33);i(i.S,"Array",{isArray:t(49)})},{33:33,49:49}],141:[function(t,e,n){"use strict";var i=t(5),r=t(57),o=t(58),a=t(117);e.exports=t(55)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{117:117,5:5,55:55,57:57,58:58}],142:[function(t,e,n){"use strict";var i=t(33),r=t(117),o=[].join;i(i.P+i.F*(t(47)!=Object||!t(105)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},{105:105,117:117,33:33,47:47}],143:[function(t,e,n){"use strict";var i=t(33),r=t(117),o=t(116),a=t(118),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!t(105)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=r(this),n=a(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},{105:105,116:116,117:117,118:118,33:33}],144:[function(t,e,n){"use strict";var i=t(33),r=t(12)(1);i(i.P+i.F*!t(105)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],145:[function(t,e,n){"use strict";var i=t(33),r=t(24);i(i.S+i.F*t(35)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},{24:24,33:33,35:35}],146:[function(t,e,n){"use strict";var i=t(33),r=t(13);i(i.P+i.F*!t(105)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},{105:105,13:13,33:33}],147:[function(t,e,n){"use strict";var i=t(33),r=t(13);i(i.P+i.F*!t(105)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},{105:105,13:13,33:33}],148:[function(t,e,n){"use strict";var i=t(33),r=t(43),o=t(18),a=t(114),s=t(118),l=[].slice;i(i.P+i.F*t(35)((function(){r&&l.call(r)})),"Array",{slice:function(t,e){var n=s(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var r=a(t,n),u=a(e,n),c=s(u-r),h=Array(c),d=0;d<c;d++)h[d]="String"==i?this.charAt(r+d):this[r+d];return h}})},{114:114,118:118,18:18,33:33,35:35,43:43}],149:[function(t,e,n){"use strict";var i=t(33),r=t(12)(3);i(i.P+i.F*!t(105)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],150:[function(t,e,n){"use strict";var i=t(33),r=t(3),o=t(119),a=t(35),s=[].sort,l=[1,2,3];i(i.P+i.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!t(105)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},{105:105,119:119,3:3,33:33,35:35}],151:[function(t,e,n){t(100)("Array")},{100:100}],152:[function(t,e,n){var i=t(33);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},{33:33}],153:[function(t,e,n){var i=t(33),r=t(26);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},{26:26,33:33}],154:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(120);i(i.P+i.F*t(35)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},{119:119,120:120,33:33,35:35}],155:[function(t,e,n){var i=t(128)("toPrimitive"),r=Date.prototype;i in r||t(42)(r,i,t(27))},{128:128,27:27,42:42}],156:[function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&t(94)(i,"toString",(function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"}))},{94:94}],157:[function(t,e,n){var i=t(33);i(i.P,"Function",{bind:t(16)})},{16:16,33:33}],158:[function(t,e,n){"use strict";var i=t(51),r=t(79),o=t(128)("hasInstance"),a=Function.prototype;o in a||t(72).f(a,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},{128:128,51:51,72:72,79:79}],159:[function(t,e,n){var i=t(72).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||t(29)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},{29:29,72:72}],160:[function(t,e,n){"use strict";var i=t(19),r=t(125);e.exports=t(22)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},{125:125,19:19,22:22}],161:[function(t,e,n){var i=t(33),r=t(63),o=Math.sqrt,a=Math.acosh;i(i.S+i.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},{33:33,63:63}],162:[function(t,e,n){var i=t(33),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},{33:33}],163:[function(t,e,n){var i=t(33),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{33:33}],164:[function(t,e,n){var i=t(33),r=t(65);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},{33:33,65:65}],165:[function(t,e,n){var i=t(33);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{33:33}],166:[function(t,e,n){var i=t(33),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},{33:33}],167:[function(t,e,n){var i=t(33),r=t(61);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},{33:33,61:61}],168:[function(t,e,n){var i=t(33);i(i.S,"Math",{fround:t(62)})},{33:33,62:62}],169:[function(t,e,n){var i=t(33),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,a=0,s=arguments.length,l=0;a<s;)l<(n=r(arguments[a++]))?(o=o*(i=l/n)*i+1,l=n):n>0?o+=(i=n/l)*i:o+=n;return l===1/0?1/0:l*Math.sqrt(o)}})},{33:33}],170:[function(t,e,n){var i=t(33),r=Math.imul;i(i.S+i.F*t(35)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},{33:33,35:35}],171:[function(t,e,n){var i=t(33);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},{33:33}],172:[function(t,e,n){var i=t(33);i(i.S,"Math",{log1p:t(63)})},{33:33,63:63}],173:[function(t,e,n){var i=t(33);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{33:33}],174:[function(t,e,n){var i=t(33);i(i.S,"Math",{sign:t(65)})},{33:33,65:65}],175:[function(t,e,n){var i=t(33),r=t(61),o=Math.exp;i(i.S+i.F*t(35)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},{33:33,35:35,61:61}],176:[function(t,e,n){var i=t(33),r=t(61),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},{33:33,61:61}],177:[function(t,e,n){var i=t(33);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},{33:33}],178:[function(t,e,n){"use strict";var i=t(40),r=t(41),o=t(18),a=t(45),s=t(120),l=t(35),u=t(77).f,c=t(75).f,h=t(72).f,d=t(111).trim,f=i.Number,p=f,v=f.prototype,g="Number"==o(t(71)(v)),m="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=m?e.trim():d(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var a,l=e.slice(2),u=0,c=l.length;u<c;u++)if((a=l.charCodeAt(u))<48||a>r)return NaN;return parseInt(l,i)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(g?l((function(){v.valueOf.call(n)})):"Number"!=o(n))?a(new p(y(e)),n,f):y(e)};for(var b,w=t(29)?u(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)r(p,b=w[S])&&!r(f,b)&&h(f,b,c(p,b));f.prototype=v,v.constructor=f,t(94)(i,"Number",f)}},{111:111,120:120,18:18,29:29,35:35,40:40,41:41,45:45,71:71,72:72,75:75,77:77,94:94}],179:[function(t,e,n){var i=t(33);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},{33:33}],180:[function(t,e,n){var i=t(33),r=t(40).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},{33:33,40:40}],181:[function(t,e,n){var i=t(33);i(i.S,"Number",{isInteger:t(50)})},{33:33,50:50}],182:[function(t,e,n){var i=t(33);i(i.S,"Number",{isNaN:function(t){return t!=t}})},{33:33}],183:[function(t,e,n){var i=t(33),r=t(50),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},{33:33,50:50}],184:[function(t,e,n){var i=t(33);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{33:33}],185:[function(t,e,n){var i=t(33);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{33:33}],186:[function(t,e,n){var i=t(33),r=t(86);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},{33:33,86:86}],187:[function(t,e,n){var i=t(33),r=t(87);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},{33:33,87:87}],188:[function(t,e,n){"use strict";var i=t(33),r=t(116),o=t(4),a=t(110),s=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*u[n],u[n]=i%1e7,i=l(i/1e7)},d=function(t){for(var e=6,n=0;--e>=0;)n+=u[e],u[e]=l(n/t),n=n%t*1e7},f=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var n=String(u[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},p=function(t,e,n){return 0===e?n:e%2==1?p(t,e-1,n*t):p(t*t,e/2,n)};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t(35)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,n,i,s,l=o(this,c),u=r(t),v="",g="0";if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(l*p(2,69,1))-69,n=e<0?l*p(2,-e,1):l/p(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),i=u;i>=7;)h(1e7,0),i-=7;for(h(p(10,i,1),0),i=e-1;i>=23;)d(1<<23),i-=23;d(1<<i),h(1,1),d(2),g=f()}else h(0,n),h(1<<-e,0),g=f()+a.call("0",u);return u>0?g=v+((s=g.length)<=u?"0."+a.call("0",u-s)+g:g.slice(0,s-u)+"."+g.slice(s-u)):g=v+g,g}})},{110:110,116:116,33:33,35:35,4:4}],189:[function(t,e,n){"use strict";var i=t(33),r=t(35),o=t(4),a=1..toPrecision;i(i.P+i.F*(r((function(){return"1"!==a.call(1,void 0)}))||!r((function(){a.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},{33:33,35:35,4:4}],190:[function(t,e,n){var i=t(33);i(i.S+i.F,"Object",{assign:t(70)})},{33:33,70:70}],191:[function(t,e,n){var i=t(33);i(i.S,"Object",{create:t(71)})},{33:33,71:71}],192:[function(t,e,n){var i=t(33);i(i.S+i.F*!t(29),"Object",{defineProperties:t(73)})},{29:29,33:33,73:73}],193:[function(t,e,n){var i=t(33);i(i.S+i.F*!t(29),"Object",{defineProperty:t(72).f})},{29:29,33:33,72:72}],194:[function(t,e,n){var i=t(51),r=t(66).onFreeze;t(83)("freeze",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},{51:51,66:66,83:83}],195:[function(t,e,n){var i=t(117),r=t(75).f;t(83)("getOwnPropertyDescriptor",(function(){return function(t,e){return r(i(t),e)}}))},{117:117,75:75,83:83}],196:[function(t,e,n){t(83)("getOwnPropertyNames",(function(){return t(76).f}))},{76:76,83:83}],197:[function(t,e,n){var i=t(119),r=t(79);t(83)("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},{119:119,79:79,83:83}],198:[function(t,e,n){var i=t(51);t(83)("isExtensible",(function(t){return function(e){return!!i(e)&&(!t||t(e))}}))},{51:51,83:83}],199:[function(t,e,n){var i=t(51);t(83)("isFrozen",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},{51:51,83:83}],200:[function(t,e,n){var i=t(51);t(83)("isSealed",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},{51:51,83:83}],201:[function(t,e,n){var i=t(33);i(i.S,"Object",{is:t(96)})},{33:33,96:96}],202:[function(t,e,n){var i=t(119),r=t(81);t(83)("keys",(function(){return function(t){return r(i(t))}}))},{119:119,81:81,83:83}],203:[function(t,e,n){var i=t(51),r=t(66).onFreeze;t(83)("preventExtensions",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},{51:51,66:66,83:83}],204:[function(t,e,n){var i=t(51),r=t(66).onFreeze;t(83)("seal",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},{51:51,66:66,83:83}],205:[function(t,e,n){var i=t(33);i(i.S,"Object",{setPrototypeOf:t(99).set})},{33:33,99:99}],206:[function(t,e,n){"use strict";var i=t(17),r={};r[t(128)("toStringTag")]="z",r+""!="[object z]"&&t(94)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},{128:128,17:17,94:94}],207:[function(t,e,n){var i=t(33),r=t(86);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},{33:33,86:86}],208:[function(t,e,n){var i=t(33),r=t(87);i(i.G+i.F*(parseInt!=r),{parseInt:r})},{33:33,87:87}],209:[function(t,e,n){"use strict";var i,r,o,a,s=t(60),l=t(40),u=t(25),c=t(17),h=t(33),d=t(51),f=t(3),p=t(6),v=t(39),g=t(104),m=t(113).set,y=t(68)(),b=t(69),w=t(90),S=t(91),A=l.TypeError,E=l.process,T=l.Promise,C="process"==c(E),x=function(){},_=r=b.f,k=!!function(){try{var e=T.resolve(1),n=(e.constructor={})[t(128)("species")]=function(t){t(x,x)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof n}catch(t){}}(),M=s?function(t,e){return t===e||t===T&&e===a}:function(t,e){return t===e},O=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var i=t._v,r=1==t._s,o=0;n.length>o;)!function(e){var n,o,a=r?e.ok:e.fail,s=e.resolve,l=e.reject,u=e.domain;try{a?(r||(2==t._h&&D(t),t._h=1),!0===a?n=i:(u&&u.enter(),n=a(i),u&&u.exit()),n===e.promise?l(A("Promise-chain cycle")):(o=O(n))?o.call(n,s,l):s(n)):l(i)}catch(t){l(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&I(t)}))}},I=function(t){m.call(l,(function(){var e,n,i,r=t._v,o=L(t);if(o&&(e=w((function(){C?E.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=C||L(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},L=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,i=0;n.length>i;)if((e=n[i++]).fail||!L(e.promise))return!1;return!0},D=function(t){m.call(l,(function(){var e;C?E.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})}))},R=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw A("Promise can't be resolved itself");(e=O(t))?y((function(){var i={_w:n,_d:!1};try{e.call(t,u(N,i,1),u(R,i,1))}catch(t){R.call(i,t)}})):(n._v=t,n._s=1,P(n,!1))}catch(t){R.call({_w:n,_d:!1},t)}}};k||(T=function(t){p(this,T,"Promise","_h"),f(t),i.call(this);try{t(u(N,this,1),u(R,this,1))}catch(t){R.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=t(93)(T.prototype,{then:function(t,e){var n=_(g(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=u(N,t,1),this.reject=u(R,t,1)},b.f=_=function(t){return M(T,t)?new o(t):r(t)}),h(h.G+h.W+h.F*!k,{Promise:T}),t(101)(T,"Promise"),t(100)("Promise"),a=t(23).Promise,h(h.S+h.F*!k,"Promise",{reject:function(t){var e=_(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!k),"Promise",{resolve:function(t){return t instanceof T&&M(t.constructor,this)?t:S(this,t)}}),h(h.S+h.F*!(k&&t(56)((function(t){T.all(t).catch(x)}))),"Promise",{all:function(t){var e=this,n=_(e),i=n.resolve,r=n.reject,o=w((function(){var n=[],o=0,a=1;v(t,!1,(function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then((function(t){l||(l=!0,n[s]=t,--a||i(n))}),r)})),--a||i(n)}));return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=_(e),i=n.reject,r=w((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},{100:100,101:101,104:104,113:113,128:128,17:17,23:23,25:25,3:3,33:33,39:39,40:40,51:51,56:56,6:6,60:60,68:68,69:69,90:90,91:91,93:93}],210:[function(t,e,n){var i=t(33),r=t(3),o=t(7),a=(t(40).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!t(35)((function(){a((function(){}))})),"Reflect",{apply:function(t,e,n){var i=r(t),l=o(n);return a?a(i,e,l):s.call(i,e,l)}})},{3:3,33:33,35:35,40:40,7:7}],211:[function(t,e,n){var i=t(33),r=t(71),o=t(3),a=t(7),s=t(51),l=t(35),u=t(16),c=(t(40).Reflect||{}).construct,h=l((function(){function t(){}return!(c((function(){}),[],t)instanceof t)})),d=!l((function(){c((function(){}))}));i(i.S+i.F*(h||d),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!h)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(u.apply(t,i))}var l=n.prototype,f=r(s(l)?l:Object.prototype),p=Function.apply.call(t,f,e);return s(p)?p:f}})},{16:16,3:3,33:33,35:35,40:40,51:51,7:7,71:71}],212:[function(t,e,n){var i=t(72),r=t(33),o=t(7),a=t(120);r(r.S+r.F*t(35)((function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},{120:120,33:33,35:35,7:7,72:72}],213:[function(t,e,n){var i=t(33),r=t(75).f,o=t(7);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},{33:33,7:7,75:75}],214:[function(t,e,n){"use strict";var i=t(33),r=t(7),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};t(54)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},{33:33,54:54,7:7}],215:[function(t,e,n){var i=t(75),r=t(33),o=t(7);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},{33:33,7:7,75:75}],216:[function(t,e,n){var i=t(33),r=t(79),o=t(7);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},{33:33,7:7,79:79}],217:[function(t,e,n){var i=t(75),r=t(79),o=t(41),a=t(33),s=t(51),l=t(7);a(a.S,"Reflect",{get:function t(e,n){var a,u,c=arguments.length<3?e:arguments[2];return l(e)===c?e[n]:(a=i.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:s(u=r(e))?t(u,n,c):void 0}})},{33:33,41:41,51:51,7:7,75:75,79:79}],218:[function(t,e,n){var i=t(33);i(i.S,"Reflect",{has:function(t,e){return e in t}})},{33:33}],219:[function(t,e,n){var i=t(33),r=t(7),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},{33:33,7:7}],220:[function(t,e,n){var i=t(33);i(i.S,"Reflect",{ownKeys:t(85)})},{33:33,85:85}],221:[function(t,e,n){var i=t(33),r=t(7),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},{33:33,7:7}],222:[function(t,e,n){var i=t(33),r=t(99);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},{33:33,99:99}],223:[function(t,e,n){var i=t(72),r=t(75),o=t(79),a=t(41),s=t(33),l=t(92),u=t(7),c=t(51);s(s.S,"Reflect",{set:function t(e,n,s){var h,d,f=arguments.length<4?e:arguments[3],p=r.f(u(e),n);if(!p){if(c(d=o(e)))return t(d,n,s,f);p=l(0)}return a(p,"value")?!(!1===p.writable||!c(f)||(h=r.f(f,n)||l(0),h.value=s,i.f(f,n,h),0)):void 0!==p.set&&(p.set.call(f,s),!0)}})},{33:33,41:41,51:51,7:7,72:72,75:75,79:79,92:92}],224:[function(t,e,n){var i=t(40),r=t(45),o=t(72).f,a=t(77).f,s=t(52),l=t(37),u=i.RegExp,c=u,h=u.prototype,d=/a/g,f=/a/g,p=new u(d)!==d;if(t(29)&&(!p||t(35)((function(){return f[t(128)("match")]=!1,u(d)!=d||u(f)==f||"/a/i"!=u(d,"i")})))){u=function(t,e){var n=this instanceof u,i=s(t),o=void 0===e;return!n&&i&&t.constructor===u&&o?t:r(p?new c(i&&!o?t.source:t,e):c((i=t instanceof u)?t.source:t,i&&o?l.call(t):e),n?this:h,u)};for(var v=a(c),g=0;v.length>g;)!function(t){t in u||o(u,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}(v[g++]);h.constructor=u,u.prototype=h,t(94)(i,"RegExp",u)}t(100)("RegExp")},{100:100,128:128,29:29,35:35,37:37,40:40,45:45,52:52,72:72,77:77,94:94}],225:[function(t,e,n){t(29)&&"g"!=/./g.flags&&t(72).f(RegExp.prototype,"flags",{configurable:!0,get:t(37)})},{29:29,37:37,72:72}],226:[function(t,e,n){t(36)("match",1,(function(t,e,n){return[function(n){"use strict";var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]}))},{36:36}],227:[function(t,e,n){t(36)("replace",2,(function(t,e,n){return[function(i,r){"use strict";var o=t(this),a=null==i?void 0:i[e];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},n]}))},{36:36}],228:[function(t,e,n){t(36)("search",1,(function(t,e,n){return[function(n){"use strict";var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]}))},{36:36}],229:[function(t,e,n){t(36)("split",2,(function(e,n,i){"use strict";var r=t(52),o=i,a=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var l=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(n,t,e);var i,u,c,h,d,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,g=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,p+"g");for(l||(i=new RegExp("^"+m.source+"$(?!\\s)",p));(u=m.exec(n))&&!((c=u.index+u[0][s])>v&&(f.push(n.slice(v,u.index)),!l&&u[s]>1&&u[0].replace(i,(function(){for(d=1;d<arguments[s]-2;d++)void 0===arguments[d]&&(u[d]=void 0)})),u[s]>1&&u.index<n[s]&&a.apply(f,u.slice(1)),h=u[0][s],v=c,f[s]>=g));)m.lastIndex===u.index&&m.lastIndex++;return v===n[s]?!h&&m.test("")||f.push(""):f.push(n.slice(v)),f[s]>g?f.slice(0,g):f}}else"0".split(void 0,0)[s]&&(i=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(t,r){var o=e(this),a=null==t?void 0:t[n];return void 0!==a?a.call(t,o,r):i.call(String(o),t,r)},i]}))},{36:36,52:52}],230:[function(t,e,n){"use strict";t(225);var i=t(7),r=t(37),o=t(29),a=/./.toString,s=function(e){t(94)(RegExp.prototype,"toString",e,!0)};t(35)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},{225:225,29:29,35:35,37:37,7:7,94:94}],231:[function(t,e,n){"use strict";var i=t(19),r=t(125);e.exports=t(22)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},{125:125,19:19,22:22}],232:[function(t,e,n){"use strict";t(108)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},{108:108}],233:[function(t,e,n){"use strict";t(108)("big",(function(t){return function(){return t(this,"big","","")}}))},{108:108}],234:[function(t,e,n){"use strict";t(108)("blink",(function(t){return function(){return t(this,"blink","","")}}))},{108:108}],235:[function(t,e,n){"use strict";t(108)("bold",(function(t){return function(){return t(this,"b","","")}}))},{108:108}],236:[function(t,e,n){"use strict";var i=t(33),r=t(106)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},{106:106,33:33}],237:[function(t,e,n){"use strict";var i=t(33),r=t(118),o=t(107),a="".endsWith;i(i.P+i.F*t(34)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),s=void 0===n?i:Math.min(r(n),i),l=String(t);return a?a.call(e,l,s):e.slice(s-l.length,s)===l}})},{107:107,118:118,33:33,34:34}],238:[function(t,e,n){"use strict";t(108)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},{108:108}],239:[function(t,e,n){"use strict";t(108)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},{108:108}],240:[function(t,e,n){"use strict";t(108)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},{108:108}],241:[function(t,e,n){var i=t(33),r=t(114),o=String.fromCharCode,a=String.fromCodePoint;i(i.S+i.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,a=0;i>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},{114:114,33:33}],242:[function(t,e,n){"use strict";var i=t(33),r=t(107);i(i.P+i.F*t(34)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{107:107,33:33,34:34}],243:[function(t,e,n){"use strict";t(108)("italics",(function(t){return function(){return t(this,"i","","")}}))},{108:108}],244:[function(t,e,n){"use strict";var i=t(106)(!0);t(55)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},{106:106,55:55}],245:[function(t,e,n){"use strict";t(108)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},{108:108}],246:[function(t,e,n){var i=t(33),r=t(117),o=t(118);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},{117:117,118:118,33:33}],247:[function(t,e,n){var i=t(33);i(i.P,"String",{repeat:t(110)})},{110:110,33:33}],248:[function(t,e,n){"use strict";t(108)("small",(function(t){return function(){return t(this,"small","","")}}))},{108:108}],249:[function(t,e,n){"use strict";var i=t(33),r=t(118),o=t(107),a="".startsWith;i(i.P+i.F*t(34)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},{107:107,118:118,33:33,34:34}],250:[function(t,e,n){"use strict";t(108)("strike",(function(t){return function(){return t(this,"strike","","")}}))},{108:108}],251:[function(t,e,n){"use strict";t(108)("sub",(function(t){return function(){return t(this,"sub","","")}}))},{108:108}],252:[function(t,e,n){"use strict";t(108)("sup",(function(t){return function(){return t(this,"sup","","")}}))},{108:108}],253:[function(t,e,n){"use strict";t(111)("trim",(function(t){return function(){return t(this,3)}}))},{111:111}],254:[function(t,e,n){"use strict";var i=t(40),r=t(41),o=t(29),a=t(33),s=t(94),l=t(66).KEY,u=t(35),c=t(103),h=t(101),d=t(124),f=t(128),p=t(127),v=t(126),g=t(59),m=t(32),y=t(49),b=t(7),w=t(117),S=t(120),A=t(92),E=t(71),T=t(76),C=t(75),x=t(72),_=t(81),k=C.f,M=x.f,O=T.f,P=i.Symbol,I=i.JSON,L=I&&I.stringify,D=f("_hidden"),R=f("toPrimitive"),N={}.propertyIsEnumerable,H=c("symbol-registry"),V=c("symbols"),j=c("op-symbols"),F=Object.prototype,B="function"==typeof P,U=i.QObject,W=!U||!U.prototype||!U.prototype.findChild,z=o&&u((function(){return 7!=E(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=k(F,e);i&&delete F[e],M(t,e,n),i&&t!==F&&M(F,e,i)}:M,G=function(t){var e=V[t]=E(P.prototype);return e._k=t,e},q=B&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Y=function(t,e,n){return t===F&&Y(j,e,n),b(t),e=S(e,!0),b(n),r(V,e)?(n.enumerable?(r(t,D)&&t[D][e]&&(t[D][e]=!1),n=E(n,{enumerable:A(0,!1)})):(r(t,D)||M(t,D,A(1,{})),t[D][e]=!0),z(t,e,n)):M(t,e,n)},X=function(t,e){b(t);for(var n,i=m(e=w(e)),r=0,o=i.length;o>r;)Y(t,n=i[r++],e[n]);return t},J=function(t){var e=N.call(this,t=S(t,!0));return!(this===F&&r(V,t)&&!r(j,t))&&(!(e||!r(this,t)||!r(V,t)||r(this,D)&&this[D][t])||e)},K=function(t,e){if(t=w(t),e=S(e,!0),t!==F||!r(V,e)||r(j,e)){var n=k(t,e);return!n||!r(V,e)||r(t,D)&&t[D][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=O(w(t)),i=[],o=0;n.length>o;)r(V,e=n[o++])||e==D||e==l||i.push(e);return i},$=function(t){for(var e,n=t===F,i=O(n?j:w(t)),o=[],a=0;i.length>a;)!r(V,e=i[a++])||n&&!r(F,e)||o.push(V[e]);return o};B||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(j,n),r(this,D)&&r(this[D],t)&&(this[D][t]=!1),z(this,t,A(1,n))};return o&&W&&z(F,t,{configurable:!0,set:e}),G(t)},s(P.prototype,"toString",(function(){return this._k})),C.f=K,x.f=Y,t(77).f=T.f=Z,t(82).f=J,t(78).f=$,o&&!t(60)&&s(F,"propertyIsEnumerable",J,!0),p.f=function(t){return G(f(t))}),a(a.G+a.W+a.F*!B,{Symbol:P});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)f(Q[tt++]);for(var et=_(f.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!B,"Symbol",{for:function(t){return r(H,t+="")?H[t]:H[t]=P(t)},keyFor:function(t){if(q(t))return g(H,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!B,"Object",{create:function(t,e){return void 0===e?E(t):X(E(t),e)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:$}),I&&a(a.S+a.F*(!B||u((function(){var t=P();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))}))),"JSON",{stringify:function(t){if(void 0!==t&&!q(t)){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);return"function"==typeof(e=i[1])&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!q(e))return e}),i[1]=e,L.apply(I,i)}}}),P.prototype[R]||t(42)(P.prototype,R,P.prototype.valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},{101:101,103:103,117:117,120:120,124:124,126:126,127:127,128:128,29:29,32:32,33:33,35:35,40:40,41:41,42:42,49:49,59:59,60:60,66:66,7:7,71:71,72:72,75:75,76:76,77:77,78:78,81:81,82:82,92:92,94:94}],255:[function(t,e,n){"use strict";var i=t(33),r=t(123),o=t(122),a=t(7),s=t(114),l=t(118),u=t(51),c=t(40).ArrayBuffer,h=t(104),d=o.ArrayBuffer,f=o.DataView,p=r.ABV&&c.isView,v=d.prototype.slice,g=r.VIEW;i(i.G+i.W+i.F*(c!==d),{ArrayBuffer:d}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||u(t)&&g in t}}),i(i.P+i.U+i.F*t(35)((function(){return!new d(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(a(this),t);for(var n=a(this).byteLength,i=s(t,n),r=s(void 0===e?n:e,n),o=new(h(this,d))(l(r-i)),u=new f(this),c=new f(o),p=0;i<r;)c.setUint8(p++,u.getUint8(i++));return o}}),t(100)("ArrayBuffer")},{100:100,104:104,114:114,118:118,122:122,123:123,33:33,35:35,40:40,51:51,7:7}],256:[function(t,e,n){var i=t(33);i(i.G+i.W+i.F*!t(123).ABV,{DataView:t(122).DataView})},{122:122,123:123,33:33}],257:[function(t,e,n){t(121)("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],258:[function(t,e,n){t(121)("Float64",8,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],259:[function(t,e,n){t(121)("Int16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],260:[function(t,e,n){t(121)("Int32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],261:[function(t,e,n){t(121)("Int8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],262:[function(t,e,n){t(121)("Uint16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],263:[function(t,e,n){t(121)("Uint32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],264:[function(t,e,n){t(121)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],265:[function(t,e,n){t(121)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}),!0)},{121:121}],266:[function(t,e,n){"use strict";var i,r=t(12)(0),o=t(94),a=t(66),s=t(70),l=t(21),u=t(51),c=t(35),h=t(125),d=a.getWeak,f=Object.isExtensible,p=l.ufstore,v={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(u(t)){var e=d(t);return!0===e?p(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(h(this,"WeakMap"),t,e)}},y=e.exports=t(22)("WeakMap",g,m,l,!0,!0);c((function(){return 7!=(new y).set((Object.freeze||Object)(v),7).get(v)}))&&(s((i=l.getConstructor(g,"WeakMap")).prototype,m),a.NEED=!0,r(["delete","has","get","set"],(function(t){var e=y.prototype,n=e[t];o(e,t,(function(e,r){if(u(e)&&!f(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)}))})))},{12:12,125:125,21:21,22:22,35:35,51:51,66:66,70:70,94:94}],267:[function(t,e,n){"use strict";var i=t(21),r=t(125);t(22)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},{125:125,21:21,22:22}],268:[function(t,e,n){"use strict";var i=t(33),r=t(38),o=t(119),a=t(118),s=t(3),l=t(15);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return s(t),e=a(i.length),n=l(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),t(5)("flatMap")},{118:118,119:119,15:15,3:3,33:33,38:38,5:5}],269:[function(t,e,n){"use strict";var i=t(33),r=t(38),o=t(119),a=t(118),s=t(116),l=t(15);i(i.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),i=l(e,0);return r(i,e,e,n,0,void 0===t?1:s(t)),i}}),t(5)("flatten")},{116:116,118:118,119:119,15:15,33:33,38:38,5:5}],270:[function(t,e,n){"use strict";var i=t(33),r=t(11)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)("includes")},{11:11,33:33,5:5}],271:[function(t,e,n){var i=t(33),r=t(68)(),o=t(40).process,a="process"==t(18)(o);i(i.G,{asap:function(t){var e=a&&o.domain;r(e?e.bind(t):t)}})},{18:18,33:33,40:40,68:68}],272:[function(t,e,n){var i=t(33),r=t(18);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},{18:18,33:33}],273:[function(t,e,n){var i=t(33);i(i.G,{global:t(40)})},{33:33,40:40}],274:[function(t,e,n){t(97)("Map")},{97:97}],275:[function(t,e,n){t(98)("Map")},{98:98}],276:[function(t,e,n){var i=t(33);i(i.P+i.R,"Map",{toJSON:t(20)("Map")})},{20:20,33:33}],277:[function(t,e,n){var i=t(33);i(i.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},{33:33}],278:[function(t,e,n){var i=t(33);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},{33:33}],279:[function(t,e,n){var i=t(33),r=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*r}})},{33:33}],280:[function(t,e,n){var i=t(33),r=t(64),o=t(62);i(i.S,"Math",{fscale:function(t,e,n,i,a){return o(r(t,e,n,i,a))}})},{33:33,62:62,64:64}],281:[function(t,e,n){var i=t(33);i(i.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)+(i>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},{33:33}],282:[function(t,e,n){var i=t(33);i(i.S,"Math",{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>16,s=i>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>16)+((r*s>>>0)+(65535&l)>>16)}})},{33:33}],283:[function(t,e,n){var i=t(33);i(i.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)-(i>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},{33:33}],284:[function(t,e,n){var i=t(33);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},{33:33}],285:[function(t,e,n){var i=t(33),r=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*r}})},{33:33}],286:[function(t,e,n){var i=t(33);i(i.S,"Math",{scale:t(64)})},{33:33,64:64}],287:[function(t,e,n){var i=t(33);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},{33:33}],288:[function(t,e,n){var i=t(33);i(i.S,"Math",{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>>16,s=i>>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>>16)+((r*s>>>0)+(65535&l)>>>16)}})},{33:33}],289:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(3),a=t(72);t(29)&&i(i.P+t(74),"Object",{__defineGetter__:function(t,e){a.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],290:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(3),a=t(72);t(29)&&i(i.P+t(74),"Object",{__defineSetter__:function(t,e){a.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],291:[function(t,e,n){var i=t(33),r=t(84)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},{33:33,84:84}],292:[function(t,e,n){var i=t(33),r=t(85),o=t(117),a=t(75),s=t(24);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),l=a.f,u=r(i),c={},h=0;u.length>h;)void 0!==(n=l(i,e=u[h++]))&&s(c,e,n);return c}})},{117:117,24:24,33:33,75:75,85:85}],293:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(120),a=t(79),s=t(75).f;t(29)&&i(i.P+t(74),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=s(n,i))return e.get}while(n=a(n))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],294:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(120),a=t(79),s=t(75).f;t(29)&&i(i.P+t(74),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=s(n,i))return e.set}while(n=a(n))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],295:[function(t,e,n){var i=t(33),r=t(84)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},{33:33,84:84}],296:[function(t,e,n){"use strict";var i=t(33),r=t(40),o=t(23),a=t(68)(),s=t(128)("observable"),l=t(3),u=t(7),c=t(6),h=t(93),d=t(42),f=t(39),p=f.RETURN,v=function(t){return null==t?void 0:l(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},m=function(t){return void 0===t._o},y=function(t){m(t)||(t._o=void 0,g(t))},b=function(t,e){u(t),this._c=void 0,this._o=t,t=new w(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(e){return void t.error(e)}m(this)&&g(this)};b.prototype=h({},{unsubscribe:function(){y(this)}});var w=function(t){this._s=t};w.prototype=h({},{next:function(t){var e=this._s;if(!m(e)){var n=e._o;try{var i=v(n.next);if(i)return i.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(m(e))throw t;var n=e._o;e._o=void 0;try{var i=v(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!m(e)){var n=e._o;e._o=void 0;try{var i=v(n.complete);t=i?i.call(n,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var S=function(t){c(this,S,"Observable","_f")._f=l(t)};h(S.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)((function(n,i){l(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n})}))}}),h(S,{from:function(t){var e="function"==typeof this?this:S,n=v(u(t)[s]);if(n){var i=u(n.call(t));return i.constructor===e?i:new e((function(t){return i.subscribe(t)}))}return new e((function(e){var n=!1;return a((function(){if(!n){try{if(f(t,!1,(function(t){if(e.next(t),n)return p}))===p)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}})),function(){n=!0}}))},of:function(){for(var t=0,e=arguments.length,n=Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:S)((function(t){var e=!1;return a((function(){if(!e){for(var i=0;i<n.length;++i)if(t.next(n[i]),e)return;t.complete()}})),function(){e=!0}}))}}),d(S.prototype,s,(function(){return this})),i(i.G,{Observable:S}),t(100)("Observable")},{100:100,128:128,23:23,3:3,33:33,39:39,40:40,42:42,6:6,68:68,7:7,93:93}],297:[function(t,e,n){"use strict";var i=t(33),r=t(23),o=t(40),a=t(104),s=t(91);i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},{104:104,23:23,33:33,40:40,91:91}],298:[function(t,e,n){"use strict";var i=t(33),r=t(69),o=t(90);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},{33:33,69:69,90:90}],299:[function(t,e,n){var i=t(67),r=t(7),o=i.key,a=i.set;i.exp({defineMetadata:function(t,e,n,i){a(t,e,r(n),o(i))}})},{67:67,7:7}],300:[function(t,e,n){var i=t(67),r=t(7),o=i.key,a=i.map,s=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),i=a(r(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var l=s.get(e);return l.delete(n),!!l.size||s.delete(e)}})},{67:67,7:7}],301:[function(t,e,n){var i=t(231),r=t(10),o=t(67),a=t(7),s=t(79),l=o.keys,u=o.key,c=function(t,e){var n=l(t,e),o=s(t);if(null===o)return n;var a=c(o,e);return a.length?n.length?r(new i(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?void 0:u(arguments[1]))}})},{10:10,231:231,67:67,7:7,79:79}],302:[function(t,e,n){var i=t(67),r=t(7),o=t(79),a=i.has,s=i.get,l=i.key,u=function(t,e,n){if(a(t,e,n))return s(t,e,n);var i=o(e);return null!==i?u(t,i,n):void 0};i.exp({getMetadata:function(t,e){return u(t,r(e),arguments.length<3?void 0:l(arguments[2]))}})},{67:67,7:7,79:79}],303:[function(t,e,n){var i=t(67),r=t(7),o=i.keys,a=i.key;i.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:a(arguments[1]))}})},{67:67,7:7}],304:[function(t,e,n){var i=t(67),r=t(7),o=i.get,a=i.key;i.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},{67:67,7:7}],305:[function(t,e,n){var i=t(67),r=t(7),o=t(79),a=i.has,s=i.key,l=function(t,e,n){if(a(t,e,n))return!0;var i=o(e);return null!==i&&l(t,i,n)};i.exp({hasMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},{67:67,7:7,79:79}],306:[function(t,e,n){var i=t(67),r=t(7),o=i.has,a=i.key;i.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},{67:67,7:7}],307:[function(t,e,n){var i=t(67),r=t(7),o=t(3),a=i.key,s=i.set;i.exp({metadata:function(t,e){return function(n,i){s(t,e,(void 0!==i?r:o)(n),a(i))}}})},{3:3,67:67,7:7}],308:[function(t,e,n){t(97)("Set")},{97:97}],309:[function(t,e,n){t(98)("Set")},{98:98}],310:[function(t,e,n){var i=t(33);i(i.P+i.R,"Set",{toJSON:t(20)("Set")})},{20:20,33:33}],311:[function(t,e,n){"use strict";var i=t(33),r=t(106)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},{106:106,33:33}],312:[function(t,e,n){"use strict";var i=t(33),r=t(28),o=t(118),a=t(52),s=t(37),l=RegExp.prototype,u=function(t,e){this._r=t,this._s=e};t(54)(u,"RegExp String",(function(){var t=this._r.exec(this._s);return{value:t,done:null===t}})),i(i.P,"String",{matchAll:function(t){if(r(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in l?String(t.flags):s.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=o(t.lastIndex),new u(i,e)}})},{118:118,28:28,33:33,37:37,52:52,54:54}],313:[function(t,e,n){"use strict";var i=t(33),r=t(109);i(i.P,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},{109:109,33:33}],314:[function(t,e,n){"use strict";var i=t(33),r=t(109);i(i.P,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},{109:109,33:33}],315:[function(t,e,n){"use strict";t(111)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},{111:111}],316:[function(t,e,n){"use strict";t(111)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},{111:111}],317:[function(t,e,n){t(126)("asyncIterator")},{126:126}],318:[function(t,e,n){t(126)("observable")},{126:126}],319:[function(t,e,n){var i=t(33);i(i.S,"System",{global:t(40)})},{33:33,40:40}],320:[function(t,e,n){t(97)("WeakMap")},{97:97}],321:[function(t,e,n){t(98)("WeakMap")},{98:98}],322:[function(t,e,n){t(97)("WeakSet")},{97:97}],323:[function(t,e,n){t(98)("WeakSet")},{98:98}],324:[function(t,e,n){for(var i=t(141),r=t(81),o=t(94),a=t(40),s=t(42),l=t(58),u=t(128),c=u("iterator"),h=u("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),v=0;v<p.length;v++){var g,m=p[v],y=f[m],b=a[m],w=b&&b.prototype;if(w&&(w[c]||s(w,c,d),w[h]||s(w,h,m),l[m]=d,y))for(g in i)w[g]||o(w,g,i[g],!0)}},{128:128,141:141,40:40,42:42,58:58,81:81,94:94}],325:[function(t,e,n){var i=t(33),r=t(113);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},{113:113,33:33}],326:[function(t,e,n){var i=t(40),r=t(33),o=t(46),a=t(88),s=i.navigator,l=!!s&&/MSIE .\./.test(s.userAgent),u=function(t){return l?function(e,n){return t(o(a,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),n)}:t};r(r.G+r.B+r.F*l,{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},{33:33,40:40,46:46,88:88}],327:[function(t,e,n){t(254),t(191),t(193),t(192),t(195),t(197),t(202),t(196),t(194),t(204),t(203),t(199),t(200),t(198),t(190),t(201),t(205),t(206),t(157),t(159),t(158),t(208),t(207),t(178),t(188),t(189),t(179),t(180),t(181),t(182),t(183),t(184),t(185),t(186),t(187),t(161),t(162),t(163),t(164),t(165),t(166),t(167),t(168),t(169),t(170),t(171),t(172),t(173),t(174),t(175),t(176),t(177),t(241),t(246),t(253),t(244),t(236),t(237),t(242),t(247),t(249),t(232),t(233),t(234),t(235),t(238),t(239),t(240),t(243),t(245),t(248),t(250),t(251),t(252),t(152),t(154),t(153),t(156),t(155),t(140),t(138),t(145),t(142),t(148),t(150),t(137),t(144),t(134),t(149),t(132),t(147),t(146),t(139),t(143),t(131),t(133),t(136),t(135),t(151),t(141),t(224),t(230),t(225),t(226),t(227),t(228),t(229),t(209),t(160),t(231),t(266),t(267),t(255),t(256),t(261),t(264),t(265),t(259),t(262),t(260),t(263),t(257),t(258),t(210),t(211),t(212),t(213),t(214),t(217),t(215),t(216),t(218),t(219),t(220),t(221),t(223),t(222),t(270),t(268),t(269),t(311),t(314),t(313),t(315),t(316),t(312),t(317),t(318),t(292),t(295),t(291),t(289),t(290),t(293),t(294),t(276),t(310),t(275),t(309),t(321),t(323),t(274),t(308),t(320),t(322),t(273),t(319),t(272),t(277),t(278),t(279),t(280),t(281),t(283),t(282),t(284),t(285),t(286),t(288),t(287),t(297),t(298),t(299),t(300),t(302),t(301),t(304),t(303),t(305),t(306),t(307),t(271),t(296),t(326),t(325),t(324),e.exports=t(23)},{131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,23:23,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,292:292,293:293,294:294,295:295,296:296,297:297,298:298,299:299,300:300,301:301,302:302,303:303,304:304,305:305,306:306,307:307,308:308,309:309,310:310,311:311,312:312,313:313,314:314,315:315,316:316,317:317,318:318,319:319,320:320,321:321,322:322,323:323,324:324,325:325,326:326}],328:[function(t,e,i){(function(t){!function(t){"use strict";function n(t,e,n,o){var a=e&&e.prototype instanceof r?e:r,s=Object.create(a.prototype),l=new d(o||[]);return s._invoke=function(t,e,n){var r=T;return function(o,a){if(r===x)throw new Error("Generator is already running");if(r===_){if("throw"===o)throw a;return p()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=u(s,n);if(l){if(l===k)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===T)throw r=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=x;var c=i(t,e,n);if("normal"===c.type){if(r=n.done?_:C,c.arg===k)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=_,n.method="throw",n.arg=c.arg)}}}(t,n,l),s}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function l(e){function n(t,r,o,a){var s=i(e[t],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&m.call(u,"__await")?Promise.resolve(u.__await).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):Promise.resolve(u).then((function(t){l.value=t,o(l)}),a)}a(s.arg)}var r;"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(t,e){function i(){return new Promise((function(i,r){n(t,e,i,r)}))}return r=r?r.then(i,i):i()}}function u(t,e){var n=t.iterator[e.method];if(n===v){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=v,u(t,e),"throw"===e.method))return k;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var r=i(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,k;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,k):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,k)}function c(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(c,this),this.reset(!0)}function f(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(m.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=v,e.done=!0,e};return i.next=i}}return{next:p}}function p(){return{value:v,done:!0}}var v,g=Object.prototype,m=g.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},b=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",S=y.toStringTag||"@@toStringTag",A="object"==typeof e,E=t.regeneratorRuntime;if(E)A&&(e.exports=E);else{(E=t.regeneratorRuntime=A?e.exports:{}).wrap=n;var T="suspendedStart",C="suspendedYield",x="executing",_="completed",k={},M={};M[b]=function(){return this};var O=Object.getPrototypeOf,P=O&&O(O(f([])));P&&P!==g&&m.call(P,b)&&(M=P);var I=a.prototype=r.prototype=Object.create(M);o.prototype=I.constructor=a,a.constructor=o,a[S]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,S in t||(t[S]="GeneratorFunction")),t.prototype=Object.create(I),t},E.awrap=function(t){return{__await:t}},s(l.prototype),l.prototype[w]=function(){return this},E.AsyncIterator=l,E.async=function(t,e,i,r){var o=new l(n(t,e,i,r));return E.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},s(I),I[S]="Generator",I[b]=function(){return this},I.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},E.values=f,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,i){return o.type="throw",o.arg=t,n.next=e,i&&(n.method="next",n.arg=v),!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=m.call(r,"catchLoc"),s=m.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&m.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,k):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),k},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),k}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;h(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:f(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=v),k}}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])},153:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){var t,e,n,i,r,o,a=(t=/^(?:application|text)\/xml/,e=/^application\/json/,n=function(n,i){return null==n&&(n=i.getResponseHeader("content-type")),t.test(n)?i.responseXML:e.test(n)&&""!==i.responseText?JSON.parse(i.responseText):i.responseText},i=function(t){return t.status>=200&&t.status<300||304===t.status||0===t.status&&"file:"===window.location.protocol},r=function(t,e,r,a,s){return function(){if(o(t,r),4===t.readyState){var l=t.status,u=n(e.headers&&e.headers.Accept,t);if(i(t))e.success&&e.success(u),a&&a(u);else{var c=new Error("Server responded with a status of "+l);e.error&&e.error(t,l,c),s&&s(t)}}}},o=function(t,e){if(e){for(var n=["readyState","status","statusText","responseText","responseXML","setRequestHeader","getAllResponseHeaders","getResponseHeader","statusCode","abort"],i=0;i<n.length;i++){var r=n[i];try{e[r]="function"==typeof t[r]?t[r].bind(t):t[r]}catch(t){console.log(t)}}return e}},function(t){if(null==t)throw new Error("You must provide options");null==t.type&&(t.type="GET");var e,n,i=new XMLHttpRequest,s=a.Promise||"undefined"!=typeof Promise&&Promise,l=s&&new s((function(t,i){e=t,n=i}));if(t.contentType&&(null==t.headers&&(t.headers={}),t.headers["Content-Type"]=t.contentType),"GET"===t.type&&"object"==typeof t.data){var u="",c=function(t,e){return null==e?"":"&"+encodeURIComponent(t)+"="+encodeURIComponent(e)};for(var h in t.data)u+=c(h,t.data[h]);if(u){var d=-1===t.url.indexOf("?")?"?":"&";t.url+=d+u.substring(1)}}if(i.onreadystatechange=r(i,t,l,e,n),i.open(t.type,t.url,!1!==t.async),!t.headers||!t.headers.Accept){var f="*/".concat("*"),p={"*":f,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"};i.setRequestHeader("Accept",t.dataType&&p[t.dataType]?p[t.dataType]+("*"!==t.dataType?", "+f+"; q=0.01":""):p["*"])}if(t.headers)for(var h in t.headers)i.setRequestHeader(h,t.headers[h]);return t.beforeSend&&t.beforeSend(i),i.send(t.data),t.originalXhr=i,o(i,l),l||i});return a})?i.call(e,n,e,t):i)||(t.exports=r)},5470:function(t,e,n){var i;i=function(){var t=!0;function e(e){function n(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function i(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var r,a=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(e)&&/android/i.test(e),l=/nexus\s*[0-6]\s*/i.test(e),u=!l&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),h=/silk/i.test(e),d=/sailfish/i.test(e),f=/tizen/i.test(e),p=/(web|hpw)(o|0)s/i.test(e),v=/windows phone/i.test(e),g=(/SamsungBrowser/i.test(e),!v&&/windows/i.test(e)),m=!a&&!h&&/macintosh/i.test(e),y=!s&&!d&&!f&&!p&&/linux/i.test(e),b=i(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),w=n(/version\/(\d+(\.\d+)?)/i),S=/tablet/i.test(e)&&!/tablet pc/i.test(e),A=!S&&/[^-]mobi/i.test(e),E=/xbox/i.test(e);/opera/i.test(e)?r={name:"Opera",opera:t,version:w||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?r={name:"Opera",opera:t,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||w}:/SamsungBrowser/i.test(e)?r={name:"Samsung Internet for Android",samsungBrowser:t,version:w||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(e)?r={name:"NAVER Whale browser",whale:t,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(e)?r={name:"MZ Browser",mzbrowser:t,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(e)?r={name:"Opera Coast",coast:t,version:w||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(e)?r={name:"Focus",focus:t,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:t,version:w||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?r={name:"UC Browser",ucbrowser:t,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?r={name:"Maxthon",maxthon:t,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?r={name:"Epiphany",epiphany:t,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?r={name:"Puffin",puffin:t,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?r={name:"Sleipnir",sleipnir:t,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?r={name:"K-Meleon",kMeleon:t,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:v?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},b?(r.msedge=t,r.version=b):(r.msie=t,r.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:t,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?r={name:"Microsoft Edge",msedge:t,version:b}:/vivaldi/i.test(e)?r={name:"Vivaldi",vivaldi:t,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||w}:d?r={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:t,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(r={name:"Firefox",firefox:t,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=t,r.osname="Firefox OS")):h?r={name:"Amazon Silk",silk:t,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:t,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?r={name:"SlimerJS",slimer:t,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:w||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(r={name:"WebOS",osname:"WebOS",webos:t,version:w||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=t)):/bada/i.test(e)?r={name:"Bada",osname:"Bada",bada:t,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:f?r={name:"Tizen",osname:"Tizen",tizen:t,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||w}:/qupzilla/i.test(e)?r={name:"QupZilla",qupzilla:t,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||w}:/chromium/i.test(e)?r={name:"Chromium",chromium:t,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||w}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?r={name:"Android",version:w}:/safari|applewebkit/i.test(e)?(r={name:"Safari",safari:t},w&&(r.version=w)):a?(r={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},w&&(r.version=w)):r=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:n(/googlebot\/(\d+(\.\d+))/i)||w}:{name:n(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(r.name=r.name||"Blink",r.blink=t):(r.name=r.name||"Webkit",r.webkit=t),!r.version&&w&&(r.version=w)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=t,r.version=r.version||n(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!s&&!r.silk?!r.windowsphone&&a?(r[a]=t,r.ios=t,r.osname="iOS"):m?(r.mac=t,r.osname="macOS"):E?(r.xbox=t,r.osname="Xbox"):g?(r.windows=t,r.osname="Windows"):y&&(r.linux=t,r.osname="Linux"):(r.android=t,r.osname="Android");var T="";r.windows?T=function(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?T=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?T=(T=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?T=(T=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?T=n(/android[ \/-](\d+(\.\d+)*)/i):r.webos?T=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?T=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?T=n(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(T=n(/tizen[\/\s](\d+(\.\d+)*)/i)),T&&(r.osversion=T);var C=!r.windows&&T.split(".")[0];return S||u||"ipad"==a||s&&(3==C||C>=4&&!A)||r.silk?r.tablet=t:(A||"iphone"==a||"ipod"==a||s||l||r.blackberry||r.webos||r.bada)&&(r.mobile=t),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.whale&&1===o([r.version,"1.0"])||r.mzbrowser&&1===o([r.version,"6.0"])||r.focus&&1===o([r.version,"1.0"])||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=t:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=t:r.x=t,r}var n=e("undefined"!=typeof navigator&&navigator.userAgent||"");function i(t){return t.split(".").length}function r(t,e){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)i.push(e(t[n]));return i}function o(t){for(var e=Math.max(i(t[0]),i(t[1])),n=r(t,(function(t){var n=e-i(t);return r((t+=new Array(n+1).join(".0")).split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));--e>=0;){if(n[0][e]>n[1][e])return 1;if(n[0][e]!==n[1][e])return-1;if(0===e)return 0}}function a(t,i,r){var a=n;"string"==typeof i&&(r=i,i=void 0),void 0===i&&(i=!1),r&&(a=e(r));var s=""+a.version;for(var l in t)if(t.hasOwnProperty(l)&&a[l]){if("string"!=typeof t[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(t));return o([s,t[l]])<0}return i}return n.test=function(t){for(var e=0;e<t.length;++e){var i=t[e];if("string"==typeof i&&i in n)return!0}return!1},n.isUnsupportedBrowser=a,n.compareVersions=o,n.check=function(t,e,n){return!a(t,e,n)},n._detect=e,n.detect=e,n},t.exports?t.exports=i():n.amdD("bowser",i)},2753:function(){!function(){"use strict";var t=10,e=16,n=4.5,i=1.5,r=[0,0,0,.5],o=!1,a={};window.captionator=a,a.CaptionatorCueStructure=function(t,e){var n=this;this.isTimeDependent=!1,this.cueSource=t,this.options=e,this.processedCue=null,this.toString=function(i){if(!1!==e.processCueHTML){var r=function(t,e){if(null===n.processedCue){var o,a,s="";for(o in t)o.match(/^\d+$/)&&t.hasOwnProperty(o)&&((a=t[o])instanceof Object&&a.children&&a.children.length?"v"===a.token?s+='<q data-voice="'+a.voice.replace(/[\"]/g,"")+"\" class='voice speaker-"+a.voice.replace(/[^a-z0-9]+/gi,"-").toLowerCase()+" webvtt-span' title=\""+a.voice.replace(/[\"]/g,"")+'">'+r(a.children,e+1)+"</q>":"c"===a.token?s+="<span class='webvtt-span webvtt-class-span "+a.classes.join(" ")+"'>"+r(a.children,e+1)+"</span>":a.timeIn>0?null==i||i>0&&i>=a.timeIn?s+="<span class='webvtt-span webvtt-timestamp-span' data-timestamp='"+a.token+"' data-timestamp-seconds='"+a.timeIn+"'>"+r(a.children,e+1)+"</span>":i<a.timeIn&&(s+="<span class='webvtt-span webvtt-timestamp-span webvtt-cue-future' aria-hidden='true' style='opacity: 0;' data-timestamp='"+a.token+"' data-timestamp-seconds='"+a.timeIn+"'>"+r(a.children,e+1)+"</span>"):s+=a.rawToken+r(a.children,e+1)+"</"+a.token+">":(a instanceof String||"string"==typeof a||"number"==typeof a)&&(s+=a));return!n.isTimeDependent&&0===e&&(n.processedCue=s),s}return n.processedCue};return r(this,0)}return t},this.getPlain=function(n){if(!1!==e.processCueHTML){var i=function(t,e){var r,o,a="";for(r in t)r.match(/^\d+$/)&&t.hasOwnProperty(r)&&((o=t[r])instanceof Object&&o.children&&o.children.length?o.timeIn>0?(null==n||n>0&&n>=o.timeIn)&&(a+=i(o.children,e+1)):a+=i(o.children,e+1):(o instanceof String||"string"==typeof o||"number"==typeof o)&&(a+=o));return a};return i(this,0)}return t.replace(/<[^>]*>/gi,"")}},a.CaptionatorCueStructure.prototype=[],a.TextTrack=function(t,e,n,i,r,o){this.onload=function(){},this.onerror=function(){},this.oncuechange=function(){},this.id=t||"",this.internalMode=a.TextTrack.OFF,this.cues=new a.TextTrackCueList(this),this.activeCues=new a.ActiveTextTrackCueList(this.cues,this),this.kind=e||"subtitles",this.label=n||"",this.language=i||"",this.src=r||"",this.readyState=a.TextTrack.NONE,this.internalDefault=o||!1,this.getMode=function(){return this.internalMode},this.setMode=function(t){if(-1===[a.TextTrack.OFF,a.TextTrack.HIDDEN,a.TextTrack.SHOWING].indexOf(t))throw new Error("Illegal mode value for track: "+t);t!==this.internalMode&&(this.internalMode=t,this.readyState===a.TextTrack.NONE&&this.src.length>0&&t>a.TextTrack.OFF&&this.loadTrack(this.src,null),this.videoNode._captionator_dirtyBit=!0,a.rebuildCaptions(this.videoNode),t===a.TextTrack.OFF&&(this.cues.length=0,this.readyState=a.TextTrack.NONE))},this.getDefault=function(){return this.internalDefault},Object.prototype.__defineGetter__?(this.__defineGetter__("mode",this.getMode),this.__defineSetter__("mode",this.setMode),this.__defineGetter__("default",this.getDefault)):Object.defineProperty&&(Object.defineProperty(this,"mode",{get:this.getMode,set:this.setMode}),Object.defineProperty(this,"default",{get:this.getDefault})),this.loadTrack=function(t,e){var n,i=new XMLHttpRequest;if(this.readyState===a.TextTrack.LOADED)e instanceof Function&&e(n);else{this.src=t,this.readyState=a.TextTrack.LOADING;var r=this;i.open("GET",t,!0),i.onreadystatechange=function(t){if(4===i.readyState)if(200===i.status){var o=r.videoNode._captionatorOptions||{};"metadata"===r.kind&&(o.processCueHTML=!1,o.sanitiseCueHTML=!1),n=a.parseCaptions(i.responseText,o),r.readyState=a.TextTrack.LOADED,r.cues.loadCues(n),r.activeCues.refreshCues.apply(r.activeCues),r.videoNode._captionator_dirtyBit=!0,a.rebuildCaptions(r.videoNode),r.onload.call(this),e instanceof Function&&e.call(r,n)}else r.readyState=a.TextTrack.ERROR,r.onerror()};try{i.send(null)}catch(t){r.readyState=a.TextTrack.ERROR,r.onerror(t)}}},this.addCue=function(t){if(!(t&&t instanceof a.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");this.cues.addCue(t)},this.removeCue=function(){}},a.TextTrack.NONE=0,a.TextTrack.LOADING=1,a.TextTrack.LOADED=2,a.TextTrack.ERROR=3,a.TextTrack.OFF=0,a.TextTrack.HIDDEN=1,a.TextTrack.SHOWING=2,a.TextTrackCue=function(t,e,n,i,r,o,s){if(this.id=t,this.track=s instanceof a.TextTrack?s:null,this.startTime=parseFloat(e),this.endTime=parseFloat(n)>=this.startTime?parseFloat(n):this.startTime,this.text="string"==typeof i||i instanceof a.CaptionatorCueStructure?i:"",this.settings="string"==typeof r?r:"",this.intSettings={},this.pauseOnExit=!!o,this.wasActive=!1,this.direction="horizontal",this.snapToLines=!0,this.linePosition="auto",this.textPosition=50,this.size=0,this.alignment="middle",this.settings.length){var l=this.intSettings,u=this;r=r.split(/\s+/).filter((function(t){return t.length>0})),r instanceof Array&&r.forEach((function(t){var e={D:"direction",L:"linePosition",T:"textPosition",A:"alignment",S:"size"};e[(t=t.split(":"))[0]]&&(l[e[t[0]]]=t[1]),e[t[0]]in u&&(u[e[t[0]]]=t[1])}))}this.linePosition.match(/\%/)&&(this.snapToLines=!1),this.getCueAsSource=function(){return String(this.text)},this.getCueAsHTML=function(){var t=document.createDocumentFragment(),e=document.createElement("div");return e.innerHTML=String(this.text),Array.prototype.forEach.call(e.childNodes,(function(e){t.appendChild(e.cloneNode(!0))})),t},this.isActive=function(){var t=0;if(this.track instanceof a.TextTrack&&(this.track.mode===a.TextTrack.SHOWING||this.track.mode===a.TextTrack.HIDDEN)&&this.track.readyState===a.TextTrack.LOADED)try{if(t=this.track.videoNode.currentTime,this.startTime<=t&&this.endTime>=t)return this.wasActive||(this.wasActive=!0,this.onenter()),!0}catch(t){return!1}return this.wasActive&&(this.wasActive=!1,this.onexit()),!1},Object.prototype.__defineGetter__?this.__defineGetter__("active",this.isActive):Object.defineProperty&&Object.defineProperty(this,"active",{get:this.isActive}),this.toString=function(){return"TextTrackCue:"+this.id+"\n"+String(this.text)},this.onenter=function(){},this.onexit=function(){}},a.TextTrackCueList=function(t){this.track=t instanceof a.TextTrack?t:null,this.getCueById=function(t){return this.filter((function(e){return e.id===t}))[0]},this.loadCues=function(t){for(var e=0;e<t.length;e++)t[e].track=this.track,Array.prototype.push.call(this,t[e])},this.addCue=function(t){if(!(t&&t instanceof a.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");if(t.track!==this.track&&t.track)throw new Error("This cue is associated with a different track!");Array.prototype.push.call(this,t)},this.toString=function(){return"[TextTrackCueList]"}},a.TextTrackCueList.prototype=[],a.ActiveTextTrackCueList=function(t,e){this.refreshCues=function(){if(t.length){var n=this,i=!1,r=[].slice.call(this,0);if(this.length=0,t.forEach((function(t){t.active&&(n.push(t),n[n.length-1]!==r[n.length-1]&&(i=!0))})),i)try{e.oncuechange()}catch(t){}}},this.toString=function(){return"[ActiveTextTrackCueList]"},this.refreshCues()},a.ActiveTextTrackCueList.prototype=new a.TextTrackCueList(null);var s=function(t){this.targetObject=t,this.currentTime=0;this.addEventListener=function(t,e,n){"timeupdate"===t&&e instanceof Function&&(this.timeupdateEventHandler=e)},this.attachEvent=function(t,e){"timeupdate"===t&&e instanceof Function&&(this.timeupdateEventHandler=e)},this.updateTime=function(t){isNaN(t)||(this.currentTime=t)}};a.rebuildCaptions=function(t){var e,n=t.textTracks||[],i=(t._captionatorOptions instanceof Object&&t._captionatorOptions,t.currentTime),r=[],o=[];(n.forEach((function(t,e){t.mode===a.TextTrack.SHOWING&&t.readyState===a.TextTrack.LOADED&&(o=(o=[].slice.call(t.activeCues,0)).sort((function(t,e){return t.startTime>e.startTime?-1:1})),r=r.concat(o))})),e=r.map((function(t){return t.track.id+"."+t.id+":"+t.text.toString(i).length})),!a.compareArray(e,t._captionator_previousActiveCues)||t._captionator_dirtyBit)&&(t._captionator_dirtyBit=!1,t._captionator_availableCueArea=null,t._captionator_previousActiveCues=e,a.styleCueCanvas(t),[].slice.call(t._descriptionContainerObject.getElementsByTagName("div"),0).concat([].slice.call(t._containerObject.getElementsByTagName("div"),0)).forEach((function(t){t.cueObject&&!t.cueObject.active&&(t.cueObject.rendered=!1,t.cueObject.domNode=null,t.parentElement.removeChild(t))})),r.forEach((function(e){var n,r;"metadata"!==e.track.kind&&e.mode!==a.TextTrack.HIDDEN&&(e.rendered?(r=(n=e.domNode).getElementsByClassName("captionator-cue-inner")[0],e.text.toString(i)!==n.currentText&&(n.currentText=e.text.toString(i),r.innerHTML=n.currentText,r.spanified=!1)):(n=document.createElement("div"),(r=document.createElement("span")).className="captionator-cue-inner",n.id=String(e.id).length?e.id:a.generateID(),n.className="captionator-cue",n.appendChild(r),n.cueObject=e,e.domNode=n,n.setAttribute("lang",e.track.language),n.currentText=e.text.toString(i),r.innerHTML=n.currentText,e.rendered=!0,"descriptions"===e.track.kind?t._descriptionContainerObject.appendChild(n):t._containerObject.appendChild(n)),"descriptions"!==e.track.kind&&a.styleCue(n,e,t))})))},a.captionify=function(l,u,c){var h=[],d=0;if((c=c instanceof Object?c:{}).minimumFontSize&&"number"==typeof c.minimumFontSize&&(t=c.minimumFontSize),c.minimumLineHeight&&"number"==typeof c.minimumLineHeight&&(e=c.minimumLineHeight),c.fontSizeVerticalPercentage&&"number"==typeof c.fontSizeVerticalPercentage&&(n=c.fontSizeVerticalPercentage),c.lineHeightRatio&&"number"!=typeof c.lineHeightRatio&&(i=c.lineHeightRatio),c.cueBackgroundColour&&c.cueBackgroundColour instanceof Array&&(r=c.cueBackgroundColour),HTMLVideoElement||l instanceof s||c.forceCaptionify){if("function"!=typeof document.createElement("video").addTextTrack&&"function"!=typeof document.createElement("video").addTrack||c.forceCaptionify){if(!o&&c.exportObjects&&(window.TextTrack=a.TextTrack,window.TextTrackCueList=a.TextTrackCueList,window.ActiveTextTrackCueList=a.ActiveTextTrackCueList,window.TextTrackCue=a.TextTrackCue,o=!0),l&&!1!==l&&null!=l)if(l instanceof Array)for(d=0;d<l.length;d++)"string"==typeof l[d]?h=h.concat([].slice.call(document.querySelectorAll(l[d]),0)):l[d].constructor===HTMLVideoElement&&h.push(l[d]);else"string"==typeof l?h=[].slice.call(document.querySelectorAll(l),0):l.constructor===HTMLVideoElement&&h.push(l);else h=[].slice.call(document.getElementsByTagName("video"),0);return!!h.length&&(h.forEach((function(t){t.addTextTrack=function(e,n,i,r,o,s,l){var u,c=["subtitles","captions","descriptions","captions","metadata","chapters"];c.slice(0,7);if(e="string"==typeof e?e:"",i="string"==typeof i?i:"",r="string"==typeof r?r:"",l="boolean"==typeof l&&l,!c.filter((function(t){return n===t})).length)throw a.createDOMException(12,"DOMException 12: SYNTAX_ERR: You must use a valid kind when creating a TimedTextTrack.","SYNTAX_ERR");return!!(u=new a.TextTrack(e,n,i,r,o,null))&&(t.textTracks instanceof Array||(t.textTracks=[]),t.textTracks.push(u),u)},a.processVideoElement(h[d],u,c)})),!0)}return!1}return!1},a.parseCaptions=function(t,e){e=e instanceof Object?e:{};var n="",i=[],r="",o=[],s=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\,(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,l=/^(\d+)?:?(\d{2}):(\d{2})\.(\d+)\,(\d+)?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,u=/^(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s*(.*)/,c=/(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)/,h=/^([\d\.]+)\s+\+([\d\.]+)\s*(.*)/,d=/^\[(\d{2})?:?(\d{2})\:(\d{2})\.(\d{2,3})\]\s*(.*?)$/,f=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,p=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,v=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g,g=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)/;if(t){var m=function(t){var n,i,r,o,s,l=new a.CaptionatorCueStructure(t,e),u=[],h=[],d=0,f=function(t){return!!t.replace(/[^a-z0-9]+/gi,"").length};for(n in r=l,u=t.split(/(<\/?[^>]+>)/gi))if(u.hasOwnProperty(n))if("<"===(i=u[n]).substr(0,1)){if("/"===i.substr(1,1)){var p=i.substr(2).split(/[\s>]+/g)[0];if(h.length>0){var v=0;for(d=h.length-1;d>=0;d--){if(v=d,h[d][h[d].length-1].token===p)break}r=h[v],h=h.slice(0,v)}}else if(i.substr(1).match(c)||i.match(/^<v\s+[^>]+>/i)||i.match(/^<c[a-z0-9\-\_\.]+>/)||i.match(/^<(b|i|u|ruby|rt)>/)||!1!==e.sanitiseCueHTML){var g={token:i.replace(/[<\/>]+/gi,"").split(/[\s\.]+/)[0],rawToken:i,children:[]};"v"===g.token?g.voice=i.match(/^<v\s*([^>]+)>/i)[1]:"c"===g.token?g.classes=i.replace(/[<\/>\s]+/gi,"").split(/[\.]+/gi).slice(1).filter(f):!(o=g.rawToken.match(c))||(l.isTimeDependent=!0,s=o.slice(1),g.timeIn=parseInt(60*(s[0]||0)*60,10)+parseInt(60*(s[1]||0),10)+parseInt(s[2]||0,10)+parseFloat("0."+(s[3]||0))),r.push(g),h.push(r),r=g.children}}else!1!==e.sanitiseCueHTML&&(i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\&/g,"&amp;"),e.ignoreWhitespace||(i=i.replace(/\n+/g,"<br />"))),r.push(i);return l},y=function(t){var e,n=0;return"string"!=typeof t?0:((e=g.exec(t))&&(e=e.slice(1),n=parseInt(60*(e[0]||0)*60,10)+parseInt(60*(e[1]||0),10)+parseInt(e[2]||0,10)+parseFloat("0."+(e[3]||0))),n)};if(i=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),/<tt\s+xml/gi.exec(t)){var b=document.createElement("ttml");b.innerHTML=t;var w=[].slice.call(b.querySelectorAll("[begin],[end]"),0).map((function(t,n){var i,r,o,s=String(t.getAttribute("begin")),l=String(t.getAttribute("end")),u=t.getAttribute("id")||n;return r=y(s),o=y(l),i=!1===e.processCueHTML?t.innerHTML:m(t.innerHTML),new a.TextTrackCue(u,r,o,i,{},!1,null)}));return w}return t.split(/\n+/g).reduce((function(t,e,n,i){return t||!!d.exec(e)}),!1)?(i=i.split(/\n+/g),n="LRC"):i=i.split(/\n\n+/g),i=i.filter((function(t){return t.match(/^WEBVTT(\s*FILE)?/gi)?(n="WebVTT",!1):!!t.replace(/\s*/gi,"").length})).map((function(t,i){var c,g,y,b,w,S,A,E,T,C,x="";if(E=f.exec(t))return o=(o=E.slice(2).join("")).split(/\s+/g).filter((function(t){return t&&!!t.length})),null;if(E=p.exec(t))return r+=E[E.length-1],null;if(E=v.exec(t))return null;for(c="LRC"===n?[t.substr(0,t.indexOf("]")+1),t.substr(t.indexOf("]")+1)]:t.split(/\n/g);!c[0].replace(/\s+/gi,"").length&&c.length>0;)c.shift();for(A=c[0].match(/^\s*[a-z0-9\-]+\s*$/gi)?String(c.shift().replace(/\s*/gi,"")):i,S=0;S<c.length;S++){var _=c[S];(T=u.exec(_))||(T=s.exec(_))||(T=l.exec(_))?(w=T.slice(1),g=parseInt(60*(w[0]||0)*60,10)+parseInt(60*(w[1]||0),10)+parseInt(w[2]||0,10)+parseFloat("0."+(w[3]||0)),y=parseInt(60*(w[4]||0)*60,10)+parseInt(60*(w[5]||0),10)+parseInt(w[6]||0,10)+parseFloat("0."+(w[7]||0)),w[8]&&(x=w[8])):(T=h.exec(_))?(w=T.slice(1),y=(g=parseFloat(w[0]))+parseFloat(w[1]),w[2]&&(x=w[2])):!(T=d.exec(_))||(w=T.slice(1,T.length-1),y=g=parseInt(60*(w[0]||0)*60,10)+parseInt(60*(w[1]||0),10)+parseInt(w[2]||0,10)+parseFloat("0."+(w[3]||0))),c=c.slice(0,S).concat(c.slice(S+1));break}if(!g&&!y)return null;var k=o.reduce((function(t,e,n,i){return t[e.split(":")[0]]=e.split(":")[1],t}),{});for(var M in k=x.split(/\s+/g).filter((function(t){return t&&!!t.length})).reduce((function(t,e,n,i){return t[e.split(":")[0]]=e.split(":")[1],t}),k),x="",k)k.hasOwnProperty(M)&&(x+=x.length?" ":"",x+=M+":"+k[M]);return b=!1===e.processCueHTML?c.join("\n"):m(c.join("\n")),(C=new a.TextTrackCue(A,g,y,b,x,!1,null)).styleData=r,C})).filter((function(t){return null!==t})),"LRC"===n&&(i.forEach((function(t,e){var n,r=0;e>0&&(r=t.startTime,(n=i[--e]).endTime<r&&(n.endTime=r))})),i=i.filter((function(t){return t.text.toString().replace(/\s*/,"").length>0}))),i}throw new Error("Required parameter captionData not supplied.")},a.processVideoElement=function(t,e,n){var i=[],r=navigator.language||navigator.userLanguage;e||r.split("-")[0];if(n=n instanceof Object?n:{},!t.captioned){t._captionatorOptions=n,t.className+=(t.className.length?" ":"")+"captioned",t.captioned=!0,0===t.id.length&&(t.id=a.generateID());[].slice.call(t.querySelectorAll("track"),0).forEach((function(r){var o=null;o=r.querySelectorAll("source").length>0?r.querySelectorAll("source"):r.getAttribute("src");var s=t.addTextTrack(r.getAttribute("id")||a.generateID(),r.getAttribute("kind"),r.getAttribute("label"),r.getAttribute("srclang").split("-")[0],o,r.getAttribute("type"),r.hasAttribute("default"));r.track=s,s.trackNode=r,s.videoNode=t,i.push(s);var l=!1;("subtitles"===s.kind||"captions"===s.kind)&&e===s.language&&n.enableCaptionsByDefault&&(i.filter((function(t){return("captions"===t.kind||"subtitles"===t.kind)&&e===t.language&&t.mode===a.TextTrack.SHOWING})).length||(l=!0)),"chapters"===s.kind&&e===s.language&&(i.filter((function(t){return"chapters"===t.kind&&t.mode===a.TextTrack.SHOWING})).length||(l=!0)),"descriptions"===s.kind&&!0===n.enableDescriptionsByDefault&&e===s.language&&(i.filter((function(t){return"descriptions"===t.kind&&t.mode===a.TextTrack.SHOWING})).length||(l=!0)),!0===l&&i.forEach((function(t){t.trackNode.hasAttribute("default")&&t.mode===a.TextTrack.SHOWING&&(t.mode=a.TextTrack.HIDDEN)})),r.hasAttribute("default")&&(i.filter((function(t){return!(!t.trackNode.hasAttribute("default")||t.trackNode===r)})).length||(l=!0,s.internalDefault=!0)),!0===l&&(s.mode=a.TextTrack.SHOWING)})),t.addEventListener("timeupdate",(function(t){var e=t.target;try{e.textTracks.forEach((function(t){t.activeCues.refreshCues.apply(t.activeCues)}))}catch(t){}n.renderer instanceof Function?n.renderer.call(a,e):a.rebuildCaptions(e)}),!1),window.addEventListener("resize",(function(e){t._captionator_dirtyBit=!0,a.rebuildCaptions(t)}),!1),!0===n.enableHighResolution&&window.setInterval((function(){try{t.textTracks.forEach((function(t){t.activeCues.refreshCues.apply(t.activeCues)}))}catch(t){}n.renderer instanceof Function?n.renderer.call(a,t):a.rebuildCaptions(t)}),20)}return t},a.getNodeMetrics=function(t){var e,n,i=window.getComputedStyle(t,null),r=t,o=t.offsetTop,a=t.offsetLeft,s=0;for(e=parseInt(i.getPropertyValue("width"),10),n=parseInt(i.getPropertyValue("height"),10);r=r.offsetParent;)o+=r.offsetTop,a+=r.offsetLeft;if(t.hasAttribute("controls")){var l=navigator.userAgent.toLowerCase();-1!==l.indexOf("chrome")?s=32:-1!==l.indexOf("opera")?s=25:-1!==l.indexOf("firefox")?s=28:-1!==l.indexOf("ie 9")||-1!==l.indexOf("ipad")?s=44:-1!==l.indexOf("safari")&&(s=25)}else if(t._captionatorOptions){var u=t._captionatorOptions;u.controlHeight&&(s=parseInt(u.controlHeight,10))}return{left:a,top:o,width:e,height:n,controlHeight:s}},a.applyStyles=function(t,e){for(var n in e)({}).hasOwnProperty.call(e,n)&&(t.style[n]=e[n])},a.checkDirection=function(t){var e="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿",n="֑-߿יִ-﷽ﹰ-ﻼ",i=new RegExp("^[^"+n+"]*["+e+"]");return new RegExp("^[^"+e+"]*["+n+"]").test(t)?"rtl":i.test(t)?"ltr":""},a.styleCue=function(o,s,l){var u,c,h,d,f,p,v,g,m,y,b,w,S,A,E,T,C=0,x=0,_=0,k=0,M=0,O=0,P=0,I=0,L=0,D=0,R=0,N=l._captionatorOptions||{},H=50,V=0,j=0,F=!0,B="",U=(s.track.language,function(t){if(t.spanified)return t.characterCount;var e,n,i,r,o=function(t){return!!t.length},s="<span class='captionator-cue-character'>",l=0,u=function(t){l++,a.applyStyles(t,{display:"block",lineHeight:"auto",height:p+"px",width:w+"px",textAlign:"center"})};for(e in t.childNodes)t.childNodes.hasOwnProperty(e)&&!t.childNodes[e].nospan&&(3===(n=t.childNodes[e]).nodeType?(r=document.createDocumentFragment(),i=n.nodeValue,r.appendChild(document.createElement("span")),r.childNodes[0].innerHTML=s+i.split(/(.)/).filter(o).join("</span>"+s)+"</span>",[].slice.call(r.querySelectorAll("span.captionator-cue-character"),0).forEach(u),n.parentNode.replaceChild(r,n)):1===t.childNodes[e].nodeType&&(l+=U(t.childNodes[e])));return t.characterCount=l,t.spanified=!0,l});if(E=a.getNodeMetrics(l),l._captionator_availableCueArea||(l._captionator_availableCueArea={bottom:E.height-E.controlHeight,right:E.width,top:0,left:0,height:E.height-E.controlHeight,width:E.width}),"horizontal"===s.direction&&(a.applyStyles(o,{width:"auto",position:"static",display:"inline-block",padding:"1em"}),V=parseInt(o.offsetWidth,10),j=(j=Math.floor(V/l._captionator_availableCueArea.width*100))<=100?j:100),f=(f=E.height*(n/100)/96*72)>=t?f:t,p=Math.floor(f/72*96),v=(v=Math.floor(f*i))>e?v:e,b=Math.ceil(v/72*96),w=b,b*Math.floor(E.height/b)<E.height&&(b=Math.floor(E.height/Math.floor(E.height/b)),v=Math.ceil(b/96*72)),b*Math.floor(E.width/b)<E.width&&(w=Math.ceil(E.width/Math.floor(E.width/b))),m=Math.floor(l._captionator_availableCueArea.height/b),y=Math.floor(l._captionator_availableCueArea.width/w),0===parseFloat(String(s.size).replace(/[^\d\.]/gi,""))?!0===N.sizeCuesByTextBoundingBox?u=j:(u=100,F=!1):(F=!1,u=(u=parseFloat(String(s.size).replace(/[^\d\.]/gi,"")))<=100?u:100),h="horizontal"===s.direction?Math.floor(.01*E.width):0,d="horizontal"===s.direction?0:Math.floor(.01*E.height),"auto"===s.linePosition?s.linePosition="horizontal"===s.direction?m:y:String(s.linePosition).match(/\%/)&&(s.snapToLines=!1,s.linePosition=parseFloat(String(s.linePosition).replace(/\%/gi,""))),"horizontal"===s.direction)k=b,"auto"!==s.textPosition&&F&&(u-(H=parseFloat(String(s.textPosition).replace(/[^\d\.]/gi,"")))>j?u-=H:u=j),_=!0===s.snapToLines?l._captionator_availableCueArea.width*(u/100):E.width*(u/100),"auto"===s.textPosition?C=(l._captionator_availableCueArea.right-_)/2+l._captionator_availableCueArea.left:(H=parseFloat(String(s.textPosition).replace(/[^\d\.]/gi,"")),C=(l._captionator_availableCueArea.right-_)*(H/100)+l._captionator_availableCueArea.left),!0===s.snapToLines?x=(m-1)*b+l._captionator_availableCueArea.top:(g=E.controlHeight+b+2*d,x=(E.height-g)*(s.linePosition/100));else{if(x=l._captionator_availableCueArea.top,C=l._captionator_availableCueArea.right-w,_=w,k=l._captionator_availableCueArea.height*(u/100),O=U(o),P=[].slice.call(o.querySelectorAll("span.captionator-cue-character"),0),M=Math.floor((k-2*d)/p),_=Math.ceil(O/M)*w,I=Math.ceil(O/M),L=(O-M*(I-1))*p,!0===s.snapToLines)C="vertical-lr"===s.direction?l._captionator_availableCueArea.left:l._captionator_availableCueArea.right-_;else{var W=_+2*h;C="vertical-lr"===s.direction?(E.width-W)*(s.linePosition/100):E.width-W-(E.width-W)*(s.linePosition/100)}"auto"===s.textPosition?x=(l._captionator_availableCueArea.bottom-k)/2+l._captionator_availableCueArea.top:(s.textPosition=parseFloat(String(s.textPosition).replace(/[^\d\.]/gi,"")),x=(l._captionator_availableCueArea.bottom-k)*(s.textPosition/100)+l._captionator_availableCueArea.top),D=0,R=0,S=0,A=0,P.forEach((function(t,e){S="vertical-lr"===s.direction?w*D:_-w*(D+1),"start"===s.alignment||"start"!==s.alignment&&D<I-1?A=R*p+d:"end"===s.alignment?A=R*p-p+(k+2*d-L):"middle"===s.alignment&&(A=(k-2*d-L)/2+R*p),t.setAttribute("aria-hidden","true"),a.applyStyles(t,{position:"absolute",top:A+"px",left:S+"px"}),R>=M-1?(R=0,D++):R++})),o.accessified||(B=s.text.getPlain(l.currentTime),(T=document.createElement("div")).innerHTML=B,T.nospan=!0,o.appendChild(T),o.accessified=!0,a.applyStyles(T,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"}))}if("horizontal"===s.direction&&(c="rtl"===a.checkDirection(String(s.text))?{start:"right",middle:"center",end:"left"}[s.alignment]:{start:"left",middle:"center",end:"right"}[s.alignment]),a.applyStyles(o,{position:"absolute",overflow:"hidden",width:_+"px",height:k+"px",top:x+"px",left:C+"px",padding:d+"px "+h+"px",textAlign:c,backgroundColor:"rgba("+r.join(",")+")",direction:a.checkDirection(String(s.text)),lineHeight:v+"pt",boxSizing:"border-box"}),"vertical"===s.direction||"vertical-lr"===s.direction)C-l._captionator_availableCueArea.left-l._captionator_availableCueArea.left>=l._captionator_availableCueArea.right-(C+_)?l._captionator_availableCueArea.right=C:l._captionator_availableCueArea.left=C+_,l._captionator_availableCueArea.width=l._captionator_availableCueArea.right-l._captionator_availableCueArea.left;else{if(o.scrollHeight>1.2*o.offsetHeight)if(s.snapToLines){for(var z=0;o.scrollHeight>1.2*o.offsetHeight;)k+=b,o.style.height=k+"px",z++;x-=z*b,o.style.top=x+"px"}else{o.scrollHeight;k=o.scrollHeight+d,g=E.controlHeight+k+2*d,x=(E.height-g)*(s.linePosition/100),o.style.height=k+"px",o.style.top=x+"px"}x-l._captionator_availableCueArea.top-l._captionator_availableCueArea.top>=l._captionator_availableCueArea.bottom-(x+k)&&l._captionator_availableCueArea.bottom>x?l._captionator_availableCueArea.bottom=x:l._captionator_availableCueArea.top<x+k&&(l._captionator_availableCueArea.top=x+k),l._captionator_availableCueArea.height=l._captionator_availableCueArea.bottom-l._captionator_availableCueArea.top}},a.styleCueCanvas=function(r){var o,s,l,u,c,h,d=r._captionatorOptions instanceof Object?r._captionatorOptions:{};if(!(r instanceof HTMLVideoElement))throw new Error("Cannot style a cue canvas for a non-video node!");if(r._containerObject&&(c=(l=r._containerObject).id),r._descriptionContainerObject&&(h=(u=r._descriptionContainerObject).id),u?u.parentNode||document.body.appendChild(u):((u=document.createElement("div")).className="captionator-cue-descriptive-container",h=a.generateID(),u.id=h,r._descriptionContainerObject=u,u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),u.setAttribute("role","region"),document.body.appendChild(u),a.applyStyles(u,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"})),l)l.parentNode||document.body.appendChild(l);else{if((l=document.createElement("div")).className="captionator-cue-canvas",c=a.generateID(),l.id=c,d.appendCueCanvasTo){var f=null;if(d.appendCueCanvasTo instanceof HTMLElement)f=d.appendCueCanvasTo;else if("string"==typeof d.appendCueCanvasTo)try{var p=document.querySelectorAll(d.appendCueCanvasTo);if(!(p.length>0))throw null;f=p[0]}catch(t){f=document.body,d.appendCueCanvasTo=!1}else f=document.body,d.appendCueCanvasTo=!1;f.appendChild(l)}else document.body.appendChild(l);r._containerObject=l}var v=a.getNodeMetrics(r);o=(o=v.height*(n/100)/96*72)>=t?o:t,s=(s=Math.floor(o*i))>e?s:e,a.applyStyles(l,{position:"absolute",overflow:"hidden",zIndex:100,height:v.height-v.controlHeight+"px",width:v.width+"px",top:(d.appendCueCanvasTo?0:v.top)+"px",left:(d.appendCueCanvasTo?0:v.left)+"px",color:"white",fontFamily:"Verdana, Helvetica, Arial, sans-serif",fontSize:o+"pt",lineHeight:s+"pt",boxSizing:"border-box"})},a.createDOMException=function(t,e,n){try{document.querySelectorAll("div/[]")}catch(r){var i=function(t,e,n){this.code=t,this.message=e,this.name=n};return i.prototype=r,new i(t,e,n)}},a.compareArray=function(t,e){if(t instanceof Array&&e instanceof Array){if(t.length!==e.length)return!1;for(var n in t)if(t.hasOwnProperty(n)&&t[n]!==e[n])return!1;return!0}return!1},a.generateID=function(t){var e="";for(t=t||10;e.length<t;)e+=String.fromCharCode(65+Math.floor(26*Math.random()));return"captionator"+e}}()},8351:function(t,e){
/*!
 * CSSRulePlugin 3.11.3
 * https://greensock.com
 * 
 * @license Copyright 2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t){"use strict";function e(){return"undefined"!=typeof window}function n(){return r||e()&&(r=window.gsap)&&r.registerPlugin&&r}function i(){return o||(l(),s||console.warn("Please gsap.registerPlugin(CSSPlugin, CSSRulePlugin)")),o}var r,o,a,s,l=function(t){r=t||n(),e()&&(a=document),r&&(s=r.plugins.css)&&(o=1)},u={version:"3.11.3",name:"cssRule",init:function(t,e,n,r,o){if(!i()||void 0===t.cssText)return!1;var l=t._gsProxy=t._gsProxy||a.createElement("div");this.ss=t,this.style=l.style,l.style.cssText=t.cssText,s.prototype.init.call(this,l,e,n,r,o)},render:function(t,e){for(var n,i=e._pt,r=e.style,o=e.ss;i;)i.r(t,i.d),i=i._next;for(n=r.length;-1<--n;)o[r[n]]=r[r[n]]},getRule:function(t){i();var e,n,r,o,s=a.all?"rules":"cssRules",l=a.styleSheets,u=l.length,c=":"===t.charAt(0);for(t=(c?"":",")+t.split("::").join(":").toLowerCase()+",",c&&(o=[]);u--;){try{if(!(n=l[u][s]))continue;e=n.length}catch(t){console.warn(t);continue}for(;-1<--e;)if((r=n[e]).selectorText&&-1!==(","+r.selectorText.split("::").join(":").toLowerCase()+",").indexOf(t)){if(!c)return r.style;o.push(r.style)}}return o},register:l};n()&&r.registerPlugin(u),t.CSSRulePlugin=u,t.default=u,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}(e)},8467:function(t,e){
/*!
 * EasePack 3.11.3
 * https://greensock.com
 * 
 * @license Copyright 2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t){"use strict";function e(){return l||"undefined"!=typeof window&&(l=window.gsap)&&l.registerPlugin&&l}function n(t,e){return!!(void 0===t?e:t&&!~(t+"").indexOf("false"))}function i(t){if(l=t||e()){u=l.registerEase;var n,i=l.parseEase(),r=function(t){return function(e){var n=.5+e/2;t.config=function(e){return t(2*(1-e)*e*n+e*e)}}};for(n in i)i[n].config||r(i[n]);for(n in u("slow",c),u("expoScale",h),u("rough",d),f)"version"!==n&&l.core.globals(n,f[n])}}function r(t,e,i){var r=(t=Math.min(1,t||.7))<1?e||0===e?e:.7:0,o=(1-t)/2,a=o+t,s=n(i);return function(t){var e=t+(.5-t)*r;return t<o?s?1-(t=1-t/o)*t:e-(t=1-t/o)*t*t*t*e:a<t?s?1===t?0:1-(t=(t-a)/o)*t:e+(t-e)*(t=(t-a)/o)*t*t*t:s?1:e}}function o(t,e,n){var i=Math.log(e/t),r=e-t;return n=n&&l.parseEase(n),function(e){return(t*Math.exp(i*(n?n(e):e))-t)/r}}function a(t,e,n){this.t=t,this.v=e,n&&(((this.next=n).prev=this).c=n.v-e,this.gap=n.t-t)}function s(t){"object"!=typeof t&&(t={points:+t||20});for(var e,i,r,o,s,u,c,h=t.taper||"none",d=[],f=0,p=0|(+t.points||20),v=p,g=n(t.randomize,!0),m=n(t.clamp),y=l?l.parseEase(t.template):0,b=.4*(+t.strength||1);-1<--v;)e=g?Math.random():1/p*v,i=y?y(e):e,r="none"===h?b:"out"===h?(o=1-e)*o*b:"in"===h?e*e*b:e<.5?(o=2*e)*o*.5*b:(o=2*(1-e))*o*.5*b,g?i+=Math.random()*r-.5*r:v%2?i+=.5*r:i-=.5*r,m&&(1<i?i=1:i<0&&(i=0)),d[f++]={x:e,y:i};for(d.sort((function(t,e){return t.x-e.x})),u=new a(1,1,null),v=p;v--;)u=new a((s=d[v]).x,s.y,u);return c=new a(0,0,u.t?u:u.next),function(t){var e=c;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return(c=e).v+(t-e.t)/e.gap*e.c}}var l,u,c=r(.7);(c.ease=c).config=r;var h=o(1,2);h.config=o;var d=s();(d.ease=d).config=s;var f={SlowMo:c,RoughEase:d,ExpoScaleEase:h};for(var p in f)f[p].register=i,f[p].version="3.11.3";e()&&l.registerPlugin(c),t.EasePack=f,t.ExpoScaleEase=h,t.RoughEase=d,t.SlowMo=c,t.default=f,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}(e)},3707:function(t,e){
/*!
 * GSAP 3.11.3
 * https://greensock.com
 * 
 * @license Copyright 2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t){"use strict";function e(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return"string"==typeof t}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function a(t){return void 0===t}function s(t){return"object"==typeof t}function l(t){return!1!==t}function u(){return"undefined"!=typeof window}function c(t){return r(t)||i(t)}function h(t){return(Ct=Ee(t,he))&&Vn}function d(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")}function f(t,e){return!e&&console.warn(t)}function p(t,e){return t&&(he[t]=e)&&Ct&&(Ct[t]=e)||he}function v(){return 0}function g(t){var e,n,i=t[0];if(s(i)||r(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(n=Se.length;n--&&!Se[n].targetTest(i););e=Se[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Ye(t[n],e)))||t.splice(n,1);return t}function m(t){return t._gsap||g(Oe(t))[0]._gsap}function y(t,e,n){return(n=t[e])&&r(n)?t[e]():a(n)&&t.getAttribute&&t.getAttribute(e)||n}function b(t,e){return(t=t.split(",")).forEach(e)||t}function w(t){return Math.round(1e5*t)/1e5||0}function S(t){return Math.round(1e7*t)/1e7||0}function A(t,e){var n=e.charAt(0),i=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+i:"-"===n?t-i:"*"===n?t*i:t/i}function E(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n}function T(){var t,e,n=ge.length,i=ge.slice(0);for(me={},t=ge.length=0;t<n;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}function C(t,e,n,i){ge.length&&T(),t.render(e,n,i||bt&&e<0&&(t._initted||t._startAt)),ge.length&&T()}function x(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(ue).length<2?e:i(t)?t.trim():t}function _(t){return t}function k(t,e){for(var n in e)n in t||(t[n]=e[n]);return t}function M(t,e){for(var n in e)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(t[n]=s(e[n])?M(t[n]||(t[n]={}),e[n]):e[n]);return t}function O(t,e){var n,i={};for(n in t)n in e||(i[n]=t[n]);return i}function P(t){var e=t.parent||St,n=t.keyframes?function(t){return function(e,n){for(var i in n)i in e||"duration"===i&&t||"ease"===i||(e[i]=n[i])}}(ie(t.keyframes)):k;if(l(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t}function I(t,e,n,i,r){void 0===n&&(n="_first"),void 0===i&&(i="_last");var o,a=t[i];if(r)for(o=e[r];a&&a[r]>o;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[i]=e,e._prev=a,e.parent=e._dp=t,e}function L(t,e,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=e._prev,o=e._next;r?r._next=o:t[n]===e&&(t[n]=o),o?o._prev=r:t[i]===e&&(t[i]=r),e._next=e._prev=e.parent=null}function D(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0}function R(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t}function N(t,e,n,i){return t._startAt&&(bt?t._startAt.revert(fe):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,i))}function H(t){return t._repeat?Te(t._tTime,t=t.duration()+t._rDelay)*t:0}function V(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function j(t){return t._end=S(t._start+(t._tDur/Math.abs(t._ts||t._rts||Jt)||0))}function F(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=S(n._time-(0<t._ts?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),j(t),n._dirty||R(n,t)),t}function B(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=V(t.rawTime(),e),(!e._dur||ke(0,e.totalDuration(),n)-e._tTime>Jt)&&e.render(n,!0)),R(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)0<=n.rawTime()&&n.totalTime(n._tTime),n=n._dp;t._zTime=-Jt}}function U(t,e,n,i){return e.parent&&D(e),e._start=S((o(n)?n:n||t!==St?_e(t,n,e):t._time)+e._delay),e._end=S(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),I(t,e,"_first","_last",t._sort?"_start":0),Ce(e)||(t._recent=e),i||B(t,e),t._ts<0&&F(t,t._tTime),t}function W(t,e){return(he.ScrollTrigger||d("scrollTrigger",e))&&he.ScrollTrigger.create(e,t)}function z(t,e,n,i,r){return nn(t,e,r),t._initted?!n&&t._pt&&!bt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&_t!==He.frame?(ge.push(t),t._lazy=[r,i],1):void 0:1}function G(t,e,n,i){var r=t._repeat,o=S(e)||0,a=t._tTime/t._tDur;return a&&!i&&(t._time*=o/t._dur),t._dur=o,t._tDur=r?r<0?1e10:S(o*(r+1)+t._rDelay*r):o,0<a&&!i&&F(t,t._tTime=t._tDur*a),t.parent&&j(t),n||R(t.parent,t),t}function q(t){return t instanceof Ke?R(t):G(t,t._dur)}function Y(t,e,n){var i,r,a=o(e[1]),s=(a?2:1)+(t<2?0:1),u=e[s];if(a&&(u.duration=e[1]),u.parent=n,t){for(i=u,r=n;r&&!("immediateRender"in i);)i=r.vars.defaults||{},r=l(r.vars.inherit)&&r.parent;u.immediateRender=l(i.immediateRender),t<2?u.runBackwards=1:u.startAt=e[s-1]}return new sn(e[0],u,e[1+s])}function X(t,e){return t||0===t?e(t):e}function J(t,e){return i(t)&&(e=ce.exec(t))?e[1]:""}function K(t,e){return t&&s(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&s(t[0]))&&!t.nodeType&&t!==At}function Z(t){return t=Oe(t)[0]||f("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return Oe(e,n.querySelectorAll?n:n===t?f("Invalid scope")||Tt.createElement("div"):t)}}function $(t){return t.sort((function(){return.5-Math.random()}))}function Q(t){if(r(t))return t;var e=s(t)?t:{each:t},n=We(e.ease),o=e.from||0,a=parseFloat(e.base)||0,l={},u=0<o&&o<1,c=isNaN(o)||u,h=e.axis,d=o,f=o;return i(o)?d=f={center:.5,edges:.5,end:1}[o]||0:!u&&c&&(d=o[0],f=o[1]),function(t,i,r){var s,u,p,v,g,m,y,b,w,A=(r||e).length,E=l[A];if(!E){if(!(w="auto"===e.grid?0:(e.grid||[1,Xt])[1])){for(y=-Xt;y<(y=r[w++].getBoundingClientRect().left)&&w<A;);w--}for(E=l[A]=[],s=c?Math.min(w,A)*d-.5:o%w,u=w===Xt?0:c?A*f/w-.5:o/w|0,b=Xt,m=y=0;m<A;m++)p=m%w-s,v=u-(m/w|0),E[m]=g=h?Math.abs("y"===h?v:p):Qt(p*p+v*v),y<g&&(y=g),g<b&&(b=g);"random"===o&&$(E),E.max=y-b,E.min=b,E.v=A=(parseFloat(e.amount)||parseFloat(e.each)*(A<w?A-1:h?"y"===h?A/w:w:Math.max(w,A/w))||0)*("edges"===o?-1:1),E.b=A<0?a-A:a,E.u=J(e.amount||e.each)||0,n=n&&A<0?Ue(n):n}return A=(E[t]-E.min)/E.max||0,S(E.b+(n?n(A):A)*E.v)+E.u}}function tt(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var i=S(Math.round(parseFloat(n)/t)*t*e);return(i-i%1)/e+(o(n)?0:J(n))}}function et(t,e){var n,i,a=ie(t);return!a&&s(t)&&(n=a=t.radius||Xt,t.values?(t=Oe(t.values),(i=!o(t[0]))&&(n*=n)):t=tt(t.increment)),X(e,a?r(t)?function(e){return i=t(e),Math.abs(i-e)<=n?i:e}:function(e){for(var r,a,s=parseFloat(i?e.x:e),l=parseFloat(i?e.y:0),u=Xt,c=0,h=t.length;h--;)(r=i?(r=t[h].x-s)*r+(a=t[h].y-l)*a:Math.abs(t[h]-s))<u&&(u=r,c=h);return c=!n||u<=n?t[c]:e,i||c===e||o(e)?c:c+J(e)}:tt(t))}function nt(t,e,n,i){return X(ie(t)?!e:!0===n?!!(n=0):!i,(function(){return ie(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*i)/i}))}function it(t,e,n){return X(n,(function(n){return t[~~e(n)]}))}function rt(t){for(var e,n,i,r,o=0,a="";~(e=t.indexOf("random(",o));)i=t.indexOf(")",e),r="["===t.charAt(e+7),n=t.substr(e+7,i-e-7).match(r?ue:re),a+=t.substr(o,e-o)+nt(r?n:+n[0],r?0:+n[1],+n[2]||1e-5),o=i+1;return a+t.substr(o,t.length-o)}function ot(t,e,n){var i,r,o,a=t.labels,s=Xt;for(i in a)(r=a[i]-e)<0==!!n&&r&&s>(r=Math.abs(r))&&(o=i,s=r);return o}function at(t){return D(t),t.scrollTrigger&&t.scrollTrigger.kill(!!bt),t.progress()<1&&Ie(t,"onInterrupt"),t}function st(t,e,n){return(6*(t+=t<0?1:1<t?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*Le+.5|0}function lt(t,e,n){var i,r,a,s,l,u,c,h,d,f,p=t?o(t)?[t>>16,t>>8&Le,t&Le]:0:De.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),De[t])p=De[t];else if("#"===t.charAt(0)){if(t.length<6&&(t="#"+(i=t.charAt(1))+i+(r=t.charAt(2))+r+(a=t.charAt(3))+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&Le,p&Le,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&Le,t&Le]}else if("hsl"===t.substr(0,3))if(p=f=t.match(re),e){if(~t.indexOf("="))return p=t.match(oe),n&&p.length<4&&(p[3]=1),p}else s=+p[0]%360/360,l=p[1]/100,i=2*(u=p[2]/100)-(r=u<=.5?u*(l+1):u+l-u*l),3<p.length&&(p[3]*=1),p[0]=st(s+1/3,i,r),p[1]=st(s,i,r),p[2]=st(s-1/3,i,r);else p=t.match(re)||De.transparent;p=p.map(Number)}return e&&!f&&(i=p[0]/Le,r=p[1]/Le,a=p[2]/Le,u=((c=Math.max(i,r,a))+(h=Math.min(i,r,a)))/2,c===h?s=l=0:(d=c-h,l=.5<u?d/(2-c-h):d/(c+h),s=c===i?(r-a)/d+(r<a?6:0):c===r?(a-i)/d+2:(i-r)/d+4,s*=60),p[0]=~~(s+.5),p[1]=~~(100*l+.5),p[2]=~~(100*u+.5)),n&&p.length<4&&(p[3]=1),p}function ut(t){var e=[],n=[],i=-1;return t.split(Re).forEach((function(t){var r=t.match(ae)||[];e.push.apply(e,r),n.push(i+=r.length+1)})),e.c=n,e}function ct(t,e,n){var i,r,o,a,s="",l=(t+s).match(Re),u=e?"hsla(":"rgba(",c=0;if(!l)return t;if(l=l.map((function(t){return(t=lt(t,e,1))&&u+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(o=ut(t),(i=n.c).join(s)!==o.c.join(s)))for(a=(r=t.replace(Re,"1").split(ae)).length-1;c<a;c++)s+=r[c]+(~i.indexOf(c)?l.shift()||u+"0,0,0,0)":(o.length?o:l.length?l:n).shift());if(!r)for(a=(r=t.split(Re)).length-1;c<a;c++)s+=r[c]+l[c];return s+r[a]}function ht(t){var e,n=t.join(" ");if(Re.lastIndex=0,Re.test(n))return e=Ne.test(n),t[1]=ct(t[1],e),t[0]=ct(t[0],e,ut(t[1])),!0}function dt(t){var e=(t+"").split("("),n=je[e[0]];return n&&1<e.length&&n.config?n.config.apply(null,~t.indexOf("{")?[function(t){for(var e,n,i,r={},o=t.substr(1,t.length-3).split(":"),a=o[0],s=1,l=o.length;s<l;s++)n=o[s],e=s!==l-1?n.lastIndexOf(","):n.length,i=n.substr(0,e),r[a]=isNaN(i)?i.replace(Be,"").trim():+i,a=n.substr(e+1).trim();return r}(e[1])]:function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<n?t.indexOf(")",n+1):n)}(t).split(",").map(x)):je._CE&&Fe.test(t)?je._CE("",t):n}function ft(t,e){for(var n,i=t._first;i;)i instanceof Ke?ft(i,e):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===e||(i.timeline?ft(i.timeline,e):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=e)),i=i._next}function pt(t,e,n,i){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,o={easeIn:e,easeOut:n,easeInOut:i};return b(t,(function(t){for(var e in je[t]=he[t]=o,je[r=t.toLowerCase()]=n,o)je[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=je[t+"."+e]=o[e]})),o}function vt(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}}function gt(t,e,n){function i(t){return 1===t?1:r*Math.pow(2,-10*t)*ee((t-a)*o)+1}var r=1<=e?e:1,o=(n||(t?.3:.45))/(e<1?e:1),a=o/Kt*(Math.asin(1/r)||0),s="out"===t?i:"in"===t?function(t){return 1-i(1-t)}:vt(i);return o=Kt/o,s.config=function(e,n){return gt(t,e,n)},s}function mt(t,e){function n(t){return t?--t*t*((e+1)*t+e)+1:0}void 0===e&&(e=1.70158);var i="out"===t?n:"in"===t?function(t){return 1-n(1-t)}:vt(n);return i.config=function(e){return mt(t,e)},i}var yt,bt,wt,St,At,Et,Tt,Ct,xt,_t,kt,Mt,Ot,Pt,It,Lt,Dt,Rt,Nt,Ht,Vt,jt,Ft,Bt,Ut,Wt,zt,Gt,qt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Yt={duration:.5,overwrite:!1,delay:0},Xt=1e8,Jt=1/Xt,Kt=2*Math.PI,Zt=Kt/4,$t=0,Qt=Math.sqrt,te=Math.cos,ee=Math.sin,ne="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},ie=Array.isArray,re=/(?:-?\.?\d|\.)+/gi,oe=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ae=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,se=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,le=/[+-]=-?[.\d]+/,ue=/[^,'"\[\]\s]+/gi,ce=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,he={},de={suppressEvents:!0,isStart:!0,kill:!1},fe={suppressEvents:!0,kill:!1},pe={suppressEvents:!0},ve={},ge=[],me={},ye={},be={},we=30,Se=[],Ae="",Ee=function(t,e){for(var n in e)t[n]=e[n];return t},Te=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},Ce=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},xe={_start:0,endTime:v,totalDuration:v},_e=function t(e,n,r){var o,a,s,l=e.labels,u=e._recent||xe,c=e.duration()>=Xt?u.endTime(!1):e._dur;return i(n)&&(isNaN(n)||n in l)?(a=n.charAt(0),s="%"===n.substr(-1),o=n.indexOf("="),"<"===a||">"===a?(0<=o&&(n=n.replace(/=/,"")),("<"===a?u._start:u.endTime(0<=u._repeat))+(parseFloat(n.substr(1))||0)*(s?(o<0?u:r).totalDuration()/100:1)):o<0?(n in l||(l[n]=c),l[n]):(a=parseFloat(n.charAt(o-1)+n.substr(o+1)),s&&r&&(a=a/100*(ie(r)?r[0]:r).totalDuration()),1<o?t(e,n.substr(0,o-1),r)+a:c+a)):null==n?c:+n},ke=function(t,e,n){return n<t?t:e<n?e:n},Me=[].slice,Oe=function(t,e,n){return wt&&!e&&wt.selector?wt.selector(t):!i(t)||n||!Et&&Ve()?ie(t)?function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){return i(t)&&!e||K(t,1)?n.push.apply(n,Oe(t)):n.push(t)}))||n}(t,n):K(t)?Me.call(t,0):t?[t]:[]:Me.call((e||Tt).querySelectorAll(t),0)},Pe=function(t,e,n,i,r){var o=e-t,a=i-n;return X(r,(function(e){return n+((e-t)/o*a||0)}))},Ie=function(t,e,n){var i,r,o,a=t.vars,s=a[e],l=wt,u=t._ctx;if(s)return i=a[e+"Params"],r=a.callbackScope||t,n&&ge.length&&T(),u&&(wt=u),o=i?s.apply(r,i):s.call(r),wt=l,o},Le=255,De={aqua:[0,Le,Le],lime:[0,Le,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Le],navy:[0,0,128],white:[Le,Le,Le],olive:[128,128,0],yellow:[Le,Le,0],orange:[Le,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Le,0,0],pink:[Le,192,203],cyan:[0,Le,Le],transparent:[Le,Le,Le,0]},Re=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in De)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Ne=/hsl[a]?\(/,He=(Nt=Date.now,Ht=500,Vt=33,jt=Nt(),Ft=jt,Ut=Bt=1e3/240,Lt={time:0,frame:0,tick:function(){ze(!0)},deltaRatio:function(t){return Dt/(1e3/(t||60))},wake:function(){xt&&(!Et&&u()&&(At=Et=window,Tt=At.document||{},he.gsap=Vn,(At.gsapVersions||(At.gsapVersions=[])).push(Vn.version),h(Ct||At.GreenSockGlobals||!At.gsap&&At||{}),It=At.requestAnimationFrame),Ot&&Lt.sleep(),Pt=It||function(t){return setTimeout(t,Ut-1e3*Lt.time+1|0)},Mt=1,ze(2))},sleep:function(){(It?At.cancelAnimationFrame:clearTimeout)(Ot),Mt=0,Pt=v},lagSmoothing:function(t,e){Ht=t||1e8,Vt=Math.min(e,Ht,0)},fps:function(t){Bt=1e3/(t||240),Ut=1e3*Lt.time+Bt},add:function(t,e,n){var i=e?function(e,n,r,o){t(e,n,r,o),Lt.remove(i)}:t;return Lt.remove(t),Wt[n?"unshift":"push"](i),Ve(),i},remove:function(t,e){~(e=Wt.indexOf(t))&&Wt.splice(e,1)&&e<=Rt&&Rt--},_listeners:Wt=[]}),Ve=function(){return!Mt&&He.wake()},je={},Fe=/^[\d.\-M][\d.\-,\s]/,Be=/["']/g,Ue=function(t){return function(e){return 1-t(1-e)}},We=function(t,e){return t&&(r(t)?t:je[t]||dt(t))||e};function ze(t){var e,n,i,r,o=Nt()-Ft,a=!0===t;if(Ht<o&&(jt+=o-Vt),(0<(e=(i=(Ft+=o)-jt)-Ut)||a)&&(r=++Lt.frame,Dt=i-1e3*Lt.time,Lt.time=i/=1e3,Ut+=e+(Bt<=e?4:Bt-e),n=1),a||(Ot=Pt(ze)),n)for(Rt=0;Rt<Wt.length;Rt++)Wt[Rt](i,Dt,r,t)}function Ge(t){return t<Gt?zt*t*t:t<.7272727272727273?zt*Math.pow(t-1.5/2.75,2)+.75:t<.9090909090909092?zt*(t-=2.25/2.75)*t+.9375:zt*Math.pow(t-2.625/2.75,2)+.984375}b("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;pt(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),je.Linear.easeNone=je.none=je.Linear.easeIn,pt("Elastic",gt("in"),gt("out"),gt()),zt=7.5625,Gt=1/2.75,pt("Bounce",(function(t){return 1-Ge(1-t)}),Ge),pt("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),pt("Circ",(function(t){return-(Qt(1-t*t)-1)})),pt("Sine",(function(t){return 1===t?1:1-te(t*Zt)})),pt("Back",mt("in"),mt("out"),mt()),je.SteppedEase=je.steps=he.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,i=t+(e?0:1),r=e?1:0;return function(t){return((i*ke(0,.99999999,t)|0)+r)*n}}},Yt.ease=je["quad.out"],b("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return Ae+=t+","+t+"Params,"}));var qe,Ye=function(t,e){this.id=$t++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:y,this.set=e?e.getSetter:fn},Xe=((qe=Je.prototype).delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},qe.duration=function(t){return arguments.length?this.totalDuration(0<this._repeat?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},qe.totalDuration=function(t){return arguments.length?(this._dirty=0,G(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},qe.totalTime=function(t,e){if(Ve(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(F(this,t),!n._dp||n.parent||B(n,this);n&&n.parent;)n.parent._time!==n._start+(0<=n._ts?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&t<this._tDur||this._ts<0&&0<t||!this._tDur&&!t)&&U(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Jt||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),C(this,t,e)),this},qe.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+H(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},qe.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},qe.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+H(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},qe.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Te(this._tTime,n)+1:1},qe.timeScale=function(t){if(!arguments.length)return this._rts===-Jt?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?V(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-Jt?0:this._rts,this.totalTime(ke(-this._delay,this._tDur,e),!0),j(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},qe.paused=function(t){return arguments.length?(this._ps!==t&&((this._ps=t)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ve(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Jt&&(this._tTime-=Jt)))),this):this._ps},qe.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return!e||!e._sort&&this.parent||U(e,this,t-this._delay),this}return this._start},qe.endTime=function(t){return this._start+(l(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},qe.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?V(e.rawTime(t),this):this._tTime:this._tTime},qe.revert=function(t){void 0===t&&(t=pe);var e=bt;return bt=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),bt=e,this},qe.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(e._ts||1),e=e._dp;return!this.parent&&this.vars.immediateRender?-1:n},qe.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,q(this)):-2===this._repeat?1/0:this._repeat},qe.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,q(this),e?this.time(e):this}return this._rDelay},qe.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},qe.seek=function(t,e){return this.totalTime(_e(this,t),l(e))},qe.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,l(e))},qe.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},qe.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},qe.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},qe.resume=function(){return this.paused(!1)},qe.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-Jt:0)),this):this._rts<0},qe.invalidate=function(){return this._initted=this._act=0,this._zTime=-Jt,this},qe.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-Jt))},qe.eventCallback=function(t,e,n){var i=this.vars;return 1<arguments.length?(e?(i[t]=e,n&&(i[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},qe.then=function(t){var e=this;return new Promise((function(n){function i(){var t=e.then;e.then=null,r(o)&&(o=o(e))&&(o.then||o===e)&&(e.then=t),n(o),e.then=t}var o=r(t)?t:_;e._initted&&1===e.totalProgress()&&0<=e._ts||!e._tTime&&e._ts<0?i():e._prom=i}))},qe.kill=function(){at(this)},Je);function Je(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,G(this,+t.duration,1,1),this.data=t.data,wt&&(this._ctx=wt).data.push(this),Mt||He.wake()}k(Xe.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Jt,_prom:0,_ps:!1,_rts:1});var Ke=function(t){function a(e,i){var r;return void 0===e&&(e={}),(r=t.call(this,e)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=l(e.sortChildren),St&&U(e.parent||St,n(r),i),e.reversed&&r.reverse(),e.paused&&r.paused(!0),e.scrollTrigger&&W(n(r),e.scrollTrigger),r}e(a,t);var s=a.prototype;return s.to=function(t,e,n){return Y(0,arguments,this),this},s.from=function(t,e,n){return Y(1,arguments,this),this},s.fromTo=function(t,e,n,i){return Y(2,arguments,this),this},s.set=function(t,e,n){return e.duration=0,e.parent=this,P(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new sn(t,e,_e(this,n),1),this},s.call=function(t,e,n){return U(this,sn.delayedCall(0,t,e),n)},s.staggerTo=function(t,e,n,i,r,o,a){return n.duration=e,n.stagger=n.stagger||i,n.onComplete=o,n.onCompleteParams=a,n.parent=this,new sn(t,n,_e(this,r)),this},s.staggerFrom=function(t,e,n,i,r,o,a){return n.runBackwards=1,P(n).immediateRender=l(n.immediateRender),this.staggerTo(t,e,n,i,r,o,a)},s.staggerFromTo=function(t,e,n,i,r,o,a,s){return i.startAt=n,P(i).immediateRender=l(i.immediateRender),this.staggerTo(t,e,i,r,o,a,s)},s.render=function(t,e,n){var i,r,o,a,s,l,u,c,h,d,f,p,v=this._time,g=this._dirty?this.totalDuration():this._tDur,m=this._dur,y=t<=0?0:S(t),b=this._zTime<0!=t<0&&(this._initted||!m);if(this!==St&&g<y&&0<=t&&(y=g),y!==this._tTime||n||b){if(v!==this._time&&m&&(y+=this._time-v,t+=this._time-v),i=y,h=this._start,l=!(c=this._ts),b&&(m||(v=this._zTime),!t&&e||(this._zTime=t)),this._repeat){if(f=this._yoyo,s=m+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,n);if(i=S(y%s),y===g?(a=this._repeat,i=m):((a=~~(y/s))&&a===y/s&&(i=m,a--),m<i&&(i=m)),d=Te(this._tTime,s),!v&&this._tTime&&d!==a&&(d=a),f&&1&a&&(i=m-i,p=1),a!==d&&!this._lock){var w=f&&1&d,A=w===(f&&1&a);if(a<d&&(w=!w),v=w?0:m,this._lock=1,this.render(v||(p?0:S(a*s)),e,!m)._lock=0,this._tTime=y,!e&&this.parent&&Ie(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),v&&v!==this._time||l!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(m=this._dur,g=this._tDur,A&&(this._lock=2,v=w?m:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;ft(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(t,e,n){var i;if(e<n)for(i=t._first;i&&i._start<=n;){if("isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=n;){if("isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,S(v),S(i)))&&(y-=i-(i=u._start)),this._tTime=y,this._time=i,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,v=0),!v&&i&&!e&&(Ie(this,"onStart"),this._tTime!==y))return this;if(v<=i&&0<=t)for(r=this._first;r;){if(o=r._next,(r._act||i>=r._start)&&r._ts&&u!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(0<r._ts?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!l){u=0,o&&(y+=this._zTime=-Jt);break}}r=o}else{r=this._last;for(var E=t<0?t:i;r;){if(o=r._prev,(r._act||E<=r._end)&&r._ts&&u!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(0<r._ts?(E-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(E-r._start)*r._ts,e,n||bt&&(r._initted||r._startAt)),i!==this._time||!this._ts&&!l){u=0,o&&(y+=this._zTime=E?-Jt:Jt);break}}r=o}}if(u&&!e&&(this.pause(),u.render(v<=i?0:-Jt)._zTime=v<=i?1:-1,this._ts))return this._start=h,j(this),this.render(t,e,n);this._onUpdate&&!e&&Ie(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&v)&&(h!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||(!t&&m||!(y===g&&0<this._ts||!y&&this._ts<0)||D(this,1),e||t<0&&!v||!y&&!v&&g||(Ie(this,y===g&&0<=t?"onComplete":"onReverseComplete",!0),!this._prom||y<g&&0<this.timeScale()||this._prom())))}return this},s.add=function(t,e){var n=this;if(o(e)||(e=_e(this,e,t)),!(t instanceof Xe)){if(ie(t))return t.forEach((function(t){return n.add(t,e)})),this;if(i(t))return this.addLabel(t,e);if(!r(t))return this;t=sn.delayedCall(0,t)}return this!==t?U(this,t,e):this},s.getChildren=function(t,e,n,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=-Xt);for(var r=[],o=this._first;o;)o._start>=i&&(o instanceof sn?e&&r.push(o):(n&&r.push(o),t&&r.push.apply(r,o.getChildren(!0,e,n)))),o=o._next;return r},s.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},s.remove=function(t){return i(t)?this.removeLabel(t):r(t)?this.killTweensOf(t):(L(this,t),t===this._recent&&(this._recent=this._last),R(this))},s.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=S(He.time-(0<this._ts?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},s.addLabel=function(t,e){return this.labels[t]=_e(this,e),this},s.removeLabel=function(t){return delete this.labels[t],this},s.addPause=function(t,e,n){var i=sn.delayedCall(0,e||v,n);return i.data="isPause",this._hasPause=1,U(this,i,_e(this,t))},s.removePause=function(t){var e=this._first;for(t=_e(this,t);e;)e._start===t&&"isPause"===e.data&&D(e),e=e._next},s.killTweensOf=function(t,e,n){for(var i=this.getTweensOf(t,n),r=i.length;r--;)Qe!==i[r]&&i[r].kill(t,e);return this},s.getTweensOf=function(t,e){for(var n,i=[],r=Oe(t),a=this._first,s=o(e);a;)a instanceof sn?E(a._targets,r)&&(s?(!Qe||a._initted&&a._ts)&&a.globalTime(0)<=e&&a.globalTime(a.totalDuration())>e:!e||a.isActive())&&i.push(a):(n=a.getTweensOf(r,e)).length&&i.push.apply(i,n),a=a._next;return i},s.tweenTo=function(t,e){e=e||{};var n,i=this,r=_e(i,t),o=e.startAt,a=e.onStart,s=e.onStartParams,l=e.immediateRender,u=sn.to(i,k({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(o&&"time"in o?o.time:i._time))/i.timeScale())||Jt,onStart:function(){if(i.pause(),!n){var t=e.duration||Math.abs((r-(o&&"time"in o?o.time:i._time))/i.timeScale());u._dur!==t&&G(u,t,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,s||[])}},e));return l?u.render(0):u},s.tweenFromTo=function(t,e,n){return this.tweenTo(e,k({startAt:{time:_e(this,t)}},n))},s.recent=function(){return this._recent},s.nextLabel=function(t){return void 0===t&&(t=this._time),ot(this,_e(this,t))},s.previousLabel=function(t){return void 0===t&&(t=this._time),ot(this,_e(this,t),1)},s.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Jt)},s.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var i,r=this._first,o=this.labels;r;)r._start>=n&&(r._start+=t,r._end+=t),r=r._next;if(e)for(i in o)o[i]>=n&&(o[i]+=t);return R(this)},s.invalidate=function(e){var n=this._first;for(this._lock=0;n;)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},s.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),R(this)},s.totalDuration=function(t){var e,n,i,r=0,o=this,a=o._last,s=Xt;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(i=o.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),s<(n=a._start)&&o._sort&&a._ts&&!o._lock?(o._lock=1,U(o,a,n-a._delay,1)._lock=0):s=n,n<0&&a._ts&&(r-=n,(!i&&!o._dp||i&&i.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-1/0),s=0),a._end>r&&a._ts&&(r=a._end),a=e;G(o,o===St&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},a.updateRoot=function(t){if(St._ts&&(C(St,V(t,St)),_t=He.frame),He.frame>=we){we+=qt.autoSleep||120;var e=St._first;if((!e||!e._ts)&&qt.autoSleep&&He._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||He.sleep()}}},a}(Xe);function Ze(t,e,n,o,a,l){var u,c,h,d;if(ye[t]&&!1!==(u=new ye[t]).init(a,u.rawVars?e[t]:function(t,e,n,o,a){if(r(t)&&(t=rn(t,a,e,n,o)),!s(t)||t.style&&t.nodeType||ie(t)||ne(t))return i(t)?rn(t,a,e,n,o):t;var l,u={};for(l in t)u[l]=rn(t[l],a,e,n,o);return u}(e[t],o,a,l,n),n,o,l)&&(n._pt=c=new Sn(n._pt,a,t,0,1,u.render,u,0,u.priority),n!==kt))for(h=n._ptLookup[n._targets.indexOf(a)],d=u._props.length;d--;)h[u._props[d]]=c;return u}function $e(t,e,n,i){var r,o,a=e.ease||i||"power1.inOut";if(ie(e))o=n[t]||(n[t]=[]),e.forEach((function(t,n){return o.push({t:n/(e.length-1)*100,v:t,e:a})}));else for(r in e)o=n[r]||(n[r]=[]),"ease"===r||o.push({t:parseFloat(t),v:e[r],e:a})}k(Ke.prototype,{_lock:0,_hasPause:0,_forcing:0});var Qe,tn,en=function(t,e,n,o,a,s,l,u,c,h){r(o)&&(o=o(a||0,t,s));var f,p=t[e],v="get"!==n?n:r(p)?c?t[e.indexOf("set")||!r(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():p,g=r(p)?c?dn:hn:cn;if(i(o)&&(~o.indexOf("random(")&&(o=rt(o)),"="===o.charAt(1)&&(!(f=A(v,o)+(J(v)||0))&&0!==f||(o=f))),!h||v!==o||tn)return isNaN(v*o)||""===o?(p||e in t||d(e,o),function(t,e,n,i,r,o,a){var s,l,u,c,h,d,f,p,v=new Sn(this._pt,t,e,0,1,gn,null,r),g=0,m=0;for(v.b=n,v.e=i,n+="",(f=~(i+="").indexOf("random("))&&(i=rt(i)),o&&(o(p=[n,i],t,e),n=p[0],i=p[1]),l=n.match(se)||[];s=se.exec(i);)c=s[0],h=i.substring(g,s.index),u?u=(u+1)%5:"rgba("===h.substr(-5)&&(u=1),c!==l[m++]&&(d=parseFloat(l[m-1])||0,v._pt={_next:v._pt,p:h||1===m?h:",",s:d,c:"="===c.charAt(1)?A(d,c)-d:parseFloat(c)-d,m:u&&u<4?Math.round:0},g=se.lastIndex);return v.c=g<i.length?i.substring(g,i.length):"",v.fp=a,(le.test(i)||f)&&(v.e=0),this._pt=v}.call(this,t,e,v,o,g,u||qt.stringFilter,c)):(f=new Sn(this._pt,t,e,+v||0,o-(v||0),"boolean"==typeof p?vn:pn,0,g),c&&(f.fp=c),l&&f.modifier(l,this,t),this._pt=f)},nn=function t(e,n,i){var r,o,a,s,u,c,h,d,f,p,v,y,b,w=e.vars,S=w.ease,A=w.startAt,E=w.immediateRender,C=w.lazy,x=w.onUpdate,_=w.onUpdateParams,M=w.callbackScope,P=w.runBackwards,I=w.yoyoEase,L=w.keyframes,R=w.autoRevert,N=e._dur,H=e._startAt,V=e._targets,j=e.parent,F=j&&"nested"===j.data?j.vars.targets:V,B="auto"===e._overwrite&&!yt,U=e.timeline;if(!U||L&&S||(S="none"),e._ease=We(S,Yt.ease),e._yEase=I?Ue(We(!0===I?S:I,Yt.ease)):0,I&&e._yoyo&&!e._repeat&&(I=e._yEase,e._yEase=e._ease,e._ease=I),e._from=!U&&!!w.runBackwards,!U||L&&!w.stagger){if(y=(d=V[0]?m(V[0]).harness:0)&&w[d.prop],r=O(w,ve),H&&(H._zTime<0&&H.progress(1),n<0&&P&&E&&!R?H.render(-1,!0):H.revert(P&&N?fe:de),H._lazy=0),A){if(D(e._startAt=sn.set(V,k({data:"isStart",overwrite:!1,parent:j,immediateRender:!0,lazy:l(C),startAt:null,delay:0,onUpdate:x,onUpdateParams:_,callbackScope:M,stagger:0},A))),n<(e._startAt._dp=0)&&(bt||!E&&!R)&&e._startAt.revert(fe),E&&N&&n<=0&&i<=0)return void(n&&(e._zTime=n))}else if(P&&N&&!H)if(n&&(E=!1),a=k({overwrite:!1,data:"isFromStart",lazy:E&&l(C),immediateRender:E,stagger:0,parent:j},r),y&&(a[d.prop]=y),D(e._startAt=sn.set(V,a)),n<(e._startAt._dp=0)&&(bt?e._startAt.revert(fe):e._startAt.render(-1,!0)),e._zTime=n,E){if(!n)return}else t(e._startAt,Jt,Jt);for(e._pt=e._ptCache=0,C=N&&l(C)||C&&!N,o=0;o<V.length;o++){if(h=(u=V[o])._gsap||g(V)[o]._gsap,e._ptLookup[o]=p={},me[h.id]&&ge.length&&T(),v=F===V?o:F.indexOf(u),d&&!1!==(f=new d).init(u,y||r,e,v,F)&&(e._pt=s=new Sn(e._pt,u,f.name,0,1,f.render,f,0,f.priority),f._props.forEach((function(t){p[t]=s})),f.priority&&(c=1)),!d||y)for(a in r)ye[a]&&(f=Ze(a,r,e,v,u,F))?f.priority&&(c=1):p[a]=s=en.call(e,u,a,"get",r[a],v,F,0,w.stringFilter);e._op&&e._op[o]&&e.kill(u,e._op[o]),B&&e._pt&&(Qe=e,St.killTweensOf(u,p,e.globalTime(n)),b=!e.parent,Qe=0),e._pt&&C&&(me[h.id]=1)}c&&wn(e),e._onInit&&e._onInit(e)}e._onUpdate=x,e._initted=(!e._op||e._pt)&&!b,L&&n<=0&&U.render(Xt,!0,!0)},rn=function(t,e,n,o,a){return r(t)?t.call(e,n,o,a):i(t)&&~t.indexOf("random(")?rt(t):t},on=Ae+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",an={};b(on+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return an[t]=1}));var sn=function(t){function r(e,i,r,a){var u;"number"==typeof i&&(r.duration=i,i=r,r=null);var h,d,p,v,m,y,b,w,A=(u=t.call(this,a?i:P(i))||this).vars,E=A.duration,T=A.delay,C=A.immediateRender,x=A.stagger,_=A.overwrite,M=A.keyframes,I=A.defaults,L=A.scrollTrigger,D=A.yoyoEase,R=i.parent||St,N=(ie(e)||ne(e)?o(e[0]):"length"in i)?[e]:Oe(e);if(u._targets=N.length?g(N):f("GSAP target "+e+" not found. https://greensock.com",!qt.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=_,M||x||c(E)||c(T)){if(i=u.vars,(h=u.timeline=new Ke({data:"nested",defaults:I||{},targets:R&&"nested"===R.data?R.vars.targets:N})).kill(),h.parent=h._dp=n(u),h._start=0,x||c(E)||c(T)){if(v=N.length,b=x&&Q(x),s(x))for(m in x)~on.indexOf(m)&&((w=w||{})[m]=x[m]);for(d=0;d<v;d++)(p=O(i,an)).stagger=0,D&&(p.yoyoEase=D),w&&Ee(p,w),y=N[d],p.duration=+rn(E,n(u),d,y,N),p.delay=(+rn(T,n(u),d,y,N)||0)-u._delay,!x&&1===v&&p.delay&&(u._delay=T=p.delay,u._start+=T,p.delay=0),h.to(y,p,b?b(d,y,N):0),h._ease=je.none;h.duration()?E=T=0:u.timeline=0}else if(M){P(k(h.vars.defaults,{ease:"none"})),h._ease=We(M.ease||i.ease||"none");var H,V,j,F=0;if(ie(M))M.forEach((function(t){return h.to(N,t,">")})),h.duration();else{for(m in p={},M)"ease"===m||"easeEach"===m||$e(m,M[m],p,M.easeEach);for(m in p)for(H=p[m].sort((function(t,e){return t.t-e.t})),d=F=0;d<H.length;d++)(j={ease:(V=H[d]).e,duration:(V.t-(d?H[d-1].t:0))/100*E})[m]=V.v,h.to(N,j,F),F+=j.duration;h.duration()<E&&h.to({},{duration:E-h.duration()})}}E||u.duration(E=h.duration())}else u.timeline=0;return!0!==_||yt||(Qe=n(u),St.killTweensOf(N),Qe=0),U(R,n(u),r),i.reversed&&u.reverse(),i.paused&&u.paused(!0),(C||!E&&!M&&u._start===S(R._time)&&l(C)&&function t(e){return!e||e._ts&&t(e.parent)}(n(u))&&"nested"!==R.data)&&(u._tTime=-Jt,u.render(Math.max(0,-T)||0)),L&&W(n(u),L),u}e(r,t);var a=r.prototype;return a.render=function(t,e,n){var i,r,o,a,s,l,u,c,h,d=this._time,f=this._tDur,p=this._dur,v=t<0,g=f-Jt<t&&!v?f:t<Jt?0:t;if(p){if(g!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=v){if(i=g,c=this.timeline,this._repeat){if(a=p+this._rDelay,this._repeat<-1&&v)return this.totalTime(100*a+t,e,n);if(i=S(g%a),g===f?(o=this._repeat,i=p):((o=~~(g/a))&&o===g/a&&(i=p,o--),p<i&&(i=p)),(l=this._yoyo&&1&o)&&(h=this._yEase,i=p-i),s=Te(this._tTime,a),i===d&&!n&&this._initted)return this._tTime=g,this;o!==s&&(c&&this._yEase&&ft(c,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=n=1,this.render(S(a*o),!0).invalidate()._lock=0))}if(!this._initted){if(z(this,v?t:i,n,e,g))return this._tTime=0,this;if(d!==this._time)return this;if(p!==this._dur)return this.render(t,e,n)}if(this._tTime=g,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(h||this._ease)(i/p),this._from&&(this.ratio=u=1-u),i&&!d&&!e&&(Ie(this,"onStart"),this._tTime!==g))return this;for(r=this._pt;r;)r.r(u,r.d),r=r._next;c&&c.render(t<0?t:!i&&l?-Jt:c._dur*c._ease(i/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(v&&N(this,t,0,n),Ie(this,"onUpdate")),this._repeat&&o!==s&&this.vars.onRepeat&&!e&&this.parent&&Ie(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(v&&!this._onUpdate&&N(this,t,0,!0),!t&&p||!(g===this._tDur&&0<this._ts||!g&&this._ts<0)||D(this,1),e||v&&!d||!(g||d||l)||(Ie(this,g===f?"onComplete":"onReverseComplete",!0),!this._prom||g<f&&0<this.timeScale()||this._prom()))}}else!function(t,e,n,i){var r,o,a,s=t.ratio,l=e<0||!e&&(!t._start&&function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))}(t)&&(t._initted||!Ce(t))||(t._ts<0||t._dp._ts<0)&&!Ce(t))?0:1,u=t._rDelay,c=0;if(u&&t._repeat&&(c=ke(0,t._tDur,e),o=Te(c,u),t._yoyo&&1&o&&(l=1-l),o!==Te(t._tTime,u)&&(s=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==s||bt||i||t._zTime===Jt||!e&&t._zTime){if(!t._initted&&z(t,e,i,n,c))return;for(a=t._zTime,t._zTime=e||(n?Jt:0),n=n||e&&!a,t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=c,r=t._pt;r;)r.r(l,r.d),r=r._next;e<0&&N(t,e,0,!0),t._onUpdate&&!n&&Ie(t,"onUpdate"),c&&t._repeat&&!n&&t.parent&&Ie(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&D(t,1),n||bt||(Ie(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},a.targets=function(){return this._targets},a.invalidate=function(e){return e&&this.vars.runBackwards||(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},a.resetTo=function(t,e,n,i){Mt||He.wake(),this._ts||this.play();var r=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||nn(this,r),function(t,e,n,i,r,o,a){var s,l,u,c,h=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!h)for(h=t._ptCache[e]=[],u=t._ptLookup,c=t._targets.length;c--;){if((s=u[c][e])&&s.d&&s.d._pt)for(s=s.d._pt;s&&s.p!==e&&s.fp!==e;)s=s._next;if(!s)return tn=1,t.vars[e]="+=0",nn(t,a),tn=0,1;h.push(s)}for(c=h.length;c--;)(s=(l=h[c])._pt||l).s=!i&&0!==i||r?s.s+(i||0)+o*s.c:i,s.c=n-s.s,l.e&&(l.e=w(n)+J(l.e)),l.b&&(l.b=s.s+J(l.b))}(this,t,e,n,i,this._ease(r/this._dur),r)?this.resetTo(t,e,n,i):(F(this,0),this.parent||I(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},a.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?at(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Qe&&!0!==Qe.vars.overwrite)._first||at(this),this.parent&&n!==this.timeline.totalDuration()&&G(this,this._dur*this.timeline._tDur/n,0,1),this}var r,o,a,s,l,u,c,h=this._targets,d=t?Oe(t):h,f=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,i=n===e.length;i&&n--&&t[n]===e[n];);return n<0}(h,d))return"all"===e&&(this._pt=0),at(this);for(r=this._op=this._op||[],"all"!==e&&(i(e)&&(l={},b(e,(function(t){return l[t]=1})),e=l),e=function(t,e){var n,i,r,o,a=t[0]?m(t[0]).harness:0,s=a&&a.aliases;if(!s)return e;for(i in n=Ee({},e),s)if(i in n)for(r=(o=s[i].split(",")).length;r--;)n[o[r]]=n[i];return n}(h,e)),c=h.length;c--;)if(~d.indexOf(h[c]))for(l in o=f[c],"all"===e?(r[c]=e,s=o,a={}):(a=r[c]=r[c]||{},s=e),s)(u=o&&o[l])&&("kill"in u.d&&!0!==u.d.kill(l)||L(this,u,"_pt"),delete o[l]),"all"!==a&&(a[l]=1);return this._initted&&!this._pt&&p&&at(this),this},r.to=function(t,e,n){return new r(t,e,n)},r.from=function(t,e){return Y(1,arguments)},r.delayedCall=function(t,e,n,i){return new r(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},r.fromTo=function(t,e,n){return Y(2,arguments)},r.set=function(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new r(t,e)},r.killTweensOf=function(t,e,n){return St.killTweensOf(t,e,n)},r}(Xe);function ln(t,e,n){return t.setAttribute(e,n)}function un(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)}k(sn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),b("staggerTo,staggerFrom,staggerFromTo",(function(t){sn[t]=function(){var e=new Ke,n=Me.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var cn=function(t,e,n){return t[e]=n},hn=function(t,e,n){return t[e](n)},dn=function(t,e,n,i){return t[e](i.fp,n)},fn=function(t,e){return r(t[e])?hn:a(t[e])&&t.setAttribute?ln:cn},pn=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},vn=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},gn=function(t,e){var n=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+i,n=n._next;i+=e.c}e.set(e.t,e.p,i,e)},mn=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},yn=function(t,e,n,i){for(var r,o=this._pt;o;)r=o._next,o.p===i&&o.modifier(t,e,n),o=r},bn=function(t){for(var e,n,i=this._pt;i;)n=i._next,i.p===t&&!i.op||i.op===t?L(this,i,"_pt"):i.dep||(e=1),i=n;return!e},wn=function(t){for(var e,n,i,r,o=t._pt;o;){for(e=o._next,n=i;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:r)?o._prev._next=o:i=o,(o._next=n)?n._prev=o:r=o,o=e}t._pt=i},Sn=(An.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=un,this.m=t,this.mt=n,this.tween=e},An);function An(t,e,n,i,r,o,a,s,l){this.t=e,this.s=i,this.c=r,this.p=n,this.r=o||pn,this.d=a||this,this.set=s||cn,this.pr=l||0,(this._next=t)&&(t._prev=this)}function En(t){return(_n[t]||kn).map((function(t){return t()}))}function Tn(){var t=Date.now(),e=[];2<t-Mn&&(En("matchMediaInit"),xn.forEach((function(t){var n,i,r,o,a=t.queries,s=t.conditions;for(i in a)(n=At.matchMedia(a[i]).matches)&&(r=1),n!==s[i]&&(s[i]=n,o=1);o&&(t.revert(),r&&e.push(t))})),En("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t)})),Mn=t,En("matchMedia"))}b(Ae+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return ve[t]=1})),he.TweenMax=he.TweenLite=sn,he.TimelineLite=he.TimelineMax=Ke,St=new Ke({sortChildren:!1,defaults:Yt,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),qt.stringFilter=ht;var Cn,xn=[],_n={},kn=[],Mn=0,On=((Cn=Pn.prototype).add=function(t,e,n){function i(){var t,i=wt,a=o.selector;return i&&i!==o&&i.data.push(o),n&&(o.selector=Z(n)),wt=o,r(t=e.apply(o,arguments))&&o._r.push(t),wt=i,o.selector=a,o.isReverted=!1,t}r(t)&&(n=e,e=t,t=r);var o=this;return o.last=i,t===r?i(o):t?o[t]=i:i},Cn.ignore=function(t){var e=wt;wt=null,t(this),wt=e},Cn.getTweens=function(){var t=[];return this.data.forEach((function(e){return e instanceof Pn?t.push.apply(t,e.getTweens()):e instanceof sn&&!(e.parent&&"nested"===e.parent.data)&&t.push(e)})),t},Cn.clear=function(){this._r.length=this.data.length=0},Cn.kill=function(t,e){var n=this;if(t){var i=this.getTweens();this.data.forEach((function(t){"isFlip"===t.data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(t){return i.splice(i.indexOf(t),1)})))})),i.map((function(t){return{g:t.globalTime(0),t:t}})).sort((function(t,e){return e.g-t.g||-1})).forEach((function(e){return e.t.revert(t)})),this.data.forEach((function(e){return!(e instanceof Xe)&&e.revert&&e.revert(t)})),this._r.forEach((function(e){return e(t,n)})),this.isReverted=!0}else this.data.forEach((function(t){return t.kill&&t.kill()}));if(this.clear(),e){var r=xn.indexOf(this);~r&&xn.splice(r,1)}},Cn.revert=function(t){this.kill(t||{})},Pn);function Pn(t,e){this.selector=e&&Z(e),this.data=[],this._r=[],this.isReverted=!1,t&&this.add(t)}var In,Ln=((In=Dn.prototype).add=function(t,e,n){s(t)||(t={matches:t});var i,r,o,a=new On(0,n||this.scope),l=a.conditions={};for(r in this.contexts.push(a),e=a.add("onMatch",e),a.queries=t)"all"===r?o=1:(i=At.matchMedia(t[r]))&&(xn.indexOf(a)<0&&xn.push(a),(l[r]=i.matches)&&(o=1),i.addListener?i.addListener(Tn):i.addEventListener("change",Tn));return o&&e(a),this},In.revert=function(t){this.kill(t||{})},In.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},Dn);function Dn(t){this.contexts=[],this.scope=t}var Rn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return function(t){var e=(t=!t.name&&t.default||t).name,n=r(t),i=e&&!n&&t.init?function(){this._props=[]}:t,o={init:v,render:mn,add:en,kill:bn,modifier:yn,rawVars:0},a={targetTest:0,get:0,getSetter:fn,aliases:{},register:0};if(Ve(),t!==i){if(ye[e])return;k(i,k(O(t,o),a)),Ee(i.prototype,Ee(o,O(t,a))),ye[i.prop=e]=i,t.targetTest&&(Se.push(i),ve[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}p(e,i),t.register&&t.register(Vn,i,Sn)}(t)}))},timeline:function(t){return new Ke(t)},getTweensOf:function(t,e){return St.getTweensOf(t,e)},getProperty:function(t,e,n,r){i(t)&&(t=Oe(t)[0]);var o=m(t||{}).get,a=n?_:x;return"native"===n&&(n=""),t?e?a((ye[e]&&ye[e].get||o)(t,e,n,r)):function(e,n,i){return a((ye[e]&&ye[e].get||o)(t,e,n,i))}:t},quickSetter:function(t,e,n){if(1<(t=Oe(t)).length){var i=t.map((function(t){return Vn.quickSetter(t,e,n)})),r=i.length;return function(t){for(var e=r;e--;)i[e](t)}}t=t[0]||{};var o=ye[e],a=m(t),s=a.harness&&(a.harness.aliases||{})[e]||e,l=o?function(e){var i=new o;kt._pt=0,i.init(t,n?e+n:e,kt,0,[t]),i.render(1,i),kt._pt&&mn(1,kt)}:a.set(t,s);return o?l:function(e){return l(t,s,n?e+n:e,a,1)}},quickTo:function(t,e,n){function i(t,n,i){return o.resetTo(e,t,n,i)}var r,o=Vn.to(t,Ee(((r={})[e]="+=0.1",r.paused=!0,r),n||{}));return i.tween=o,i},isTweening:function(t){return 0<St.getTweensOf(t,!0).length},defaults:function(t){return t&&t.ease&&(t.ease=We(t.ease,Yt.ease)),M(Yt,t||{})},config:function(t){return M(qt,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,i=t.plugins,r=t.defaults,o=t.extendTimeline;(i||"").split(",").forEach((function(t){return t&&!ye[t]&&!he[t]&&f(e+" effect requires "+t+" plugin.")})),be[e]=function(t,e,i){return n(Oe(t),k(e||{},r),i)},o&&(Ke.prototype[e]=function(t,n,i){return this.add(be[e](t,s(n)?n:(i=n)&&{},this),i)})},registerEase:function(t,e){je[t]=We(e)},parseEase:function(t,e){return arguments.length?We(t,e):je},getById:function(t){return St.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,i,r=new Ke(t);for(r.smoothChildTiming=l(t.smoothChildTiming),St.remove(r),r._dp=0,r._time=r._tTime=St._time,n=St._first;n;)i=n._next,!e&&!n._dur&&n instanceof sn&&n.vars.onComplete===n._targets[0]||U(r,n,n._start-n._delay),n=i;return U(St,r,0),r},context:function(t,e){return t?new On(t,e):wt},matchMedia:function(t){return new Ln(t)},matchMediaRefresh:function(){return xn.forEach((function(t){var e,n,i=t.conditions;for(n in i)i[n]&&(i[n]=!1,e=1);e&&t.revert()}))||Tn()},addEventListener:function(t,e){var n=_n[t]||(_n[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=_n[t],i=n&&n.indexOf(e);0<=i&&n.splice(i,1)},utils:{wrap:function t(e,n,i){var r=n-e;return ie(e)?it(e,t(0,e.length),n):X(i,(function(t){return(r+(t-e)%r)%r+e}))},wrapYoyo:function t(e,n,i){var r=n-e,o=2*r;return ie(e)?it(e,t(0,e.length-1),n):X(i,(function(t){return e+(r<(t=(o+(t-e)%o)%o||0)?o-t:t)}))},distribute:Q,random:nt,snap:et,normalize:function(t,e,n){return Pe(t,e,0,1,n)},getUnit:J,clamp:function(t,e,n){return X(n,(function(n){return ke(t,e,n)}))},splitColor:lt,toArray:Oe,selector:Z,mapRange:Pe,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||J(n))}},interpolate:function t(e,n,r,o){var a=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!a){var s,l,u,c,h,d=i(e),f={};if(!0===r&&(o=1)&&(r=null),d)e={p:e},n={p:n};else if(ie(e)&&!ie(n)){for(u=[],c=e.length,h=c-2,l=1;l<c;l++)u.push(t(e[l-1],e[l]));c--,a=function(t){t*=c;var e=Math.min(h,~~t);return u[e](t-e)},r=n}else o||(e=Ee(ie(e)?[]:{},e));if(!u){for(s in n)en.call(f,e,s,"get",n[s]);a=function(t){return mn(t,f)||(d?e.p:e)}}}return X(r,a)},shuffle:$},install:h,effects:be,ticker:He,updateRoot:Ke.updateRoot,plugins:ye,globalTimeline:St,core:{PropTween:Sn,globals:p,Tween:sn,Timeline:Ke,Animation:Xe,getCache:m,_removeLinkedListItem:L,reverting:function(){return bt},context:function(t){return t&&wt&&(wt.data.push(t),t._ctx=wt),wt},suppressOverwrites:function(t){return yt=t}}};function Nn(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n}function Hn(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,o;if(i(n)&&(r={},b(n,(function(t){return r[t]=1})),n=r),e){for(o in r={},n)r[o]=e(n[o]);n=r}!function(t,e){var n,i,r,o=t._targets;for(n in e)for(i=o.length;i--;)(r=(r=t._ptLookup[i][n])&&r.d)&&(r._pt&&(r=Nn(r,n)),r&&r.modifier&&r.modifier(e[n],t,o[i],n))}(t,n)}}}}b("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Rn[t]=sn[t]})),He.add(Ke.updateRoot),kt=Rn.to({},{duration:0});var Vn=Rn.registerPlugin({name:"attr",init:function(t,e,n,i,r){var o,a,s;for(o in this.tween=n,e)s=t.getAttribute(o)||"",(a=this.add(t,"setAttribute",(s||0)+"",e[o],i,r,0,0,o)).op=o,a.b=s,this._props.push(o)},render:function(t,e){for(var n=e._pt;n;)bt?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},Hn("roundProps",tt),Hn("modifiers"),Hn("snap",et))||Rn;function jn(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function Fn(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function Bn(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function Un(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)}function Wn(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function zn(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function Gn(t,e,n){return t.style[e]=n}function qn(t,e,n){return t.style.setProperty(e,n)}function Yn(t,e,n){return t._gsap[e]=n}function Xn(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n}function Jn(t,e,n,i,r){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(r,o)}function Kn(t,e,n,i,r){var o=t._gsap;o[e]=n,o.renderTransform(r,o)}function Zn(t,e){var n=this,i=this.target,r=i.style;if(t in Xi){if(this.tfm=this.tfm||{},"transform"!==t&&(~(t=er[t]||t).indexOf(",")?t.split(",").forEach((function(t){return n.tfm[t]=lr(i,t)})):this.tfm[t]=i._gsap.x?i._gsap[t]:lr(i,t)),0<=this.props.indexOf(nr))return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(ir,e,"")),t=nr}(r||e)&&this.props.push(t,e,r[t])}function $n(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))}function Qn(){var t,e,n=this.props,i=this.target,r=i.style,o=i._gsap;for(t=0;t<n.length;t+=3)n[t+1]?i[n[t]]=n[t+2]:n[t+2]?r[n[t]]=n[t+2]:r.removeProperty(n[t].replace($i,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)o[e]=this.tfm[e];o.svg&&(o.renderTransform(),i.setAttribute("data-svg-origin",this.svgo||"")),!(t=ki())||t.isStart||r[nr]||($n(r),o.uncache=1)}}function ti(t,e){var n={target:t,props:[],revert:Qn,save:Zn};return e&&e.split(",").forEach((function(t){return n.save(t)})),n}function ei(t,e){var n=Ei.createElementNS?Ei.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ei.createElement(t);return n.style?n:Ei.createElement(t)}function ni(t,e,n){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace($i,"-$1").toLowerCase())||i.getPropertyValue(e)||!n&&ni(t,or(e)||e,1)||""}function ii(){"undefined"!=typeof window&&window.document&&(Ai=window,Ei=Ai.document,Ti=Ei.documentElement,xi=ei("div")||{style:{}},ei("div"),nr=or(nr),ir=nr+"Origin",xi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Mi=!!or("perspective"),ki=Vn.core.reverting,Ci=1)}function ri(t){var e,n=ei("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(Ti.appendChild(n),n.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=ri}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),Ti.removeChild(n),this.style.cssText=o,e}function oi(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])}function ai(t){var e;try{e=t.getBBox()}catch(n){e=ri.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===ri||(e=ri.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+oi(t,["x","cx","x1"])||0,y:+oi(t,["y","cy","y1"])||0,width:0,height:0}}function si(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!ai(t))}function li(t,e){if(e){var n=t.style;e in Xi&&e!==ir&&(e=nr),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace($i,"-$1").toLowerCase())):n.removeAttribute(e)}}function ui(t,e,n,i,r,o){var a=new Sn(t._pt,e,n,0,1,o?zn:Wn);return(t._pt=a).b=i,a.e=r,t._props.push(n),a}function ci(t,e,n,i){var r,o,a,s,l=parseFloat(n)||0,u=(n+"").trim().substr((l+"").length)||"px",c=xi.style,h=Qi.test(e),d="svg"===t.tagName.toLowerCase(),f=(d?"client":"offset")+(h?"Width":"Height"),p="px"===i,v="%"===i;return i===u||!l||ar[i]||ar[u]?l:("px"===u||p||(l=ci(t,e,n,"px")),s=t.getCTM&&si(t),!v&&"%"!==u||!Xi[e]&&!~e.indexOf("adius")?(c[h?"width":"height"]=100+(p?u:i),o=~e.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,s&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==Ei&&o.appendChild||(o=Ei.body),(a=o._gsap)&&v&&a.width&&h&&a.time===He.time&&!a.uncache?w(l/a.width*100):(!v&&"%"!==u||sr[ni(o,"display")]||(c.position=ni(t,"position")),o===t&&(c.position="static"),o.appendChild(xi),r=xi[f],o.removeChild(xi),c.position="absolute",h&&v&&((a=m(o)).time=He.time,a.width=o[f]),w(p?r*l/100:r&&l?100/r*l:0))):(r=s?t.getBBox()[h?"width":"height"]:t[f],w(v?l/r*100:l/100*r)))}function hi(t,e,n,i){if(!n||"none"===n){var r=or(e,t,1),o=r&&ni(t,r,1);o&&o!==n?(e=r,n=o):"borderColor"===e&&(n=ni(t,"borderTopColor"))}var a,s,l,u,c,h,d,f,p,v,g,m=new Sn(this._pt,t.style,e,0,1,gn),y=0,b=0;if(m.b=n,m.e=i,n+="","auto"==(i+="")&&(t.style[e]=i,i=ni(t,e)||i,t.style[e]=n),ht(a=[n,i]),i=a[1],l=(n=a[0]).match(ae)||[],(i.match(ae)||[]).length){for(;s=ae.exec(i);)d=s[0],p=i.substring(y,s.index),c?c=(c+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(c=1),d!==(h=l[b++]||"")&&(u=parseFloat(h)||0,g=h.substr((u+"").length),"="===d.charAt(1)&&(d=A(u,d)+g),f=parseFloat(d),v=d.substr((f+"").length),y=ae.lastIndex-v.length,v||(v=v||qt.units[e]||g,y===i.length&&(i+=v,m.e+=v)),g!==v&&(u=ci(t,e,h,v)||0),m._pt={_next:m._pt,p:p||1===b?p:",",s:u,c:f-u,m:c&&c<4||"zIndex"===e?Math.round:0});m.c=y<i.length?i.substring(y,i.length):""}else m.r="display"===e&&"none"===i?zn:Wn;return le.test(i)&&(m.e=0),this._pt=m}function di(t){var e=t.split(" "),n=e[0],i=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==i&&"right"!==i||(t=n,n=i,i=t),e[0]=ur[n]||n,e[1]=ur[i]||i,e.join(" ")}function fi(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,i,r,o=e.t,a=o.style,s=e.u,l=o._gsap;if("all"===s||!0===s)a.cssText="",i=1;else for(r=(s=s.split(",")).length;-1<--r;)n=s[r],Xi[n]&&(i=1,n="transformOrigin"===n?ir:nr),li(o,n);i&&(li(o,nr),l&&(l.svg&&o.removeAttribute("transform"),fr(o,1),l.uncache=1,$n(a)))}}function pi(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function vi(t){var e=ni(t,nr);return pi(e)?hr:e.substr(7).match(oe).map(w)}function gi(t,e){var n,i,r,o,a=t._gsap||m(t),s=t.style,l=vi(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?hr:l:(l!==hr||t.offsetParent||t===Ti||a.svg||(r=s.display,s.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,i=t.nextElementSibling,Ti.appendChild(t)),l=vi(t),r?s.display=r:li(t,"display"),o&&(i?n.insertBefore(t,i):n?n.appendChild(t):Ti.removeChild(t))),e&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)}function mi(t,e,n,i,r,o){var a,s,l,u=t._gsap,c=r||gi(t,!0),h=u.xOrigin||0,d=u.yOrigin||0,f=u.xOffset||0,p=u.yOffset||0,v=c[0],g=c[1],m=c[2],y=c[3],b=c[4],w=c[5],S=e.split(" "),A=parseFloat(S[0])||0,E=parseFloat(S[1])||0;n?c!==hr&&(s=v*y-g*m)&&(l=A*(-g/s)+E*(v/s)-(v*w-g*b)/s,A=A*(y/s)+E*(-m/s)+(m*w-y*b)/s,E=l):(A=(a=ai(t)).x+(~S[0].indexOf("%")?A/100*a.width:A),E=a.y+(~(S[1]||S[0]).indexOf("%")?E/100*a.height:E)),i||!1!==i&&u.smooth?(b=A-h,w=E-d,u.xOffset=f+(b*v+w*m)-b,u.yOffset=p+(b*g+w*y)-w):u.xOffset=u.yOffset=0,u.xOrigin=A,u.yOrigin=E,u.smooth=!!i,u.origin=e,u.originIsAbsolute=!!n,t.style[ir]="0px 0px",o&&(ui(o,u,"xOrigin",h,A),ui(o,u,"yOrigin",d,E),ui(o,u,"xOffset",f,u.xOffset),ui(o,u,"yOffset",p,u.yOffset)),t.setAttribute("data-svg-origin",A+" "+E)}function yi(t,e,n){var i=J(e);return w(parseFloat(e)+parseFloat(ci(t,"x",n+"px",i)))+i}function bi(t,e,n,r,o){var a,s,l=360,u=i(o),c=parseFloat(o)*(u&&~o.indexOf("rad")?Ji:1)-r,h=r+c+"deg";return u&&("short"===(a=o.split("_")[1])&&(c%=l)!=c%180&&(c+=c<0?l:-l),"cw"===a&&c<0?c=(c+36e9)%l-~~(c/l)*l:"ccw"===a&&0<c&&(c=(c-36e9)%l-~~(c/l)*l)),t._pt=s=new Sn(t._pt,e,n,r,c,Fn),s.e=h,s.u="deg",t._props.push(n),s}function wi(t,e){for(var n in e)t[n]=e[n];return t}function Si(t,e,n){var i,r,o,a,s,l,u,c=wi({},n._gsap),h=n.style;for(r in c.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),h[nr]=e,i=fr(n,1),li(n,nr),n.setAttribute("transform",o)):(o=getComputedStyle(n)[nr],h[nr]=e,i=fr(n,1),h[nr]=o),Xi)(o=c[r])!==(a=i[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(s=J(o)!==(u=J(a))?ci(n,r,o,u):parseFloat(o),l=parseFloat(a),t._pt=new Sn(t._pt,i,r,s,l-s,jn),t._pt.u=u||0,t._props.push(r));wi(i,c)}sn.version=Ke.version=Vn.version="3.11.3",xt=1,u()&&Ve();var Ai,Ei,Ti,Ci,xi,_i,ki,Mi,Oi=je.Power0,Pi=je.Power1,Ii=je.Power2,Li=je.Power3,Di=je.Power4,Ri=je.Linear,Ni=je.Quad,Hi=je.Cubic,Vi=je.Quart,ji=je.Quint,Fi=je.Strong,Bi=je.Elastic,Ui=je.Back,Wi=je.SteppedEase,zi=je.Bounce,Gi=je.Sine,qi=je.Expo,Yi=je.Circ,Xi={},Ji=180/Math.PI,Ki=Math.PI/180,Zi=Math.atan2,$i=/([A-Z])/g,Qi=/(left|right|width|margin|padding|x)/i,tr=/[\s,\(]\S/,er={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},nr="transform",ir=nr+"Origin",rr="O,Moz,ms,Ms,Webkit".split(","),or=function(t,e,n){var i=(e||xi).style,r=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(rr[r]+t in i););return r<0?null:(3===r?"ms":0<=r?rr[r]:"")+t},ar={deg:1,rad:1,turn:1},sr={grid:1,flex:1},lr=function(t,e,n,i){var r;return Ci||ii(),e in er&&"transform"!==e&&~(e=er[e]).indexOf(",")&&(e=e.split(",")[0]),Xi[e]&&"transform"!==e?(r=fr(t,i),r="transformOrigin"!==e?r[e]:r.svg?r.origin:pr(ni(t,ir))+" "+r.zOrigin+"px"):(r=t.style[e])&&"auto"!==r&&!i&&!~(r+"").indexOf("calc(")||(r=cr[e]&&cr[e](t,e,n)||ni(t,e)||y(t,e)||("opacity"===e?1:0)),n&&!~(r+"").trim().indexOf(" ")?ci(t,e,r,n)+n:r},ur={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},cr={clearProps:function(t,e,n,i,r){if("isFromStart"!==r.data){var o=t._pt=new Sn(t._pt,e,n,0,0,fi);return o.u=i,o.pr=-10,o.tween=r,t._props.push(n),1}}},hr=[1,0,0,1,0,0],dr={},fr=function(t,e){var n=t._gsap||new Ye(t);if("x"in n&&!e&&!n.uncache)return n;var i,r,o,a,s,l,u,c,h,d,f,p,v,g,m,y,b,S,A,E,T,C,x,_,k,M,O,P,I,L,D,R,N=t.style,H=n.scaleX<0,V="deg",j=getComputedStyle(t),F=ni(t,ir)||"0";return i=r=o=l=u=c=h=d=f=0,a=s=1,n.svg=!(!t.getCTM||!si(t)),j.translate&&("none"===j.translate&&"none"===j.scale&&"none"===j.rotate||(N[nr]=("none"!==j.translate?"translate3d("+(j.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==j.rotate?"rotate("+j.rotate+") ":"")+("none"!==j.scale?"scale("+j.scale.split(" ").join(",")+") ":"")+("none"!==j[nr]?j[nr]:"")),N.scale=N.rotate=N.translate="none"),g=gi(t,n.svg),n.svg&&(_=n.uncache?(k=t.getBBox(),F=n.xOrigin-k.x+"px "+(n.yOrigin-k.y)+"px",""):!e&&t.getAttribute("data-svg-origin"),mi(t,_||F,!!_||n.originIsAbsolute,!1!==n.smooth,g)),p=n.xOrigin||0,v=n.yOrigin||0,g!==hr&&(S=g[0],A=g[1],E=g[2],T=g[3],i=C=g[4],r=x=g[5],6===g.length?(a=Math.sqrt(S*S+A*A),s=Math.sqrt(T*T+E*E),l=S||A?Zi(A,S)*Ji:0,(h=E||T?Zi(E,T)*Ji+l:0)&&(s*=Math.abs(Math.cos(h*Ki))),n.svg&&(i-=p-(p*S+v*E),r-=v-(p*A+v*T))):(R=g[6],L=g[7],O=g[8],P=g[9],I=g[10],D=g[11],i=g[12],r=g[13],o=g[14],u=(m=Zi(R,I))*Ji,m&&(_=C*(y=Math.cos(-m))+O*(b=Math.sin(-m)),k=x*y+P*b,M=R*y+I*b,O=C*-b+O*y,P=x*-b+P*y,I=R*-b+I*y,D=L*-b+D*y,C=_,x=k,R=M),c=(m=Zi(-E,I))*Ji,m&&(y=Math.cos(-m),D=T*(b=Math.sin(-m))+D*y,S=_=S*y-O*b,A=k=A*y-P*b,E=M=E*y-I*b),l=(m=Zi(A,S))*Ji,m&&(_=S*(y=Math.cos(m))+A*(b=Math.sin(m)),k=C*y+x*b,A=A*y-S*b,x=x*y-C*b,S=_,C=k),u&&359.9<Math.abs(u)+Math.abs(l)&&(u=l=0,c=180-c),a=w(Math.sqrt(S*S+A*A+E*E)),s=w(Math.sqrt(x*x+R*R)),m=Zi(C,x),h=2e-4<Math.abs(m)?m*Ji:0,f=D?1/(D<0?-D:D):0),n.svg&&(_=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!pi(ni(t,nr)),_&&t.setAttribute("transform",_))),90<Math.abs(h)&&Math.abs(h)<270&&(H?(a*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),e=e||n.uncache,n.x=i-((n.xPercent=i&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+"px",n.y=r-((n.yPercent=r&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+"px",n.z=o+"px",n.scaleX=w(a),n.scaleY=w(s),n.rotation=w(l)+V,n.rotationX=w(u)+V,n.rotationY=w(c)+V,n.skewX=h+V,n.skewY=d+V,n.transformPerspective=f+"px",(n.zOrigin=parseFloat(F.split(" ")[2])||0)&&(N[ir]=pr(F)),n.xOffset=n.yOffset=0,n.force3D=qt.force3D,n.renderTransform=n.svg?wr:Mi?br:vr,n.uncache=0,n},pr=function(t){return(t=t.split(" "))[0]+" "+t[1]},vr=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,br(t,e)},gr="0deg",mr="0px",yr=") ",br=function(t,e){var n=e||this,i=n.xPercent,r=n.yPercent,o=n.x,a=n.y,s=n.z,l=n.rotation,u=n.rotationY,c=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,p=n.scaleY,v=n.transformPerspective,g=n.force3D,m=n.target,y=n.zOrigin,b="",w="auto"===g&&t&&1!==t||!0===g;if(y&&(c!==gr||u!==gr)){var S,A=parseFloat(u)*Ki,E=Math.sin(A),T=Math.cos(A);A=parseFloat(c)*Ki,o=yi(m,o,E*(S=Math.cos(A))*-y),a=yi(m,a,-Math.sin(A)*-y),s=yi(m,s,T*S*-y+y)}v!==mr&&(b+="perspective("+v+yr),(i||r)&&(b+="translate("+i+"%, "+r+"%) "),!w&&o===mr&&a===mr&&s===mr||(b+=s!==mr||w?"translate3d("+o+", "+a+", "+s+") ":"translate("+o+", "+a+yr),l!==gr&&(b+="rotate("+l+yr),u!==gr&&(b+="rotateY("+u+yr),c!==gr&&(b+="rotateX("+c+yr),h===gr&&d===gr||(b+="skew("+h+", "+d+yr),1===f&&1===p||(b+="scale("+f+", "+p+yr),m.style[nr]=b||"translate(0, 0)"},wr=function(t,e){var n,i,r,o,a,s=e||this,l=s.xPercent,u=s.yPercent,c=s.x,h=s.y,d=s.rotation,f=s.skewX,p=s.skewY,v=s.scaleX,g=s.scaleY,m=s.target,y=s.xOrigin,b=s.yOrigin,S=s.xOffset,A=s.yOffset,E=s.forceCSS,T=parseFloat(c),C=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=Ki,f*=Ki,n=Math.cos(d)*v,i=Math.sin(d)*v,r=Math.sin(d-f)*-g,o=Math.cos(d-f)*g,f&&(p*=Ki,a=Math.tan(f-p),r*=a=Math.sqrt(1+a*a),o*=a,p&&(a=Math.tan(p),n*=a=Math.sqrt(1+a*a),i*=a)),n=w(n),i=w(i),r=w(r),o=w(o)):(n=v,o=g,i=r=0),(T&&!~(c+"").indexOf("px")||C&&!~(h+"").indexOf("px"))&&(T=ci(m,"x",c,"px"),C=ci(m,"y",h,"px")),(y||b||S||A)&&(T=w(T+y-(y*n+b*r)+S),C=w(C+b-(y*i+b*o)+A)),(l||u)&&(T=w(T+l/100*(a=m.getBBox()).width),C=w(C+u/100*a.height)),a="matrix("+n+","+i+","+r+","+o+","+T+","+C+")",m.setAttribute("transform",a),E&&(m.style[nr]=a)};b("padding,margin,Width,Radius",(function(t,e){var n="Right",i="Bottom",r="Left",o=(e<3?["Top",n,i,r]:["Top"+r,"Top"+n,i+n,i+r]).map((function(n){return e<2?t+n:"border"+n+t}));cr[1<e?"border"+t:t]=function(t,e,n,i,r){var a,s;if(arguments.length<4)return a=o.map((function(e){return lr(t,e,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(i+"").split(" "),s={},o.forEach((function(t,e){return s[t]=a[e]=a[e]||a[(e-1)/2|0]})),t.init(e,s,r)}}));var Sr,Ar,Er,Tr={name:"css",register:ii,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,o){var a,s,l,u,c,h,f,p,v,g,m,y,b,w,S,E,T=this._props,C=t.style,x=n.vars.startAt;for(f in Ci||ii(),this.styles=this.styles||ti(t),E=this.styles.props,this.tween=n,e)if("autoRound"!==f&&(s=e[f],!ye[f]||!Ze(f,e,n,r,t,o)))if(c=typeof s,h=cr[f],"function"===c&&(c=typeof(s=s.call(n,r,t,o))),"string"===c&&~s.indexOf("random(")&&(s=rt(s)),h)h(this,t,f,s,n)&&(S=1);else if("--"===f.substr(0,2))a=(getComputedStyle(t).getPropertyValue(f)+"").trim(),s+="",Re.lastIndex=0,Re.test(a)||(p=J(a),v=J(s)),v?p!==v&&(a=ci(t,f,a,v)+v):p&&(s+=p),this.add(C,"setProperty",a,s,r,o,0,0,f),T.push(f),E.push(f,0,C[f]);else if("undefined"!==c){if(x&&f in x?(i(a="function"==typeof x[f]?x[f].call(n,r,t,o):x[f])&&~a.indexOf("random(")&&(a=rt(a)),J(a+"")||(a+=qt.units[f]||J(lr(t,f))||""),"="===(a+"").charAt(1)&&(a=lr(t,f))):a=lr(t,f),u=parseFloat(a),(g="string"===c&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),l=parseFloat(s),f in er&&("autoAlpha"===f&&(1===u&&"hidden"===lr(t,"visibility")&&l&&(u=0),E.push("visibility",0,C.visibility),ui(this,C,"visibility",u?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==f&&"transform"!==f&&~(f=er[f]).indexOf(",")&&(f=f.split(",")[0])),m=f in Xi)if(this.styles.save(f),y||((b=t._gsap).renderTransform&&!e.parseTransform||fr(t,e.parseTransform),w=!1!==e.smoothOrigin&&b.smooth,(y=this._pt=new Sn(this._pt,C,nr,0,1,b.renderTransform,b,0,-1)).dep=1),"scale"===f)this._pt=new Sn(this._pt,b,"scaleY",u,(g?A(u,g+l):l)-u||0,jn),this._pt.u=0,T.push("scaleY",f),f+="X";else{if("transformOrigin"===f){E.push(ir,0,C[ir]),s=di(s),b.svg?mi(t,s,0,w,0,this):((v=parseFloat(s.split(" ")[2])||0)!==b.zOrigin&&ui(this,b,"zOrigin",b.zOrigin,v),ui(this,C,f,pr(a),pr(s)));continue}if("svgOrigin"===f){mi(t,s,1,w,0,this);continue}if(f in dr){bi(this,b,f,u,g?A(u,g+s):s);continue}if("smoothOrigin"===f){ui(this,b,"smooth",b.smooth,s);continue}if("force3D"===f){b[f]=s;continue}if("transform"===f){Si(this,s,t);continue}}else f in C||(f=or(f)||f);if(m||(l||0===l)&&(u||0===u)&&!tr.test(s)&&f in C)l=l||0,(p=(a+"").substr((u+"").length))!==(v=J(s)||(f in qt.units?qt.units[f]:p))&&(u=ci(t,f,a,v)),this._pt=new Sn(this._pt,m?b:C,f,u,(g?A(u,g+l):l)-u,m||"px"!==v&&"zIndex"!==f||!1===e.autoRound?jn:Un),this._pt.u=v||0,p!==v&&"%"!==v&&(this._pt.b=a,this._pt.r=Bn);else if(f in C)hi.call(this,t,f,a,g?g+s:s);else{if(!(f in t)){d(f,s);continue}this.add(t,f,a||t[f],g?g+s:s,r,o)}m||(f in C?E.push(f,0,C[f]):E.push(f,1,a||t[f])),T.push(f)}S&&wn(this)},render:function(t,e){if(e.tween._time||!ki())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:lr,aliases:er,getSetter:function(t,e,n){var i=er[e];return i&&i.indexOf(",")<0&&(e=i),e in Xi&&e!==ir&&(t._gsap.x||lr(t,"x"))?n&&_i===n?"scale"===e?Xn:Yn:(_i=n||{})&&("scale"===e?Jn:Kn):t.style&&!a(t.style[e])?Gn:~e.indexOf("-")?qn:fn(t,e)},core:{_removeProperty:li,_getMatrix:gi}};Vn.utils.checkPrefix=or,Vn.core.getStyleSaver=ti,Er=b((Sr="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(Ar="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Xi[t]=1})),b(Ar,(function(t){qt.units[t]="deg",dr[t]=1})),er[Er[13]]=Sr+","+Ar,b("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");er[e[1]]=Er[e[0]]})),b("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){qt.units[t]="px"})),Vn.registerPlugin(Tr);var Cr=Vn.registerPlugin(Tr)||Vn,xr=Cr.core.Tween;t.Back=Ui,t.Bounce=zi,t.CSSPlugin=Tr,t.Circ=Yi,t.Cubic=Hi,t.Elastic=Bi,t.Expo=qi,t.Linear=Ri,t.Power0=Oi,t.Power1=Pi,t.Power2=Ii,t.Power3=Li,t.Power4=Di,t.Quad=Ni,t.Quart=Vi,t.Quint=ji,t.Sine=Gi,t.SteppedEase=Wi,t.Strong=Fi,t.TimelineLite=Ke,t.TimelineMax=Ke,t.TweenLite=sn,t.TweenMax=xr,t.default=Cr,t.gsap=Cr,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}(e)},5485:function(t,e,n){!function(t){var i,r="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g,o=n(9050);try{i=n(Object(function(){var t=new Error("Cannot find module 'jquery'");throw t.code="MODULE_NOT_FOUND",t}()))}catch(t){}t(r,e,o,i)}((function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.4.1",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a,s=e.Events={},l=/\s+/,u=function(t,e,i,r,o){var a,s=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(a=n.keys(i);s<a.length;s++)e=u(t,e,a[s],i[a[s]],o)}else if(i&&l.test(i))for(a=i.split(l);s<a.length;s++)e=t(e,a[s],r,o);else e=t(e,i,r,o);return e};s.on=function(t,e,n){(this._events=u(c,this._events||{},t,e,{context:n,ctx:this,listening:a}),a)&&((this._listeners||(this._listeners={}))[a.id]=a,a.interop=!1);return this},s.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=a=o[r];s||(this._listenId||(this._listenId=n.uniqueId("l")),s=a=o[r]=new g(this,t));var l=h(t,e,i,this);if(a=void 0,l)throw l;return s.interop&&s.on(e,i),this};var c=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,a=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:o,ctx:o||a,listening:s})}return t},h=function(t,e,n,i){try{t.on(e,n,i)}catch(t){return t}};s.off=function(t,e,n){return this._events?(this._events=u(d,this._events,t,e,{context:n,listeners:this._listeners}),this):this},s.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(e,i,this),s.interop&&s.off(e,i)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var d=function(t,e,i,r){if(t){var o,a=r.context,s=r.listeners,l=0;if(e||a||i){for(o=e?[e]:n.keys(t);l<o.length;l++){var u=t[e=o[l]];if(!u)break;for(var c=[],h=0;h<u.length;h++){var d=u[h];if(i&&i!==d.callback&&i!==d.callback._callback||a&&a!==d.context)c.push(d);else{var f=d.listening;f&&f.off(e,i)}}c.length?t[e]=c:delete t[e]}return t}for(o=n.keys(s);l<o.length;l++)s[o[l]].cleanup()}};s.once=function(t,e,n){var i=u(f,{},t,e,this.off.bind(this));return"string"==typeof t&&null==n&&(e=void 0),this.on(i,e,n)},s.listenToOnce=function(t,e,n){var i=u(f,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,i)};var f=function(t,e,i,r){if(i){var o=t[e]=n.once((function(){r(e,o),i.apply(this,arguments)}));o._callback=i}return t};s.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return u(p,this._events,t,void 0,n),this};var p=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&v(r,i),o&&v(o,[e].concat(i))}return t},v=function(t,e){var n,i=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}},g=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};g.prototype.on=s.on,g.prototype.off=function(t,e){var n;this.interop?(this._events=u(d,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(e,s);var m=e.Model=function(t,e){var i=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(m.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,a=i.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,h=this._previousAttributes;for(var d in r)e=r[d],n.isEqual(u[d],e)||s.push(d),n.isEqual(h[d],e)?delete c[d]:c[d]=e,o?delete u[d]:u[d]=e;if(this.idAttribute in r){var f=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,f,i)}if(!a){s.length&&(this._pending=i);for(var p=0;p<s.length;p++)this.trigger("change:"+s[p],this,u[s[p]],i)}if(l)return this;if(!a)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,i=this._changing?this._previousAttributes:this.attributes,r={};for(var o in t){var a=t[o];n.isEqual(i[o],a)||(r[o]=a,e=!0)}return!!e&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger("sync",e,n,t)},z(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e;var o=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var a=this,s=i.success,l=this.attributes;i.success=function(t){a.attributes=l;var e=i.parse?a.parse(t,i):t;if(o&&(e=n.extend({},r,e)),e&&!a.set(e,i))return!1;s&&s.call(i.context,a,t,i),a.trigger("sync",a,t,i)},z(this,i),r&&o&&(this.attributes=n.extend({},l,r));var u=this.isNew()?"create":i.patch?"patch":"update";"patch"!==u||i.attrs||(i.attrs=r);var c=this.sync(u,this,i);return this.attributes=l,c},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(z(this,t),a=this.sync("delete",this,t)),r||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||W();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}});var y=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},S=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),o=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;i<o;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+o+n]=r[i]};n.extend(y.prototype,s,{model:m,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),i?r[0]:r},set:function(t,e){if(null!=t){(e=n.extend({},b,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,a,s=[],l=[],u=[],c=[],h={},d=e.add,f=e.merge,p=e.remove,v=!1,g=this.comparator&&null==r&&!1!==e.sort,m=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var y=this.get(o);if(y){if(f&&o!==y){var w=this._isModel(o)?o.attributes:o;e.parse&&(w=y.parse(w,e)),y.set(w,e),u.push(y),g&&!v&&(v=y.hasChanged(m))}h[y.cid]||(h[y.cid]=!0,s.push(y)),t[a]=y}else d&&(o=t[a]=this._prepareModel(o,e))&&(l.push(o),this._addReference(o,e),h[o.cid]=!0,s.push(o))}if(p){for(a=0;a<this.length;a++)h[(o=this.models[a]).cid]||c.push(o);c.length&&this._removeModels(c,e)}var A=!1,E=!g&&d&&p;if(s.length&&E?(A=this.length!==s.length||n.some(this.models,(function(t,e){return t!==s[e]})),this.models.length=0,S(this.models,s,0),this.length=this.models.length):l.length&&(g&&(v=!0),S(this.models,l,null==r?this.length:r),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(a=0;a<l.length;a++)null!=r&&(e.index=r+a),(o=l[a]).trigger("add",o,this,e);(v||A)&&this.trigger("sort",this,e),(l.length||c.length||u.length)&&(e.changes={added:l,removed:c,merged:u},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t,t.idAttribute)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=e.bind(this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},z(this,t),this.sync("read",this,t)},create:function(t,e){var i=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t,e){return t[e||this.model.prototype.idAttribute||"id"]},values:function(){return new E(this,T)},keys:function(){return new E(this,C)},entries:function(){return new E(this,x)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){return this._isModel(t)?(t.collection||(t.collection=this),t):((e=e?n.clone(e):{}).collection=this,(i=this.model.prototype?new this.model(t,e):this.model(t,e)).validationError?(this.trigger("invalid",this,i.validationError,e),!1):i);var i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var a=this.modelId(r.attributes,r.idAttribute);null!=a&&delete this._byId[a],e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof m},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes,t.idAttribute);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes,t.idAttribute);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"changeId"===t){var r=this.modelId(e.previousAttributes(),e.idAttribute),o=this.modelId(e.attributes,e.idAttribute);null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e)}}this.trigger.apply(this,arguments)}});var A="function"==typeof Symbol&&Symbol.iterator;A&&(y.prototype[A]=y.prototype.values);var E=function(t,e){this._collection=t,this._kind=e,this._index=0},T=1,C=2,x=3;A&&(E.prototype[A]=function(){return this}),E.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===T)t=e;else{var n=this._collection.modelId(e.attributes,e.idAttribute);t=this._kind===C?n:[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var _=e.View=function(t){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,M)),this._ensureElement(),this.initialize.apply(this,arguments)},k=/^(\S+)\s*(.*)$/,M=["model","collection","el","id","attributes","className","tagName","events"];n.extend(_.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(k);this.delegate(r[1],r[2],i.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var O=function(t,e,i,r){n.each(i,(function(n,i){e[i]&&(t.prototype[i]=function(t,e,n,i){switch(e){case 1:return function(){return t[n](this[i])};case 2:return function(e){return t[n](this[i],e)};case 3:return function(e,r){return t[n](this[i],P(e,this),r)};case 4:return function(e,r,o){return t[n](this[i],P(e,this),r,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[i]),t[n].apply(t,e)}}}(e,n,i,r))}))},P=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?I(t):n.isString(t)?function(e){return e.get(t)}:t},I=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}};n.each([[y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[m,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],(function(t){var e=t[0],i=t[1],r=t[2];e.mixin=function(t){var i=n.reduce(n.functions(t),(function(t,e){return t[e]=0,t}),{});O(e,t,i,r)},O(e,n,i,r)})),e.sync=function(t,i,r){var o=L[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||W()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var l=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,l&&l.call(r.context,t,e,n)};var u=r.xhr=e.ajax(n.extend(a,r));return i.trigger("request",i,u,r),u};var L={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var D=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},R=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,H=/\*\w+/g,V=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(D.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,(function(n){var a=o._extractParameters(t,n);!1!==o.execute(r,a,i)&&(o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),e.history.trigger("route",o,i,a))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(V,"\\$&").replace(R,"(?:$1)?").replace(N,(function(t,e){return e?t:"([^/?]+)"})).replace(H,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,(function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null}))}});var j=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,U=/#.*$/;j.started=!1,n.extend(j.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(F,"")},start:function(t){if(j.started)throw new Error("Backbone.history has already been started");if(j.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(B,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),j.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!j.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;t=t.replace(U,"");var r=this.decodeFragment(t);if(this.fragment!==r){if(this.fragment=r,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;e.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new j;m.extend=y.extend=D.extend=_.extend=j.extend=function(t,e){var i,r=this;return i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e),i.prototype=n.create(r.prototype,t),i.prototype.constructor=i,i.__super__=r.prototype,i};var W=function(){throw new Error('A "url" property or function must be specified')},z=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e}))},6486:function(t,e,n){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */t=n.nmd(t),function(){var r,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,u=32,c=64,h=128,d=256,f=1/0,p=9007199254740991,v=NaN,g=4294967295,m=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",d]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",S="[object Date]",A="[object Error]",E="[object Function]",T="[object GeneratorFunction]",C="[object Map]",x="[object Number]",_="[object Object]",k="[object Promise]",M="[object RegExp]",O="[object Set]",P="[object String]",I="[object Symbol]",L="[object WeakMap]",D="[object ArrayBuffer]",R="[object DataView]",N="[object Float32Array]",H="[object Float64Array]",V="[object Int8Array]",j="[object Int16Array]",F="[object Int32Array]",B="[object Uint8Array]",U="[object Uint8ClampedArray]",W="[object Uint16Array]",z="[object Uint32Array]",G=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,K=RegExp(X.source),Z=RegExp(J.source),$=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(rt.source),at=/^\s+/,st=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,ft=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,St=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,At=/($^)/,Et=/['\n\r\u2028\u2029\\]/g,Tt="\\ud800-\\udfff",Ct="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="\\u2700-\\u27bf",_t="a-z\\xdf-\\xf6\\xf8-\\xff",kt="A-Z\\xc0-\\xd6\\xd8-\\xde",Mt="\\ufe0e\\ufe0f",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pt="['’]",It="["+Tt+"]",Lt="["+Ot+"]",Dt="["+Ct+"]",Rt="\\d+",Nt="["+xt+"]",Ht="["+_t+"]",Vt="[^"+Tt+Ot+Rt+xt+_t+kt+"]",jt="\\ud83c[\\udffb-\\udfff]",Ft="[^"+Tt+"]",Bt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ut="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+kt+"]",zt="\\u200d",Gt="(?:"+Ht+"|"+Vt+")",qt="(?:"+Wt+"|"+Vt+")",Yt="(?:['’](?:d|ll|m|re|s|t|ve))?",Xt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Jt="(?:"+Dt+"|"+jt+")"+"?",Kt="["+Mt+"]?",Zt=Kt+Jt+("(?:"+zt+"(?:"+[Ft,Bt,Ut].join("|")+")"+Kt+Jt+")*"),$t="(?:"+[Nt,Bt,Ut].join("|")+")"+Zt,Qt="(?:"+[Ft+Dt+"?",Dt,Bt,Ut,It].join("|")+")",te=RegExp(Pt,"g"),ee=RegExp(Dt,"g"),ne=RegExp(jt+"(?="+jt+")|"+Qt+Zt,"g"),ie=RegExp([Wt+"?"+Ht+"+"+Yt+"(?="+[Lt,Wt,"$"].join("|")+")",qt+"+"+Xt+"(?="+[Lt,Wt+Gt,"$"].join("|")+")",Wt+"?"+Gt+"+"+Yt,Wt+"+"+Xt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rt,$t].join("|"),"g"),re=RegExp("["+zt+Tt+Ct+Mt+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],se=-1,le={};le[N]=le[H]=le[V]=le[j]=le[F]=le[B]=le[U]=le[W]=le[z]=!0,le[y]=le[b]=le[D]=le[w]=le[R]=le[S]=le[A]=le[E]=le[C]=le[x]=le[_]=le[M]=le[O]=le[P]=le[L]=!1;var ue={};ue[y]=ue[b]=ue[D]=ue[R]=ue[w]=ue[S]=ue[N]=ue[H]=ue[V]=ue[j]=ue[F]=ue[C]=ue[x]=ue[_]=ue[M]=ue[O]=ue[P]=ue[I]=ue[B]=ue[U]=ue[W]=ue[z]=!0,ue[A]=ue[E]=ue[L]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,de=parseInt,fe="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pe="object"==typeof self&&self&&self.Object===Object&&self,ve=fe||pe||Function("return this")(),ge=e&&!e.nodeType&&e,me=ge&&t&&!t.nodeType&&t,ye=me&&me.exports===ge,be=ye&&fe.process,we=function(){try{var t=me&&me.require&&me.require("util").types;return t||be&&be.binding&&be.binding("util")}catch(t){}}(),Se=we&&we.isArrayBuffer,Ae=we&&we.isDate,Ee=we&&we.isMap,Te=we&&we.isRegExp,Ce=we&&we.isSet,xe=we&&we.isTypedArray;function _e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ke(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Me(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Pe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Ie(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function Le(t,e){return!!(null==t?0:t.length)&&We(t,e,0)>-1}function De(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Re(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function Ne(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function He(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function Ve(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function je(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var Fe=Ye("length");function Be(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function Ue(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function We(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):Ue(t,Ge,n)}function ze(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function Ge(t){return t!=t}function qe(t,e){var n=null==t?0:t.length;return n?Ke(t,e)/n:v}function Ye(t){return function(e){return null==e?r:e[t]}}function Xe(t){return function(e){return null==t?r:t[e]}}function Je(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function Ke(t,e){for(var n,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==r&&(n=n===r?a:n+a)}return n}function Ze(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function $e(t){return t?t.slice(0,gn(t)+1).replace(at,""):t}function Qe(t){return function(e){return t(e)}}function tn(t,e){return Re(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,i=t.length;++n<i&&We(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&We(e,t[n],0)>-1;);return n}var on=Xe({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=Xe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+ce[t]}function ln(t){return re.test(t)}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function cn(t,e){return function(n){return t(e(n))}}function hn(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==s||(t[n]=s,o[r++]=n)}return o}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return ln(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):Fe(t)}function vn(t){return ln(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function gn(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var mn=Xe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function t(e){var n,i=(e=null==e?ve:yn.defaults(ve.Object(),e,yn.pick(ve,ae))).Array,st=e.Date,Tt=e.Error,Ct=e.Function,xt=e.Math,_t=e.Object,kt=e.RegExp,Mt=e.String,Ot=e.TypeError,Pt=i.prototype,It=Ct.prototype,Lt=_t.prototype,Dt=e["__core-js_shared__"],Rt=It.toString,Nt=Lt.hasOwnProperty,Ht=0,Vt=(n=/[^.]+$/.exec(Dt&&Dt.keys&&Dt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",jt=Lt.toString,Ft=Rt.call(_t),Bt=ve._,Ut=kt("^"+Rt.call(Nt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=ye?e.Buffer:r,zt=e.Symbol,Gt=e.Uint8Array,qt=Wt?Wt.allocUnsafe:r,Yt=cn(_t.getPrototypeOf,_t),Xt=_t.create,Jt=Lt.propertyIsEnumerable,Kt=Pt.splice,Zt=zt?zt.isConcatSpreadable:r,$t=zt?zt.iterator:r,Qt=zt?zt.toStringTag:r,ne=function(){try{var t=fo(_t,"defineProperty");return t({},"",{}),t}catch(t){}}(),re=e.clearTimeout!==ve.clearTimeout&&e.clearTimeout,ce=st&&st.now!==ve.Date.now&&st.now,fe=e.setTimeout!==ve.setTimeout&&e.setTimeout,pe=xt.ceil,ge=xt.floor,me=_t.getOwnPropertySymbols,be=Wt?Wt.isBuffer:r,we=e.isFinite,Fe=Pt.join,Xe=cn(_t.keys,_t),bn=xt.max,wn=xt.min,Sn=st.now,An=e.parseInt,En=xt.random,Tn=Pt.reverse,Cn=fo(e,"DataView"),xn=fo(e,"Map"),_n=fo(e,"Promise"),kn=fo(e,"Set"),Mn=fo(e,"WeakMap"),On=fo(_t,"create"),Pn=Mn&&new Mn,In={},Ln=jo(Cn),Dn=jo(xn),Rn=jo(_n),Nn=jo(kn),Hn=jo(Mn),Vn=zt?zt.prototype:r,jn=Vn?Vn.valueOf:r,Fn=Vn?Vn.toString:r;function Bn(t){if(ns(t)&&!Ga(t)&&!(t instanceof Gn)){if(t instanceof zn)return t;if(Nt.call(t,"__wrapped__"))return Fo(t)}return new zn(t)}var Un=function(){function t(){}return function(e){if(!es(e))return{};if(Xt)return Xt(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Wn(){}function zn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Gn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Jn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Xn;++e<n;)this.add(t[e])}function Kn(t){var e=this.__data__=new Yn(t);this.size=e.size}function Zn(t,e){var n=Ga(t),i=!n&&za(t),r=!n&&!i&&Ja(t),o=!n&&!i&&!r&&cs(t),a=n||i||r||o,s=a?Ze(t.length,Mt):[],l=s.length;for(var u in t)!e&&!Nt.call(t,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||wo(u,l))||s.push(u);return s}function $n(t){var e=t.length;return e?t[Ji(0,e-1)]:r}function Qn(t,e){return No(Or(t),li(e,0,t.length))}function ti(t){return No(Or(t))}function ei(t,e,n){(n!==r&&!Ba(t[e],n)||n===r&&!(e in t))&&ai(t,e,n)}function ni(t,e,n){var i=t[e];Nt.call(t,e)&&Ba(i,n)&&(n!==r||e in t)||ai(t,e,n)}function ii(t,e){for(var n=t.length;n--;)if(Ba(t[n][0],e))return n;return-1}function ri(t,e,n,i){return fi(t,(function(t,r,o){e(i,t,n(t),o)})),i}function oi(t,e){return t&&Pr(e,Is(e),t)}function ai(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function si(t,e){for(var n=-1,o=e.length,a=i(o),s=null==t;++n<o;)a[n]=s?r:_s(t,e[n]);return a}function li(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function ui(t,e,n,i,o,a){var s,l=1&e,u=2&e,c=4&e;if(n&&(s=o?n(t,i,o,a):n(t)),s!==r)return s;if(!es(t))return t;var h=Ga(t);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!l)return Or(t,s)}else{var d=go(t),f=d==E||d==T;if(Ja(t))return Tr(t,l);if(d==_||d==y||f&&!o){if(s=u||f?{}:yo(t),!l)return u?function(t,e){return Pr(t,vo(t),e)}(t,function(t,e){return t&&Pr(e,Ls(e),t)}(s,t)):function(t,e){return Pr(t,po(t),e)}(t,oi(s,t))}else{if(!ue[d])return o?t:{};s=function(t,e,n){var i=t.constructor;switch(e){case D:return Cr(t);case w:case S:return new i(+t);case R:return function(t,e){var n=e?Cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case H:case V:case j:case F:case B:case U:case W:case z:return xr(t,n);case C:return new i;case x:case P:return new i(t);case M:return function(t){var e=new t.constructor(t.source,vt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new i;case I:return r=t,jn?_t(jn.call(r)):{}}var r}(t,d,l)}}a||(a=new Kn);var p=a.get(t);if(p)return p;a.set(t,s),ss(t)?t.forEach((function(i){s.add(ui(i,e,n,i,t,a))})):is(t)&&t.forEach((function(i,r){s.set(r,ui(i,e,n,r,t,a))}));var v=h?r:(c?u?oo:ro:u?Ls:Is)(t);return Me(v||t,(function(i,r){v&&(i=t[r=i]),ni(s,r,ui(i,e,n,r,t,a))})),s}function ci(t,e,n){var i=n.length;if(null==t)return!i;for(t=_t(t);i--;){var o=n[i],a=e[o],s=t[o];if(s===r&&!(o in t)||!a(s))return!1}return!0}function hi(t,e,n){if("function"!=typeof t)throw new Ot(o);return Io((function(){t.apply(r,n)}),e)}function di(t,e,n,i){var r=-1,o=Le,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=Re(e,Qe(n))),i?(o=De,a=!1):e.length>=200&&(o=en,a=!1,e=new Jn(e));t:for(;++r<s;){var c=t[r],h=null==n?c:n(c);if(c=i||0!==c?c:0,a&&h==h){for(var d=u;d--;)if(e[d]===h)continue t;l.push(c)}else o(e,h,i)||l.push(c)}return l}Bn.templateSettings={escape:$,evaluate:Q,interpolate:tt,variable:"",imports:{_:Bn}},Bn.prototype=Wn.prototype,Bn.prototype.constructor=Bn,zn.prototype=Un(Wn.prototype),zn.prototype.constructor=zn,Gn.prototype=Un(Wn.prototype),Gn.prototype.constructor=Gn,qn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},qn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qn.prototype.get=function(t){var e=this.__data__;if(On){var n=e[t];return n===a?r:n}return Nt.call(e,t)?e[t]:r},qn.prototype.has=function(t){var e=this.__data__;return On?e[t]!==r:Nt.call(e,t)},qn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=On&&e===r?a:e,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(t){var e=this.__data__,n=ii(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},Yn.prototype.get=function(t){var e=this.__data__,n=ii(e,t);return n<0?r:e[n][1]},Yn.prototype.has=function(t){return ii(this.__data__,t)>-1},Yn.prototype.set=function(t,e){var n=this.__data__,i=ii(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(xn||Yn),string:new qn}},Xn.prototype.delete=function(t){var e=co(this,t).delete(t);return this.size-=e?1:0,e},Xn.prototype.get=function(t){return co(this,t).get(t)},Xn.prototype.has=function(t){return co(this,t).has(t)},Xn.prototype.set=function(t,e){var n=co(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Jn.prototype.add=Jn.prototype.push=function(t){return this.__data__.set(t,a),this},Jn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.clear=function(){this.__data__=new Yn,this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Kn.prototype.get=function(t){return this.__data__.get(t)},Kn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Yn){var i=n.__data__;if(!xn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xn(i)}return n.set(t,e),this.size=n.size,this};var fi=Dr(Si),pi=Dr(Ai,!0);function vi(t,e){var n=!0;return fi(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function gi(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(l===r?s==s&&!us(s):n(s,l)))var l=s,u=a}return u}function mi(t,e){var n=[];return fi(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function yi(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=bo),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?yi(s,e-1,n,i,r):Ne(r,s):i||(r[r.length]=s)}return r}var bi=Rr(),wi=Rr(!0);function Si(t,e){return t&&bi(t,e,Is)}function Ai(t,e){return t&&wi(t,e,Is)}function Ei(t,e){return Ie(e,(function(e){return $a(t[e])}))}function Ti(t,e){for(var n=0,i=(e=wr(e,t)).length;null!=t&&n<i;)t=t[Vo(e[n++])];return n&&n==i?t:r}function Ci(t,e,n){var i=e(t);return Ga(t)?i:Ne(i,n(t))}function xi(t){return null==t?t===r?"[object Undefined]":"[object Null]":Qt&&Qt in _t(t)?function(t){var e=Nt.call(t,Qt),n=t[Qt];try{t[Qt]=r;var i=!0}catch(t){}var o=jt.call(t);i&&(e?t[Qt]=n:delete t[Qt]);return o}(t):function(t){return jt.call(t)}(t)}function _i(t,e){return t>e}function ki(t,e){return null!=t&&Nt.call(t,e)}function Mi(t,e){return null!=t&&e in _t(t)}function Oi(t,e,n){for(var o=n?De:Le,a=t[0].length,s=t.length,l=s,u=i(s),c=1/0,h=[];l--;){var d=t[l];l&&e&&(d=Re(d,Qe(e))),c=wn(d.length,c),u[l]=!n&&(e||a>=120&&d.length>=120)?new Jn(l&&d):r}d=t[0];var f=-1,p=u[0];t:for(;++f<a&&h.length<c;){var v=d[f],g=e?e(v):v;if(v=n||0!==v?v:0,!(p?en(p,g):o(h,g,n))){for(l=s;--l;){var m=u[l];if(!(m?en(m,g):o(t[l],g,n)))continue t}p&&p.push(g),h.push(v)}}return h}function Pi(t,e,n){var i=null==(t=Mo(t,e=wr(e,t)))?t:t[Vo(Zo(e))];return null==i?r:_e(i,t,n)}function Ii(t){return ns(t)&&xi(t)==y}function Li(t,e,n,i,o){return t===e||(null==t||null==e||!ns(t)&&!ns(e)?t!=t&&e!=e:function(t,e,n,i,o,a){var s=Ga(t),l=Ga(e),u=s?b:go(t),c=l?b:go(e),h=(u=u==y?_:u)==_,d=(c=c==y?_:c)==_,f=u==c;if(f&&Ja(t)){if(!Ja(e))return!1;s=!0,h=!1}if(f&&!h)return a||(a=new Kn),s||cs(t)?no(t,e,n,i,o,a):function(t,e,n,i,r,o,a){switch(n){case R:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case D:return!(t.byteLength!=e.byteLength||!o(new Gt(t),new Gt(e)));case w:case S:case x:return Ba(+t,+e);case A:return t.name==e.name&&t.message==e.message;case M:case P:return t==e+"";case C:var s=un;case O:var l=1&i;if(s||(s=dn),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;i|=2,a.set(t,e);var c=no(s(t),s(e),i,r,o,a);return a.delete(t),c;case I:if(jn)return jn.call(t)==jn.call(e)}return!1}(t,e,u,n,i,o,a);if(!(1&n)){var p=h&&Nt.call(t,"__wrapped__"),v=d&&Nt.call(e,"__wrapped__");if(p||v){var g=p?t.value():t,m=v?e.value():e;return a||(a=new Kn),o(g,m,n,i,a)}}if(!f)return!1;return a||(a=new Kn),function(t,e,n,i,o,a){var s=1&n,l=ro(t),u=l.length,c=ro(e),h=c.length;if(u!=h&&!s)return!1;var d=u;for(;d--;){var f=l[d];if(!(s?f in e:Nt.call(e,f)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);var m=s;for(;++d<u;){var y=t[f=l[d]],b=e[f];if(i)var w=s?i(b,y,f,e,t,a):i(y,b,f,t,e,a);if(!(w===r?y===b||o(y,b,n,i,a):w)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var S=t.constructor,A=e.constructor;S==A||!("constructor"in t)||!("constructor"in e)||"function"==typeof S&&S instanceof S&&"function"==typeof A&&A instanceof A||(g=!1)}return a.delete(t),a.delete(e),g}(t,e,n,i,o,a)}(t,e,n,i,Li,o))}function Di(t,e,n,i){var o=n.length,a=o,s=!i;if(null==t)return!a;for(t=_t(t);o--;){var l=n[o];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<a;){var u=(l=n[o])[0],c=t[u],h=l[1];if(s&&l[2]){if(c===r&&!(u in t))return!1}else{var d=new Kn;if(i)var f=i(c,h,u,t,e,d);if(!(f===r?Li(h,c,3,i,d):f))return!1}}return!0}function Ri(t){return!(!es(t)||(e=t,Vt&&Vt in e))&&($a(t)?Ut:yt).test(jo(t));var e}function Ni(t){return"function"==typeof t?t:null==t?rl:"object"==typeof t?Ga(t)?Ui(t[0],t[1]):Bi(t):fl(t)}function Hi(t){if(!Co(t))return Xe(t);var e=[];for(var n in _t(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Vi(t){if(!es(t))return function(t){var e=[];if(null!=t)for(var n in _t(t))e.push(n);return e}(t);var e=Co(t),n=[];for(var i in t)("constructor"!=i||!e&&Nt.call(t,i))&&n.push(i);return n}function ji(t,e){return t<e}function Fi(t,e){var n=-1,r=Ya(t)?i(t.length):[];return fi(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function Bi(t){var e=ho(t);return 1==e.length&&e[0][2]?_o(e[0][0],e[0][1]):function(n){return n===t||Di(n,t,e)}}function Ui(t,e){return Ao(t)&&xo(e)?_o(Vo(t),e):function(n){var i=_s(n,t);return i===r&&i===e?ks(n,t):Li(e,i,3)}}function Wi(t,e,n,i,o){t!==e&&bi(e,(function(a,s){if(o||(o=new Kn),es(a))!function(t,e,n,i,o,a,s){var l=Oo(t,n),u=Oo(e,n),c=s.get(u);if(c)return void ei(t,n,c);var h=a?a(l,u,n+"",t,e,s):r,d=h===r;if(d){var f=Ga(u),p=!f&&Ja(u),v=!f&&!p&&cs(u);h=u,f||p||v?Ga(l)?h=l:Xa(l)?h=Or(l):p?(d=!1,h=Tr(u,!0)):v?(d=!1,h=xr(u,!0)):h=[]:os(u)||za(u)?(h=l,za(l)?h=ys(l):es(l)&&!$a(l)||(h=yo(u))):d=!1}d&&(s.set(u,h),o(h,u,i,a,s),s.delete(u));ei(t,n,h)}(t,e,s,n,Wi,i,o);else{var l=i?i(Oo(t,s),a,s+"",t,e,o):r;l===r&&(l=a),ei(t,s,l)}}),Ls)}function zi(t,e){var n=t.length;if(n)return wo(e+=e<0?n:0,n)?t[e]:r}function Gi(t,e,n){e=e.length?Re(e,(function(t){return Ga(t)?function(e){return Ti(e,1===t.length?t[0]:t)}:t})):[rl];var i=-1;e=Re(e,Qe(uo()));var r=Fi(t,(function(t,n,r){var o=Re(e,(function(e){return e(t)}));return{criteria:o,index:++i,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(r,(function(t,e){return function(t,e,n){var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;for(;++i<a;){var l=_r(r[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}))}function qi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=Ti(t,a);n(s,a)&&tr(o,wr(a,t),s)}return o}function Yi(t,e,n,i){var r=i?ze:We,o=-1,a=e.length,s=t;for(t===e&&(e=Or(e)),n&&(s=Re(t,Qe(n)));++o<a;)for(var l=0,u=e[o],c=n?n(u):u;(l=r(s,c,l,i))>-1;)s!==t&&Kt.call(s,l,1),Kt.call(t,l,1);return t}function Xi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;wo(r)?Kt.call(t,r,1):dr(t,r)}}return t}function Ji(t,e){return t+ge(En()*(e-t+1))}function Ki(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=ge(e/2))&&(t+=t)}while(e);return n}function Zi(t,e){return Lo(ko(t,e,rl),t+"")}function $i(t){return $n(Bs(t))}function Qi(t,e){var n=Bs(t);return No(n,li(e,0,n.length))}function tr(t,e,n,i){if(!es(t))return t;for(var o=-1,a=(e=wr(e,t)).length,s=a-1,l=t;null!=l&&++o<a;){var u=Vo(e[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=s){var h=l[u];(c=i?i(h,u,l):r)===r&&(c=es(h)?h:wo(e[o+1])?[]:{})}ni(l,u,c),l=l[u]}return t}var er=Pn?function(t,e){return Pn.set(t,e),t}:rl,nr=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:rl;function ir(t){return No(Bs(t))}function rr(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=i(o);++r<o;)a[r]=t[r+e];return a}function or(t,e){var n;return fi(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function ar(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!us(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return sr(t,e,rl,n)}function sr(t,e,n,i){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,l=null===e,u=us(e),c=e===r;o<a;){var h=ge((o+a)/2),d=n(t[h]),f=d!==r,p=null===d,v=d==d,g=us(d);if(s)var m=i||v;else m=c?v&&(i||f):l?v&&f&&(i||!p):u?v&&f&&!p&&(i||!g):!p&&!g&&(i?d<=e:d<e);m?o=h+1:a=h}return wn(a,4294967294)}function lr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Ba(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function ur(t){return"number"==typeof t?t:us(t)?v:+t}function cr(t){if("string"==typeof t)return t;if(Ga(t))return Re(t,cr)+"";if(us(t))return Fn?Fn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function hr(t,e,n){var i=-1,r=Le,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=De;else if(o>=200){var u=e?null:Kr(t);if(u)return dn(u);a=!1,r=en,l=new Jn}else l=e?[]:s;t:for(;++i<o;){var c=t[i],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),s.push(c)}else r(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}function dr(t,e){return null==(t=Mo(t,e=wr(e,t)))||delete t[Vo(Zo(e))]}function fr(t,e,n,i){return tr(t,e,n(Ti(t,e)),i)}function pr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?rr(t,i?0:o,i?o+1:r):rr(t,i?o+1:0,i?r:o)}function vr(t,e){var n=t;return n instanceof Gn&&(n=n.value()),He(e,(function(t,e){return e.func.apply(e.thisArg,Ne([t],e.args))}),n)}function gr(t,e,n){var r=t.length;if(r<2)return r?hr(t[0]):[];for(var o=-1,a=i(r);++o<r;)for(var s=t[o],l=-1;++l<r;)l!=o&&(a[o]=di(a[o]||s,t[l],e,n));return hr(yi(a,1),e,n)}function mr(t,e,n){for(var i=-1,o=t.length,a=e.length,s={};++i<o;){var l=i<a?e[i]:r;n(s,t[i],l)}return s}function yr(t){return Xa(t)?t:[]}function br(t){return"function"==typeof t?t:rl}function wr(t,e){return Ga(t)?t:Ao(t,e)?[t]:Ho(bs(t))}var Sr=Zi;function Ar(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:rr(t,e,n)}var Er=re||function(t){return ve.clearTimeout(t)};function Tr(t,e){if(e)return t.slice();var n=t.length,i=qt?qt(n):new t.constructor(n);return t.copy(i),i}function Cr(t){var e=new t.constructor(t.byteLength);return new Gt(e).set(new Gt(t)),e}function xr(t,e){var n=e?Cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function _r(t,e){if(t!==e){var n=t!==r,i=null===t,o=t==t,a=us(t),s=e!==r,l=null===e,u=e==e,c=us(e);if(!l&&!c&&!a&&t>e||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&t<e||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}function kr(t,e,n,r){for(var o=-1,a=t.length,s=n.length,l=-1,u=e.length,c=bn(a-s,0),h=i(u+c),d=!r;++l<u;)h[l]=e[l];for(;++o<s;)(d||o<a)&&(h[n[o]]=t[o]);for(;c--;)h[l++]=t[o++];return h}function Mr(t,e,n,r){for(var o=-1,a=t.length,s=-1,l=n.length,u=-1,c=e.length,h=bn(a-l,0),d=i(h+c),f=!r;++o<h;)d[o]=t[o];for(var p=o;++u<c;)d[p+u]=e[u];for(;++s<l;)(f||o<a)&&(d[p+n[s]]=t[o++]);return d}function Or(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function Pr(t,e,n,i){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var l=e[a],u=i?i(n[l],t[l],l,n,t):r;u===r&&(u=t[l]),o?ai(n,l,u):ni(n,l,u)}return n}function Ir(t,e){return function(n,i){var r=Ga(n)?ke:ri,o=e?e():{};return r(n,t,uo(i,2),o)}}function Lr(t){return Zi((function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:r,s=o>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(o--,a):r,s&&So(n[0],n[1],s)&&(a=o<3?r:a,o=1),e=_t(e);++i<o;){var l=n[i];l&&t(e,l,i,a)}return e}))}function Dr(t,e){return function(n,i){if(null==n)return n;if(!Ya(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=_t(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Rr(t){return function(e,n,i){for(var r=-1,o=_t(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function Nr(t){return function(e){var n=ln(e=bs(e))?vn(e):r,i=n?n[0]:e.charAt(0),o=n?Ar(n,1).join(""):e.slice(1);return i[t]()+o}}function Hr(t){return function(e){return He($s(zs(e).replace(te,"")),t,"")}}function Vr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Un(t.prototype),i=t.apply(n,e);return es(i)?i:n}}function jr(t){return function(e,n,i){var o=_t(e);if(!Ya(e)){var a=uo(n,3);e=Is(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,i);return s>-1?o[a?e[s]:s]:r}}function Fr(t){return io((function(e){var n=e.length,i=n,a=zn.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new Ot(o);if(a&&!l&&"wrapper"==so(s))var l=new zn([],!0)}for(i=l?i:n;++i<n;){var u=so(s=e[i]),c="wrapper"==u?ao(s):r;l=c&&Eo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[so(c[0])].apply(l,c[3]):1==s.length&&Eo(s)?l[u]():l.thru(s)}return function(){var t=arguments,i=t[0];if(l&&1==t.length&&Ga(i))return l.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function Br(t,e,n,o,a,s,l,u,c,d){var f=e&h,p=1&e,v=2&e,g=24&e,m=512&e,y=v?r:Vr(t);return function h(){for(var b=arguments.length,w=i(b),S=b;S--;)w[S]=arguments[S];if(g)var A=lo(h),E=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(w,A);if(o&&(w=kr(w,o,a,g)),s&&(w=Mr(w,s,l,g)),b-=E,g&&b<d){var T=hn(w,A);return Xr(t,e,Br,h.placeholder,n,w,T,u,c,d-b)}var C=p?n:this,x=v?C[t]:t;return b=w.length,u?w=function(t,e){var n=t.length,i=wn(e.length,n),o=Or(t);for(;i--;){var a=e[i];t[i]=wo(a,n)?o[a]:r}return t}(w,u):m&&b>1&&w.reverse(),f&&c<b&&(w.length=c),this&&this!==ve&&this instanceof h&&(x=y||Vr(x)),x.apply(C,w)}}function Ur(t,e){return function(n,i){return function(t,e,n,i){return Si(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function Wr(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=cr(n),i=cr(i)):(n=ur(n),i=ur(i)),o=t(n,i)}return o}}function zr(t){return io((function(e){return e=Re(e,Qe(uo())),Zi((function(n){var i=this;return t(e,(function(t){return _e(t,i,n)}))}))}))}function Gr(t,e){var n=(e=e===r?" ":cr(e)).length;if(n<2)return n?Ki(e,t):e;var i=Ki(e,pe(t/pn(e)));return ln(e)?Ar(vn(i),0,t).join(""):i.slice(0,t)}function qr(t){return function(e,n,o){return o&&"number"!=typeof o&&So(e,n,o)&&(n=o=r),e=ps(e),n===r?(n=e,e=0):n=ps(n),function(t,e,n,r){for(var o=-1,a=bn(pe((e-t)/(n||1)),0),s=i(a);a--;)s[r?a:++o]=t,t+=n;return s}(e,n,o=o===r?e<n?1:-1:ps(o),t)}}function Yr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ms(e),n=ms(n)),t(e,n)}}function Xr(t,e,n,i,o,a,s,l,h,d){var f=8&e;e|=f?u:c,4&(e&=~(f?c:u))||(e&=-4);var p=[t,e,o,f?a:r,f?s:r,f?r:a,f?r:s,l,h,d],v=n.apply(r,p);return Eo(t)&&Po(v,p),v.placeholder=i,Do(v,t,e)}function Jr(t){var e=xt[t];return function(t,n){if(t=ms(t),(n=null==n?0:wn(vs(n),292))&&we(t)){var i=(bs(t)+"e").split("e");return+((i=(bs(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Kr=kn&&1/dn(new kn([,-0]))[1]==f?function(t){return new kn(t)}:ul;function Zr(t){return function(e){var n=go(e);return n==C?un(e):n==O?fn(e):function(t,e){return Re(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function $r(t,e,n,a,f,p,v,g){var m=2&e;if(!m&&"function"!=typeof t)throw new Ot(o);var y=a?a.length:0;if(y||(e&=-97,a=f=r),v=v===r?v:bn(vs(v),0),g=g===r?g:vs(g),y-=f?f.length:0,e&c){var b=a,w=f;a=f=r}var S=m?r:ao(t),A=[t,e,n,a,f,b,w,p,v,g];if(S&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,a=i==h&&8==n||i==h&&n==d&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var l=e[3];if(l){var u=t[3];t[3]=u?kr(u,l,e[4]):l,t[4]=u?hn(t[3],s):e[4]}(l=e[5])&&(u=t[5],t[5]=u?Mr(u,l,e[6]):l,t[6]=u?hn(t[5],s):e[6]);(l=e[7])&&(t[7]=l);i&h&&(t[8]=null==t[8]?e[8]:wn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(A,S),t=A[0],e=A[1],n=A[2],a=A[3],f=A[4],!(g=A[9]=A[9]===r?m?0:t.length:bn(A[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||e==l?function(t,e,n){var o=Vr(t);return function a(){for(var s=arguments.length,l=i(s),u=s,c=lo(a);u--;)l[u]=arguments[u];var h=s<3&&l[0]!==c&&l[s-1]!==c?[]:hn(l,c);return(s-=h.length)<n?Xr(t,e,Br,a.placeholder,r,l,h,r,r,n-s):_e(this&&this!==ve&&this instanceof a?o:t,this,l)}}(t,e,g):e!=u&&33!=e||f.length?Br.apply(r,A):function(t,e,n,r){var o=1&e,a=Vr(t);return function e(){for(var s=-1,l=arguments.length,u=-1,c=r.length,h=i(c+l),d=this&&this!==ve&&this instanceof e?a:t;++u<c;)h[u]=r[u];for(;l--;)h[u++]=arguments[++s];return _e(d,o?n:this,h)}}(t,e,n,a);else var E=function(t,e,n){var i=1&e,r=Vr(t);return function e(){return(this&&this!==ve&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return Do((S?er:Po)(E,A),t,e)}function Qr(t,e,n,i){return t===r||Ba(t,Lt[n])&&!Nt.call(i,n)?e:t}function to(t,e,n,i,o,a){return es(t)&&es(e)&&(a.set(e,t),Wi(t,e,r,to,a),a.delete(e)),t}function eo(t){return os(t)?r:t}function no(t,e,n,i,o,a){var s=1&n,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(t),h=a.get(e);if(c&&h)return c==e&&h==t;var d=-1,f=!0,p=2&n?new Jn:r;for(a.set(t,e),a.set(e,t);++d<l;){var v=t[d],g=e[d];if(i)var m=s?i(g,v,d,e,t,a):i(v,g,d,t,e,a);if(m!==r){if(m)continue;f=!1;break}if(p){if(!je(e,(function(t,e){if(!en(p,e)&&(v===t||o(v,t,n,i,a)))return p.push(e)}))){f=!1;break}}else if(v!==g&&!o(v,g,n,i,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function io(t){return Lo(ko(t,r,qo),t+"")}function ro(t){return Ci(t,Is,po)}function oo(t){return Ci(t,Ls,vo)}var ao=Pn?function(t){return Pn.get(t)}:ul;function so(t){for(var e=t.name+"",n=In[e],i=Nt.call(In,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function lo(t){return(Nt.call(Bn,"placeholder")?Bn:t).placeholder}function uo(){var t=Bn.iteratee||ol;return t=t===ol?Ni:t,arguments.length?t(arguments[0],arguments[1]):t}function co(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function ho(t){for(var e=Is(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,xo(r)]}return e}function fo(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Ri(n)?n:r}var po=me?function(t){return null==t?[]:(t=_t(t),Ie(me(t),(function(e){return Jt.call(t,e)})))}:gl,vo=me?function(t){for(var e=[];t;)Ne(e,po(t)),t=Yt(t);return e}:gl,go=xi;function mo(t,e,n){for(var i=-1,r=(e=wr(e,t)).length,o=!1;++i<r;){var a=Vo(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&ts(r)&&wo(a,r)&&(Ga(t)||za(t))}function yo(t){return"function"!=typeof t.constructor||Co(t)?{}:Un(Yt(t))}function bo(t){return Ga(t)||za(t)||!!(Zt&&t&&t[Zt])}function wo(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&wt.test(t))&&t>-1&&t%1==0&&t<e}function So(t,e,n){if(!es(n))return!1;var i=typeof e;return!!("number"==i?Ya(n)&&wo(e,n.length):"string"==i&&e in n)&&Ba(n[e],t)}function Ao(t,e){if(Ga(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!us(t))||(nt.test(t)||!et.test(t)||null!=e&&t in _t(e))}function Eo(t){var e=so(t),n=Bn[e];if("function"!=typeof n||!(e in Gn.prototype))return!1;if(t===n)return!0;var i=ao(n);return!!i&&t===i[0]}(Cn&&go(new Cn(new ArrayBuffer(1)))!=R||xn&&go(new xn)!=C||_n&&go(_n.resolve())!=k||kn&&go(new kn)!=O||Mn&&go(new Mn)!=L)&&(go=function(t){var e=xi(t),n=e==_?t.constructor:r,i=n?jo(n):"";if(i)switch(i){case Ln:return R;case Dn:return C;case Rn:return k;case Nn:return O;case Hn:return L}return e});var To=Dt?$a:ml;function Co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)}function xo(t){return t==t&&!es(t)}function _o(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in _t(n)))}}function ko(t,e,n){return e=bn(e===r?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=bn(r.length-e,0),s=i(a);++o<a;)s[o]=r[e+o];o=-1;for(var l=i(e+1);++o<e;)l[o]=r[o];return l[e]=n(s),_e(t,this,l)}}function Mo(t,e){return e.length<2?t:Ti(t,rr(e,0,-1))}function Oo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Po=Ro(er),Io=fe||function(t,e){return ve.setTimeout(t,e)},Lo=Ro(nr);function Do(t,e,n){var i=e+"";return Lo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Me(m,(function(n){var i="_."+n[0];e&n[1]&&!Le(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(ut);return e?e[1].split(ct):[]}(i),n)))}function Ro(t){var e=0,n=0;return function(){var i=Sn(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function No(t,e){var n=-1,i=t.length,o=i-1;for(e=e===r?i:e;++n<e;){var a=Ji(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Ho=function(t){var e=Ra(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(it,(function(t,n,i,r){e.push(i?r.replace(ft,"$1"):n||t)})),e}));function Vo(t){if("string"==typeof t||us(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jo(t){if(null!=t){try{return Rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Fo(t){if(t instanceof Gn)return t.clone();var e=new zn(t.__wrapped__,t.__chain__);return e.__actions__=Or(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Bo=Zi((function(t,e){return Xa(t)?di(t,yi(e,1,Xa,!0)):[]})),Uo=Zi((function(t,e){var n=Zo(e);return Xa(n)&&(n=r),Xa(t)?di(t,yi(e,1,Xa,!0),uo(n,2)):[]})),Wo=Zi((function(t,e){var n=Zo(e);return Xa(n)&&(n=r),Xa(t)?di(t,yi(e,1,Xa,!0),r,n):[]}));function zo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:vs(n);return r<0&&(r=bn(i+r,0)),Ue(t,uo(e,3),r)}function Go(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=vs(n),o=n<0?bn(i+o,0):wn(o,i-1)),Ue(t,uo(e,3),o,!0)}function qo(t){return(null==t?0:t.length)?yi(t,1):[]}function Yo(t){return t&&t.length?t[0]:r}var Xo=Zi((function(t){var e=Re(t,yr);return e.length&&e[0]===t[0]?Oi(e):[]})),Jo=Zi((function(t){var e=Zo(t),n=Re(t,yr);return e===Zo(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Oi(n,uo(e,2)):[]})),Ko=Zi((function(t){var e=Zo(t),n=Re(t,yr);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?Oi(n,r,e):[]}));function Zo(t){var e=null==t?0:t.length;return e?t[e-1]:r}var $o=Zi(Qo);function Qo(t,e){return t&&t.length&&e&&e.length?Yi(t,e):t}var ta=io((function(t,e){var n=null==t?0:t.length,i=si(t,e);return Xi(t,Re(e,(function(t){return wo(t,n)?+t:t})).sort(_r)),i}));function ea(t){return null==t?t:Tn.call(t)}var na=Zi((function(t){return hr(yi(t,1,Xa,!0))})),ia=Zi((function(t){var e=Zo(t);return Xa(e)&&(e=r),hr(yi(t,1,Xa,!0),uo(e,2))})),ra=Zi((function(t){var e=Zo(t);return e="function"==typeof e?e:r,hr(yi(t,1,Xa,!0),r,e)}));function oa(t){if(!t||!t.length)return[];var e=0;return t=Ie(t,(function(t){if(Xa(t))return e=bn(t.length,e),!0})),Ze(e,(function(e){return Re(t,Ye(e))}))}function aa(t,e){if(!t||!t.length)return[];var n=oa(t);return null==e?n:Re(n,(function(t){return _e(e,r,t)}))}var sa=Zi((function(t,e){return Xa(t)?di(t,e):[]})),la=Zi((function(t){return gr(Ie(t,Xa))})),ua=Zi((function(t){var e=Zo(t);return Xa(e)&&(e=r),gr(Ie(t,Xa),uo(e,2))})),ca=Zi((function(t){var e=Zo(t);return e="function"==typeof e?e:r,gr(Ie(t,Xa),r,e)})),ha=Zi(oa);var da=Zi((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,aa(t,n)}));function fa(t){var e=Bn(t);return e.__chain__=!0,e}function pa(t,e){return e(t)}var va=io((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return si(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Gn&&wo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:pa,args:[o],thisArg:r}),new zn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(o)}));var ga=Ir((function(t,e,n){Nt.call(t,n)?++t[n]:ai(t,n,1)}));var ma=jr(zo),ya=jr(Go);function ba(t,e){return(Ga(t)?Me:fi)(t,uo(e,3))}function wa(t,e){return(Ga(t)?Oe:pi)(t,uo(e,3))}var Sa=Ir((function(t,e,n){Nt.call(t,n)?t[n].push(e):ai(t,n,[e])}));var Aa=Zi((function(t,e,n){var r=-1,o="function"==typeof e,a=Ya(t)?i(t.length):[];return fi(t,(function(t){a[++r]=o?_e(e,t,n):Pi(t,e,n)})),a})),Ea=Ir((function(t,e,n){ai(t,n,e)}));function Ta(t,e){return(Ga(t)?Re:Fi)(t,uo(e,3))}var Ca=Ir((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var xa=Zi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&So(t,e[0],e[1])?e=[]:n>2&&So(e[0],e[1],e[2])&&(e=[e[0]]),Gi(t,yi(e,1),[])})),_a=ce||function(){return ve.Date.now()};function ka(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,$r(t,h,r,r,r,r,e)}function Ma(t,e){var n;if("function"!=typeof e)throw new Ot(o);return t=vs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Oa=Zi((function(t,e,n){var i=1;if(n.length){var r=hn(n,lo(Oa));i|=u}return $r(t,i,e,n,r)})),Pa=Zi((function(t,e,n){var i=3;if(n.length){var r=hn(n,lo(Pa));i|=u}return $r(e,i,t,n,r)}));function Ia(t,e,n){var i,a,s,l,u,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new Ot(o);function v(e){var n=i,o=a;return i=a=r,h=e,l=t.apply(o,n)}function g(t){var n=t-c;return c===r||n>=e||n<0||f&&t-h>=s}function m(){var t=_a();if(g(t))return y(t);u=Io(m,function(t){var n=e-(t-c);return f?wn(n,s-(t-h)):n}(t))}function y(t){return u=r,p&&i?v(t):(i=a=r,l)}function b(){var t=_a(),n=g(t);if(i=arguments,a=this,c=t,n){if(u===r)return function(t){return h=t,u=Io(m,e),d?v(t):l}(c);if(f)return Er(u),u=Io(m,e),v(c)}return u===r&&(u=Io(m,e)),l}return e=ms(e)||0,es(n)&&(d=!!n.leading,s=(f="maxWait"in n)?bn(ms(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){u!==r&&Er(u),h=0,i=c=a=u=r},b.flush=function(){return u===r?l:y(_a())},b}var La=Zi((function(t,e){return hi(t,1,e)})),Da=Zi((function(t,e,n){return hi(t,ms(e)||0,n)}));function Ra(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(o);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ra.Cache||Xn),n}function Na(t){if("function"!=typeof t)throw new Ot(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ra.Cache=Xn;var Ha=Sr((function(t,e){var n=(e=1==e.length&&Ga(e[0])?Re(e[0],Qe(uo())):Re(yi(e,1),Qe(uo()))).length;return Zi((function(i){for(var r=-1,o=wn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return _e(t,this,i)}))})),Va=Zi((function(t,e){var n=hn(e,lo(Va));return $r(t,u,r,e,n)})),ja=Zi((function(t,e){var n=hn(e,lo(ja));return $r(t,c,r,e,n)})),Fa=io((function(t,e){return $r(t,d,r,r,r,e)}));function Ba(t,e){return t===e||t!=t&&e!=e}var Ua=Yr(_i),Wa=Yr((function(t,e){return t>=e})),za=Ii(function(){return arguments}())?Ii:function(t){return ns(t)&&Nt.call(t,"callee")&&!Jt.call(t,"callee")},Ga=i.isArray,qa=Se?Qe(Se):function(t){return ns(t)&&xi(t)==D};function Ya(t){return null!=t&&ts(t.length)&&!$a(t)}function Xa(t){return ns(t)&&Ya(t)}var Ja=be||ml,Ka=Ae?Qe(Ae):function(t){return ns(t)&&xi(t)==S};function Za(t){if(!ns(t))return!1;var e=xi(t);return e==A||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!os(t)}function $a(t){if(!es(t))return!1;var e=xi(t);return e==E||e==T||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qa(t){return"number"==typeof t&&t==vs(t)}function ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function es(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ns(t){return null!=t&&"object"==typeof t}var is=Ee?Qe(Ee):function(t){return ns(t)&&go(t)==C};function rs(t){return"number"==typeof t||ns(t)&&xi(t)==x}function os(t){if(!ns(t)||xi(t)!=_)return!1;var e=Yt(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Rt.call(n)==Ft}var as=Te?Qe(Te):function(t){return ns(t)&&xi(t)==M};var ss=Ce?Qe(Ce):function(t){return ns(t)&&go(t)==O};function ls(t){return"string"==typeof t||!Ga(t)&&ns(t)&&xi(t)==P}function us(t){return"symbol"==typeof t||ns(t)&&xi(t)==I}var cs=xe?Qe(xe):function(t){return ns(t)&&ts(t.length)&&!!le[xi(t)]};var hs=Yr(ji),ds=Yr((function(t,e){return t<=e}));function fs(t){if(!t)return[];if(Ya(t))return ls(t)?vn(t):Or(t);if($t&&t[$t])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[$t]());var e=go(t);return(e==C?un:e==O?dn:Bs)(t)}function ps(t){return t?(t=ms(t))===f||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function vs(t){var e=ps(t),n=e%1;return e==e?n?e-n:e:0}function gs(t){return t?li(vs(t),0,g):0}function ms(t){if("number"==typeof t)return t;if(us(t))return v;if(es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=$e(t);var n=mt.test(t);return n||bt.test(t)?de(t.slice(2),n?2:8):gt.test(t)?v:+t}function ys(t){return Pr(t,Ls(t))}function bs(t){return null==t?"":cr(t)}var ws=Lr((function(t,e){if(Co(e)||Ya(e))Pr(e,Is(e),t);else for(var n in e)Nt.call(e,n)&&ni(t,n,e[n])})),Ss=Lr((function(t,e){Pr(e,Ls(e),t)})),As=Lr((function(t,e,n,i){Pr(e,Ls(e),t,i)})),Es=Lr((function(t,e,n,i){Pr(e,Is(e),t,i)})),Ts=io(si);var Cs=Zi((function(t,e){t=_t(t);var n=-1,i=e.length,o=i>2?e[2]:r;for(o&&So(e[0],e[1],o)&&(i=1);++n<i;)for(var a=e[n],s=Ls(a),l=-1,u=s.length;++l<u;){var c=s[l],h=t[c];(h===r||Ba(h,Lt[c])&&!Nt.call(t,c))&&(t[c]=a[c])}return t})),xs=Zi((function(t){return t.push(r,to),_e(Rs,r,t)}));function _s(t,e,n){var i=null==t?r:Ti(t,e);return i===r?n:i}function ks(t,e){return null!=t&&mo(t,e,Mi)}var Ms=Ur((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),t[e]=n}),el(rl)),Os=Ur((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),uo),Ps=Zi(Pi);function Is(t){return Ya(t)?Zn(t):Hi(t)}function Ls(t){return Ya(t)?Zn(t,!0):Vi(t)}var Ds=Lr((function(t,e,n){Wi(t,e,n)})),Rs=Lr((function(t,e,n,i){Wi(t,e,n,i)})),Ns=io((function(t,e){var n={};if(null==t)return n;var i=!1;e=Re(e,(function(e){return e=wr(e,t),i||(i=e.length>1),e})),Pr(t,oo(t),n),i&&(n=ui(n,7,eo));for(var r=e.length;r--;)dr(n,e[r]);return n}));var Hs=io((function(t,e){return null==t?{}:function(t,e){return qi(t,e,(function(e,n){return ks(t,n)}))}(t,e)}));function Vs(t,e){if(null==t)return{};var n=Re(oo(t),(function(t){return[t]}));return e=uo(e),qi(t,n,(function(t,n){return e(t,n[0])}))}var js=Zr(Is),Fs=Zr(Ls);function Bs(t){return null==t?[]:tn(t,Is(t))}var Us=Hr((function(t,e,n){return e=e.toLowerCase(),t+(n?Ws(e):e)}));function Ws(t){return Zs(bs(t).toLowerCase())}function zs(t){return(t=bs(t))&&t.replace(St,on).replace(ee,"")}var Gs=Hr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),qs=Hr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ys=Nr("toLowerCase");var Xs=Hr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Js=Hr((function(t,e,n){return t+(n?" ":"")+Zs(e)}));var Ks=Hr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Zs=Nr("toUpperCase");function $s(t,e,n){return t=bs(t),(e=n?r:e)===r?function(t){return oe.test(t)}(t)?function(t){return t.match(ie)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var Qs=Zi((function(t,e){try{return _e(t,r,e)}catch(t){return Za(t)?t:new Tt(t)}})),tl=io((function(t,e){return Me(e,(function(e){e=Vo(e),ai(t,e,Oa(t[e],t))})),t}));function el(t){return function(){return t}}var nl=Fr(),il=Fr(!0);function rl(t){return t}function ol(t){return Ni("function"==typeof t?t:ui(t,1))}var al=Zi((function(t,e){return function(n){return Pi(n,t,e)}})),sl=Zi((function(t,e){return function(n){return Pi(t,n,e)}}));function ll(t,e,n){var i=Is(e),r=Ei(e,i);null!=n||es(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Ei(e,Is(e)));var o=!(es(n)&&"chain"in n&&!n.chain),a=$a(t);return Me(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Or(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Ne([this.value()],arguments))})})),t}function ul(){}var cl=zr(Re),hl=zr(Pe),dl=zr(je);function fl(t){return Ao(t)?Ye(Vo(t)):function(t){return function(e){return Ti(e,t)}}(t)}var pl=qr(),vl=qr(!0);function gl(){return[]}function ml(){return!1}var yl=Wr((function(t,e){return t+e}),0),bl=Jr("ceil"),wl=Wr((function(t,e){return t/e}),1),Sl=Jr("floor");var Al,El=Wr((function(t,e){return t*e}),1),Tl=Jr("round"),Cl=Wr((function(t,e){return t-e}),0);return Bn.after=function(t,e){if("function"!=typeof e)throw new Ot(o);return t=vs(t),function(){if(--t<1)return e.apply(this,arguments)}},Bn.ary=ka,Bn.assign=ws,Bn.assignIn=Ss,Bn.assignInWith=As,Bn.assignWith=Es,Bn.at=Ts,Bn.before=Ma,Bn.bind=Oa,Bn.bindAll=tl,Bn.bindKey=Pa,Bn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ga(t)?t:[t]},Bn.chain=fa,Bn.chunk=function(t,e,n){e=(n?So(t,e,n):e===r)?1:bn(vs(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,s=0,l=i(pe(o/e));a<o;)l[s++]=rr(t,a,a+=e);return l},Bn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},Bn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Ne(Ga(n)?Or(n):[n],yi(e,1))},Bn.cond=function(t){var e=null==t?0:t.length,n=uo();return t=e?Re(t,(function(t){if("function"!=typeof t[1])throw new Ot(o);return[n(t[0]),t[1]]})):[],Zi((function(n){for(var i=-1;++i<e;){var r=t[i];if(_e(r[0],this,n))return _e(r[1],this,n)}}))},Bn.conforms=function(t){return function(t){var e=Is(t);return function(n){return ci(n,t,e)}}(ui(t,1))},Bn.constant=el,Bn.countBy=ga,Bn.create=function(t,e){var n=Un(t);return null==e?n:oi(n,e)},Bn.curry=function t(e,n,i){var o=$r(e,8,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Bn.curryRight=function t(e,n,i){var o=$r(e,l,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Bn.debounce=Ia,Bn.defaults=Cs,Bn.defaultsDeep=xs,Bn.defer=La,Bn.delay=Da,Bn.difference=Bo,Bn.differenceBy=Uo,Bn.differenceWith=Wo,Bn.drop=function(t,e,n){var i=null==t?0:t.length;return i?rr(t,(e=n||e===r?1:vs(e))<0?0:e,i):[]},Bn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?rr(t,0,(e=i-(e=n||e===r?1:vs(e)))<0?0:e):[]},Bn.dropRightWhile=function(t,e){return t&&t.length?pr(t,uo(e,3),!0,!0):[]},Bn.dropWhile=function(t,e){return t&&t.length?pr(t,uo(e,3),!0):[]},Bn.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&So(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=vs(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:vs(i))<0&&(i+=o),i=n>i?0:gs(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Bn.filter=function(t,e){return(Ga(t)?Ie:mi)(t,uo(e,3))},Bn.flatMap=function(t,e){return yi(Ta(t,e),1)},Bn.flatMapDeep=function(t,e){return yi(Ta(t,e),f)},Bn.flatMapDepth=function(t,e,n){return n=n===r?1:vs(n),yi(Ta(t,e),n)},Bn.flatten=qo,Bn.flattenDeep=function(t){return(null==t?0:t.length)?yi(t,f):[]},Bn.flattenDepth=function(t,e){return(null==t?0:t.length)?yi(t,e=e===r?1:vs(e)):[]},Bn.flip=function(t){return $r(t,512)},Bn.flow=nl,Bn.flowRight=il,Bn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Bn.functions=function(t){return null==t?[]:Ei(t,Is(t))},Bn.functionsIn=function(t){return null==t?[]:Ei(t,Ls(t))},Bn.groupBy=Sa,Bn.initial=function(t){return(null==t?0:t.length)?rr(t,0,-1):[]},Bn.intersection=Xo,Bn.intersectionBy=Jo,Bn.intersectionWith=Ko,Bn.invert=Ms,Bn.invertBy=Os,Bn.invokeMap=Aa,Bn.iteratee=ol,Bn.keyBy=Ea,Bn.keys=Is,Bn.keysIn=Ls,Bn.map=Ta,Bn.mapKeys=function(t,e){var n={};return e=uo(e,3),Si(t,(function(t,i,r){ai(n,e(t,i,r),t)})),n},Bn.mapValues=function(t,e){var n={};return e=uo(e,3),Si(t,(function(t,i,r){ai(n,i,e(t,i,r))})),n},Bn.matches=function(t){return Bi(ui(t,1))},Bn.matchesProperty=function(t,e){return Ui(t,ui(e,1))},Bn.memoize=Ra,Bn.merge=Ds,Bn.mergeWith=Rs,Bn.method=al,Bn.methodOf=sl,Bn.mixin=ll,Bn.negate=Na,Bn.nthArg=function(t){return t=vs(t),Zi((function(e){return zi(e,t)}))},Bn.omit=Ns,Bn.omitBy=function(t,e){return Vs(t,Na(uo(e)))},Bn.once=function(t){return Ma(2,t)},Bn.orderBy=function(t,e,n,i){return null==t?[]:(Ga(e)||(e=null==e?[]:[e]),Ga(n=i?r:n)||(n=null==n?[]:[n]),Gi(t,e,n))},Bn.over=cl,Bn.overArgs=Ha,Bn.overEvery=hl,Bn.overSome=dl,Bn.partial=Va,Bn.partialRight=ja,Bn.partition=Ca,Bn.pick=Hs,Bn.pickBy=Vs,Bn.property=fl,Bn.propertyOf=function(t){return function(e){return null==t?r:Ti(t,e)}},Bn.pull=$o,Bn.pullAll=Qo,Bn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Yi(t,e,uo(n,2)):t},Bn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Yi(t,e,r,n):t},Bn.pullAt=ta,Bn.range=pl,Bn.rangeRight=vl,Bn.rearg=Fa,Bn.reject=function(t,e){return(Ga(t)?Ie:mi)(t,Na(uo(e,3)))},Bn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=uo(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Xi(t,r),n},Bn.rest=function(t,e){if("function"!=typeof t)throw new Ot(o);return Zi(t,e=e===r?e:vs(e))},Bn.reverse=ea,Bn.sampleSize=function(t,e,n){return e=(n?So(t,e,n):e===r)?1:vs(e),(Ga(t)?Qn:Qi)(t,e)},Bn.set=function(t,e,n){return null==t?t:tr(t,e,n)},Bn.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:tr(t,e,n,i)},Bn.shuffle=function(t){return(Ga(t)?ti:ir)(t)},Bn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&So(t,e,n)?(e=0,n=i):(e=null==e?0:vs(e),n=n===r?i:vs(n)),rr(t,e,n)):[]},Bn.sortBy=xa,Bn.sortedUniq=function(t){return t&&t.length?lr(t):[]},Bn.sortedUniqBy=function(t,e){return t&&t.length?lr(t,uo(e,2)):[]},Bn.split=function(t,e,n){return n&&"number"!=typeof n&&So(t,e,n)&&(e=n=r),(n=n===r?g:n>>>0)?(t=bs(t))&&("string"==typeof e||null!=e&&!as(e))&&!(e=cr(e))&&ln(t)?Ar(vn(t),0,n):t.split(e,n):[]},Bn.spread=function(t,e){if("function"!=typeof t)throw new Ot(o);return e=null==e?0:bn(vs(e),0),Zi((function(n){var i=n[e],r=Ar(n,0,e);return i&&Ne(r,i),_e(t,this,r)}))},Bn.tail=function(t){var e=null==t?0:t.length;return e?rr(t,1,e):[]},Bn.take=function(t,e,n){return t&&t.length?rr(t,0,(e=n||e===r?1:vs(e))<0?0:e):[]},Bn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?rr(t,(e=i-(e=n||e===r?1:vs(e)))<0?0:e,i):[]},Bn.takeRightWhile=function(t,e){return t&&t.length?pr(t,uo(e,3),!1,!0):[]},Bn.takeWhile=function(t,e){return t&&t.length?pr(t,uo(e,3)):[]},Bn.tap=function(t,e){return e(t),t},Bn.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Ot(o);return es(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ia(t,e,{leading:i,maxWait:e,trailing:r})},Bn.thru=pa,Bn.toArray=fs,Bn.toPairs=js,Bn.toPairsIn=Fs,Bn.toPath=function(t){return Ga(t)?Re(t,Vo):us(t)?[t]:Or(Ho(bs(t)))},Bn.toPlainObject=ys,Bn.transform=function(t,e,n){var i=Ga(t),r=i||Ja(t)||cs(t);if(e=uo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:es(t)&&$a(o)?Un(Yt(t)):{}}return(r?Me:Si)(t,(function(t,i,r){return e(n,t,i,r)})),n},Bn.unary=function(t){return ka(t,1)},Bn.union=na,Bn.unionBy=ia,Bn.unionWith=ra,Bn.uniq=function(t){return t&&t.length?hr(t):[]},Bn.uniqBy=function(t,e){return t&&t.length?hr(t,uo(e,2)):[]},Bn.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?hr(t,r,e):[]},Bn.unset=function(t,e){return null==t||dr(t,e)},Bn.unzip=oa,Bn.unzipWith=aa,Bn.update=function(t,e,n){return null==t?t:fr(t,e,br(n))},Bn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:fr(t,e,br(n),i)},Bn.values=Bs,Bn.valuesIn=function(t){return null==t?[]:tn(t,Ls(t))},Bn.without=sa,Bn.words=$s,Bn.wrap=function(t,e){return Va(br(e),t)},Bn.xor=la,Bn.xorBy=ua,Bn.xorWith=ca,Bn.zip=ha,Bn.zipObject=function(t,e){return mr(t||[],e||[],ni)},Bn.zipObjectDeep=function(t,e){return mr(t||[],e||[],tr)},Bn.zipWith=da,Bn.entries=js,Bn.entriesIn=Fs,Bn.extend=Ss,Bn.extendWith=As,ll(Bn,Bn),Bn.add=yl,Bn.attempt=Qs,Bn.camelCase=Us,Bn.capitalize=Ws,Bn.ceil=bl,Bn.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=ms(n))==n?n:0),e!==r&&(e=(e=ms(e))==e?e:0),li(ms(t),e,n)},Bn.clone=function(t){return ui(t,4)},Bn.cloneDeep=function(t){return ui(t,5)},Bn.cloneDeepWith=function(t,e){return ui(t,5,e="function"==typeof e?e:r)},Bn.cloneWith=function(t,e){return ui(t,4,e="function"==typeof e?e:r)},Bn.conformsTo=function(t,e){return null==e||ci(t,e,Is(e))},Bn.deburr=zs,Bn.defaultTo=function(t,e){return null==t||t!=t?e:t},Bn.divide=wl,Bn.endsWith=function(t,e,n){t=bs(t),e=cr(e);var i=t.length,o=n=n===r?i:li(vs(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},Bn.eq=Ba,Bn.escape=function(t){return(t=bs(t))&&Z.test(t)?t.replace(J,an):t},Bn.escapeRegExp=function(t){return(t=bs(t))&&ot.test(t)?t.replace(rt,"\\$&"):t},Bn.every=function(t,e,n){var i=Ga(t)?Pe:vi;return n&&So(t,e,n)&&(e=r),i(t,uo(e,3))},Bn.find=ma,Bn.findIndex=zo,Bn.findKey=function(t,e){return Be(t,uo(e,3),Si)},Bn.findLast=ya,Bn.findLastIndex=Go,Bn.findLastKey=function(t,e){return Be(t,uo(e,3),Ai)},Bn.floor=Sl,Bn.forEach=ba,Bn.forEachRight=wa,Bn.forIn=function(t,e){return null==t?t:bi(t,uo(e,3),Ls)},Bn.forInRight=function(t,e){return null==t?t:wi(t,uo(e,3),Ls)},Bn.forOwn=function(t,e){return t&&Si(t,uo(e,3))},Bn.forOwnRight=function(t,e){return t&&Ai(t,uo(e,3))},Bn.get=_s,Bn.gt=Ua,Bn.gte=Wa,Bn.has=function(t,e){return null!=t&&mo(t,e,ki)},Bn.hasIn=ks,Bn.head=Yo,Bn.identity=rl,Bn.includes=function(t,e,n,i){t=Ya(t)?t:Bs(t),n=n&&!i?vs(n):0;var r=t.length;return n<0&&(n=bn(r+n,0)),ls(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&We(t,e,n)>-1},Bn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:vs(n);return r<0&&(r=bn(i+r,0)),We(t,e,r)},Bn.inRange=function(t,e,n){return e=ps(e),n===r?(n=e,e=0):n=ps(n),function(t,e,n){return t>=wn(e,n)&&t<bn(e,n)}(t=ms(t),e,n)},Bn.invoke=Ps,Bn.isArguments=za,Bn.isArray=Ga,Bn.isArrayBuffer=qa,Bn.isArrayLike=Ya,Bn.isArrayLikeObject=Xa,Bn.isBoolean=function(t){return!0===t||!1===t||ns(t)&&xi(t)==w},Bn.isBuffer=Ja,Bn.isDate=Ka,Bn.isElement=function(t){return ns(t)&&1===t.nodeType&&!os(t)},Bn.isEmpty=function(t){if(null==t)return!0;if(Ya(t)&&(Ga(t)||"string"==typeof t||"function"==typeof t.splice||Ja(t)||cs(t)||za(t)))return!t.length;var e=go(t);if(e==C||e==O)return!t.size;if(Co(t))return!Hi(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},Bn.isEqual=function(t,e){return Li(t,e)},Bn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?Li(t,e,r,n):!!i},Bn.isError=Za,Bn.isFinite=function(t){return"number"==typeof t&&we(t)},Bn.isFunction=$a,Bn.isInteger=Qa,Bn.isLength=ts,Bn.isMap=is,Bn.isMatch=function(t,e){return t===e||Di(t,e,ho(e))},Bn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Di(t,e,ho(e),n)},Bn.isNaN=function(t){return rs(t)&&t!=+t},Bn.isNative=function(t){if(To(t))throw new Tt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ri(t)},Bn.isNil=function(t){return null==t},Bn.isNull=function(t){return null===t},Bn.isNumber=rs,Bn.isObject=es,Bn.isObjectLike=ns,Bn.isPlainObject=os,Bn.isRegExp=as,Bn.isSafeInteger=function(t){return Qa(t)&&t>=-9007199254740991&&t<=p},Bn.isSet=ss,Bn.isString=ls,Bn.isSymbol=us,Bn.isTypedArray=cs,Bn.isUndefined=function(t){return t===r},Bn.isWeakMap=function(t){return ns(t)&&go(t)==L},Bn.isWeakSet=function(t){return ns(t)&&"[object WeakSet]"==xi(t)},Bn.join=function(t,e){return null==t?"":Fe.call(t,e)},Bn.kebabCase=Gs,Bn.last=Zo,Bn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=vs(n))<0?bn(i+o,0):wn(o,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,o):Ue(t,Ge,o,!0)},Bn.lowerCase=qs,Bn.lowerFirst=Ys,Bn.lt=hs,Bn.lte=ds,Bn.max=function(t){return t&&t.length?gi(t,rl,_i):r},Bn.maxBy=function(t,e){return t&&t.length?gi(t,uo(e,2),_i):r},Bn.mean=function(t){return qe(t,rl)},Bn.meanBy=function(t,e){return qe(t,uo(e,2))},Bn.min=function(t){return t&&t.length?gi(t,rl,ji):r},Bn.minBy=function(t,e){return t&&t.length?gi(t,uo(e,2),ji):r},Bn.stubArray=gl,Bn.stubFalse=ml,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=El,Bn.nth=function(t,e){return t&&t.length?zi(t,vs(e)):r},Bn.noConflict=function(){return ve._===this&&(ve._=Bt),this},Bn.noop=ul,Bn.now=_a,Bn.pad=function(t,e,n){t=bs(t);var i=(e=vs(e))?pn(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Gr(ge(r),n)+t+Gr(pe(r),n)},Bn.padEnd=function(t,e,n){t=bs(t);var i=(e=vs(e))?pn(t):0;return e&&i<e?t+Gr(e-i,n):t},Bn.padStart=function(t,e,n){t=bs(t);var i=(e=vs(e))?pn(t):0;return e&&i<e?Gr(e-i,n)+t:t},Bn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),An(bs(t).replace(at,""),e||0)},Bn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&So(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=ps(t),e===r?(e=t,t=0):e=ps(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=En();return wn(t+o*(e-t+he("1e-"+((o+"").length-1))),e)}return Ji(t,e)},Bn.reduce=function(t,e,n){var i=Ga(t)?He:Je,r=arguments.length<3;return i(t,uo(e,4),n,r,fi)},Bn.reduceRight=function(t,e,n){var i=Ga(t)?Ve:Je,r=arguments.length<3;return i(t,uo(e,4),n,r,pi)},Bn.repeat=function(t,e,n){return e=(n?So(t,e,n):e===r)?1:vs(e),Ki(bs(t),e)},Bn.replace=function(){var t=arguments,e=bs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Bn.result=function(t,e,n){var i=-1,o=(e=wr(e,t)).length;for(o||(o=1,t=r);++i<o;){var a=null==t?r:t[Vo(e[i])];a===r&&(i=o,a=n),t=$a(a)?a.call(t):a}return t},Bn.round=Tl,Bn.runInContext=t,Bn.sample=function(t){return(Ga(t)?$n:$i)(t)},Bn.size=function(t){if(null==t)return 0;if(Ya(t))return ls(t)?pn(t):t.length;var e=go(t);return e==C||e==O?t.size:Hi(t).length},Bn.snakeCase=Xs,Bn.some=function(t,e,n){var i=Ga(t)?je:or;return n&&So(t,e,n)&&(e=r),i(t,uo(e,3))},Bn.sortedIndex=function(t,e){return ar(t,e)},Bn.sortedIndexBy=function(t,e,n){return sr(t,e,uo(n,2))},Bn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=ar(t,e);if(i<n&&Ba(t[i],e))return i}return-1},Bn.sortedLastIndex=function(t,e){return ar(t,e,!0)},Bn.sortedLastIndexBy=function(t,e,n){return sr(t,e,uo(n,2),!0)},Bn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ar(t,e,!0)-1;if(Ba(t[n],e))return n}return-1},Bn.startCase=Js,Bn.startsWith=function(t,e,n){return t=bs(t),n=null==n?0:li(vs(n),0,t.length),e=cr(e),t.slice(n,n+e.length)==e},Bn.subtract=Cl,Bn.sum=function(t){return t&&t.length?Ke(t,rl):0},Bn.sumBy=function(t,e){return t&&t.length?Ke(t,uo(e,2)):0},Bn.template=function(t,e,n){var i=Bn.templateSettings;n&&So(t,e,n)&&(e=r),t=bs(t),e=As({},e,i,Qr);var o,a,s=As({},e.imports,i.imports,Qr),l=Is(s),u=tn(s,l),c=0,h=e.interpolate||At,d="__p += '",f=kt((e.escape||At).source+"|"+h.source+"|"+(h===tt?pt:At).source+"|"+(e.evaluate||At).source+"|$","g"),p="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++se+"]")+"\n";t.replace(f,(function(e,n,i,r,s,l){return i||(i=r),d+=t.slice(c,l).replace(Et,sn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),d+="';\n";var v=Nt.call(e,"variable")&&e.variable;if(v){if(dt.test(v))throw new Tt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(G,""):d).replace(q,"$1").replace(Y,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Qs((function(){return Ct(l,p+"return "+d).apply(r,u)}));if(g.source=d,Za(g))throw g;return g},Bn.times=function(t,e){if((t=vs(t))<1||t>p)return[];var n=g,i=wn(t,g);e=uo(e),t-=g;for(var r=Ze(i,e);++n<t;)e(n);return r},Bn.toFinite=ps,Bn.toInteger=vs,Bn.toLength=gs,Bn.toLower=function(t){return bs(t).toLowerCase()},Bn.toNumber=ms,Bn.toSafeInteger=function(t){return t?li(vs(t),-9007199254740991,p):0===t?t:0},Bn.toString=bs,Bn.toUpper=function(t){return bs(t).toUpperCase()},Bn.trim=function(t,e,n){if((t=bs(t))&&(n||e===r))return $e(t);if(!t||!(e=cr(e)))return t;var i=vn(t),o=vn(e);return Ar(i,nn(i,o),rn(i,o)+1).join("")},Bn.trimEnd=function(t,e,n){if((t=bs(t))&&(n||e===r))return t.slice(0,gn(t)+1);if(!t||!(e=cr(e)))return t;var i=vn(t);return Ar(i,0,rn(i,vn(e))+1).join("")},Bn.trimStart=function(t,e,n){if((t=bs(t))&&(n||e===r))return t.replace(at,"");if(!t||!(e=cr(e)))return t;var i=vn(t);return Ar(i,nn(i,vn(e))).join("")},Bn.truncate=function(t,e){var n=30,i="...";if(es(e)){var o="separator"in e?e.separator:o;n="length"in e?vs(e.length):n,i="omission"in e?cr(e.omission):i}var a=(t=bs(t)).length;if(ln(t)){var s=vn(t);a=s.length}if(n>=a)return t;var l=n-pn(i);if(l<1)return i;var u=s?Ar(s,0,l).join(""):t.slice(0,l);if(o===r)return u+i;if(s&&(l+=u.length-l),as(o)){if(t.slice(l).search(o)){var c,h=u;for(o.global||(o=kt(o.source,bs(vt.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var d=c.index;u=u.slice(0,d===r?l:d)}}else if(t.indexOf(cr(o),l)!=l){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+i},Bn.unescape=function(t){return(t=bs(t))&&K.test(t)?t.replace(X,mn):t},Bn.uniqueId=function(t){var e=++Ht;return bs(t)+e},Bn.upperCase=Ks,Bn.upperFirst=Zs,Bn.each=ba,Bn.eachRight=wa,Bn.first=Yo,ll(Bn,(Al={},Si(Bn,(function(t,e){Nt.call(Bn.prototype,e)||(Al[e]=t)})),Al),{chain:!1}),Bn.VERSION="4.17.21",Me(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Bn[t].placeholder=Bn})),Me(["drop","take"],(function(t,e){Gn.prototype[t]=function(n){n=n===r?1:bn(vs(n),0);var i=this.__filtered__&&!e?new Gn(this):this.clone();return i.__filtered__?i.__takeCount__=wn(n,i.__takeCount__):i.__views__.push({size:wn(n,g),type:t+(i.__dir__<0?"Right":"")}),i},Gn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Me(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;Gn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:uo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Me(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Gn.prototype[t]=function(){return this[n](1).value()[0]}})),Me(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Gn.prototype[t]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(rl)},Gn.prototype.find=function(t){return this.filter(t).head()},Gn.prototype.findLast=function(t){return this.reverse().find(t)},Gn.prototype.invokeMap=Zi((function(t,e){return"function"==typeof t?new Gn(this):this.map((function(n){return Pi(n,t,e)}))})),Gn.prototype.reject=function(t){return this.filter(Na(uo(t)))},Gn.prototype.slice=function(t,e){t=vs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Gn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=vs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Gn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Gn.prototype.toArray=function(){return this.take(g)},Si(Gn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=Bn[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(Bn.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,l=e instanceof Gn,u=s[0],c=l||Ga(e),h=function(t){var e=o.apply(Bn,Ne([t],s));return i&&d?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=a&&!d,v=l&&!f;if(!a&&c){e=v?e:new Gn(this);var g=t.apply(e,s);return g.__actions__.push({func:pa,args:[h],thisArg:r}),new zn(g,d)}return p&&v?t.apply(this,s):(g=this.thru(h),p?i?g.value()[0]:g.value():g)})})),Me(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Pt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Bn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Ga(r)?r:[],t)}return this[n]((function(n){return e.apply(Ga(n)?n:[],t)}))}})),Si(Gn.prototype,(function(t,e){var n=Bn[e];if(n){var i=n.name+"";Nt.call(In,i)||(In[i]=[]),In[i].push({name:e,func:n})}})),In[Br(r,2).name]=[{name:"wrapper",func:r}],Gn.prototype.clone=function(){var t=new Gn(this.__wrapped__);return t.__actions__=Or(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Or(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Or(this.__views__),t},Gn.prototype.reverse=function(){if(this.__filtered__){var t=new Gn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Gn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ga(t),i=e<0,r=n?t.length:0,o=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=wn(e,t+a);break;case"takeRight":t=bn(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,h=c.length,d=0,f=wn(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return vr(t,this.__actions__);var p=[];t:for(;l--&&d<f;){for(var v=-1,g=t[u+=e];++v<h;){var m=c[v],y=m.iteratee,b=m.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue t;break t}}p[d++]=g}return p},Bn.prototype.at=va,Bn.prototype.chain=function(){return fa(this)},Bn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===r&&(this.__values__=fs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Bn.prototype.plant=function(t){for(var e,n=this;n instanceof Wn;){var i=Fo(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},Bn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Gn){var e=t;return this.__actions__.length&&(e=new Gn(this)),(e=e.reverse()).__actions__.push({func:pa,args:[ea],thisArg:r}),new zn(e,this.__chain__)}return this.thru(ea)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return vr(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,$t&&(Bn.prototype[$t]=function(){return this}),Bn}();ve._=yn,(i=function(){return yn}.call(e,n,e,t))===r||(t.exports=i)}.call(this)},5932:function(module){var CryptoJS=CryptoJS||function(t,e){var n={},i=n.lib={},r=i.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.$super.extend(this)}}}(),o=i.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;t=t.sigBytes;if(this.clamp(),i%4)for(var r=0;r<t;r++)e[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<t;r+=4)e[i+r>>>2]=n[r>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return o.create(n,e)}}),a=n.enc={},s=a.Hex={stringify:function(t){for(var e=t.words,n=(t=t.sigBytes,[]),i=0;i<t;i++){var r=e[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return o.create(n,e/2)}},l=a.Latin1={stringify:function(t){for(var e=t.words,n=(t=t.sigBytes,[]),i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return o.create(n,e)}},u=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},c=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=o.create(),this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,r=n.sigBytes,a=this.blockSize,s=r/(4*a);e=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,r=t.min(4*e,r);if(e){for(var l=0;l<e;l+=a)this._doProcessBlock(i,l);l=i.splice(0,e),n.sigBytes-=r}return o.create(l,r)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=c.extend({init:function(){this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize(),this._hash},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:16,_createHelper:function(t){return function(e,n){return t.create(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return h.HMAC.create(t,n).finalize(e)}}});var h=n.algo={};return n}(Math),i,p,m,h,n,C,WordArray,TinCan;i=CryptoJS,p=(m=i.lib).WordArray,m=m.Hasher,h=[],n=i.algo.SHA1=m.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=0;80>l;l++){if(16>l)h[l]=0|t[e+l];else{var u=h[l-3]^h[l-8]^h[l-14]^h[l-16];h[l]=u<<1|u>>>31}u=(i<<5|i>>>27)+s+h[l],u=20>l?u+(1518500249+(r&o|~r&a)):40>l?u+(1859775393+(r^o^a)):60>l?u+((r&o|r&a|o&a)-1894007588):u+((r^o^a)-899497514),s=a,a=o,o=r<<30|r>>>2,r=i,i=u}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[15+(i+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process()}}),i.SHA1=m._createHelper(n),i.HmacSHA1=m._createHmacHelper(n),C=CryptoJS,WordArray=C.lib.WordArray,C.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var r=[],o=0;o<n;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)r.push(i.charAt(a>>>6*(3-s)&63));var l=i.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(t){var e=(t=t.replace(/\s/g,"")).length,n=this._map,i=n.charAt(64);if(i){var r=t.indexOf(i);-1!=r&&(e=r)}for(var o=[],a=0,s=0;s<e;s++)if(s%4){var l=n.indexOf(t.charAt(s-1))<<s%4*2,u=n.indexOf(t.charAt(s))>>>6-s%4*2;o[a>>>2]|=(l|u)<<24-a%4*8,a++}return WordArray.create(o,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(){"use strict";var t={statementId:!0,voidedStatementId:!0,verb:!0,object:!0,registration:!0,context:!0,actor:!0,since:!0,until:!0,limit:!0,authoritative:!0,sparse:!0,instructor:!0,ascending:!0,continueToken:!0,agent:!0,activityId:!0,stateId:!0,profileId:!0,activity_platform:!0,grouping:!0,"Accept-Language":!0};(TinCan=function(t){this.log("constructor"),this.recordStores=[],this.actor=null,this.activity=null,this.registration=null,this.context=null,this.init(t)}).prototype={LOG_SRC:"TinCan",log:function(t,e){TinCan.DEBUG&&"undefined"!=typeof console&&console.log&&(e=e||this.LOG_SRC||"TinCan",console.log("TinCan."+e+": "+t))},init:function(t){var e;if(this.log("init"),(t=t||{}).hasOwnProperty("url")&&""!==t.url&&this._initFromQueryString(t.url),t.hasOwnProperty("recordStores")&&void 0!==t.recordStores)for(e=0;e<t.recordStores.length;e+=1)this.addRecordStore(t.recordStores[e]);t.hasOwnProperty("activity")&&(t.activity instanceof TinCan.Activity?this.activity=t.activity:this.activity=new TinCan.Activity(t.activity)),t.hasOwnProperty("actor")&&(t.actor instanceof TinCan.Agent?this.actor=t.actor:this.actor=new TinCan.Agent(t.actor)),t.hasOwnProperty("context")&&(t.context instanceof TinCan.Context?this.context=t.context:this.context=new TinCan.Context(t.context)),t.hasOwnProperty("registration")&&(this.registration=t.registration)},_initFromQueryString:function(e){this.log("_initFromQueryString");var n,i,r,o=TinCan.Utils.parseURL(e).params,a=["endpoint","auth"],s={},l=null;if(o.hasOwnProperty("actor")){this.log("_initFromQueryString - found actor: "+o.actor);try{this.actor=TinCan.Agent.fromJSON(o.actor),delete o.actor}catch(t){this.log("_initFromQueryString - failed to set actor: "+t)}}if(o.hasOwnProperty("activity_id")&&(this.activity=new TinCan.Activity({id:o.activity_id}),delete o.activity_id),(o.hasOwnProperty("activity_platform")||o.hasOwnProperty("registration")||o.hasOwnProperty("grouping"))&&(r={},o.hasOwnProperty("activity_platform")&&(r.platform=o.activity_platform,delete o.activity_platform),o.hasOwnProperty("registration")&&(r.registration=this.registration=o.registration,delete o.registration),o.hasOwnProperty("grouping")&&(r.contextActivities={},r.contextActivities.grouping=o.grouping,delete o.grouping),this.context=new TinCan.Context(r)),o.hasOwnProperty("endpoint")){for(n=0;n<a.length;n+=1)i=a[n],o.hasOwnProperty(i)&&(s[i]=o[i],delete o[i]);for(n in o)o.hasOwnProperty(n)&&(t.hasOwnProperty(n)?delete o[n]:(l=l||{})[n]=o[n]);null!==l&&(s.extended=l),s.allowFail=!1,this.addRecordStore(s)}},addRecordStore:function(t){var e;this.log("addRecordStore"),e=t instanceof TinCan.LRS?t:new TinCan.LRS(t),this.recordStores.push(e)},prepareStatement:function(t){return this.log("prepareStatement"),t instanceof TinCan.Statement||(t=new TinCan.Statement(t)),null===t.actor&&null!==this.actor&&(t.actor=this.actor),null===t.target&&null!==this.activity&&(t.target=this.activity),null!==this.context&&(null===t.context?t.context=this.context:(null===t.context.registration&&(t.context.registration=this.context.registration),null===t.context.platform&&(t.context.platform=this.context.platform),null!==this.context.contextActivities&&(null===t.context.contextActivities?t.context.contextActivities=this.context.contextActivities:(null!==this.context.contextActivities.grouping&&null===t.context.contextActivities.grouping&&(t.context.contextActivities.grouping=this.context.contextActivities.grouping),null!==this.context.contextActivities.parent&&null===t.context.contextActivities.parent&&(t.context.contextActivities.parent=this.context.contextActivities.parent),null!==this.context.contextActivities.other&&null===t.context.contextActivities.other&&(t.context.contextActivities.other=this.context.contextActivities.other))))),t},sendStatement:function(t,e){this.log("sendStatement");var n,i,r,o=this,a=this.prepareStatement(t),s=this.recordStores.length,l=[],u=[];if(s>0)for("function"==typeof e&&(r=function(t,n){var i;o.log("sendStatement - callbackWrapper: "+s),s>1?(s-=1,u.push({err:t,xhr:n})):1===s?(u.push({err:t,xhr:n}),i=[u,a],e.apply(this,i)):o.log("sendStatement - unexpected record store count: "+s)}),i=0;i<s;i+=1)n=this.recordStores[i],l.push(n.saveStatement(a,{callback:r}));else this.log("[warning] sendStatement: No LRSs added yet (statement not sent)"),"function"==typeof e&&e.apply(this,[null,a]);return{statement:a,results:l}},getStatement:function(t,e){if(this.log("getStatement"),this.recordStores.length>0)return this.recordStores[0].retrieveStatement(t,{callback:e});this.log("[warning] getStatement: No LRSs added yet (statement not retrieved)")},voidStatement:function(t,e,n){this.log("voidStatement");var i,r,o,a,s,l=this,u=this.recordStores.length,c=[],h=[];if(t instanceof TinCan.Statement&&(t=t.id),void 0!==n.actor?r=n.actor:null!==this.actor&&(r=this.actor),o=new TinCan.Statement({actor:r,verb:{id:"http://adlnet.gov/expapi/verbs/voided"},target:{objectType:"StatementRef",id:t}}),u>0)for("function"==typeof e&&(s=function(t,n){var i;l.log("voidStatement - callbackWrapper: "+u),u>1?(u-=1,h.push({err:t,xhr:n})):1===u?(h.push({err:t,xhr:n}),i=[h,o],e.apply(this,i)):l.log("voidStatement - unexpected record store count: "+u)}),a=0;a<u;a+=1)i=this.recordStores[a],c.push(i.saveStatement(o,{callback:s}));else this.log("[warning] voidStatement: No LRSs added yet (statement not sent)"),"function"==typeof e&&e.apply(this,[null,o]);return{statement:o,results:c}},getVoidedStatement:function(t,e){if(this.log("getVoidedStatement"),this.recordStores.length>0)return this.recordStores[0].retrieveVoidedStatement(t,{callback:e});this.log("[warning] getVoidedStatement: No LRSs added yet (statement not retrieved)")},sendStatements:function(t,e){this.log("sendStatements");var n,i,r,o=this,a=[],s=this.recordStores.length,l=[],u=[];if(0===t.length)"function"==typeof e&&e.apply(this,[null,a]);else{for(i=0;i<t.length;i+=1)a.push(this.prepareStatement(t[i]));if(s>0)for("function"==typeof e&&(r=function(t,n){var i;o.log("sendStatements - callbackWrapper: "+s),s>1?(s-=1,u.push({err:t,xhr:n})):1===s?(u.push({err:t,xhr:n}),i=[u,a],e.apply(this,i)):o.log("sendStatements - unexpected record store count: "+s)}),i=0;i<s;i+=1)n=this.recordStores[i],l.push(n.saveStatements(a,{callback:r}));else this.log("[warning] sendStatements: No LRSs added yet (statements not sent)"),"function"==typeof e&&e.apply(this,[null,a])}return{statements:a,results:l}},getStatements:function(t){this.log("getStatements");var e,n,i={};if(this.recordStores.length>0)return e=this.recordStores[0],n=(t=t||{}).params||{},t.sendActor&&null!==this.actor&&("0.9"===e.version||"0.95"===e.version?n.actor=this.actor:n.agent=this.actor),t.sendActivity&&null!==this.activity&&("0.9"===e.version||"0.95"===e.version?n.target=this.activity:n.activity=this.activity),void 0===n.registration&&null!==this.registration&&(n.registration=this.registration),i={params:n},void 0!==t.callback&&(i.callback=t.callback),e.queryStatements(i);this.log("[warning] getStatements: No LRSs added yet (statements not read)")},getState:function(t,e){var n,i;if(this.log("getState"),this.recordStores.length>0)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor,activity:void 0!==e.activity?e.activity:this.activity},void 0!==e.registration?n.registration=e.registration:null!==this.registration&&(n.registration=this.registration),void 0!==e.callback&&(n.callback=e.callback),i.retrieveState(t,n);this.log("[warning] getState: No LRSs added yet (state not retrieved)")},setState:function(t,e,n){var i,r;if(this.log("setState"),this.recordStores.length>0)return r=this.recordStores[0],i={agent:void 0!==(n=n||{}).agent?n.agent:this.actor,activity:void 0!==n.activity?n.activity:this.activity},void 0!==n.registration?i.registration=n.registration:null!==this.registration&&(i.registration=this.registration),void 0!==n.lastSHA1&&(i.lastSHA1=n.lastSHA1),void 0!==n.contentType&&(i.contentType=n.contentType,void 0!==n.overwriteJSON&&!n.overwriteJSON&&TinCan.Utils.isApplicationJSON(n.contentType)&&(i.method="POST")),void 0!==n.callback&&(i.callback=n.callback),r.saveState(t,e,i);this.log("[warning] setState: No LRSs added yet (state not saved)")},deleteState:function(t,e){var n,i;if(this.log("deleteState"),this.recordStores.length>0)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor,activity:void 0!==e.activity?e.activity:this.activity},void 0!==e.registration?n.registration=e.registration:null!==this.registration&&(n.registration=this.registration),void 0!==e.callback&&(n.callback=e.callback),i.dropState(t,n);this.log("[warning] deleteState: No LRSs added yet (state not deleted)")},getActivityProfile:function(t,e){var n,i;if(this.log("getActivityProfile"),this.recordStores.length>0)return i=this.recordStores[0],n={activity:void 0!==(e=e||{}).activity?e.activity:this.activity},void 0!==e.callback&&(n.callback=e.callback),i.retrieveActivityProfile(t,n);this.log("[warning] getActivityProfile: No LRSs added yet (activity profile not retrieved)")},setActivityProfile:function(t,e,n){var i,r;if(this.log("setActivityProfile"),this.recordStores.length>0)return r=this.recordStores[0],i={activity:void 0!==(n=n||{}).activity?n.activity:this.activity},void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&(i.lastSHA1=n.lastSHA1),void 0!==n.contentType&&(i.contentType=n.contentType,void 0!==n.overwriteJSON&&!n.overwriteJSON&&TinCan.Utils.isApplicationJSON(n.contentType)&&(i.method="POST")),r.saveActivityProfile(t,e,i);this.log("[warning] setActivityProfile: No LRSs added yet (activity profile not saved)")},deleteActivityProfile:function(t,e){var n,i;if(this.log("deleteActivityProfile"),this.recordStores.length>0)return i=this.recordStores[0],n={activity:void 0!==(e=e||{}).activity?e.activity:this.activity},void 0!==e.callback&&(n.callback=e.callback),i.dropActivityProfile(t,n);this.log("[warning] deleteActivityProfile: No LRSs added yet (activity profile not deleted)")},getAgentProfile:function(t,e){var n,i;if(this.log("getAgentProfile"),this.recordStores.length>0)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor},void 0!==e.callback&&(n.callback=e.callback),i.retrieveAgentProfile(t,n);this.log("[warning] getAgentProfile: No LRSs added yet (agent profile not retrieved)")},setAgentProfile:function(t,e,n){var i,r;if(this.log("setAgentProfile"),this.recordStores.length>0)return r=this.recordStores[0],i={agent:void 0!==(n=n||{}).agent?n.agent:this.actor},void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&(i.lastSHA1=n.lastSHA1),void 0!==n.contentType&&(i.contentType=n.contentType,void 0!==n.overwriteJSON&&!n.overwriteJSON&&TinCan.Utils.isApplicationJSON(n.contentType)&&(i.method="POST")),r.saveAgentProfile(t,e,i);this.log("[warning] setAgentProfile: No LRSs added yet (agent profile not saved)")},deleteAgentProfile:function(t,e){var n,i;if(this.log("deleteAgentProfile"),this.recordStores.length>0)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor},void 0!==e.callback&&(n.callback=e.callback),i.dropAgentProfile(t,n);this.log("[warning] deleteAgentProfile: No LRSs added yet (agent profile not deleted)")}},TinCan.DEBUG=!1,TinCan.enableDebug=function(){TinCan.DEBUG=!0},TinCan.disableDebug=function(){TinCan.DEBUG=!1},TinCan.versions=function(){return["1.0.1","1.0.0","0.95","0.9"]},module.exports=TinCan}(),function(){"use strict";TinCan.Utils={getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},getISODateString:function(t){function e(t,e){var n,i;for(null==t&&(t=0),null==e&&(e=2),n=Math.pow(10,e-1),i=t.toString();t<n&&n>1;)i="0"+i,n/=10;return i}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+e(t.getUTCMilliseconds(),3)+"Z"},convertISO8601DurationToMilliseconds:function(t){var e,n,i,r,o=t.indexOf("-")>=0,a=t.indexOf("T"),s=t.indexOf("H"),l=t.indexOf("M"),u=t.indexOf("S");if(-1===a||-1!==l&&l<a||-1!==t.indexOf("D")||-1!==t.indexOf("Y"))throw new Error("ISO 8601 timestamps including years, months and/or days are not currently supported");return-1===s?(s=a,e=0):e=parseInt(t.slice(a+1,s),10),-1===l?(l=a,n=0):n=parseInt(t.slice(s+1,l),10),i=parseFloat(t.slice(l+1,u)),r=parseInt(1e3*(60*(60*e+n)+i),10),isNaN(r)&&(r=0),o&&(r*=-1),r},convertMillisecondsToISO8601Duration:function(t){var e,n,i=parseInt(t,10),r="",o="";return i<0&&(r="-",i*=-1),o=r+"PT",(e=parseInt(i/36e5,10))>0&&(o+=e+"H"),(n=parseInt(i%36e5/6e4,10))>0&&(o+=n+"M"),o+=i%36e5%6e4/1e3+"S"},getSHA1String:function(t){return CryptoJS.SHA1(t).toString(CryptoJS.enc.Hex)},getBase64String:function(t){return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Latin1.parse(t))},getLangDictionaryValue:function(t,e){var n,i=this[t];if(void 0!==e&&void 0!==i[e])return i[e];if(void 0!==i.und)return i.und;if(void 0!==i["en-US"])return i["en-US"];for(n in i)if(i.hasOwnProperty(n))return i[n];return""},parseURL:function(t){var e,n,i,r,o=/\+/g,a=/([^&=]+)=?([^&]*)/g,s=function(t){return decodeURIComponent(t.replace(o," "))};if(e=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),(i={protocol:(n=t.match(e))[1],host:n[2],hostname:n[3],port:n[4],pathname:n[5],search:n[6],hash:n[7],params:{}}).path=i.protocol+"//"+i.host+i.pathname,""!==i.search)for(;r=a.exec(i.search.substring(1));)i.params[s(r[1])]=s(r[2]);return i},getServerRoot:function(t){var e=t.split("/");return e[0]+"//"+e[2]},getContentTypeFromHeader:function(t){return String(t).split(";")[0]},isApplicationJSON:function(t){return 0===TinCan.Utils.getContentTypeFromHeader(t).toLowerCase().indexOf("application/json")}}}(),function(){"use strict";var t=TinCan.LRS=function(t){this.log("constructor"),this.endpoint=null,this.version=null,this.auth=null,this.allowFail=!0,this.extended=null,this.init(t)};t.prototype={LOG_SRC:"LRS",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=TinCan.versions(),i=!1;if((t=t||{}).hasOwnProperty("alertOnRequestFailure")&&this.log("'alertOnRequestFailure' is deprecated (alerts have been removed) no need to set it now"),!t.hasOwnProperty("endpoint")||null===t.endpoint||""===t.endpoint)throw this.log("[error] LRS invalid: no endpoint"),{code:3,mesg:"LRS invalid: no endpoint"};if(this.endpoint=String(t.endpoint),"/"!==this.endpoint.slice(-1)&&(this.log("adding trailing slash to endpoint"),this.endpoint+="/"),t.hasOwnProperty("allowFail")&&(this.allowFail=t.allowFail),t.hasOwnProperty("auth")?this.auth=t.auth:t.hasOwnProperty("username")&&t.hasOwnProperty("password")&&(this.auth="Basic "+TinCan.Utils.getBase64String(t.username+":"+t.password)),t.hasOwnProperty("extended")&&(this.extended=t.extended),this._initByEnvironment(t),void 0!==t.version){for(this.log("version: "+t.version),e=0;e<n.length;e+=1)if(n[e]===t.version){i=!0;break}if(!i)throw this.log("[error] LRS invalid: version not supported ("+t.version+")"),{code:5,mesg:"LRS invalid: version not supported ("+t.version+")"};this.version=t.version}else this.version=n[0]},_initByEnvironment:function(){this.log("_initByEnvironment not overloaded - no environment loaded?")},_makeRequest:function(){this.log("_makeRequest not overloaded - no environment loaded?")},_IEModeConversion:function(){this.log("_IEModeConversion not overloaded - browser environment not loaded.")},sendRequest:function(t){this.log("sendRequest");var e,n=this.endpoint+t.url,i={};if(0===t.url.indexOf("http")&&(n=t.url),null!==this.extended)for(e in t.params=t.params||{},this.extended)this.extended.hasOwnProperty(e)&&(t.params.hasOwnProperty(e)||null!==this.extended[e]&&(t.params[e]=this.extended[e]));for(e in i.Authorization=this.auth,"0.9"!==this.version&&(i["X-Experience-API-Version"]=this.version),t.headers)t.headers.hasOwnProperty(e)&&(i[e]=t.headers[e]);return this._makeRequest(n,i,t)},about:function(t){var e,n,i;if(this.log("about"),e={url:"about",method:"GET",params:{}},void 0!==(t=t||{}).callback&&(i=function(e,n){var i=n;null===e&&(i=TinCan.About.fromJSON(n.responseText)),t.callback(e,i)},e.callback=i),n=this.sendRequest(e),!i)return null===n.err&&(n.xhr=TinCan.About.fromJSON(n.xhr.responseText)),n},saveStatement:function(t,e){var n,i;this.log("saveStatement"),e=e||{};try{i=t.asVersion(this.version)}catch(t){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(t,null):{err:t,xhr:null})}return n={url:"statements",data:JSON.stringify(i),headers:{"Content-Type":"application/json"}},null!==t.id?(n.method="PUT",n.params={statementId:t.id}):n.method="POST",void 0!==e.callback&&(n.callback=e.callback),this.sendRequest(n)},retrieveStatement:function(t,e){var n,i,r;return this.log("retrieveStatement"),n={url:"statements",method:"GET",params:{statementId:t}},void 0!==(e=e||{}).callback&&(r=function(t,n){var i=n;null===t&&(i=TinCan.Statement.fromJSON(n.responseText)),e.callback(t,i)},n.callback=r),i=this.sendRequest(n),r||(i.statement=null,null===i.err&&(i.statement=TinCan.Statement.fromJSON(i.xhr.responseText))),i},retrieveVoidedStatement:function(t,e){var n,i,r;return this.log("retrieveVoidedStatement"),e=e||{},n={url:"statements",method:"GET",params:{}},"0.9"===this.version||"0.95"===this.version?n.params.statementId=t:n.params.voidedStatementId=t,void 0!==e.callback&&(r=function(t,n){var i=n;null===t&&(i=TinCan.Statement.fromJSON(n.responseText)),e.callback(t,i)},n.callback=r),i=this.sendRequest(n),r||(i.statement=null,null===i.err&&(i.statement=TinCan.Statement.fromJSON(i.xhr.responseText))),i},saveStatements:function(t,e){this.log("saveStatements");var n,i,r,o=[];if(e=e||{},0===t.length)return void 0!==e.callback?void e.callback(new Error("no statements"),null):{err:new Error("no statements"),xhr:null};for(r=0;r<t.length;r+=1){try{i=t[r].asVersion(this.version)}catch(t){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(t,null):{err:t,xhr:null})}o.push(i)}return n={url:"statements",method:"POST",data:JSON.stringify(o),headers:{"Content-Type":"application/json"}},void 0!==e.callback&&(n.callback=e.callback),this.sendRequest(n)},queryStatements:function(t){var e,n,i;this.log("queryStatements"),(t=t||{}).params=t.params||{};try{e=this._queryStatementsRequestCfg(t)}catch(e){return this.log("[error] Query statements failed - "+e),void 0!==t.callback&&t.callback(e,{}),{err:e,statementsResult:null}}return void 0!==t.callback&&(i=function(e,n){var i=n;null===e&&(i=TinCan.StatementsResult.fromJSON(n.responseText)),t.callback(e,i)},e.callback=i),(n=this.sendRequest(e)).config=e,i||(n.statementsResult=null,null===n.err&&(n.statementsResult=TinCan.StatementsResult.fromJSON(n.xhr.responseText))),n},_queryStatementsRequestCfg:function(t){this.log("_queryStatementsRequestCfg");var e,n,i={},r={url:"statements",method:"GET",params:i},o=["agent","actor","object","instructor"],a=["verb","activity"],s=["registration","context","since","until","limit","authoritative","sparse","ascending","related_activities","related_agents","format","attachments"],l={verb:!0,registration:!0,since:!0,until:!0,limit:!0,ascending:!0},u={.9:{supported:{actor:!0,instructor:!0,target:!0,object:!0,context:!0,authoritative:!0,sparse:!0}},"1.0.0":{supported:{agent:!0,activity:!0,related_activities:!0,related_agents:!0,format:!0,attachments:!0}}};for(n in u[.95]=u[.9],u["1.0.1"]=u["1.0.0"],t.params.hasOwnProperty("target")&&(t.params.object=t.params.target),t.params)if(t.params.hasOwnProperty(n)&&void 0===l[n]&&void 0===u[this.version].supported[n])throw"Unrecognized query parameter configured: "+n;for(e=0;e<o.length;e+=1)void 0!==t.params[o[e]]&&(i[o[e]]=JSON.stringify(t.params[o[e]].asVersion(this.version)));for(e=0;e<a.length;e+=1)void 0!==t.params[a[e]]&&(i[a[e]]=t.params[a[e]].id);for(e=0;e<s.length;e+=1)void 0!==t.params[s[e]]&&(i[s[e]]=t.params[s[e]]);return r},moreStatements:function(t){var e,n,i,r,o;return this.log("moreStatements: "+t.url),t=t||{},r=TinCan.Utils.parseURL(t.url),o=TinCan.Utils.getServerRoot(this.endpoint),0===r.path.indexOf("/statements")&&(r.path=this.endpoint.replace(o,"")+r.path,this.log("converting non-standard more URL to "+r.path)),0!==r.path.indexOf("/")&&(r.path="/"+r.path),e={method:"GET",url:o+r.path,params:r.params},void 0!==t.callback&&(i=function(e,n){var i=n;null===e&&(i=TinCan.StatementsResult.fromJSON(n.responseText)),t.callback(e,i)},e.callback=i),(n=this.sendRequest(e)).config=e,i||(n.statementsResult=null,null===n.err&&(n.statementsResult=TinCan.StatementsResult.fromJSON(n.xhr.responseText))),n},retrieveState:function(t,e){this.log("retrieveState");var n,i,r={},o={};if(r={stateId:t,activityId:e.activity.id},"0.9"===this.version?r.actor=JSON.stringify(e.agent.asVersion(this.version)):r.agent=JSON.stringify(e.agent.asVersion(this.version)),void 0!==e.registration&&null!==e.registration&&("0.9"===this.version?r.registrationId=e.registration:r.registration=e.registration),o={url:"activities/state",method:"GET",params:r,ignore404:!0},void 0!==e.callback&&(i=function(n,i){var r=i;if(null===n)if(404===i.status)r=null;else if(r=new TinCan.State({id:t,contents:i.responseText}),void 0!==i.getResponseHeader&&null!==i.getResponseHeader("ETag")&&""!==i.getResponseHeader("ETag")?r.etag=i.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(i.responseText),void 0!==i.contentType?r.contentType=i.contentType:void 0!==i.getResponseHeader&&null!==i.getResponseHeader("Content-Type")&&""!==i.getResponseHeader("Content-Type")&&(r.contentType=i.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(t){this.log("retrieveState - failed to deserialize JSON: "+t)}e.callback(n,r)},o.callback=i),n=this.sendRequest(o),!i&&(n.state=null,null===n.err&&404!==n.xhr.status&&(n.state=new TinCan.State({id:t,contents:n.xhr.responseText}),void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("ETag")&&""!==n.xhr.getResponseHeader("ETag")?n.state.etag=n.xhr.getResponseHeader("ETag"):n.state.etag=TinCan.Utils.getSHA1String(n.xhr.responseText),void 0!==n.xhr.contentType?n.state.contentType=n.xhr.contentType:void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("Content-Type")&&""!==n.xhr.getResponseHeader("Content-Type")&&(n.state.contentType=n.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(n.state.contentType))))try{n.state.contents=JSON.parse(n.state.contents)}catch(t){this.log("retrieveState - failed to deserialize JSON: "+t)}return n},saveState:function(t,e,n){var i,r;return this.log("saveState"),void 0===n.contentType&&(n.contentType="application/octet-stream"),"object"==typeof e&&TinCan.Utils.isApplicationJSON(n.contentType)&&(e=JSON.stringify(e)),void 0!==n.method&&"POST"===n.method||(n.method="PUT"),i={stateId:t,activityId:n.activity.id},"0.9"===this.version?i.actor=JSON.stringify(n.agent.asVersion(this.version)):i.agent=JSON.stringify(n.agent.asVersion(this.version)),void 0!==n.registration&&null!==n.registration&&("0.9"===this.version?i.registrationId=n.registration:i.registration=n.registration),r={url:"activities/state",method:n.method,params:i,data:e,headers:{"Content-Type":n.contentType}},void 0!==n.callback&&(r.callback=n.callback),void 0!==n.lastSHA1&&null!==n.lastSHA1&&(r.headers["If-Match"]=n.lastSHA1),this.sendRequest(r)},dropState:function(t,e){var n,i;return this.log("dropState"),n={activityId:e.activity.id},"0.9"===this.version?n.actor=JSON.stringify(e.agent.asVersion(this.version)):n.agent=JSON.stringify(e.agent.asVersion(this.version)),null!==t&&(n.stateId=t),void 0!==e.registration&&null!==e.registration&&("0.9"===this.version?n.registrationId=e.registration:n.registration=e.registration),i={url:"activities/state",method:"DELETE",params:n},void 0!==e.callback&&(i.callback=e.callback),this.sendRequest(i)},retrieveActivityProfile:function(t,e){this.log("retrieveActivityProfile");var n,i,r={};if(r={url:"activities/profile",method:"GET",params:{profileId:t,activityId:e.activity.id},ignore404:!0},void 0!==e.callback&&(i=function(n,i){var r=i;if(null===n)if(404===i.status)r=null;else if(r=new TinCan.ActivityProfile({id:t,activity:e.activity,contents:i.responseText}),void 0!==i.getResponseHeader&&null!==i.getResponseHeader("ETag")&&""!==i.getResponseHeader("ETag")?r.etag=i.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(i.responseText),void 0!==i.contentType?r.contentType=i.contentType:void 0!==i.getResponseHeader&&null!==i.getResponseHeader("Content-Type")&&""!==i.getResponseHeader("Content-Type")&&(r.contentType=i.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(t){this.log("retrieveActivityProfile - failed to deserialize JSON: "+t)}e.callback(n,r)},r.callback=i),n=this.sendRequest(r),!i&&(n.profile=null,null===n.err&&404!==n.xhr.status&&(n.profile=new TinCan.ActivityProfile({id:t,activity:e.activity,contents:n.xhr.responseText}),void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("ETag")&&""!==n.xhr.getResponseHeader("ETag")?n.profile.etag=n.xhr.getResponseHeader("ETag"):n.profile.etag=TinCan.Utils.getSHA1String(n.xhr.responseText),void 0!==n.xhr.contentType?n.profile.contentType=n.xhr.contentType:void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("Content-Type")&&""!==n.xhr.getResponseHeader("Content-Type")&&(n.profile.contentType=n.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(n.profile.contentType))))try{n.profile.contents=JSON.parse(n.profile.contents)}catch(t){this.log("retrieveActivityProfile - failed to deserialize JSON: "+t)}return n},saveActivityProfile:function(t,e,n){var i;return this.log("saveActivityProfile"),void 0===n.contentType&&(n.contentType="application/octet-stream"),void 0!==n.method&&"POST"===n.method||(n.method="PUT"),"object"==typeof e&&TinCan.Utils.isApplicationJSON(n.contentType)&&(e=JSON.stringify(e)),i={url:"activities/profile",method:n.method,params:{profileId:t,activityId:n.activity.id},data:e,headers:{"Content-Type":n.contentType}},void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&null!==n.lastSHA1?i.headers["If-Match"]=n.lastSHA1:i.headers["If-None-Match"]="*",this.sendRequest(i)},dropActivityProfile:function(t,e){var n;return this.log("dropActivityProfile"),n={url:"activities/profile",method:"DELETE",params:{profileId:t,activityId:e.activity.id}},void 0!==e.callback&&(n.callback=e.callback),this.sendRequest(n)},retrieveAgentProfile:function(t,e){this.log("retrieveAgentProfile");var n,i,r={};if(r={method:"GET",params:{profileId:t},ignore404:!0},"0.9"===this.version?(r.url="actors/profile",r.params.actor=JSON.stringify(e.agent.asVersion(this.version))):(r.url="agents/profile",r.params.agent=JSON.stringify(e.agent.asVersion(this.version))),void 0!==e.callback&&(i=function(n,i){var r=i;if(null===n)if(404===i.status)r=null;else if(r=new TinCan.AgentProfile({id:t,agent:e.agent,contents:i.responseText}),void 0!==i.getResponseHeader&&null!==i.getResponseHeader("ETag")&&""!==i.getResponseHeader("ETag")?r.etag=i.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(i.responseText),void 0!==i.contentType?r.contentType=i.contentType:void 0!==i.getResponseHeader&&null!==i.getResponseHeader("Content-Type")&&""!==i.getResponseHeader("Content-Type")&&(r.contentType=i.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(t){this.log("retrieveAgentProfile - failed to deserialize JSON: "+t)}e.callback(n,r)},r.callback=i),n=this.sendRequest(r),!i&&(n.profile=null,null===n.err&&404!==n.xhr.status&&(n.profile=new TinCan.AgentProfile({id:t,agent:e.agent,contents:n.xhr.responseText}),void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("ETag")&&""!==n.xhr.getResponseHeader("ETag")?n.profile.etag=n.xhr.getResponseHeader("ETag"):n.profile.etag=TinCan.Utils.getSHA1String(n.xhr.responseText),void 0!==n.xhr.contentType?n.profile.contentType=n.xhr.contentType:void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("Content-Type")&&""!==n.xhr.getResponseHeader("Content-Type")&&(n.profile.contentType=n.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(n.profile.contentType))))try{n.profile.contents=JSON.parse(n.profile.contents)}catch(t){this.log("retrieveAgentProfile - failed to deserialize JSON: "+t)}return n},saveAgentProfile:function(t,e,n){var i;return this.log("saveAgentProfile"),void 0===n.contentType&&(n.contentType="application/octet-stream"),void 0!==n.method&&"POST"===n.method||(n.method="PUT"),"object"==typeof e&&TinCan.Utils.isApplicationJSON(n.contentType)&&(e=JSON.stringify(e)),i={method:n.method,params:{profileId:t},data:e,headers:{"Content-Type":n.contentType}},"0.9"===this.version?(i.url="actors/profile",i.params.actor=JSON.stringify(n.agent.asVersion(this.version))):(i.url="agents/profile",i.params.agent=JSON.stringify(n.agent.asVersion(this.version))),void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&null!==n.lastSHA1?i.headers["If-Match"]=n.lastSHA1:i.headers["If-None-Match"]="*",this.sendRequest(i)},dropAgentProfile:function(t,e){var n,i;return this.log("dropAgentProfile"),i={method:"DELETE",params:n={profileId:t}},"0.9"===this.version?(i.url="actors/profile",n.actor=JSON.stringify(e.agent.asVersion(this.version))):(i.url="agents/profile",n.agent=JSON.stringify(e.agent.asVersion(this.version))),void 0!==e.callback&&(i.callback=e.callback),this.sendRequest(i)}},t.syncEnabled=null}(),function(){"use strict";var t=TinCan.AgentAccount=function(t){this.log("constructor"),this.homePage=null,this.name=null,this.init(t)};t.prototype={LOG_SRC:"AgentAccount",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["name","homePage"];for(void 0!==(t=t||{}).accountServiceHomePage&&(t.homePage=t.accountServiceHomePage),void 0!==t.accountName&&(t.name=t.accountName),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(){this.log("toString");var t="";return null!==this.name||null!==this.homePage?(t+=null!==this.name?this.name:"-",t+=":",t+=null!==this.homePage?this.homePage:"-"):t="AgentAccount: unidentified",t},asVersion:function(t){this.log("asVersion: "+t);var e={};return"0.9"===(t=t||TinCan.versions()[0])?(e.accountName=this.name,e.accountServiceHomePage=this.homePage):(e.name=this.name,e.homePage=this.homePage),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Agent=function(t){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.degraded=!1,this.init(t)};t.prototype={objectType:"Agent",LOG_SRC:"Agent",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i=["name","mbox","mbox_sha1sum","openid"];for(void 0!==(t=t||{}).lastName||void 0!==t.firstName?(t.name="",void 0!==t.firstName&&t.firstName.length>0&&(t.name=t.firstName[0],t.firstName.length>1&&(this.degraded=!0)),""!==t.name&&(t.name+=" "),void 0!==t.lastName&&t.lastName.length>0&&(t.name+=t.lastName[0],t.lastName.length>1&&(this.degraded=!0))):void 0===t.familyName&&void 0===t.givenName||(t.name="",void 0!==t.givenName&&t.givenName.length>0&&(t.name=t.givenName[0],t.givenName.length>1&&(this.degraded=!0)),""!==t.name&&(t.name+=" "),void 0!==t.familyName&&t.familyName.length>0&&(t.name+=t.familyName[0],t.familyName.length>1&&(this.degraded=!0))),"object"==typeof t.name&&null!==t.name&&(t.name.length>1&&(this.degraded=!0),t.name=t.name[0]),"object"==typeof t.mbox&&null!==t.mbox&&(t.mbox.length>1&&(this.degraded=!0),t.mbox=t.mbox[0]),"object"==typeof t.mbox_sha1sum&&null!==t.mbox_sha1sum&&(t.mbox_sha1sum.length>1&&(this.degraded=!0),t.mbox_sha1sum=t.mbox_sha1sum[0]),"object"==typeof t.openid&&null!==t.openid&&(t.openid.length>1&&(this.degraded=!0),t.openid=t.openid[0]),"object"==typeof t.account&&null!==t.account&&void 0===t.account.homePage&&void 0===t.account.name&&(0===t.account.length?delete t.account:(t.account.length>1&&(this.degraded=!0),t.account=t.account[0])),t.hasOwnProperty("account")&&(t.account instanceof TinCan.AgentAccount?this.account=t.account:this.account=new TinCan.AgentAccount(t.account)),e=0;e<i.length;e+=1)t.hasOwnProperty(i[e])&&null!==t[i[e]]&&(n=t[i[e]],"mbox"===i[e]&&-1===n.indexOf("mailto:")&&(n="mailto:"+n),this[i[e]]=n)},toString:function(){return this.log("toString"),null!==this.name?this.name:null!==this.mbox?this.mbox.replace("mailto:",""):null!==this.mbox_sha1sum?this.mbox_sha1sum:null!==this.openid?this.openid:null!==this.account?this.account.toString():this.objectType+": unidentified"},asVersion:function(t){this.log("asVersion: "+t);var e={objectType:this.objectType};return"0.9"===(t=t||TinCan.versions()[0])?(null!==this.mbox?e.mbox=[this.mbox]:null!==this.mbox_sha1sum?e.mbox_sha1sum=[this.mbox_sha1sum]:null!==this.openid?e.openid=[this.openid]:null!==this.account&&(e.account=[this.account.asVersion(t)]),null!==this.name&&(e.name=[this.name])):(null!==this.mbox?e.mbox=this.mbox:null!==this.mbox_sha1sum?e.mbox_sha1sum=this.mbox_sha1sum:null!==this.openid?e.openid=this.openid:null!==this.account&&(e.account=this.account.asVersion(t)),null!==this.name&&(e.name=this.name)),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Group=function(t){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.member=[],this.init(t)};t.prototype={objectType:"Group",LOG_SRC:"Group",log:TinCan.prototype.log,init:function(t){var e;if(this.log("init"),t=t||{},TinCan.Agent.prototype.init.call(this,t),void 0!==t.member)for(e=0;e<t.member.length;e+=1)t.member[e]instanceof TinCan.Agent?this.member.push(t.member[e]):this.member.push(new TinCan.Agent(t.member[e]))},toString:function(t){this.log("toString");var e=TinCan.Agent.prototype.toString.call(this,t);return e!==this.objectType+": unidentified"&&(e=this.objectType+": "+e),e},asVersion:function(t){var e,n;if(this.log("asVersion: "+t),t=t||TinCan.versions()[0],e=TinCan.Agent.prototype.asVersion.call(this,t),this.member.length>0)for(e.member=[],n=0;n<this.member.length;n+=1)e.member.push(this.member[n].asVersion(t));return e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t={"http://adlnet.gov/expapi/verbs/experienced":"experienced","http://adlnet.gov/expapi/verbs/attended":"attended","http://adlnet.gov/expapi/verbs/attempted":"attempted","http://adlnet.gov/expapi/verbs/completed":"completed","http://adlnet.gov/expapi/verbs/passed":"passed","http://adlnet.gov/expapi/verbs/failed":"failed","http://adlnet.gov/expapi/verbs/answered":"answered","http://adlnet.gov/expapi/verbs/interacted":"interacted","http://adlnet.gov/expapi/verbs/imported":"imported","http://adlnet.gov/expapi/verbs/created":"created","http://adlnet.gov/expapi/verbs/shared":"shared","http://adlnet.gov/expapi/verbs/voided":"voided"},e=TinCan.Verb=function(t){this.log("constructor"),this.id=null,this.display=null,this.init(t)};e.prototype={LOG_SRC:"Verb",log:TinCan.prototype.log,init:function(e){this.log("init");var n,i,r=["id","display"];if("string"==typeof e){for(i in this.id=e,this.display={und:this.id},t)if(t.hasOwnProperty(i)&&t[i]===e){this.id=i;break}}else{for(e=e||{},n=0;n<r.length;n+=1)e.hasOwnProperty(r[n])&&null!==e[r[n]]&&(this[r[n]]=e[r[n]]);null===this.display&&void 0!==t[this.id]&&(this.display={und:t[this.id]})}},toString:function(t){return this.log("toString"),null!==this.display?this.getLangDictionaryValue("display",t):this.id},asVersion:function(e){var n;return this.log("asVersion"),"0.9"===(e=e||TinCan.versions()[0])?n=t[this.id]:(n={id:this.id},null!==this.display&&(n.display=this.display)),n},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},e.fromJSON=function(t){e.prototype.log("fromJSON");var n=JSON.parse(t);return new e(n)}}(),function(){"use strict";var t=TinCan.Result=function(t){this.log("constructor"),this.score=null,this.success=null,this.completion=null,this.duration=null,this.response=null,this.extensions=null,this.init(t)};t.prototype={LOG_SRC:"Result",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["completion","duration","extensions","response","success"];for((t=t||{}).hasOwnProperty("score")&&null!==t.score&&(t.score instanceof TinCan.Score?this.score=t.score:this.score=new TinCan.Score(t.score)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);"Completed"===this.completion&&(this.completion=!0)},asVersion:function(t){this.log("asVersion");var e,n={},i=["success","duration","response","extensions"],r=["score"];for(t=t||TinCan.versions()[0],e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);for(e=0;e<r.length;e+=1)null!==this[r[e]]&&(n[r[e]]=this[r[e]].asVersion(t));return null!==this.completion&&("0.9"===t?this.completion&&(n.completion="Completed"):n.completion=this.completion),n}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Score=function(t){this.log("constructor"),this.scaled=null,this.raw=null,this.min=null,this.max=null,this.init(t)};t.prototype={LOG_SRC:"Score",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["scaled","raw","min","max"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},asVersion:function(t){this.log("asVersion");var e,n={},i=["scaled","raw","min","max"];for(t=t||TinCan.versions()[0],e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);return n}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.InteractionComponent=function(t){this.log("constructor"),this.id=null,this.description=null,this.init(t)};t.prototype={LOG_SRC:"InteractionComponent",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","description"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},asVersion:function(t){this.log("asVersion");var e,n,i={id:this.id},r=["description"];for(t=t||TinCan.versions()[0],e=0;e<r.length;e+=1)null!==this[n=r[e]]&&(i[n]=this[n]);return i},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t={"http://adlnet.gov/expapi/activities/course":"course","http://adlnet.gov/expapi/activities/module":"module","http://adlnet.gov/expapi/activities/meeting":"meeting","http://adlnet.gov/expapi/activities/media":"media","http://adlnet.gov/expapi/activities/performance":"performance","http://adlnet.gov/expapi/activities/simulation":"simulation","http://adlnet.gov/expapi/activities/assessment":"assessment","http://adlnet.gov/expapi/activities/interaction":"interaction","http://adlnet.gov/expapi/activities/cmi.interaction":"cmi.interaction","http://adlnet.gov/expapi/activities/question":"question","http://adlnet.gov/expapi/activities/objective":"objective","http://adlnet.gov/expapi/activities/link":"link"},e=TinCan.ActivityDefinition=function(t){this.log("constructor"),this.name=null,this.description=null,this.type=null,this.moreInfo=null,this.extensions=null,this.interactionType=null,this.correctResponsesPattern=null,this.choices=null,this.scale=null,this.source=null,this.target=null,this.steps=null,this.init(t)};e.prototype={LOG_SRC:"ActivityDefinition",log:TinCan.prototype.log,init:function(e){this.log("init");var n,i,r,o=["name","description","moreInfo","extensions","correctResponsesPattern"],a=[];if((e=e||{}).hasOwnProperty("type")&&null!==e.type){for(r in t)t.hasOwnProperty(r)&&t[r]===e.type&&(e.type=t[r]);this.type=e.type}if(e.hasOwnProperty("interactionType")&&null!==e.interactionType&&(this.interactionType=e.interactionType,"choice"===e.interactionType||"sequencing"===e.interactionType?a.push("choices"):"likert"===e.interactionType?a.push("scale"):"matching"===e.interactionType?(a.push("source"),a.push("target")):"performance"===e.interactionType&&a.push("steps"),a.length>0))for(n=0;n<a.length;n+=1)if(r=a[n],e.hasOwnProperty(r)&&null!==e[r])for(this[r]=[],i=0;i<e[r].length;i+=1)e[r][i]instanceof TinCan.InteractionComponent?this[r].push(e[r][i]):this[r].push(new TinCan.InteractionComponent(e[r][i]));for(n=0;n<o.length;n+=1)e.hasOwnProperty(o[n])&&null!==e[o[n]]&&(this[o[n]]=e[o[n]])},toString:function(t){return this.log("toString"),null!==this.name?this.getLangDictionaryValue("name",t):null!==this.description?this.getLangDictionaryValue("description",t):""},asVersion:function(e){this.log("asVersion");var n,i,r,o={},a=["name","description","interactionType","correctResponsesPattern","extensions"],s=["choices","scale","source","target","steps"];for(e=e||TinCan.versions()[0],null!==this.type&&(o.type="0.9"===e?t[this.type]:this.type),n=0;n<a.length;n+=1)null!==this[r=a[n]]&&(o[r]=this[r]);for(n=0;n<s.length;n+=1)if(null!==this[r=s[n]])for(o[r]=[],i=0;i<this[r].length;i+=1)o[r].push(this[r][i].asVersion(e));return 0!==e.indexOf("0.9")&&null!==this.moreInfo&&(o.moreInfo=this.moreInfo),o},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},e.fromJSON=function(t){e.prototype.log("fromJSON");var n=JSON.parse(t);return new e(n)}}(),function(){"use strict";var t=TinCan.Activity=function(t){this.log("constructor"),this.objectType="Activity",this.id=null,this.definition=null,this.init(t)};t.prototype={LOG_SRC:"Activity",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id"];for((t=t||{}).hasOwnProperty("definition")&&(t.definition instanceof TinCan.ActivityDefinition?this.definition=t.definition:this.definition=new TinCan.ActivityDefinition(t.definition)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(t){this.log("toString");var e="";return null!==this.definition&&""!==(e=this.definition.toString(t))?e:null!==this.id?this.id:"Activity: unidentified"},asVersion:function(t){this.log("asVersion");var e={id:this.id,objectType:this.objectType};return t=t||TinCan.versions()[0],null!==this.definition&&(e.definition=this.definition.asVersion(t)),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.ContextActivities=function(t){this.log("constructor"),this.category=null,this.parent=null,this.grouping=null,this.other=null,this.init(t)};t.prototype={LOG_SRC:"ContextActivities",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i,r,o=["category","parent","grouping","other"];for(t=t||{},e=0;e<o.length;e+=1)if(i=o[e],t.hasOwnProperty(i)&&null!==t[i])if("[object Array]"===Object.prototype.toString.call(t[i]))for(n=0;n<t[i].length;n+=1)this.add(i,t[i][n]);else r=t[i],this.add(i,r)},add:function(t,e){if("category"===t||"parent"===t||"grouping"===t||"other"===t)return null===this[t]&&(this[t]=[]),e instanceof TinCan.Activity||(e="string"==typeof e?{id:e}:e,e=new TinCan.Activity(e)),this[t].push(e),this[t].length-1},asVersion:function(t){this.log("asVersion");var e,n,i={},r=["parent","grouping","other"];for(t=t||TinCan.versions()[0],e=0;e<r.length;e+=1)if(null!==this[r[e]]&&this[r[e]].length>0)if("0.9"===t||"0.95"===t)this[r[e]].length>1&&this.log("[warning] version does not support multiple values in: "+r[e]),i[r[e]]=this[r[e]][0].asVersion(t);else for(i[r[e]]=[],n=0;n<this[r[e]].length;n+=1)i[r[e]].push(this[r[e]][n].asVersion(t));if(null!==this.category&&this.category.length>0){if("0.9"===t||"0.95"===t)throw this.log("[error] version does not support the 'category' property: "+t),new Error(t+" does not support the 'category' property");for(i.category=[],e=0;e<this.category.length;e+=1)i.category.push(this.category[e].asVersion(t))}return i}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Context=function(t){this.log("constructor"),this.registration=null,this.instructor=null,this.team=null,this.contextActivities=null,this.revision=null,this.platform=null,this.language=null,this.statement=null,this.extensions=null,this.init(t)};t.prototype={LOG_SRC:"Context",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i,r=["registration","revision","platform","language","extensions"],o=["instructor","team"];for(t=t||{},e=0;e<r.length;e+=1)n=r[e],t.hasOwnProperty(n)&&null!==t[n]&&(this[n]=t[n]);for(e=0;e<o.length;e+=1)n=o[e],t.hasOwnProperty(n)&&null!==t[n]&&(void 0!==(i=t[n]).objectType&&"Person"!==i.objectType||(i.objectType="Agent"),"Agent"!==i.objectType||i instanceof TinCan.Agent?"Group"!==i.objectType||i instanceof TinCan.Group||(i=new TinCan.Group(i)):i=new TinCan.Agent(i),this[n]=i);t.hasOwnProperty("contextActivities")&&null!==t.contextActivities&&(t.contextActivities instanceof TinCan.ContextActivities?this.contextActivities=t.contextActivities:this.contextActivities=new TinCan.ContextActivities(t.contextActivities)),t.hasOwnProperty("statement")&&null!==t.statement&&(t.statement instanceof TinCan.StatementRef||t.statement instanceof TinCan.SubStatement?this.statement=t.statement:"StatementRef"===t.statement.objectType?this.statement=new TinCan.StatementRef(t.statement):"SubStatement"===t.statement.objectType?this.statement=new TinCan.SubStatement(t.statement):this.log("Unable to parse statement.context.statement property."))},asVersion:function(t){this.log("asVersion");var e,n={},i=["registration","revision","platform","language","extensions"],r=["instructor","team","contextActivities","statement"];if(t=t||TinCan.versions()[0],this.statement instanceof TinCan.SubStatement&&"0.9"!==t&&"0.95"!==t)throw this.log("[error] version does not support SubStatements in the 'statement' property: "+t),new Error(t+" does not support SubStatements in the 'statement' property");for(e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);for(e=0;e<r.length;e+=1)null!==this[r[e]]&&(n[r[e]]=this[r[e]].asVersion(t));return n}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.StatementRef=function(t){this.log("constructor"),this.id=null,this.init(t)};t.prototype={objectType:"StatementRef",LOG_SRC:"StatementRef",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(){return this.log("toString"),this.id},asVersion:function(t){this.log("asVersion");var e={objectType:this.objectType,id:this.id};return"0.9"===t&&(e.objectType="Statement"),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.SubStatement=function(t){this.log("constructor"),this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.init(t)};t.prototype={objectType:"SubStatement",LOG_SRC:"SubStatement",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["timestamp"];for((t=t||{}).hasOwnProperty("object")&&(t.target=t.object),t.hasOwnProperty("actor")&&(void 0!==t.actor.objectType&&"Person"!==t.actor.objectType||(t.actor.objectType="Agent"),"Agent"===t.actor.objectType?t.actor instanceof TinCan.Agent?this.actor=t.actor:this.actor=new TinCan.Agent(t.actor):"Group"===t.actor.objectType&&(t.actor instanceof TinCan.Group?this.actor=t.actor:this.actor=new TinCan.Group(t.actor))),t.hasOwnProperty("verb")&&(t.verb instanceof TinCan.Verb?this.verb=t.verb:this.verb=new TinCan.Verb(t.verb)),t.hasOwnProperty("target")&&(t.target instanceof TinCan.Activity||t.target instanceof TinCan.Agent||t.target instanceof TinCan.Group||t.target instanceof TinCan.SubStatement||t.target instanceof TinCan.StatementRef?this.target=t.target:(void 0===t.target.objectType&&(t.target.objectType="Activity"),"Activity"===t.target.objectType?this.target=new TinCan.Activity(t.target):"Agent"===t.target.objectType?this.target=new TinCan.Agent(t.target):"Group"===t.target.objectType?this.target=new TinCan.Group(t.target):"SubStatement"===t.target.objectType?this.target=new TinCan.SubStatement(t.target):"StatementRef"===t.target.objectType?this.target=new TinCan.StatementRef(t.target):this.log("Unrecognized target type: "+t.target.objectType))),t.hasOwnProperty("result")&&(t.result instanceof TinCan.Result?this.result=t.result:this.result=new TinCan.Result(t.result)),t.hasOwnProperty("context")&&(t.context instanceof TinCan.Context?this.context=t.context:this.context=new TinCan.Context(t.context)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(t){return this.log("toString"),(null!==this.actor?this.actor.toString(t):"")+" "+(null!==this.verb?this.verb.toString(t):"")+" "+(null!==this.target?this.target.toString(t):"")},asVersion:function(t){this.log("asVersion");var e,n,i=["timestamp"],r=["actor","verb","result","context"];for(e={objectType:this.objectType},t=t||TinCan.versions()[0],n=0;n<i.length;n+=1)null!==this[i[n]]&&(e[i[n]]=this[i[n]]);for(n=0;n<r.length;n+=1)null!==this[r[n]]&&(e[r[n]]=this[r[n]].asVersion(t));return null!==this.target&&(e.object=this.target.asVersion(t)),"0.9"===t&&(e.objectType="Statement"),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Statement=function(t,e){this.log("constructor"),void 0===(e="number"==typeof e?{storeOriginal:e}:e||{}).storeOriginal&&(e.storeOriginal=null),void 0===e.doStamp&&(e.doStamp=!0),this.id=null,this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.stored=null,this.authority=null,this.version=null,this.degraded=!1,this.voided=null,this.inProgress=null,this.originalJSON=null,this.init(t,e)};t.prototype={LOG_SRC:"Statement",log:TinCan.prototype.log,init:function(t,e){this.log("init");var n,i=["id","stored","timestamp","version","inProgress","voided"];for(t=t||{},e.storeOriginal&&(this.originalJSON=JSON.stringify(t,null,e.storeOriginal)),t.hasOwnProperty("object")&&(t.target=t.object),t.hasOwnProperty("actor")&&(void 0!==t.actor.objectType&&"Person"!==t.actor.objectType||(t.actor.objectType="Agent"),"Agent"===t.actor.objectType?t.actor instanceof TinCan.Agent?this.actor=t.actor:this.actor=new TinCan.Agent(t.actor):"Group"===t.actor.objectType&&(t.actor instanceof TinCan.Group?this.actor=t.actor:this.actor=new TinCan.Group(t.actor))),t.hasOwnProperty("authority")&&(void 0!==t.authority.objectType&&"Person"!==t.authority.objectType||(t.authority.objectType="Agent"),"Agent"===t.authority.objectType?t.authority instanceof TinCan.Agent?this.authority=t.authority:this.authority=new TinCan.Agent(t.authority):"Group"===t.authority.objectType&&(t.actor instanceof TinCan.Group?this.authority=t.authority:this.authority=new TinCan.Group(t.authority))),t.hasOwnProperty("verb")&&(t.verb instanceof TinCan.Verb?this.verb=t.verb:this.verb=new TinCan.Verb(t.verb)),t.hasOwnProperty("target")&&(t.target instanceof TinCan.Activity||t.target instanceof TinCan.Agent||t.target instanceof TinCan.Group||t.target instanceof TinCan.SubStatement||t.target instanceof TinCan.StatementRef?this.target=t.target:(void 0===t.target.objectType&&(t.target.objectType="Activity"),"Activity"===t.target.objectType?this.target=new TinCan.Activity(t.target):"Agent"===t.target.objectType?this.target=new TinCan.Agent(t.target):"Group"===t.target.objectType?this.target=new TinCan.Group(t.target):"SubStatement"===t.target.objectType?this.target=new TinCan.SubStatement(t.target):"StatementRef"===t.target.objectType?this.target=new TinCan.StatementRef(t.target):this.log("Unrecognized target type: "+t.target.objectType))),t.hasOwnProperty("result")&&(t.result instanceof TinCan.Result?this.result=t.result:this.result=new TinCan.Result(t.result)),t.hasOwnProperty("context")&&(t.context instanceof TinCan.Context?this.context=t.context:this.context=new TinCan.Context(t.context)),n=0;n<i.length;n+=1)t.hasOwnProperty(i[n])&&null!==t[i[n]]&&(this[i[n]]=t[i[n]]);e.doStamp&&this.stamp()},toString:function(t){return this.log("toString"),(null!==this.actor?this.actor.toString(t):"")+" "+(null!==this.verb?this.verb.toString(t):"")+" "+(null!==this.target?this.target.toString(t):"")},asVersion:function(t){this.log("asVersion");var e,n={},i=["id","timestamp"],r=["actor","verb","result","context","authority"];for(t=t||TinCan.versions()[0],e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);for(e=0;e<r.length;e+=1)null!==this[r[e]]&&(n[r[e]]=this[r[e]].asVersion(t));return null!==this.target&&(n.object=this.target.asVersion(t)),"0.9"!==t&&"0.95"!==t||null!==this.voided&&(n.voided=this.voided),"0.9"===t&&null!==this.inProgress&&(n.inProgress=this.inProgress),n},stamp:function(){this.log("stamp"),null===this.id&&(this.id=TinCan.Utils.getUUID()),null===this.timestamp&&(this.timestamp=TinCan.Utils.getISODateString(new Date))}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.StatementsResult=function(t){this.log("constructor"),this.statements=null,this.more=null,this.init(t)};t.prototype={LOG_SRC:"StatementsResult",log:TinCan.prototype.log,init:function(t){this.log("init"),(t=t||{}).hasOwnProperty("statements")&&(this.statements=t.statements),t.hasOwnProperty("more")&&(this.more=t.more)}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n,i,r,o=[];try{n=JSON.parse(e)}catch(e){t.prototype.log("fromJSON - JSON.parse error: "+e)}if(n){for(r=0;r<n.statements.length;r+=1){try{i=new TinCan.Statement(n.statements[r],4)}catch(e){t.prototype.log("fromJSON - statement instantiation failed: "+e+" ("+JSON.stringify(n.statements[r])+")"),i=new TinCan.Statement({id:n.statements[r].id},4)}o.push(i)}n.statements=o}return new t(n)}}(),function(){"use strict";var t=TinCan.State=function(t){this.log("constructor"),this.id=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(t)};t.prototype={LOG_SRC:"State",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","contents","etag","contentType"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);this.updated=!1}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.ActivityProfile=function(t){this.log("constructor"),this.id=null,this.activity=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(t)};t.prototype={LOG_SRC:"ActivityProfile",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","contents","etag","contentType"];for((t=t||{}).hasOwnProperty("activity")&&(t.activity instanceof TinCan.Activity?this.activity=t.activity:this.activity=new TinCan.Activity(t.activity)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);this.updated=!1}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.AgentProfile=function(t){this.log("constructor"),this.id=null,this.agent=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(t)};t.prototype={LOG_SRC:"AgentProfile",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","contents","etag","contentType"];for((t=t||{}).hasOwnProperty("agent")&&(t.agent instanceof TinCan.Agent?this.agent=t.agent:this.agent=new TinCan.Agent(t.agent)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);this.updated=!1}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.About=function(t){this.log("constructor"),this.version=null,this.init(t)};t.prototype={LOG_SRC:"About",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["version"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var LOG_SRC="Environment.Browser",nativeRequest,xdrRequest,requestComplete,__delay,__IEModeConversion,env={},log=TinCan.prototype.log;"undefined"!=typeof window?(window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(t){var e,n,i="";if(t instanceof Object){if(t.constructor===Array){for(e=0;e<t.length;e+=1)i+=this.stringify(t[e])+",";return"["+i.substr(0,i.length-1)+"]"}if(t.toString!==Object.prototype.toString)return'"'+t.toString().replace(/"/g,"\\$&")+'"';for(n in t)t.hasOwnProperty(n)&&(i+='"'+n.replace(/"/g,"\\$&")+'":'+this.stringify(t[n])+",");return"{"+i.substr(0,i.length-1)+"}"}return"string"==typeof t?'"'+t.replace(/"/g,"\\$&")+'"':String(t)}}),Date.now||(Date.now=function(){return+new Date}),env.hasCORS=!1,env.useXDR=!1,"undefined"!=typeof XMLHttpRequest&&void 0!==(new XMLHttpRequest).withCredentials?env.hasCORS=!0:"undefined"!=typeof XDomainRequest&&(env.hasCORS=!0,env.useXDR=!0),requestComplete=function(t,e,n){var i,r,o;return log("requestComplete: "+n.finished+", xhr.status: "+t.status,LOG_SRC),o=void 0===t.status?n.fakeStatus:1223===t.status?204:t.status,n.finished?i:(n.finished=!0,r=e.ignore404&&404===o,o>=200&&o<400||r?e.callback?void e.callback(null,t):i={err:null,xhr:t}:(i={err:o,xhr:t},log(0===o?"[warning] There was a problem communicating with the Learning Record Store. Aborted, offline, or invalid CORS endpoint ("+o+")":"[warning] There was a problem communicating with the Learning Record Store. ("+o+" | "+t.responseText+")",LOG_SRC),e.callback&&e.callback(o,t),i))},__IEModeConversion=function(t,e,n,i){var r;for(r in e)e.hasOwnProperty(r)&&n.push(r+"="+encodeURIComponent(e[r]));return void 0!==i.data&&n.push("content="+encodeURIComponent(i.data)),e["Content-Type"]="application/x-www-form-urlencoded",t+="?method="+i.method,i.method="POST",i.params={},n.length>0&&(i.data=n.join("&")),t},nativeRequest=function(t,e,n){log("sendRequest using XMLHttpRequest",LOG_SRC);var i,r,o,a,s=this,l=[],u={finished:!1,fakeStatus:null},c=void 0!==n.callback,h=t;for(r in log("sendRequest using XMLHttpRequest - async: "+c,LOG_SRC),n.params)n.params.hasOwnProperty(r)&&l.push(r+"="+encodeURIComponent(n.params[r]));if(l.length>0&&(h+="?"+l.join("&")),h.length>=2048){if(void 0!==e["Content-Type"]&&"application/json"!==e["Content-Type"])return a=new Error("Unsupported content type for IE Mode request"),void 0!==n.callback&&n.callback(a,null),{err:a,xhr:null};if(void 0===n.method)return a=new Error("method must not be undefined for an IE Mode Request conversion"),void 0!==n.callback&&n.callback(a,null),{err:a,xhr:null};t=__IEModeConversion(t,e,l,n)}else t=h;for(r in(i="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open(n.method,t,c),e)e.hasOwnProperty(r)&&i.setRequestHeader(r,e[r]);void 0!==n.data&&(n.data+=""),o=n.data,c&&(i.onreadystatechange=function(){log("xhr.onreadystatechange - xhr.readyState: "+i.readyState,LOG_SRC),4===i.readyState&&requestComplete.call(s,i,n,u)});try{i.send(o)}catch(t){log("sendRequest caught send exception: "+t,LOG_SRC)}return c?i:requestComplete.call(this,i,n,u)},xdrRequest=function(t,e,n){log("sendRequest using XDomainRequest",LOG_SRC);var i,r,o,a,s,l=this,u=[],c={finished:!1,fakeStatus:null};if(void 0!==e["Content-Type"]&&"application/json"!==e["Content-Type"])return s=new Error("Unsupported content type for IE Mode request"),n.callback?(n.callback(s,null),null):{err:s,xhr:null};for(o in t+="?method="+n.method,n.params)n.params.hasOwnProperty(o)&&u.push(o+"="+encodeURIComponent(n.params[o]));for(o in e)e.hasOwnProperty(o)&&u.push(o+"="+encodeURIComponent(e[o]));void 0!==n.data&&u.push("content="+encodeURIComponent(n.data)),r=u.join("&"),(i=new XDomainRequest).open("POST",t),n.callback?(i.onload=function(){c.fakeStatus=200,requestComplete.call(l,i,n,c)},i.onerror=function(){c.fakeStatus=400,requestComplete.call(l,i,n,c)},i.ontimeout=function(){c.fakeStatus=0,requestComplete.call(l,i,n,c)}):(i.onload=function(){c.fakeStatus=200},i.onerror=function(){c.fakeStatus=400},i.ontimeout=function(){c.fakeStatus=0}),i.onprogress=function(){},i.timeout=0;try{i.send(r)}catch(t){log("sendRequest caught send exception: "+t,LOG_SRC)}if(!n.callback){for(a=1e4+Date.now(),log("sendRequest - until: "+a+", finished: "+c.finished,LOG_SRC);Date.now()<a&&null===c.fakeStatus;)__delay();return requestComplete.call(l,i,n,c)}return i},TinCan.LRS.prototype._initByEnvironment=function(t){var e,n,i;if(log("_initByEnvironment",LOG_SRC),t=t||{},this._makeRequest=nativeRequest,this._IEModeConversion=__IEModeConversion,null===(e=this.endpoint.toLowerCase().match(/([A-Za-z]+:)\/\/([^:\/]+):?(\d+)?(\/.*)?$/)))throw log("[error] LRS invalid: failed to divide URL parts",LOG_SRC),{code:4,mesg:"LRS invalid: failed to divide URL parts"};if(i=location.port,n=location.protocol.toLowerCase()===e[1],""===i&&(i="http:"===location.protocol.toLowerCase()?"80":"https:"===location.protocol.toLowerCase()?"443":""),!n||location.hostname.toLowerCase()!==e[2]||i!==(null!==e[3]&&void 0!==e[3]&&""!==e[3]?e[3]:"http:"===e[1]?"80":"https:"===e[1]?"443":""))if(env.hasCORS){if(env.useXDR&&n)this._makeRequest=xdrRequest;else if(env.useXDR&&!n){if(!t.allowFail)throw log("[error] LRS invalid: cross domain request for differing scheme in IE with XDR",LOG_SRC),{code:2,mesg:"LRS invalid: cross domain request for differing scheme in IE with XDR"};log("[warning] LRS invalid: cross domain request for differing scheme in IE with XDR (allowed to fail)",LOG_SRC)}}else{if(!t.allowFail)throw log("[error] LRS invalid: cross domain requests not supported in this browser",LOG_SRC),{code:1,mesg:"LRS invalid: cross domain requests not supported in this browser"};log("[warning] LRS invalid: cross domain requests not supported in this browser (allowed to fail)",LOG_SRC)}},__delay=function(){var t=new XMLHttpRequest,e=window.location+"?forcenocache="+TinCan.Utils.getUUID();t.open("GET",e,!1),t.send(null)},TinCan.LRS.syncEnabled=!0):log("'window' not defined",LOG_SRC)}()},9050:function(t,e,n){"use strict";n.r(e),n.d(e,{VERSION:function(){return r},after:function(){return De},all:function(){return tn},allKeys:function(){return gt},any:function(){return en},assign:function(){return Dt},before:function(){return Re},bind:function(){return Ae},bindAll:function(){return Ce},chain:function(){return ye},chunk:function(){return Vn},clone:function(){return Vt},collect:function(){return Xe},compact:function(){return _n},compose:function(){return Le},constant:function(){return $},contains:function(){return nn},countBy:function(){return mn},create:function(){return Ht},debounce:function(){return Oe},default:function(){return Wn},defaults:function(){return Rt},defer:function(){return ke},delay:function(){return _e},detect:function(){return Ge},difference:function(){return Mn},drop:function(){return Cn},each:function(){return Ye},escape:function(){return ae},every:function(){return tn},extend:function(){return Lt},extendOwn:function(){return Dt},filter:function(){return $e},find:function(){return Ge},findIndex:function(){return je},findKey:function(){return He},findLastIndex:function(){return Fe},findWhere:function(){return qe},first:function(){return Tn},flatten:function(){return kn},foldl:function(){return Ke},foldr:function(){return Ze},forEach:function(){return Ye},functions:function(){return Pt},get:function(){return Wt},groupBy:function(){return vn},has:function(){return zt},head:function(){return Tn},identity:function(){return Gt},include:function(){return nn},includes:function(){return nn},indexBy:function(){return gn},indexOf:function(){return We},initial:function(){return En},inject:function(){return Ke},intersection:function(){return Ln},invert:function(){return Ot},invoke:function(){return rn},isArguments:function(){return J},isArray:function(){return q},isArrayBuffer:function(){return H},isBoolean:function(){return k},isDataView:function(){return G},isDate:function(){return L},isElement:function(){return M},isEmpty:function(){return lt},isEqual:function(){return vt},isError:function(){return R},isFinite:function(){return K},isFunction:function(){return F},isMap:function(){return Tt},isMatch:function(){return ut},isNaN:function(){return Z},isNull:function(){return x},isNumber:function(){return I},isObject:function(){return C},isRegExp:function(){return D},isSet:function(){return xt},isString:function(){return P},isSymbol:function(){return N},isTypedArray:function(){return rt},isUndefined:function(){return _},isWeakMap:function(){return Ct},isWeakSet:function(){return _t},iteratee:function(){return Kt},keys:function(){return st},last:function(){return xn},lastIndexOf:function(){return ze},map:function(){return Xe},mapObject:function(){return $t},matcher:function(){return qt},matches:function(){return qt},max:function(){return sn},memoize:function(){return xe},methods:function(){return Pt},min:function(){return ln},mixin:function(){return Fn},negate:function(){return Ie},noop:function(){return Qt},now:function(){return ie},object:function(){return Nn},omit:function(){return An},once:function(){return Ne},pairs:function(){return Mt},partial:function(){return Se},partition:function(){return yn},pick:function(){return Sn},pluck:function(){return on},property:function(){return Yt},propertyOf:function(){return te},random:function(){return ne},range:function(){return Hn},reduce:function(){return Ke},reduceRight:function(){return Ze},reject:function(){return Qe},rest:function(){return Cn},restArguments:function(){return T},result:function(){return ve},sample:function(){return hn},select:function(){return $e},shuffle:function(){return dn},size:function(){return bn},some:function(){return en},sortBy:function(){return fn},sortedIndex:function(){return Be},tail:function(){return Cn},take:function(){return Tn},tap:function(){return jt},template:function(){return pe},templateSettings:function(){return le},throttle:function(){return Me},times:function(){return ee},toArray:function(){return cn},toPath:function(){return Ft},transpose:function(){return Dn},unescape:function(){return se},union:function(){return In},uniq:function(){return Pn},unique:function(){return Pn},uniqueId:function(){return me},unzip:function(){return Dn},values:function(){return kt},where:function(){return an},without:function(){return On},wrap:function(){return Pe},zip:function(){return Rn}});var i={};n.r(i),n.d(i,{VERSION:function(){return r},after:function(){return De},all:function(){return tn},allKeys:function(){return gt},any:function(){return en},assign:function(){return Dt},before:function(){return Re},bind:function(){return Ae},bindAll:function(){return Ce},chain:function(){return ye},chunk:function(){return Vn},clone:function(){return Vt},collect:function(){return Xe},compact:function(){return _n},compose:function(){return Le},constant:function(){return $},contains:function(){return nn},countBy:function(){return mn},create:function(){return Ht},debounce:function(){return Oe},default:function(){return Bn},defaults:function(){return Rt},defer:function(){return ke},delay:function(){return _e},detect:function(){return Ge},difference:function(){return Mn},drop:function(){return Cn},each:function(){return Ye},escape:function(){return ae},every:function(){return tn},extend:function(){return Lt},extendOwn:function(){return Dt},filter:function(){return $e},find:function(){return Ge},findIndex:function(){return je},findKey:function(){return He},findLastIndex:function(){return Fe},findWhere:function(){return qe},first:function(){return Tn},flatten:function(){return kn},foldl:function(){return Ke},foldr:function(){return Ze},forEach:function(){return Ye},functions:function(){return Pt},get:function(){return Wt},groupBy:function(){return vn},has:function(){return zt},head:function(){return Tn},identity:function(){return Gt},include:function(){return nn},includes:function(){return nn},indexBy:function(){return gn},indexOf:function(){return We},initial:function(){return En},inject:function(){return Ke},intersection:function(){return Ln},invert:function(){return Ot},invoke:function(){return rn},isArguments:function(){return J},isArray:function(){return q},isArrayBuffer:function(){return H},isBoolean:function(){return k},isDataView:function(){return G},isDate:function(){return L},isElement:function(){return M},isEmpty:function(){return lt},isEqual:function(){return vt},isError:function(){return R},isFinite:function(){return K},isFunction:function(){return F},isMap:function(){return Tt},isMatch:function(){return ut},isNaN:function(){return Z},isNull:function(){return x},isNumber:function(){return I},isObject:function(){return C},isRegExp:function(){return D},isSet:function(){return xt},isString:function(){return P},isSymbol:function(){return N},isTypedArray:function(){return rt},isUndefined:function(){return _},isWeakMap:function(){return Ct},isWeakSet:function(){return _t},iteratee:function(){return Kt},keys:function(){return st},last:function(){return xn},lastIndexOf:function(){return ze},map:function(){return Xe},mapObject:function(){return $t},matcher:function(){return qt},matches:function(){return qt},max:function(){return sn},memoize:function(){return xe},methods:function(){return Pt},min:function(){return ln},mixin:function(){return Fn},negate:function(){return Ie},noop:function(){return Qt},now:function(){return ie},object:function(){return Nn},omit:function(){return An},once:function(){return Ne},pairs:function(){return Mt},partial:function(){return Se},partition:function(){return yn},pick:function(){return Sn},pluck:function(){return on},property:function(){return Yt},propertyOf:function(){return te},random:function(){return ne},range:function(){return Hn},reduce:function(){return Ke},reduceRight:function(){return Ze},reject:function(){return Qe},rest:function(){return Cn},restArguments:function(){return T},result:function(){return ve},sample:function(){return hn},select:function(){return $e},shuffle:function(){return dn},size:function(){return bn},some:function(){return en},sortBy:function(){return fn},sortedIndex:function(){return Be},tail:function(){return Cn},take:function(){return Tn},tap:function(){return jt},template:function(){return pe},templateSettings:function(){return le},throttle:function(){return Me},times:function(){return ee},toArray:function(){return cn},toPath:function(){return Ft},transpose:function(){return Dn},unescape:function(){return se},union:function(){return In},uniq:function(){return Pn},unique:function(){return Pn},uniqueId:function(){return me},unzip:function(){return Dn},values:function(){return kt},where:function(){return an},without:function(){return On},wrap:function(){return Pe},zip:function(){return Rn}});var r="1.13.6",o="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,s=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,u=a.push,c=a.slice,h=s.toString,d=s.hasOwnProperty,f="undefined"!=typeof ArrayBuffer,p="undefined"!=typeof DataView,v=Array.isArray,g=Object.keys,m=Object.create,y=f&&ArrayBuffer.isView,b=isNaN,w=isFinite,S=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],E=Math.pow(2,53)-1;function T(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=i,t.apply(this,o)}}function C(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function x(t){return null===t}function _(t){return void 0===t}function k(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)}function M(t){return!(!t||1!==t.nodeType)}function O(t){var e="[object "+t+"]";return function(t){return h.call(t)===e}}var P=O("String"),I=O("Number"),L=O("Date"),D=O("RegExp"),R=O("Error"),N=O("Symbol"),H=O("ArrayBuffer"),V=O("Function"),j=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof j&&(V=function(t){return"function"==typeof t||!1});var F=V,B=O("Object"),U=p&&B(new DataView(new ArrayBuffer(8))),W="undefined"!=typeof Map&&B(new Map),z=O("DataView");var G=U?function(t){return null!=t&&F(t.getInt8)&&H(t.buffer)}:z,q=v||O("Array");function Y(t,e){return null!=t&&d.call(t,e)}var X=O("Arguments");!function(){X(arguments)||(X=function(t){return Y(t,"callee")})}();var J=X;function K(t){return!N(t)&&w(t)&&!isNaN(parseFloat(t))}function Z(t){return I(t)&&b(t)}function $(t){return function(){return t}}function Q(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=E}}function tt(t){return function(e){return null==e?void 0:e[t]}}var et=tt("byteLength"),nt=Q(et),it=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var rt=f?function(t){return y?y(t)&&!G(t):nt(t)&&it.test(h.call(t))}:$(!1),ot=tt("length");function at(t,e){e=function(t){for(var e={},n=t.length,i=0;i<n;++i)e[t[i]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=A.length,i=t.constructor,r=F(i)&&i.prototype||s,o="constructor";for(Y(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=A[n])in t&&t[o]!==r[o]&&!e.contains(o)&&e.push(o)}function st(t){if(!C(t))return[];if(g)return g(t);var e=[];for(var n in t)Y(t,n)&&e.push(n);return S&&at(t,e),e}function lt(t){if(null==t)return!0;var e=ot(t);return"number"==typeof e&&(q(t)||P(t)||J(t))?0===e:0===ot(st(t))}function ut(t,e){var n=st(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0}function ct(t){return t instanceof ct?t:this instanceof ct?void(this._wrapped=t):new ct(t)}function ht(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,et(t))}ct.VERSION=r,ct.prototype.value=function(){return this._wrapped},ct.prototype.valueOf=ct.prototype.toJSON=ct.prototype.value,ct.prototype.toString=function(){return String(this._wrapped)};var dt="[object DataView]";function ft(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&pt(t,e,n,i)}function pt(t,e,n,i){t instanceof ct&&(t=t._wrapped),e instanceof ct&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;if(U&&"[object Object]"==r&&G(t)){if(!G(e))return!1;r=dt}switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return l.valueOf.call(t)===l.valueOf.call(e);case"[object ArrayBuffer]":case dt:return pt(ht(t),ht(e),n,i)}var o="[object Array]"===r;if(!o&&rt(t)){if(et(t)!==et(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(F(a)&&a instanceof a&&F(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!ft(t[u],e[u],n,i))return!1}else{var c,d=st(t);if(u=d.length,st(e).length!==u)return!1;for(;u--;)if(!Y(e,c=d[u])||!ft(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0}function vt(t,e){return ft(t,e)}function gt(t){if(!C(t))return[];var e=[];for(var n in t)e.push(n);return S&&at(t,e),e}function mt(t){var e=ot(t);return function(n){if(null==n)return!1;var i=gt(n);if(ot(i))return!1;for(var r=0;r<e;r++)if(!F(n[t[r]]))return!1;return t!==At||!F(n[yt])}}var yt="forEach",bt=["clear","delete"],wt=["get","has","set"],St=bt.concat(yt,wt),At=bt.concat(wt),Et=["add"].concat(bt,yt,"has"),Tt=W?mt(St):O("Map"),Ct=W?mt(At):O("WeakMap"),xt=W?mt(Et):O("Set"),_t=O("WeakSet");function kt(t){for(var e=st(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i}function Mt(t){for(var e=st(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i}function Ot(t){for(var e={},n=st(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e}function Pt(t){var e=[];for(var n in t)F(t[n])&&e.push(n);return e.sort()}function It(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var u=a[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}}var Lt=It(gt),Dt=It(st),Rt=It(gt,!0);function Nt(t){if(!C(t))return{};if(m)return m(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function Ht(t,e){var n=Nt(t);return e&&Dt(n,e),n}function Vt(t){return C(t)?q(t)?t.slice():Lt({},t):t}function jt(t,e){return e(t),t}function Ft(t){return q(t)?t:[t]}function Bt(t){return ct.toPath(t)}function Ut(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0}function Wt(t,e,n){var i=Ut(t,Bt(e));return _(i)?n:i}function zt(t,e){for(var n=(e=Bt(e)).length,i=0;i<n;i++){var r=e[i];if(!Y(t,r))return!1;t=t[r]}return!!n}function Gt(t){return t}function qt(t){return t=Dt({},t),function(e){return ut(e,t)}}function Yt(t){return t=Bt(t),function(e){return Ut(e,t)}}function Xt(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}}function Jt(t,e,n){return null==t?Gt:F(t)?Xt(t,e,n):C(t)&&!q(t)?qt(t):Yt(t)}function Kt(t,e){return Jt(t,e,1/0)}function Zt(t,e,n){return ct.iteratee!==Kt?ct.iteratee(t,e):Jt(t,e,n)}function $t(t,e,n){e=Zt(e,n);for(var i=st(t),r=i.length,o={},a=0;a<r;a++){var s=i[a];o[s]=e(t[s],s,t)}return o}function Qt(){}function te(t){return null==t?Qt:function(e){return Wt(t,e)}}function ee(t,e,n){var i=Array(Math.max(0,t));e=Xt(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i}function ne(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}ct.toPath=Ft,ct.iteratee=Kt;var ie=Date.now||function(){return(new Date).getTime()};function re(t){var e=function(e){return t[e]},n="(?:"+st(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}}var oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ae=re(oe),se=re(Ot(oe)),le=ct.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},ue=/(.)^/,ce={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},he=/\\|'|\r|\n|\u2028|\u2029/g;function de(t){return"\\"+ce[t]}var fe=/^\s*(\w|\$)+\s*$/;function pe(t,e,n){!e&&n&&(e=n),e=Rt({},e,ct.templateSettings);var i=RegExp([(e.escape||ue).source,(e.interpolate||ue).source,(e.evaluate||ue).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,(function(e,n,i,a,s){return o+=t.slice(r,s).replace(he,de),r=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e})),o+="';\n";var a,s=e.variable;if(s){if(!fe.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(t){throw t.source=o,t}var l=function(t){return a.call(this,t,ct)};return l.source="function("+s+"){\n"+o+"}",l}function ve(t,e,n){var i=(e=Bt(e)).length;if(!i)return F(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=F(o)?o.call(t):o}return t}var ge=0;function me(t){var e=++ge+"";return t?t+e:e}function ye(t){var e=ct(t);return e._chain=!0,e}function be(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=Nt(t.prototype),a=t.apply(o,r);return C(a)?a:o}var we=T((function(t,e){var n=we.placeholder,i=function(){for(var r=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[r++]:e[s];for(;r<arguments.length;)a.push(arguments[r++]);return be(t,i,this,this,a)};return i}));we.placeholder=ct;var Se=we,Ae=T((function(t,e,n){if(!F(t))throw new TypeError("Bind must be called on a function");var i=T((function(r){return be(t,i,e,this,n.concat(r))}));return i})),Ee=Q(ot);function Te(t,e,n,i){if(i=i||[],e||0===e){if(e<=0)return i.concat(t)}else e=1/0;for(var r=i.length,o=0,a=ot(t);o<a;o++){var s=t[o];if(Ee(s)&&(q(s)||J(s)))if(e>1)Te(s,e-1,n,i),r=i.length;else for(var l=0,u=s.length;l<u;)i[r++]=s[l++];else n||(i[r++]=s)}return i}var Ce=T((function(t,e){var n=(e=Te(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=Ae(t[i],t)}return t}));function xe(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return Y(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n}var _e=T((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),ke=Se(_e,ct,1);function Me(t,e,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:ie(),i=null,a=t.apply(r,o),i||(r=o=null)},u=function(){var u=ie();s||!1!==n.leading||(s=u);var c=e-(u-s);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=u,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(i),s=0,i=r=o=null},u}function Oe(t,e,n){var i,r,o,a,s,l=function(){var u=ie()-r;e>u?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(s,o)),i||(o=s=null))},u=T((function(u){return s=this,o=u,r=ie(),i||(i=setTimeout(l,e),n&&(a=t.apply(s,o))),a}));return u.cancel=function(){clearTimeout(i),i=o=s=null},u}function Pe(t,e){return Se(e,t)}function Ie(t){return function(){return!t.apply(this,arguments)}}function Le(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function De(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Re(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var Ne=Se(Re,2);function He(t,e,n){e=Zt(e,n);for(var i,r=st(t),o=0,a=r.length;o<a;o++)if(e(t[i=r[o]],i,t))return i}function Ve(t){return function(e,n,i){n=Zt(n,i);for(var r=ot(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}var je=Ve(1),Fe=Ve(-1);function Be(t,e,n,i){for(var r=(n=Zt(n,i,1))(e),o=0,a=ot(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o}function Ue(t,e,n){return function(i,r,o){var a=0,s=ot(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=e(c.call(i,a,s),Z))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(i[o]===r)return o;return-1}}var We=Ue(1,je,Be),ze=Ue(-1,Fe);function Ge(t,e,n){var i=(Ee(t)?je:He)(t,e,n);if(void 0!==i&&-1!==i)return t[i]}function qe(t,e){return Ge(t,qt(e))}function Ye(t,e,n){var i,r;if(e=Xt(e,n),Ee(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=st(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t}function Xe(t,e,n){e=Zt(e,n);for(var i=!Ee(t)&&st(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o}function Je(t){return function(e,n,i,r){var o=arguments.length>=3;return function(e,n,i,r){var o=!Ee(e)&&st(e),a=(o||e).length,s=t>0?0:a-1;for(r||(i=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var l=o?o[s]:s;i=n(i,e[l],l,e)}return i}(e,Xt(n,r,4),i,o)}}var Ke=Je(1),Ze=Je(-1);function $e(t,e,n){var i=[];return e=Zt(e,n),Ye(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i}function Qe(t,e,n){return $e(t,Ie(Zt(e)),n)}function tn(t,e,n){e=Zt(e,n);for(var i=!Ee(t)&&st(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0}function en(t,e,n){e=Zt(e,n);for(var i=!Ee(t)&&st(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1}function nn(t,e,n,i){return Ee(t)||(t=kt(t)),("number"!=typeof n||i)&&(n=0),We(t,e,n)>=0}var rn=T((function(t,e,n){var i,r;return F(e)?r=e:(e=Bt(e),i=e.slice(0,-1),e=e[e.length-1]),Xe(t,(function(t){var o=r;if(!o){if(i&&i.length&&(t=Ut(t,i)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function on(t,e){return Xe(t,Yt(e))}function an(t,e){return $e(t,qt(e))}function sn(t,e,n){var i,r,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=Ee(t)?t:kt(t)).length;s<l;s++)null!=(i=t[s])&&i>o&&(o=i);else e=Zt(e,n),Ye(t,(function(t,n,i){((r=e(t,n,i))>a||r===-1/0&&o===-1/0)&&(o=t,a=r)}));return o}function ln(t,e,n){var i,r,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=Ee(t)?t:kt(t)).length;s<l;s++)null!=(i=t[s])&&i<o&&(o=i);else e=Zt(e,n),Ye(t,(function(t,n,i){((r=e(t,n,i))<a||r===1/0&&o===1/0)&&(o=t,a=r)}));return o}var un=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function cn(t){return t?q(t)?c.call(t):P(t)?t.match(un):Ee(t)?Xe(t,Gt):kt(t):[]}function hn(t,e,n){if(null==e||n)return Ee(t)||(t=kt(t)),t[ne(t.length-1)];var i=cn(t),r=ot(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,a=0;a<e;a++){var s=ne(a,o),l=i[a];i[a]=i[s],i[s]=l}return i.slice(0,e)}function dn(t){return hn(t,1/0)}function fn(t,e,n){var i=0;return e=Zt(e,n),on(Xe(t,(function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index})),"value")}function pn(t,e){return function(n,i,r){var o=e?[[],[]]:{};return i=Zt(i,r),Ye(n,(function(e,r){var a=i(e,r,n);t(o,e,a)})),o}}var vn=pn((function(t,e,n){Y(t,n)?t[n].push(e):t[n]=[e]})),gn=pn((function(t,e,n){t[n]=e})),mn=pn((function(t,e,n){Y(t,n)?t[n]++:t[n]=1})),yn=pn((function(t,e,n){t[n?0:1].push(e)}),!0);function bn(t){return null==t?0:Ee(t)?t.length:st(t).length}function wn(t,e,n){return e in n}var Sn=T((function(t,e){var n={},i=e[0];if(null==t)return n;F(i)?(e.length>1&&(i=Xt(i,e[1])),e=gt(t)):(i=wn,e=Te(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var a=e[r],s=t[a];i(s,a,t)&&(n[a]=s)}return n})),An=T((function(t,e){var n,i=e[0];return F(i)?(i=Ie(i),e.length>1&&(n=e[1])):(e=Xe(Te(e,!1,!1),String),i=function(t,n){return!nn(e,n)}),Sn(t,i,n)}));function En(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function Tn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:En(t,t.length-e)}function Cn(t,e,n){return c.call(t,null==e||n?1:e)}function xn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:Cn(t,Math.max(0,t.length-e))}function _n(t){return $e(t,Boolean)}function kn(t,e){return Te(t,e,!1)}var Mn=T((function(t,e){return e=Te(e,!0,!0),$e(t,(function(t){return!nn(e,t)}))})),On=T((function(t,e){return Mn(t,e)}));function Pn(t,e,n,i){k(e)||(i=n,n=e,e=!1),null!=n&&(n=Zt(n,i));for(var r=[],o=[],a=0,s=ot(t);a<s;a++){var l=t[a],u=n?n(l,a,t):l;e&&!n?(a&&o===u||r.push(l),o=u):n?nn(o,u)||(o.push(u),r.push(l)):nn(r,l)||r.push(l)}return r}var In=T((function(t){return Pn(Te(t,!0,!0))}));function Ln(t){for(var e=[],n=arguments.length,i=0,r=ot(t);i<r;i++){var o=t[i];if(!nn(e,o)){var a;for(a=1;a<n&&nn(arguments[a],o);a++);a===n&&e.push(o)}}return e}function Dn(t){for(var e=t&&sn(t,ot).length||0,n=Array(e),i=0;i<e;i++)n[i]=on(t,i);return n}var Rn=T(Dn);function Nn(t,e){for(var n={},i=0,r=ot(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n}function Hn(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r}function Vn(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(c.call(t,i,i+=e));return n}function jn(t,e){return t._chain?ct(e).chain():e}function Fn(t){return Ye(Pt(t),(function(e){var n=ct[e]=t[e];ct.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),jn(this,n.apply(ct,t))}})),ct}Ye(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=a[t];ct.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),jn(this,n)}})),Ye(["concat","join","slice"],(function(t){var e=a[t];ct.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),jn(this,t)}}));var Bn=ct,Un=Fn(i);Un._=Un;var Wn=Un}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.d=function(t,e){for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var __webpack_exports__=__webpack_require__(3847)})();
